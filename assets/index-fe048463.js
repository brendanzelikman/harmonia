var pR=Object.defineProperty;var mR=(e,t,n)=>t in e?pR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yt=(e,t,n)=>(mR(e,typeof t!="symbol"?t+"":t,n),n);function gR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var hi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var LC={exports:{}},n1={},FC={exports:{}},Or={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0=Symbol.for("react.element"),yR=Symbol.for("react.portal"),_R=Symbol.for("react.fragment"),wR=Symbol.for("react.strict_mode"),bR=Symbol.for("react.profiler"),SR=Symbol.for("react.provider"),xR=Symbol.for("react.context"),TR=Symbol.for("react.forward_ref"),ER=Symbol.for("react.suspense"),CR=Symbol.for("react.memo"),kR=Symbol.for("react.lazy"),cT=Symbol.iterator;function OR(e){return e===null||typeof e!="object"?null:(e=cT&&e[cT]||e["@@iterator"],typeof e=="function"?e:null)}var jC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UC=Object.assign,BC={};function Um(e,t,n){this.props=e,this.context=t,this.refs=BC,this.updater=n||jC}Um.prototype.isReactComponent={};Um.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Um.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VC(){}VC.prototype=Um.prototype;function xS(e,t,n){this.props=e,this.context=t,this.refs=BC,this.updater=n||jC}var TS=xS.prototype=new VC;TS.constructor=xS;UC(TS,Um.prototype);TS.isPureReactComponent=!0;var lT=Array.isArray,zC=Object.prototype.hasOwnProperty,ES={current:null},HC={key:!0,ref:!0,__self:!0,__source:!0};function $C(e,t,n){var r,s={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)zC.call(t,r)&&!HC.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var f=Array(u),m=0;m<u;m++)f[m]=arguments[m+2];s.children=f}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:M0,type:e,key:o,ref:l,props:s,_owner:ES.current}}function NR(e,t){return{$$typeof:M0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function CS(e){return typeof e=="object"&&e!==null&&e.$$typeof===M0}function AR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var uT=/\/+/g;function j_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AR(""+e.key):t.toString(36)}function Jv(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case M0:case yR:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+j_(l,0):r,lT(s)?(n="",e!=null&&(n=e.replace(uT,"$&/")+"/"),Jv(s,t,n,"",function(m){return m})):s!=null&&(CS(s)&&(s=NR(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(uT,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",lT(e))for(var u=0;u<e.length;u++){o=e[u];var f=r+j_(o,u);l+=Jv(o,t,n,f,s)}else if(f=OR(e),typeof f=="function")for(e=f.call(e),u=0;!(o=e.next()).done;)o=o.value,f=r+j_(o,u++),l+=Jv(o,t,n,f,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function mv(e,t,n){if(e==null)return e;var r=[],s=0;return Jv(e,r,"","",function(o){return t.call(n,o,s++)}),r}function MR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ca={current:null},ey={transition:null},DR={ReactCurrentDispatcher:ca,ReactCurrentBatchConfig:ey,ReactCurrentOwner:ES};Or.Children={map:mv,forEach:function(e,t,n){mv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mv(e,function(){t++}),t},toArray:function(e){return mv(e,function(t){return t})||[]},only:function(e){if(!CS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Or.Component=Um;Or.Fragment=_R;Or.Profiler=bR;Or.PureComponent=xS;Or.StrictMode=wR;Or.Suspense=ER;Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DR;Or.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=UC({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=ES.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(f in t)zC.call(t,f)&&!HC.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&u!==void 0?u[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){u=Array(f);for(var m=0;m<f;m++)u[m]=arguments[m+2];r.children=u}return{$$typeof:M0,type:e.type,key:s,ref:o,props:r,_owner:l}};Or.createContext=function(e){return e={$$typeof:xR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SR,_context:e},e.Consumer=e};Or.createElement=$C;Or.createFactory=function(e){var t=$C.bind(null,e);return t.type=e,t};Or.createRef=function(){return{current:null}};Or.forwardRef=function(e){return{$$typeof:TR,render:e}};Or.isValidElement=CS;Or.lazy=function(e){return{$$typeof:kR,_payload:{_status:-1,_result:e},_init:MR}};Or.memo=function(e,t){return{$$typeof:CR,type:e,compare:t===void 0?null:t}};Or.startTransition=function(e){var t=ey.transition;ey.transition={};try{e()}finally{ey.transition=t}};Or.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Or.useCallback=function(e,t){return ca.current.useCallback(e,t)};Or.useContext=function(e){return ca.current.useContext(e)};Or.useDebugValue=function(){};Or.useDeferredValue=function(e){return ca.current.useDeferredValue(e)};Or.useEffect=function(e,t){return ca.current.useEffect(e,t)};Or.useId=function(){return ca.current.useId()};Or.useImperativeHandle=function(e,t,n){return ca.current.useImperativeHandle(e,t,n)};Or.useInsertionEffect=function(e,t){return ca.current.useInsertionEffect(e,t)};Or.useLayoutEffect=function(e,t){return ca.current.useLayoutEffect(e,t)};Or.useMemo=function(e,t){return ca.current.useMemo(e,t)};Or.useReducer=function(e,t,n){return ca.current.useReducer(e,t,n)};Or.useRef=function(e){return ca.current.useRef(e)};Or.useState=function(e){return ca.current.useState(e)};Or.useSyncExternalStore=function(e,t,n){return ca.current.useSyncExternalStore(e,t,n)};Or.useTransition=function(){return ca.current.useTransition()};Or.version="18.2.0";FC.exports=Or;var he=FC.exports;const RR=A0(he),Kw=gR({__proto__:null,default:RR},[he]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR=he,IR=Symbol.for("react.element"),LR=Symbol.for("react.fragment"),FR=Object.prototype.hasOwnProperty,jR=PR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UR={key:!0,ref:!0,__self:!0,__source:!0};function qC(e,t,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)FR.call(t,r)&&!UR.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:IR,type:e,key:o,ref:l,props:s,_owner:jR.current}}n1.Fragment=LR;n1.jsx=qC;n1.jsxs=qC;LC.exports=n1;var kS=LC.exports;const sa=kS.Fragment,V=kS.jsx,Wt=kS.jsxs,BR=Object.freeze(Object.defineProperty({__proto__:null,Fragment:sa,jsx:V,jsxs:Wt},Symbol.toStringTag,{value:"Module"}));var Xw={},WC={exports:{}},ac={},GC={exports:{}},YC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(pe,Pe){var Ye=pe.length;pe.push(Pe);e:for(;0<Ye;){var it=Ye-1>>>1,Qe=pe[it];if(0<s(Qe,Pe))pe[it]=Pe,pe[Ye]=Qe,Ye=it;else break e}}function n(pe){return pe.length===0?null:pe[0]}function r(pe){if(pe.length===0)return null;var Pe=pe[0],Ye=pe.pop();if(Ye!==Pe){pe[0]=Ye;e:for(var it=0,Qe=pe.length,bt=Qe>>>1;it<bt;){var Mt=2*(it+1)-1,rt=pe[Mt],Kt=Mt+1,Ue=pe[Kt];if(0>s(rt,Ye))Kt<Qe&&0>s(Ue,rt)?(pe[it]=Ue,pe[Kt]=Ye,it=Kt):(pe[it]=rt,pe[Mt]=Ye,it=Mt);else if(Kt<Qe&&0>s(Ue,Ye))pe[it]=Ue,pe[Kt]=Ye,it=Kt;else break e}}return Pe}function s(pe,Pe){var Ye=pe.sortIndex-Pe.sortIndex;return Ye!==0?Ye:pe.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],m=[],v=1,b=null,x=3,O=!1,T=!1,D=!1,M=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(pe){for(var Pe=n(m);Pe!==null;){if(Pe.callback===null)r(m);else if(Pe.startTime<=pe)r(m),Pe.sortIndex=Pe.expirationTime,t(f,Pe);else break;Pe=n(m)}}function H(pe){if(D=!1,j(pe),!T)if(n(f)!==null)T=!0,We(F);else{var Pe=n(m);Pe!==null&&Ae(H,Pe.startTime-pe)}}function F(pe,Pe){T=!1,D&&(D=!1,C(_e),_e=-1),O=!0;var Ye=x;try{for(j(Pe),b=n(f);b!==null&&(!(b.expirationTime>Pe)||pe&&!Fe());){var it=b.callback;if(typeof it=="function"){b.callback=null,x=b.priorityLevel;var Qe=it(b.expirationTime<=Pe);Pe=e.unstable_now(),typeof Qe=="function"?b.callback=Qe:b===n(f)&&r(f),j(Pe)}else r(f);b=n(f)}if(b!==null)var bt=!0;else{var Mt=n(m);Mt!==null&&Ae(H,Mt.startTime-Pe),bt=!1}return bt}finally{b=null,x=Ye,O=!1}}var ie=!1,ee=null,_e=-1,Xe=5,Te=-1;function Fe(){return!(e.unstable_now()-Te<Xe)}function je(){if(ee!==null){var pe=e.unstable_now();Te=pe;var Pe=!0;try{Pe=ee(!0,pe)}finally{Pe?et():(ie=!1,ee=null)}}else ie=!1}var et;if(typeof R=="function")et=function(){R(je)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,Ge=ut.port2;ut.port1.onmessage=je,et=function(){Ge.postMessage(null)}}else et=function(){M(je,0)};function We(pe){ee=pe,ie||(ie=!0,et())}function Ae(pe,Pe){_e=M(function(){pe(e.unstable_now())},Pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(pe){pe.callback=null},e.unstable_continueExecution=function(){T||O||(T=!0,We(F))},e.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Xe=0<pe?Math.floor(1e3/pe):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(pe){switch(x){case 1:case 2:case 3:var Pe=3;break;default:Pe=x}var Ye=x;x=Pe;try{return pe()}finally{x=Ye}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(pe,Pe){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Ye=x;x=pe;try{return Pe()}finally{x=Ye}},e.unstable_scheduleCallback=function(pe,Pe,Ye){var it=e.unstable_now();switch(typeof Ye=="object"&&Ye!==null?(Ye=Ye.delay,Ye=typeof Ye=="number"&&0<Ye?it+Ye:it):Ye=it,pe){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=Ye+Qe,pe={id:v++,callback:Pe,priorityLevel:pe,startTime:Ye,expirationTime:Qe,sortIndex:-1},Ye>it?(pe.sortIndex=Ye,t(m,pe),n(f)===null&&pe===n(m)&&(D?(C(_e),_e=-1):D=!0,Ae(H,Ye-it))):(pe.sortIndex=Qe,t(f,pe),T||O||(T=!0,We(F))),pe},e.unstable_shouldYield=Fe,e.unstable_wrapCallback=function(pe){var Pe=x;return function(){var Ye=x;x=Pe;try{return pe.apply(this,arguments)}finally{x=Ye}}}})(YC);GC.exports=YC;var VR=GC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC=he,nc=VR;function Bt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KC=new Set,Zg={};function ip(e,t){xm(e,t),xm(e+"Capture",t)}function xm(e,t){for(Zg[e]=t,e=0;e<t.length;e++)KC.add(t[e])}var lh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zw=Object.prototype.hasOwnProperty,zR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hT={},dT={};function HR(e){return Zw.call(dT,e)?!0:Zw.call(hT,e)?!1:zR.test(e)?dT[e]=!0:(hT[e]=!0,!1)}function $R(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qR(e,t,n,r){if(t===null||typeof t>"u"||$R(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function la(e,t,n,r,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var To={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){To[e]=new la(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];To[t]=new la(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){To[e]=new la(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){To[e]=new la(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){To[e]=new la(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){To[e]=new la(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){To[e]=new la(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){To[e]=new la(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){To[e]=new la(e,5,!1,e.toLowerCase(),null,!1,!1)});var OS=/[\-:]([a-z])/g;function NS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(OS,NS);To[t]=new la(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(OS,NS);To[t]=new la(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(OS,NS);To[t]=new la(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){To[e]=new la(e,1,!1,e.toLowerCase(),null,!1,!1)});To.xlinkHref=new la("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){To[e]=new la(e,1,!1,e.toLowerCase(),null,!0,!0)});function AS(e,t,n,r){var s=To.hasOwnProperty(t)?To[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qR(t,n,s,r)&&(n=null),r||s===null?HR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wh=QC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gv=Symbol.for("react.element"),em=Symbol.for("react.portal"),tm=Symbol.for("react.fragment"),MS=Symbol.for("react.strict_mode"),Jw=Symbol.for("react.profiler"),XC=Symbol.for("react.provider"),ZC=Symbol.for("react.context"),DS=Symbol.for("react.forward_ref"),eb=Symbol.for("react.suspense"),tb=Symbol.for("react.suspense_list"),RS=Symbol.for("react.memo"),ld=Symbol.for("react.lazy"),JC=Symbol.for("react.offscreen"),fT=Symbol.iterator;function yg(e){return e===null||typeof e!="object"?null:(e=fT&&e[fT]||e["@@iterator"],typeof e=="function"?e:null)}var Ji=Object.assign,U_;function Ng(e){if(U_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U_=t&&t[1]||""}return`
`+U_+e}var B_=!1;function V_(e,t){if(!e||B_)return"";B_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var s=m.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,u=o.length-1;1<=l&&0<=u&&s[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(s[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||s[l]!==o[u]){var f=`
`+s[l].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=l&&0<=u);break}}}finally{B_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ng(e):""}function WR(e){switch(e.tag){case 5:return Ng(e.type);case 16:return Ng("Lazy");case 13:return Ng("Suspense");case 19:return Ng("SuspenseList");case 0:case 2:case 15:return e=V_(e.type,!1),e;case 11:return e=V_(e.type.render,!1),e;case 1:return e=V_(e.type,!0),e;default:return""}}function nb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tm:return"Fragment";case em:return"Portal";case Jw:return"Profiler";case MS:return"StrictMode";case eb:return"Suspense";case tb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ZC:return(e.displayName||"Context")+".Consumer";case XC:return(e._context.displayName||"Context")+".Provider";case DS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RS:return t=e.displayName||null,t!==null?t:nb(e.type)||"Memo";case ld:t=e._payload,e=e._init;try{return nb(e(t))}catch{}}return null}function GR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nb(t);case 8:return t===MS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ad(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ek(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YR(e){var t=ek(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vv(e){e._valueTracker||(e._valueTracker=YR(e))}function tk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ek(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function my(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rb(e,t){var n=t.checked;return Ji({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pT(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ad(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nk(e,t){t=t.checked,t!=null&&AS(e,"checked",t,!1)}function ib(e,t){nk(e,t);var n=Ad(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sb(e,t.type,n):t.hasOwnProperty("defaultValue")&&sb(e,t.type,Ad(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sb(e,t,n){(t!=="number"||my(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ag=Array.isArray;function mm(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ad(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ob(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Bt(91));return Ji({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Bt(92));if(Ag(n)){if(1<n.length)throw Error(Bt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ad(n)}}function rk(e,t){var n=Ad(t.value),r=Ad(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function vT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ik(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ab(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ik(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yv,sk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yv=yv||document.createElement("div"),yv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jg(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Lg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QR=["Webkit","ms","Moz","O"];Object.keys(Lg).forEach(function(e){QR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lg[t]=Lg[e]})});function ok(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Lg.hasOwnProperty(e)&&Lg[e]?(""+t).trim():t+"px"}function ak(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ok(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var KR=Ji({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cb(e,t){if(t){if(KR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Bt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Bt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Bt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Bt(62))}}function lb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ub=null;function PS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hb=null,gm=null,vm=null;function yT(e){if(e=P0(e)){if(typeof hb!="function")throw Error(Bt(280));var t=e.stateNode;t&&(t=a1(t),hb(e.stateNode,e.type,t))}}function ck(e){gm?vm?vm.push(e):vm=[e]:gm=e}function lk(){if(gm){var e=gm,t=vm;if(vm=gm=null,yT(e),t)for(e=0;e<t.length;e++)yT(t[e])}}function uk(e,t){return e(t)}function hk(){}var z_=!1;function dk(e,t,n){if(z_)return e(t,n);z_=!0;try{return uk(e,t,n)}finally{z_=!1,(gm!==null||vm!==null)&&(hk(),lk())}}function e0(e,t){var n=e.stateNode;if(n===null)return null;var r=a1(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Bt(231,t,typeof n));return n}var db=!1;if(lh)try{var _g={};Object.defineProperty(_g,"passive",{get:function(){db=!0}}),window.addEventListener("test",_g,_g),window.removeEventListener("test",_g,_g)}catch{db=!1}function XR(e,t,n,r,s,o,l,u,f){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(v){this.onError(v)}}var Fg=!1,gy=null,vy=!1,fb=null,ZR={onError:function(e){Fg=!0,gy=e}};function JR(e,t,n,r,s,o,l,u,f){Fg=!1,gy=null,XR.apply(ZR,arguments)}function eP(e,t,n,r,s,o,l,u,f){if(JR.apply(this,arguments),Fg){if(Fg){var m=gy;Fg=!1,gy=null}else throw Error(Bt(198));vy||(vy=!0,fb=m)}}function sp(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _T(e){if(sp(e)!==e)throw Error(Bt(188))}function tP(e){var t=e.alternate;if(!t){if(t=sp(e),t===null)throw Error(Bt(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return _T(s),e;if(o===r)return _T(s),t;o=o.sibling}throw Error(Bt(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,u=s.child;u;){if(u===n){l=!0,n=s,r=o;break}if(u===r){l=!0,r=s,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,r=s;break}if(u===r){l=!0,r=o,n=s;break}u=u.sibling}if(!l)throw Error(Bt(189))}}if(n.alternate!==r)throw Error(Bt(190))}if(n.tag!==3)throw Error(Bt(188));return n.stateNode.current===n?e:t}function pk(e){return e=tP(e),e!==null?mk(e):null}function mk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mk(e);if(t!==null)return t;e=e.sibling}return null}var gk=nc.unstable_scheduleCallback,wT=nc.unstable_cancelCallback,nP=nc.unstable_shouldYield,rP=nc.unstable_requestPaint,Ss=nc.unstable_now,iP=nc.unstable_getCurrentPriorityLevel,IS=nc.unstable_ImmediatePriority,vk=nc.unstable_UserBlockingPriority,yy=nc.unstable_NormalPriority,sP=nc.unstable_LowPriority,yk=nc.unstable_IdlePriority,r1=null,eu=null;function oP(e){if(eu&&typeof eu.onCommitFiberRoot=="function")try{eu.onCommitFiberRoot(r1,e,void 0,(e.current.flags&128)===128)}catch{}}var cl=Math.clz32?Math.clz32:lP,aP=Math.log,cP=Math.LN2;function lP(e){return e>>>=0,e===0?32:31-(aP(e)/cP|0)|0}var _v=64,wv=4194304;function Mg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _y(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~s;u!==0?r=Mg(u):(o&=l,o!==0&&(r=Mg(o)))}else l=n&~s,l!==0?r=Mg(l):o!==0&&(r=Mg(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-cl(t),s=1<<n,r|=e[n],t&=~s;return r}function uP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-cl(o),u=1<<l,f=s[l];f===-1?(!(u&n)||u&r)&&(s[l]=uP(u,t)):f<=t&&(e.expiredLanes|=u),o&=~u}}function pb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _k(){var e=_v;return _v<<=1,!(_v&4194240)&&(_v=64),e}function H_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function D0(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cl(t),e[t]=n}function dP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-cl(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function LS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cl(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ai=0;function wk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bk,FS,Sk,xk,Tk,mb=!1,bv=[],gd=null,vd=null,yd=null,t0=new Map,n0=new Map,hd=[],fP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bT(e,t){switch(e){case"focusin":case"focusout":gd=null;break;case"dragenter":case"dragleave":vd=null;break;case"mouseover":case"mouseout":yd=null;break;case"pointerover":case"pointerout":t0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":n0.delete(t.pointerId)}}function wg(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=P0(t),t!==null&&FS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pP(e,t,n,r,s){switch(t){case"focusin":return gd=wg(gd,e,t,n,r,s),!0;case"dragenter":return vd=wg(vd,e,t,n,r,s),!0;case"mouseover":return yd=wg(yd,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return t0.set(o,wg(t0.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,n0.set(o,wg(n0.get(o)||null,e,t,n,r,s)),!0}return!1}function Ek(e){var t=Pf(e.target);if(t!==null){var n=sp(t);if(n!==null){if(t=n.tag,t===13){if(t=fk(n),t!==null){e.blockedOn=t,Tk(e.priority,function(){Sk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ty(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ub=r,n.target.dispatchEvent(r),ub=null}else return t=P0(n),t!==null&&FS(t),e.blockedOn=n,!1;t.shift()}return!0}function ST(e,t,n){ty(e)&&n.delete(t)}function mP(){mb=!1,gd!==null&&ty(gd)&&(gd=null),vd!==null&&ty(vd)&&(vd=null),yd!==null&&ty(yd)&&(yd=null),t0.forEach(ST),n0.forEach(ST)}function bg(e,t){e.blockedOn===t&&(e.blockedOn=null,mb||(mb=!0,nc.unstable_scheduleCallback(nc.unstable_NormalPriority,mP)))}function r0(e){function t(s){return bg(s,e)}if(0<bv.length){bg(bv[0],e);for(var n=1;n<bv.length;n++){var r=bv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gd!==null&&bg(gd,e),vd!==null&&bg(vd,e),yd!==null&&bg(yd,e),t0.forEach(t),n0.forEach(t),n=0;n<hd.length;n++)r=hd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hd.length&&(n=hd[0],n.blockedOn===null);)Ek(n),n.blockedOn===null&&hd.shift()}var ym=wh.ReactCurrentBatchConfig,wy=!0;function gP(e,t,n,r){var s=ai,o=ym.transition;ym.transition=null;try{ai=1,jS(e,t,n,r)}finally{ai=s,ym.transition=o}}function vP(e,t,n,r){var s=ai,o=ym.transition;ym.transition=null;try{ai=4,jS(e,t,n,r)}finally{ai=s,ym.transition=o}}function jS(e,t,n,r){if(wy){var s=gb(e,t,n,r);if(s===null)J_(e,t,r,by,n),bT(e,r);else if(pP(s,e,t,n,r))r.stopPropagation();else if(bT(e,r),t&4&&-1<fP.indexOf(e)){for(;s!==null;){var o=P0(s);if(o!==null&&bk(o),o=gb(e,t,n,r),o===null&&J_(e,t,r,by,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else J_(e,t,r,null,n)}}var by=null;function gb(e,t,n,r){if(by=null,e=PS(r),e=Pf(e),e!==null)if(t=sp(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return by=e,null}function Ck(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iP()){case IS:return 1;case vk:return 4;case yy:case sP:return 16;case yk:return 536870912;default:return 16}default:return 16}}var fd=null,US=null,ny=null;function kk(){if(ny)return ny;var e,t=US,n=t.length,r,s="value"in fd?fd.value:fd.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[o-r];r++);return ny=s.slice(e,1<r?1-r:void 0)}function ry(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sv(){return!0}function xT(){return!1}function cc(e){function t(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sv:xT,this.isPropagationStopped=xT,this}return Ji(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sv)},persist:function(){},isPersistent:Sv}),t}var Bm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BS=cc(Bm),R0=Ji({},Bm,{view:0,detail:0}),yP=cc(R0),$_,q_,Sg,i1=Ji({},R0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sg&&(Sg&&e.type==="mousemove"?($_=e.screenX-Sg.screenX,q_=e.screenY-Sg.screenY):q_=$_=0,Sg=e),$_)},movementY:function(e){return"movementY"in e?e.movementY:q_}}),TT=cc(i1),_P=Ji({},i1,{dataTransfer:0}),wP=cc(_P),bP=Ji({},R0,{relatedTarget:0}),W_=cc(bP),SP=Ji({},Bm,{animationName:0,elapsedTime:0,pseudoElement:0}),xP=cc(SP),TP=Ji({},Bm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EP=cc(TP),CP=Ji({},Bm,{data:0}),ET=cc(CP),kP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NP[e])?!!t[e]:!1}function VS(){return AP}var MP=Ji({},R0,{key:function(e){if(e.key){var t=kP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ry(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VS,charCode:function(e){return e.type==="keypress"?ry(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ry(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DP=cc(MP),RP=Ji({},i1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CT=cc(RP),PP=Ji({},R0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VS}),IP=cc(PP),LP=Ji({},Bm,{propertyName:0,elapsedTime:0,pseudoElement:0}),FP=cc(LP),jP=Ji({},i1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UP=cc(jP),BP=[9,13,27,32],zS=lh&&"CompositionEvent"in window,jg=null;lh&&"documentMode"in document&&(jg=document.documentMode);var VP=lh&&"TextEvent"in window&&!jg,Ok=lh&&(!zS||jg&&8<jg&&11>=jg),kT=String.fromCharCode(32),OT=!1;function Nk(e,t){switch(e){case"keyup":return BP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ak(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nm=!1;function zP(e,t){switch(e){case"compositionend":return Ak(t);case"keypress":return t.which!==32?null:(OT=!0,kT);case"textInput":return e=t.data,e===kT&&OT?null:e;default:return null}}function HP(e,t){if(nm)return e==="compositionend"||!zS&&Nk(e,t)?(e=kk(),ny=US=fd=null,nm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ok&&t.locale!=="ko"?null:t.data;default:return null}}var $P={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$P[e.type]:t==="textarea"}function Mk(e,t,n,r){ck(r),t=Sy(t,"onChange"),0<t.length&&(n=new BS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ug=null,i0=null;function qP(e){zk(e,0)}function s1(e){var t=sm(e);if(tk(t))return e}function WP(e,t){if(e==="change")return t}var Dk=!1;if(lh){var G_;if(lh){var Y_="oninput"in document;if(!Y_){var AT=document.createElement("div");AT.setAttribute("oninput","return;"),Y_=typeof AT.oninput=="function"}G_=Y_}else G_=!1;Dk=G_&&(!document.documentMode||9<document.documentMode)}function MT(){Ug&&(Ug.detachEvent("onpropertychange",Rk),i0=Ug=null)}function Rk(e){if(e.propertyName==="value"&&s1(i0)){var t=[];Mk(t,i0,e,PS(e)),dk(qP,t)}}function GP(e,t,n){e==="focusin"?(MT(),Ug=t,i0=n,Ug.attachEvent("onpropertychange",Rk)):e==="focusout"&&MT()}function YP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return s1(i0)}function QP(e,t){if(e==="click")return s1(t)}function KP(e,t){if(e==="input"||e==="change")return s1(t)}function XP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dl=typeof Object.is=="function"?Object.is:XP;function s0(e,t){if(dl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zw.call(t,s)||!dl(e[s],t[s]))return!1}return!0}function DT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function RT(e,t){var n=DT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=DT(n)}}function Pk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ik(){for(var e=window,t=my();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=my(e.document)}return t}function HS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZP(e){var t=Ik(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pk(n.ownerDocument.documentElement,n)){if(r!==null&&HS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=RT(n,o);var l=RT(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JP=lh&&"documentMode"in document&&11>=document.documentMode,rm=null,vb=null,Bg=null,yb=!1;function PT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yb||rm==null||rm!==my(r)||(r=rm,"selectionStart"in r&&HS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bg&&s0(Bg,r)||(Bg=r,r=Sy(vb,"onSelect"),0<r.length&&(t=new BS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rm)))}function xv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var im={animationend:xv("Animation","AnimationEnd"),animationiteration:xv("Animation","AnimationIteration"),animationstart:xv("Animation","AnimationStart"),transitionend:xv("Transition","TransitionEnd")},Q_={},Lk={};lh&&(Lk=document.createElement("div").style,"AnimationEvent"in window||(delete im.animationend.animation,delete im.animationiteration.animation,delete im.animationstart.animation),"TransitionEvent"in window||delete im.transitionend.transition);function o1(e){if(Q_[e])return Q_[e];if(!im[e])return e;var t=im[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lk)return Q_[e]=t[n];return e}var Fk=o1("animationend"),jk=o1("animationiteration"),Uk=o1("animationstart"),Bk=o1("transitionend"),Vk=new Map,IT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fd(e,t){Vk.set(e,t),ip(t,[e])}for(var K_=0;K_<IT.length;K_++){var X_=IT[K_],e7=X_.toLowerCase(),t7=X_[0].toUpperCase()+X_.slice(1);Fd(e7,"on"+t7)}Fd(Fk,"onAnimationEnd");Fd(jk,"onAnimationIteration");Fd(Uk,"onAnimationStart");Fd("dblclick","onDoubleClick");Fd("focusin","onFocus");Fd("focusout","onBlur");Fd(Bk,"onTransitionEnd");xm("onMouseEnter",["mouseout","mouseover"]);xm("onMouseLeave",["mouseout","mouseover"]);xm("onPointerEnter",["pointerout","pointerover"]);xm("onPointerLeave",["pointerout","pointerover"]);ip("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ip("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ip("onBeforeInput",["compositionend","keypress","textInput","paste"]);ip("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ip("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ip("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dg));function LT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,eP(r,t,void 0,e),e.currentTarget=null}function zk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],f=u.instance,m=u.currentTarget;if(u=u.listener,f!==o&&s.isPropagationStopped())break e;LT(s,u,m),o=f}else for(l=0;l<r.length;l++){if(u=r[l],f=u.instance,m=u.currentTarget,u=u.listener,f!==o&&s.isPropagationStopped())break e;LT(s,u,m),o=f}}}if(vy)throw e=fb,vy=!1,fb=null,e}function Pi(e,t){var n=t[xb];n===void 0&&(n=t[xb]=new Set);var r=e+"__bubble";n.has(r)||(Hk(t,e,2,!1),n.add(r))}function Z_(e,t,n){var r=0;t&&(r|=4),Hk(n,e,r,t)}var Tv="_reactListening"+Math.random().toString(36).slice(2);function o0(e){if(!e[Tv]){e[Tv]=!0,KC.forEach(function(n){n!=="selectionchange"&&(n7.has(n)||Z_(n,!1,e),Z_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tv]||(t[Tv]=!0,Z_("selectionchange",!1,t))}}function Hk(e,t,n,r){switch(Ck(t)){case 1:var s=gP;break;case 4:s=vP;break;default:s=jS}n=s.bind(null,t,n,e),s=void 0,!db||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function J_(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var f=l.tag;if((f===3||f===4)&&(f=l.stateNode.containerInfo,f===s||f.nodeType===8&&f.parentNode===s))return;l=l.return}for(;u!==null;){if(l=Pf(u),l===null)return;if(f=l.tag,f===5||f===6){r=o=l;continue e}u=u.parentNode}}r=r.return}dk(function(){var m=o,v=PS(n),b=[];e:{var x=Vk.get(e);if(x!==void 0){var O=BS,T=e;switch(e){case"keypress":if(ry(n)===0)break e;case"keydown":case"keyup":O=DP;break;case"focusin":T="focus",O=W_;break;case"focusout":T="blur",O=W_;break;case"beforeblur":case"afterblur":O=W_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=TT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=wP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=IP;break;case Fk:case jk:case Uk:O=xP;break;case Bk:O=FP;break;case"scroll":O=yP;break;case"wheel":O=UP;break;case"copy":case"cut":case"paste":O=EP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=CT}var D=(t&4)!==0,M=!D&&e==="scroll",C=D?x!==null?x+"Capture":null:x;D=[];for(var R=m,j;R!==null;){j=R;var H=j.stateNode;if(j.tag===5&&H!==null&&(j=H,C!==null&&(H=e0(R,C),H!=null&&D.push(a0(R,H,j)))),M)break;R=R.return}0<D.length&&(x=new O(x,T,null,n,v),b.push({event:x,listeners:D}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",x&&n!==ub&&(T=n.relatedTarget||n.fromElement)&&(Pf(T)||T[uh]))break e;if((O||x)&&(x=v.window===v?v:(x=v.ownerDocument)?x.defaultView||x.parentWindow:window,O?(T=n.relatedTarget||n.toElement,O=m,T=T?Pf(T):null,T!==null&&(M=sp(T),T!==M||T.tag!==5&&T.tag!==6)&&(T=null)):(O=null,T=m),O!==T)){if(D=TT,H="onMouseLeave",C="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(D=CT,H="onPointerLeave",C="onPointerEnter",R="pointer"),M=O==null?x:sm(O),j=T==null?x:sm(T),x=new D(H,R+"leave",O,n,v),x.target=M,x.relatedTarget=j,H=null,Pf(v)===m&&(D=new D(C,R+"enter",T,n,v),D.target=j,D.relatedTarget=M,H=D),M=H,O&&T)t:{for(D=O,C=T,R=0,j=D;j;j=zp(j))R++;for(j=0,H=C;H;H=zp(H))j++;for(;0<R-j;)D=zp(D),R--;for(;0<j-R;)C=zp(C),j--;for(;R--;){if(D===C||C!==null&&D===C.alternate)break t;D=zp(D),C=zp(C)}D=null}else D=null;O!==null&&FT(b,x,O,D,!1),T!==null&&M!==null&&FT(b,M,T,D,!0)}}e:{if(x=m?sm(m):window,O=x.nodeName&&x.nodeName.toLowerCase(),O==="select"||O==="input"&&x.type==="file")var F=WP;else if(NT(x))if(Dk)F=KP;else{F=YP;var ie=GP}else(O=x.nodeName)&&O.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(F=QP);if(F&&(F=F(e,m))){Mk(b,F,n,v);break e}ie&&ie(e,x,m),e==="focusout"&&(ie=x._wrapperState)&&ie.controlled&&x.type==="number"&&sb(x,"number",x.value)}switch(ie=m?sm(m):window,e){case"focusin":(NT(ie)||ie.contentEditable==="true")&&(rm=ie,vb=m,Bg=null);break;case"focusout":Bg=vb=rm=null;break;case"mousedown":yb=!0;break;case"contextmenu":case"mouseup":case"dragend":yb=!1,PT(b,n,v);break;case"selectionchange":if(JP)break;case"keydown":case"keyup":PT(b,n,v)}var ee;if(zS)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else nm?Nk(e,n)&&(_e="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_e="onCompositionStart");_e&&(Ok&&n.locale!=="ko"&&(nm||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&nm&&(ee=kk()):(fd=v,US="value"in fd?fd.value:fd.textContent,nm=!0)),ie=Sy(m,_e),0<ie.length&&(_e=new ET(_e,e,null,n,v),b.push({event:_e,listeners:ie}),ee?_e.data=ee:(ee=Ak(n),ee!==null&&(_e.data=ee)))),(ee=VP?zP(e,n):HP(e,n))&&(m=Sy(m,"onBeforeInput"),0<m.length&&(v=new ET("onBeforeInput","beforeinput",null,n,v),b.push({event:v,listeners:m}),v.data=ee))}zk(b,t)})}function a0(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sy(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=e0(e,n),o!=null&&r.unshift(a0(e,o,s)),o=e0(e,t),o!=null&&r.push(a0(e,o,s))),e=e.return}return r}function zp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function FT(e,t,n,r,s){for(var o=t._reactName,l=[];n!==null&&n!==r;){var u=n,f=u.alternate,m=u.stateNode;if(f!==null&&f===r)break;u.tag===5&&m!==null&&(u=m,s?(f=e0(n,o),f!=null&&l.unshift(a0(n,f,u))):s||(f=e0(n,o),f!=null&&l.push(a0(n,f,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var r7=/\r\n?/g,i7=/\u0000|\uFFFD/g;function jT(e){return(typeof e=="string"?e:""+e).replace(r7,`
`).replace(i7,"")}function Ev(e,t,n){if(t=jT(t),jT(e)!==t&&n)throw Error(Bt(425))}function xy(){}var _b=null,wb=null;function bb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sb=typeof setTimeout=="function"?setTimeout:void 0,s7=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,o7=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(e){return UT.resolve(null).then(e).catch(a7)}:Sb;function a7(e){setTimeout(function(){throw e})}function ew(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),r0(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);r0(t)}function _d(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function BT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vm=Math.random().toString(36).slice(2),Zl="__reactFiber$"+Vm,c0="__reactProps$"+Vm,uh="__reactContainer$"+Vm,xb="__reactEvents$"+Vm,c7="__reactListeners$"+Vm,l7="__reactHandles$"+Vm;function Pf(e){var t=e[Zl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[uh]||n[Zl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=BT(e);e!==null;){if(n=e[Zl])return n;e=BT(e)}return t}e=n,n=e.parentNode}return null}function P0(e){return e=e[Zl]||e[uh],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Bt(33))}function a1(e){return e[c0]||null}var Tb=[],om=-1;function jd(e){return{current:e}}function Ii(e){0>om||(e.current=Tb[om],Tb[om]=null,om--)}function Ei(e,t){om++,Tb[om]=e.current,e.current=t}var Md={},Ko=jd(Md),Oa=jd(!1),Gf=Md;function Tm(e,t){var n=e.type.contextTypes;if(!n)return Md;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Na(e){return e=e.childContextTypes,e!=null}function Ty(){Ii(Oa),Ii(Ko)}function VT(e,t,n){if(Ko.current!==Md)throw Error(Bt(168));Ei(Ko,t),Ei(Oa,n)}function $k(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Bt(108,GR(e)||"Unknown",s));return Ji({},n,r)}function Ey(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Md,Gf=Ko.current,Ei(Ko,e),Ei(Oa,Oa.current),!0}function zT(e,t,n){var r=e.stateNode;if(!r)throw Error(Bt(169));n?(e=$k(e,t,Gf),r.__reactInternalMemoizedMergedChildContext=e,Ii(Oa),Ii(Ko),Ei(Ko,e)):Ii(Oa),Ei(Oa,n)}var Ju=null,c1=!1,tw=!1;function qk(e){Ju===null?Ju=[e]:Ju.push(e)}function u7(e){c1=!0,qk(e)}function Ud(){if(!tw&&Ju!==null){tw=!0;var e=0,t=ai;try{var n=Ju;for(ai=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ju=null,c1=!1}catch(s){throw Ju!==null&&(Ju=Ju.slice(e+1)),gk(IS,Ud),s}finally{ai=t,tw=!1}}return null}var am=[],cm=0,Cy=null,ky=0,Ac=[],Mc=0,Yf=null,eh=1,th="";function Af(e,t){am[cm++]=ky,am[cm++]=Cy,Cy=e,ky=t}function Wk(e,t,n){Ac[Mc++]=eh,Ac[Mc++]=th,Ac[Mc++]=Yf,Yf=e;var r=eh;e=th;var s=32-cl(r)-1;r&=~(1<<s),n+=1;var o=32-cl(t)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,eh=1<<32-cl(t)+s|n<<s|r,th=o+e}else eh=1<<o|n<<s|r,th=e}function $S(e){e.return!==null&&(Af(e,1),Wk(e,1,0))}function qS(e){for(;e===Cy;)Cy=am[--cm],am[cm]=null,ky=am[--cm],am[cm]=null;for(;e===Yf;)Yf=Ac[--Mc],Ac[Mc]=null,th=Ac[--Mc],Ac[Mc]=null,eh=Ac[--Mc],Ac[Mc]=null}var tc=null,Ja=null,Bi=!1,ol=null;function Gk(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function HT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tc=e,Ja=_d(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tc=e,Ja=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yf!==null?{id:eh,overflow:th}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pc(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tc=e,Ja=null,!0):!1;default:return!1}}function Eb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cb(e){if(Bi){var t=Ja;if(t){var n=t;if(!HT(e,t)){if(Eb(e))throw Error(Bt(418));t=_d(n.nextSibling);var r=tc;t&&HT(e,t)?Gk(r,n):(e.flags=e.flags&-4097|2,Bi=!1,tc=e)}}else{if(Eb(e))throw Error(Bt(418));e.flags=e.flags&-4097|2,Bi=!1,tc=e}}}function $T(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tc=e}function Cv(e){if(e!==tc)return!1;if(!Bi)return $T(e),Bi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bb(e.type,e.memoizedProps)),t&&(t=Ja)){if(Eb(e))throw Yk(),Error(Bt(418));for(;t;)Gk(e,t),t=_d(t.nextSibling)}if($T(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Bt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ja=_d(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ja=null}}else Ja=tc?_d(e.stateNode.nextSibling):null;return!0}function Yk(){for(var e=Ja;e;)e=_d(e.nextSibling)}function Em(){Ja=tc=null,Bi=!1}function WS(e){ol===null?ol=[e]:ol.push(e)}var h7=wh.ReactCurrentBatchConfig;function il(e,t){if(e&&e.defaultProps){t=Ji({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Oy=jd(null),Ny=null,lm=null,GS=null;function YS(){GS=lm=Ny=null}function QS(e){var t=Oy.current;Ii(Oy),e._currentValue=t}function kb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _m(e,t){Ny=e,GS=lm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ca=!0),e.firstContext=null)}function Fc(e){var t=e._currentValue;if(GS!==e)if(e={context:e,memoizedValue:t,next:null},lm===null){if(Ny===null)throw Error(Bt(308));lm=e,Ny.dependencies={lanes:0,firstContext:e}}else lm=lm.next=e;return t}var If=null;function KS(e){If===null?If=[e]:If.push(e)}function Qk(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,KS(t)):(n.next=s.next,s.next=n),t.interleaved=n,hh(e,r)}function hh(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ud=!1;function XS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wd(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Hr&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,hh(e,n)}return s=r.interleaved,s===null?(t.next=t,KS(r)):(t.next=s.next,s.next=t),r.interleaved=t,hh(e,n)}function iy(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,LS(e,n)}}function qT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ay(e,t,n,r){var s=e.updateQueue;ud=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var f=u,m=f.next;f.next=null,l===null?o=m:l.next=m,l=f;var v=e.alternate;v!==null&&(v=v.updateQueue,u=v.lastBaseUpdate,u!==l&&(u===null?v.firstBaseUpdate=m:u.next=m,v.lastBaseUpdate=f))}if(o!==null){var b=s.baseState;l=0,v=m=f=null,u=o;do{var x=u.lane,O=u.eventTime;if((r&x)===x){v!==null&&(v=v.next={eventTime:O,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var T=e,D=u;switch(x=t,O=n,D.tag){case 1:if(T=D.payload,typeof T=="function"){b=T.call(O,b,x);break e}b=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=D.payload,x=typeof T=="function"?T.call(O,b,x):T,x==null)break e;b=Ji({},b,x);break e;case 2:ud=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[u]:x.push(u))}else O={eventTime:O,lane:x,tag:u.tag,payload:u.payload,callback:u.callback,next:null},v===null?(m=v=O,f=b):v=v.next=O,l|=x;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;x=u,u=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(1);if(v===null&&(f=b),s.baseState=f,s.firstBaseUpdate=m,s.lastBaseUpdate=v,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Kf|=l,e.lanes=l,e.memoizedState=b}}function WT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Bt(191,s));s.call(r)}}}var Xk=new QC.Component().refs;function Ob(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ji({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var l1={isMounted:function(e){return(e=e._reactInternals)?sp(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=aa(),s=Sd(e),o=sh(r,s);o.payload=t,n!=null&&(o.callback=n),t=wd(e,o,s),t!==null&&(ll(t,e,s,r),iy(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=aa(),s=Sd(e),o=sh(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=wd(e,o,s),t!==null&&(ll(t,e,s,r),iy(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=aa(),r=Sd(e),s=sh(n,r);s.tag=2,t!=null&&(s.callback=t),t=wd(e,s,r),t!==null&&(ll(t,e,r,n),iy(t,e,r))}};function GT(e,t,n,r,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!s0(n,r)||!s0(s,o):!0}function Zk(e,t,n){var r=!1,s=Md,o=t.contextType;return typeof o=="object"&&o!==null?o=Fc(o):(s=Na(t)?Gf:Ko.current,r=t.contextTypes,o=(r=r!=null)?Tm(e,s):Md),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=l1,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function YT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&l1.enqueueReplaceState(t,t.state,null)}function Nb(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=Xk,XS(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Fc(o):(o=Na(t)?Gf:Ko.current,s.context=Tm(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ob(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&l1.enqueueReplaceState(s,s.state,null),Ay(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xg(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Bt(309));var r=n.stateNode}if(!r)throw Error(Bt(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var u=s.refs;u===Xk&&(u=s.refs={}),l===null?delete u[o]:u[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(Bt(284));if(!n._owner)throw Error(Bt(290,e))}return e}function kv(e,t){throw e=Object.prototype.toString.call(t),Error(Bt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function QT(e){var t=e._init;return t(e._payload)}function Jk(e){function t(C,R){if(e){var j=C.deletions;j===null?(C.deletions=[R],C.flags|=16):j.push(R)}}function n(C,R){if(!e)return null;for(;R!==null;)t(C,R),R=R.sibling;return null}function r(C,R){for(C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function s(C,R){return C=xd(C,R),C.index=0,C.sibling=null,C}function o(C,R,j){return C.index=j,e?(j=C.alternate,j!==null?(j=j.index,j<R?(C.flags|=2,R):j):(C.flags|=2,R)):(C.flags|=1048576,R)}function l(C){return e&&C.alternate===null&&(C.flags|=2),C}function u(C,R,j,H){return R===null||R.tag!==6?(R=cw(j,C.mode,H),R.return=C,R):(R=s(R,j),R.return=C,R)}function f(C,R,j,H){var F=j.type;return F===tm?v(C,R,j.props.children,H,j.key):R!==null&&(R.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ld&&QT(F)===R.type)?(H=s(R,j.props),H.ref=xg(C,R,j),H.return=C,H):(H=uy(j.type,j.key,j.props,null,C.mode,H),H.ref=xg(C,R,j),H.return=C,H)}function m(C,R,j,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==j.containerInfo||R.stateNode.implementation!==j.implementation?(R=lw(j,C.mode,H),R.return=C,R):(R=s(R,j.children||[]),R.return=C,R)}function v(C,R,j,H,F){return R===null||R.tag!==7?(R=zf(j,C.mode,H,F),R.return=C,R):(R=s(R,j),R.return=C,R)}function b(C,R,j){if(typeof R=="string"&&R!==""||typeof R=="number")return R=cw(""+R,C.mode,j),R.return=C,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case gv:return j=uy(R.type,R.key,R.props,null,C.mode,j),j.ref=xg(C,null,R),j.return=C,j;case em:return R=lw(R,C.mode,j),R.return=C,R;case ld:var H=R._init;return b(C,H(R._payload),j)}if(Ag(R)||yg(R))return R=zf(R,C.mode,j,null),R.return=C,R;kv(C,R)}return null}function x(C,R,j,H){var F=R!==null?R.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return F!==null?null:u(C,R,""+j,H);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gv:return j.key===F?f(C,R,j,H):null;case em:return j.key===F?m(C,R,j,H):null;case ld:return F=j._init,x(C,R,F(j._payload),H)}if(Ag(j)||yg(j))return F!==null?null:v(C,R,j,H,null);kv(C,j)}return null}function O(C,R,j,H,F){if(typeof H=="string"&&H!==""||typeof H=="number")return C=C.get(j)||null,u(R,C,""+H,F);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case gv:return C=C.get(H.key===null?j:H.key)||null,f(R,C,H,F);case em:return C=C.get(H.key===null?j:H.key)||null,m(R,C,H,F);case ld:var ie=H._init;return O(C,R,j,ie(H._payload),F)}if(Ag(H)||yg(H))return C=C.get(j)||null,v(R,C,H,F,null);kv(R,H)}return null}function T(C,R,j,H){for(var F=null,ie=null,ee=R,_e=R=0,Xe=null;ee!==null&&_e<j.length;_e++){ee.index>_e?(Xe=ee,ee=null):Xe=ee.sibling;var Te=x(C,ee,j[_e],H);if(Te===null){ee===null&&(ee=Xe);break}e&&ee&&Te.alternate===null&&t(C,ee),R=o(Te,R,_e),ie===null?F=Te:ie.sibling=Te,ie=Te,ee=Xe}if(_e===j.length)return n(C,ee),Bi&&Af(C,_e),F;if(ee===null){for(;_e<j.length;_e++)ee=b(C,j[_e],H),ee!==null&&(R=o(ee,R,_e),ie===null?F=ee:ie.sibling=ee,ie=ee);return Bi&&Af(C,_e),F}for(ee=r(C,ee);_e<j.length;_e++)Xe=O(ee,C,_e,j[_e],H),Xe!==null&&(e&&Xe.alternate!==null&&ee.delete(Xe.key===null?_e:Xe.key),R=o(Xe,R,_e),ie===null?F=Xe:ie.sibling=Xe,ie=Xe);return e&&ee.forEach(function(Fe){return t(C,Fe)}),Bi&&Af(C,_e),F}function D(C,R,j,H){var F=yg(j);if(typeof F!="function")throw Error(Bt(150));if(j=F.call(j),j==null)throw Error(Bt(151));for(var ie=F=null,ee=R,_e=R=0,Xe=null,Te=j.next();ee!==null&&!Te.done;_e++,Te=j.next()){ee.index>_e?(Xe=ee,ee=null):Xe=ee.sibling;var Fe=x(C,ee,Te.value,H);if(Fe===null){ee===null&&(ee=Xe);break}e&&ee&&Fe.alternate===null&&t(C,ee),R=o(Fe,R,_e),ie===null?F=Fe:ie.sibling=Fe,ie=Fe,ee=Xe}if(Te.done)return n(C,ee),Bi&&Af(C,_e),F;if(ee===null){for(;!Te.done;_e++,Te=j.next())Te=b(C,Te.value,H),Te!==null&&(R=o(Te,R,_e),ie===null?F=Te:ie.sibling=Te,ie=Te);return Bi&&Af(C,_e),F}for(ee=r(C,ee);!Te.done;_e++,Te=j.next())Te=O(ee,C,_e,Te.value,H),Te!==null&&(e&&Te.alternate!==null&&ee.delete(Te.key===null?_e:Te.key),R=o(Te,R,_e),ie===null?F=Te:ie.sibling=Te,ie=Te);return e&&ee.forEach(function(je){return t(C,je)}),Bi&&Af(C,_e),F}function M(C,R,j,H){if(typeof j=="object"&&j!==null&&j.type===tm&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case gv:e:{for(var F=j.key,ie=R;ie!==null;){if(ie.key===F){if(F=j.type,F===tm){if(ie.tag===7){n(C,ie.sibling),R=s(ie,j.props.children),R.return=C,C=R;break e}}else if(ie.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ld&&QT(F)===ie.type){n(C,ie.sibling),R=s(ie,j.props),R.ref=xg(C,ie,j),R.return=C,C=R;break e}n(C,ie);break}else t(C,ie);ie=ie.sibling}j.type===tm?(R=zf(j.props.children,C.mode,H,j.key),R.return=C,C=R):(H=uy(j.type,j.key,j.props,null,C.mode,H),H.ref=xg(C,R,j),H.return=C,C=H)}return l(C);case em:e:{for(ie=j.key;R!==null;){if(R.key===ie)if(R.tag===4&&R.stateNode.containerInfo===j.containerInfo&&R.stateNode.implementation===j.implementation){n(C,R.sibling),R=s(R,j.children||[]),R.return=C,C=R;break e}else{n(C,R);break}else t(C,R);R=R.sibling}R=lw(j,C.mode,H),R.return=C,C=R}return l(C);case ld:return ie=j._init,M(C,R,ie(j._payload),H)}if(Ag(j))return T(C,R,j,H);if(yg(j))return D(C,R,j,H);kv(C,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,R!==null&&R.tag===6?(n(C,R.sibling),R=s(R,j),R.return=C,C=R):(n(C,R),R=cw(j,C.mode,H),R.return=C,C=R),l(C)):n(C,R)}return M}var Cm=Jk(!0),e6=Jk(!1),I0={},tu=jd(I0),l0=jd(I0),u0=jd(I0);function Lf(e){if(e===I0)throw Error(Bt(174));return e}function ZS(e,t){switch(Ei(u0,t),Ei(l0,e),Ei(tu,I0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ab(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ab(t,e)}Ii(tu),Ei(tu,t)}function km(){Ii(tu),Ii(l0),Ii(u0)}function t6(e){Lf(u0.current);var t=Lf(tu.current),n=ab(t,e.type);t!==n&&(Ei(l0,e),Ei(tu,n))}function JS(e){l0.current===e&&(Ii(tu),Ii(l0))}var Xi=jd(0);function My(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nw=[];function e2(){for(var e=0;e<nw.length;e++)nw[e]._workInProgressVersionPrimary=null;nw.length=0}var sy=wh.ReactCurrentDispatcher,rw=wh.ReactCurrentBatchConfig,Qf=0,Zi=null,qs=null,ro=null,Dy=!1,Vg=!1,h0=0,d7=0;function qo(){throw Error(Bt(321))}function t2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dl(e[n],t[n]))return!1;return!0}function n2(e,t,n,r,s,o){if(Qf=o,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sy.current=e===null||e.memoizedState===null?g7:v7,e=n(r,s),Vg){o=0;do{if(Vg=!1,h0=0,25<=o)throw Error(Bt(301));o+=1,ro=qs=null,t.updateQueue=null,sy.current=y7,e=n(r,s)}while(Vg)}if(sy.current=Ry,t=qs!==null&&qs.next!==null,Qf=0,ro=qs=Zi=null,Dy=!1,t)throw Error(Bt(300));return e}function r2(){var e=h0!==0;return h0=0,e}function Kl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ro===null?Zi.memoizedState=ro=e:ro=ro.next=e,ro}function jc(){if(qs===null){var e=Zi.alternate;e=e!==null?e.memoizedState:null}else e=qs.next;var t=ro===null?Zi.memoizedState:ro.next;if(t!==null)ro=t,qs=e;else{if(e===null)throw Error(Bt(310));qs=e,e={memoizedState:qs.memoizedState,baseState:qs.baseState,baseQueue:qs.baseQueue,queue:qs.queue,next:null},ro===null?Zi.memoizedState=ro=e:ro=ro.next=e}return ro}function d0(e,t){return typeof t=="function"?t(e):t}function iw(e){var t=jc(),n=t.queue;if(n===null)throw Error(Bt(311));n.lastRenderedReducer=e;var r=qs,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var u=l=null,f=null,m=o;do{var v=m.lane;if((Qf&v)===v)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var b={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(u=f=b,l=r):f=f.next=b,Zi.lanes|=v,Kf|=v}m=m.next}while(m!==null&&m!==o);f===null?l=r:f.next=u,dl(r,t.memoizedState)||(Ca=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Zi.lanes|=o,Kf|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sw(e){var t=jc(),n=t.queue;if(n===null)throw Error(Bt(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);dl(o,t.memoizedState)||(Ca=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function n6(){}function r6(e,t){var n=Zi,r=jc(),s=t(),o=!dl(r.memoizedState,s);if(o&&(r.memoizedState=s,Ca=!0),r=r.queue,i2(o6.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ro!==null&&ro.memoizedState.tag&1){if(n.flags|=2048,f0(9,s6.bind(null,n,r,s,t),void 0,null),so===null)throw Error(Bt(349));Qf&30||i6(n,t,s)}return s}function i6(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Zi.updateQueue,t===null?(t={lastEffect:null,stores:null},Zi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function s6(e,t,n,r){t.value=n,t.getSnapshot=r,a6(t)&&c6(e)}function o6(e,t,n){return n(function(){a6(t)&&c6(e)})}function a6(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dl(e,n)}catch{return!0}}function c6(e){var t=hh(e,1);t!==null&&ll(t,e,1,-1)}function KT(e){var t=Kl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d0,lastRenderedState:e},t.queue=e,e=e.dispatch=m7.bind(null,Zi,e),[t.memoizedState,e]}function f0(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Zi.updateQueue,t===null?(t={lastEffect:null,stores:null},Zi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function l6(){return jc().memoizedState}function oy(e,t,n,r){var s=Kl();Zi.flags|=e,s.memoizedState=f0(1|t,n,void 0,r===void 0?null:r)}function u1(e,t,n,r){var s=jc();r=r===void 0?null:r;var o=void 0;if(qs!==null){var l=qs.memoizedState;if(o=l.destroy,r!==null&&t2(r,l.deps)){s.memoizedState=f0(t,n,o,r);return}}Zi.flags|=e,s.memoizedState=f0(1|t,n,o,r)}function XT(e,t){return oy(8390656,8,e,t)}function i2(e,t){return u1(2048,8,e,t)}function u6(e,t){return u1(4,2,e,t)}function h6(e,t){return u1(4,4,e,t)}function d6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f6(e,t,n){return n=n!=null?n.concat([e]):null,u1(4,4,d6.bind(null,t,e),n)}function s2(){}function p6(e,t){var n=jc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&t2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function m6(e,t){var n=jc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&t2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function g6(e,t,n){return Qf&21?(dl(n,t)||(n=_k(),Zi.lanes|=n,Kf|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ca=!0),e.memoizedState=n)}function f7(e,t){var n=ai;ai=n!==0&&4>n?n:4,e(!0);var r=rw.transition;rw.transition={};try{e(!1),t()}finally{ai=n,rw.transition=r}}function v6(){return jc().memoizedState}function p7(e,t,n){var r=Sd(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},y6(e))_6(t,n);else if(n=Qk(e,t,n,r),n!==null){var s=aa();ll(n,e,r,s),w6(n,t,r)}}function m7(e,t,n){var r=Sd(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(y6(e))_6(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,u=o(l,n);if(s.hasEagerState=!0,s.eagerState=u,dl(u,l)){var f=t.interleaved;f===null?(s.next=s,KS(t)):(s.next=f.next,f.next=s),t.interleaved=s;return}}catch{}finally{}n=Qk(e,t,s,r),n!==null&&(s=aa(),ll(n,e,r,s),w6(n,t,r))}}function y6(e){var t=e.alternate;return e===Zi||t!==null&&t===Zi}function _6(e,t){Vg=Dy=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function w6(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,LS(e,n)}}var Ry={readContext:Fc,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useInsertionEffect:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo,useDeferredValue:qo,useTransition:qo,useMutableSource:qo,useSyncExternalStore:qo,useId:qo,unstable_isNewReconciler:!1},g7={readContext:Fc,useCallback:function(e,t){return Kl().memoizedState=[e,t===void 0?null:t],e},useContext:Fc,useEffect:XT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,oy(4194308,4,d6.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oy(4194308,4,e,t)},useInsertionEffect:function(e,t){return oy(4,2,e,t)},useMemo:function(e,t){var n=Kl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=p7.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){var t=Kl();return e={current:e},t.memoizedState=e},useState:KT,useDebugValue:s2,useDeferredValue:function(e){return Kl().memoizedState=e},useTransition:function(){var e=KT(!1),t=e[0];return e=f7.bind(null,e[1]),Kl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Zi,s=Kl();if(Bi){if(n===void 0)throw Error(Bt(407));n=n()}else{if(n=t(),so===null)throw Error(Bt(349));Qf&30||i6(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,XT(o6.bind(null,r,o,e),[e]),r.flags|=2048,f0(9,s6.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Kl(),t=so.identifierPrefix;if(Bi){var n=th,r=eh;n=(r&~(1<<32-cl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=h0++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=d7++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},v7={readContext:Fc,useCallback:p6,useContext:Fc,useEffect:i2,useImperativeHandle:f6,useInsertionEffect:u6,useLayoutEffect:h6,useMemo:m6,useReducer:iw,useRef:l6,useState:function(){return iw(d0)},useDebugValue:s2,useDeferredValue:function(e){var t=jc();return g6(t,qs.memoizedState,e)},useTransition:function(){var e=iw(d0)[0],t=jc().memoizedState;return[e,t]},useMutableSource:n6,useSyncExternalStore:r6,useId:v6,unstable_isNewReconciler:!1},y7={readContext:Fc,useCallback:p6,useContext:Fc,useEffect:i2,useImperativeHandle:f6,useInsertionEffect:u6,useLayoutEffect:h6,useMemo:m6,useReducer:sw,useRef:l6,useState:function(){return sw(d0)},useDebugValue:s2,useDeferredValue:function(e){var t=jc();return qs===null?t.memoizedState=e:g6(t,qs.memoizedState,e)},useTransition:function(){var e=sw(d0)[0],t=jc().memoizedState;return[e,t]},useMutableSource:n6,useSyncExternalStore:r6,useId:v6,unstable_isNewReconciler:!1};function Om(e,t){try{var n="",r=t;do n+=WR(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function ow(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ab(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _7=typeof WeakMap=="function"?WeakMap:Map;function b6(e,t,n){n=sh(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Iy||(Iy=!0,Bb=r),Ab(e,t)},n}function S6(e,t,n){n=sh(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ab(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ab(e,t),typeof r!="function"&&(bd===null?bd=new Set([this]):bd.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function ZT(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _7;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=R7.bind(null,e,t,n),t.then(e,e))}function JT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eE(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sh(-1,1),t.tag=2,wd(n,t,1))),n.lanes|=1),e)}var w7=wh.ReactCurrentOwner,Ca=!1;function oa(e,t,n,r){t.child=e===null?e6(t,null,n,r):Cm(t,e.child,n,r)}function tE(e,t,n,r,s){n=n.render;var o=t.ref;return _m(t,s),r=n2(e,t,n,r,o,s),n=r2(),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dh(e,t,s)):(Bi&&n&&$S(t),t.flags|=1,oa(e,t,r,s),t.child)}function nE(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!f2(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,x6(e,t,o,r,s)):(e=uy(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:s0,n(l,r)&&e.ref===t.ref)return dh(e,t,s)}return t.flags|=1,e=xd(o,r),e.ref=t.ref,e.return=t,t.child=e}function x6(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(s0(o,r)&&e.ref===t.ref)if(Ca=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ca=!0);else return t.lanes=e.lanes,dh(e,t,s)}return Mb(e,t,n,r,s)}function T6(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(hm,Za),Za|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(hm,Za),Za|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ei(hm,Za),Za|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(hm,Za),Za|=r;return oa(e,t,s,n),t.child}function E6(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mb(e,t,n,r,s){var o=Na(n)?Gf:Ko.current;return o=Tm(t,o),_m(t,s),n=n2(e,t,n,r,o,s),r=r2(),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dh(e,t,s)):(Bi&&r&&$S(t),t.flags|=1,oa(e,t,n,s),t.child)}function rE(e,t,n,r,s){if(Na(n)){var o=!0;Ey(t)}else o=!1;if(_m(t,s),t.stateNode===null)ay(e,t),Zk(t,n,r),Nb(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var f=l.context,m=n.contextType;typeof m=="object"&&m!==null?m=Fc(m):(m=Na(n)?Gf:Ko.current,m=Tm(t,m));var v=n.getDerivedStateFromProps,b=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function";b||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||f!==m)&&YT(t,l,r,m),ud=!1;var x=t.memoizedState;l.state=x,Ay(t,r,l,s),f=t.memoizedState,u!==r||x!==f||Oa.current||ud?(typeof v=="function"&&(Ob(t,n,v,r),f=t.memoizedState),(u=ud||GT(t,n,u,r,x,f,m))?(b||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),l.props=r,l.state=f,l.context=m,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Kk(e,t),u=t.memoizedProps,m=t.type===t.elementType?u:il(t.type,u),l.props=m,b=t.pendingProps,x=l.context,f=n.contextType,typeof f=="object"&&f!==null?f=Fc(f):(f=Na(n)?Gf:Ko.current,f=Tm(t,f));var O=n.getDerivedStateFromProps;(v=typeof O=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==b||x!==f)&&YT(t,l,r,f),ud=!1,x=t.memoizedState,l.state=x,Ay(t,r,l,s);var T=t.memoizedState;u!==b||x!==T||Oa.current||ud?(typeof O=="function"&&(Ob(t,n,O,r),T=t.memoizedState),(m=ud||GT(t,n,m,r,x,T,f)||!1)?(v||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,T,f),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,T,f)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),l.props=r,l.state=T,l.context=f,r=m):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Db(e,t,n,r,o,s)}function Db(e,t,n,r,s,o){E6(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&zT(t,n,!1),dh(e,t,o);r=t.stateNode,w7.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Cm(t,e.child,null,o),t.child=Cm(t,null,u,o)):oa(e,t,u,o),t.memoizedState=r.state,s&&zT(t,n,!0),t.child}function C6(e){var t=e.stateNode;t.pendingContext?VT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&VT(e,t.context,!1),ZS(e,t.containerInfo)}function iE(e,t,n,r,s){return Em(),WS(s),t.flags|=256,oa(e,t,n,r),t.child}var Rb={dehydrated:null,treeContext:null,retryLane:0};function Pb(e){return{baseLanes:e,cachePool:null,transitions:null}}function k6(e,t,n){var r=t.pendingProps,s=Xi.current,o=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ei(Xi,s&1),e===null)return Cb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=f1(l,r,0,null),e=zf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Pb(n),t.memoizedState=Rb,e):o2(t,l));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return b7(e,t,l,r,u,s,n);if(o){o=r.fallback,l=t.mode,s=e.child,u=s.sibling;var f={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=xd(s,f),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=xd(u,o):(o=zf(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Pb(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Rb,r}return o=e.child,e=o.sibling,r=xd(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function o2(e,t){return t=f1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ov(e,t,n,r){return r!==null&&WS(r),Cm(t,e.child,null,n),e=o2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function b7(e,t,n,r,s,o,l){if(n)return t.flags&256?(t.flags&=-257,r=ow(Error(Bt(422))),Ov(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=f1({mode:"visible",children:r.children},s,0,null),o=zf(o,s,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Cm(t,e.child,null,l),t.child.memoizedState=Pb(l),t.memoizedState=Rb,o);if(!(t.mode&1))return Ov(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(Bt(419)),r=ow(o,r,void 0),Ov(e,t,l,r)}if(u=(l&e.childLanes)!==0,Ca||u){if(r=so,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,hh(e,s),ll(r,e,s,-1))}return d2(),r=ow(Error(Bt(421))),Ov(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=P7.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Ja=_d(s.nextSibling),tc=t,Bi=!0,ol=null,e!==null&&(Ac[Mc++]=eh,Ac[Mc++]=th,Ac[Mc++]=Yf,eh=e.id,th=e.overflow,Yf=t),t=o2(t,r.children),t.flags|=4096,t)}function sE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kb(e.return,t,n)}function aw(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function O6(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(oa(e,t,r.children,n),r=Xi.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sE(e,n,t);else if(e.tag===19)sE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Xi,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&My(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),aw(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&My(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}aw(t,!0,n,null,o);break;case"together":aw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ay(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dh(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kf|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Bt(153));if(t.child!==null){for(e=t.child,n=xd(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xd(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function S7(e,t,n){switch(t.tag){case 3:C6(t),Em();break;case 5:t6(t);break;case 1:Na(t.type)&&Ey(t);break;case 4:ZS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ei(Oy,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ei(Xi,Xi.current&1),t.flags|=128,null):n&t.child.childLanes?k6(e,t,n):(Ei(Xi,Xi.current&1),e=dh(e,t,n),e!==null?e.sibling:null);Ei(Xi,Xi.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return O6(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ei(Xi,Xi.current),r)break;return null;case 22:case 23:return t.lanes=0,T6(e,t,n)}return dh(e,t,n)}var N6,Ib,A6,M6;N6=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ib=function(){};A6=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Lf(tu.current);var o=null;switch(n){case"input":s=rb(e,s),r=rb(e,r),o=[];break;case"select":s=Ji({},s,{value:void 0}),r=Ji({},r,{value:void 0}),o=[];break;case"textarea":s=ob(e,s),r=ob(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xy)}cb(n,r);var l;n=null;for(m in s)if(!r.hasOwnProperty(m)&&s.hasOwnProperty(m)&&s[m]!=null)if(m==="style"){var u=s[m];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Zg.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in r){var f=r[m];if(u=s!=null?s[m]:void 0,r.hasOwnProperty(m)&&f!==u&&(f!=null||u!=null))if(m==="style")if(u){for(l in u)!u.hasOwnProperty(l)||f&&f.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in f)f.hasOwnProperty(l)&&u[l]!==f[l]&&(n||(n={}),n[l]=f[l])}else n||(o||(o=[]),o.push(m,n)),n=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,u=u?u.__html:void 0,f!=null&&u!==f&&(o=o||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Zg.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&Pi("scroll",e),o||u===f||(o=[])):(o=o||[]).push(m,f))}n&&(o=o||[]).push("style",n);var m=o;(t.updateQueue=m)&&(t.flags|=4)}};M6=function(e,t,n,r){n!==r&&(t.flags|=4)};function Tg(e,t){if(!Bi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function x7(e,t,n){var r=t.pendingProps;switch(qS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:return Na(t.type)&&Ty(),Wo(t),null;case 3:return r=t.stateNode,km(),Ii(Oa),Ii(Ko),e2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ol!==null&&(Hb(ol),ol=null))),Ib(e,t),Wo(t),null;case 5:JS(t);var s=Lf(u0.current);if(n=t.type,e!==null&&t.stateNode!=null)A6(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Bt(166));return Wo(t),null}if(e=Lf(tu.current),Cv(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Zl]=t,r[c0]=o,e=(t.mode&1)!==0,n){case"dialog":Pi("cancel",r),Pi("close",r);break;case"iframe":case"object":case"embed":Pi("load",r);break;case"video":case"audio":for(s=0;s<Dg.length;s++)Pi(Dg[s],r);break;case"source":Pi("error",r);break;case"img":case"image":case"link":Pi("error",r),Pi("load",r);break;case"details":Pi("toggle",r);break;case"input":pT(r,o),Pi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Pi("invalid",r);break;case"textarea":gT(r,o),Pi("invalid",r)}cb(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Ev(r.textContent,u,e),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Ev(r.textContent,u,e),s=["children",""+u]):Zg.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Pi("scroll",r)}switch(n){case"input":vv(r),mT(r,o,!0);break;case"textarea":vv(r),vT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xy)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ik(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Zl]=t,e[c0]=r,N6(e,t,!1,!1),t.stateNode=e;e:{switch(l=lb(n,r),n){case"dialog":Pi("cancel",e),Pi("close",e),s=r;break;case"iframe":case"object":case"embed":Pi("load",e),s=r;break;case"video":case"audio":for(s=0;s<Dg.length;s++)Pi(Dg[s],e);s=r;break;case"source":Pi("error",e),s=r;break;case"img":case"image":case"link":Pi("error",e),Pi("load",e),s=r;break;case"details":Pi("toggle",e),s=r;break;case"input":pT(e,r),s=rb(e,r),Pi("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ji({},r,{value:void 0}),Pi("invalid",e);break;case"textarea":gT(e,r),s=ob(e,r),Pi("invalid",e);break;default:s=r}cb(n,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var f=u[o];o==="style"?ak(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&sk(e,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Jg(e,f):typeof f=="number"&&Jg(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Zg.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Pi("scroll",e):f!=null&&AS(e,o,f,l))}switch(n){case"input":vv(e),mT(e,r,!1);break;case"textarea":vv(e),vT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ad(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?mm(e,!!r.multiple,o,!1):r.defaultValue!=null&&mm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&t.stateNode!=null)M6(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Bt(166));if(n=Lf(u0.current),Lf(tu.current),Cv(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zl]=t,(o=r.nodeValue!==n)&&(e=tc,e!==null))switch(e.tag){case 3:Ev(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ev(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zl]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ii(Xi),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Bi&&Ja!==null&&t.mode&1&&!(t.flags&128))Yk(),Em(),t.flags|=98560,o=!1;else if(o=Cv(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Bt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Bt(317));o[Zl]=t}else Em(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wo(t),o=!1}else ol!==null&&(Hb(ol),ol=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xi.current&1?Ws===0&&(Ws=3):d2())),t.updateQueue!==null&&(t.flags|=4),Wo(t),null);case 4:return km(),Ib(e,t),e===null&&o0(t.stateNode.containerInfo),Wo(t),null;case 10:return QS(t.type._context),Wo(t),null;case 17:return Na(t.type)&&Ty(),Wo(t),null;case 19:if(Ii(Xi),o=t.memoizedState,o===null)return Wo(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Tg(o,!1);else{if(Ws!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=My(e),l!==null){for(t.flags|=128,Tg(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(Xi,Xi.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ss()>Nm&&(t.flags|=128,r=!0,Tg(o,!1),t.lanes=4194304)}else{if(!r)if(e=My(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Tg(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Bi)return Wo(t),null}else 2*Ss()-o.renderingStartTime>Nm&&n!==1073741824&&(t.flags|=128,r=!0,Tg(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ss(),t.sibling=null,n=Xi.current,Ei(Xi,r?n&1|2:n&1),t):(Wo(t),null);case 22:case 23:return h2(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Za&1073741824&&(Wo(t),t.subtreeFlags&6&&(t.flags|=8192)):Wo(t),null;case 24:return null;case 25:return null}throw Error(Bt(156,t.tag))}function T7(e,t){switch(qS(t),t.tag){case 1:return Na(t.type)&&Ty(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return km(),Ii(Oa),Ii(Ko),e2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return JS(t),null;case 13:if(Ii(Xi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Bt(340));Em()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ii(Xi),null;case 4:return km(),null;case 10:return QS(t.type._context),null;case 22:case 23:return h2(),null;case 24:return null;default:return null}}var Nv=!1,Go=!1,E7=typeof WeakSet=="function"?WeakSet:Set,ln=null;function um(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){cs(e,t,r)}else n.current=null}function Lb(e,t,n){try{n()}catch(r){cs(e,t,r)}}var oE=!1;function C7(e,t){if(_b=wy,e=Ik(),HS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,f=-1,m=0,v=0,b=e,x=null;t:for(;;){for(var O;b!==n||s!==0&&b.nodeType!==3||(u=l+s),b!==o||r!==0&&b.nodeType!==3||(f=l+r),b.nodeType===3&&(l+=b.nodeValue.length),(O=b.firstChild)!==null;)x=b,b=O;for(;;){if(b===e)break t;if(x===n&&++m===s&&(u=l),x===o&&++v===r&&(f=l),(O=b.nextSibling)!==null)break;b=x,x=b.parentNode}b=O}n=u===-1||f===-1?null:{start:u,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(wb={focusedElem:e,selectionRange:n},wy=!1,ln=t;ln!==null;)if(t=ln,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ln=e;else for(;ln!==null;){t=ln;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var D=T.memoizedProps,M=T.memoizedState,C=t.stateNode,R=C.getSnapshotBeforeUpdate(t.elementType===t.type?D:il(t.type,D),M);C.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Bt(163))}}catch(H){cs(t,t.return,H)}if(e=t.sibling,e!==null){e.return=t.return,ln=e;break}ln=t.return}return T=oE,oE=!1,T}function zg(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Lb(t,n,o)}s=s.next}while(s!==r)}}function h1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function D6(e){var t=e.alternate;t!==null&&(e.alternate=null,D6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zl],delete t[c0],delete t[xb],delete t[c7],delete t[l7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R6(e){return e.tag===5||e.tag===3||e.tag===4}function aE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xy));else if(r!==4&&(e=e.child,e!==null))for(jb(e,t,n),e=e.sibling;e!==null;)jb(e,t,n),e=e.sibling}function Ub(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ub(e,t,n),e=e.sibling;e!==null;)Ub(e,t,n),e=e.sibling}var bo=null,sl=!1;function sd(e,t,n){for(n=n.child;n!==null;)P6(e,t,n),n=n.sibling}function P6(e,t,n){if(eu&&typeof eu.onCommitFiberUnmount=="function")try{eu.onCommitFiberUnmount(r1,n)}catch{}switch(n.tag){case 5:Go||um(n,t);case 6:var r=bo,s=sl;bo=null,sd(e,t,n),bo=r,sl=s,bo!==null&&(sl?(e=bo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bo.removeChild(n.stateNode));break;case 18:bo!==null&&(sl?(e=bo,n=n.stateNode,e.nodeType===8?ew(e.parentNode,n):e.nodeType===1&&ew(e,n),r0(e)):ew(bo,n.stateNode));break;case 4:r=bo,s=sl,bo=n.stateNode.containerInfo,sl=!0,sd(e,t,n),bo=r,sl=s;break;case 0:case 11:case 14:case 15:if(!Go&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Lb(n,t,l),s=s.next}while(s!==r)}sd(e,t,n);break;case 1:if(!Go&&(um(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){cs(n,t,u)}sd(e,t,n);break;case 21:sd(e,t,n);break;case 22:n.mode&1?(Go=(r=Go)||n.memoizedState!==null,sd(e,t,n),Go=r):sd(e,t,n);break;default:sd(e,t,n)}}function cE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new E7),t.forEach(function(r){var s=I7.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:bo=u.stateNode,sl=!1;break e;case 3:bo=u.stateNode.containerInfo,sl=!0;break e;case 4:bo=u.stateNode.containerInfo,sl=!0;break e}u=u.return}if(bo===null)throw Error(Bt(160));P6(o,l,s),bo=null,sl=!1;var f=s.alternate;f!==null&&(f.return=null),s.return=null}catch(m){cs(s,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)I6(t,e),t=t.sibling}function I6(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rl(t,e),Yl(e),r&4){try{zg(3,e,e.return),h1(3,e)}catch(D){cs(e,e.return,D)}try{zg(5,e,e.return)}catch(D){cs(e,e.return,D)}}break;case 1:rl(t,e),Yl(e),r&512&&n!==null&&um(n,n.return);break;case 5:if(rl(t,e),Yl(e),r&512&&n!==null&&um(n,n.return),e.flags&32){var s=e.stateNode;try{Jg(s,"")}catch(D){cs(e,e.return,D)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,u=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&nk(s,o),lb(u,l);var m=lb(u,o);for(l=0;l<f.length;l+=2){var v=f[l],b=f[l+1];v==="style"?ak(s,b):v==="dangerouslySetInnerHTML"?sk(s,b):v==="children"?Jg(s,b):AS(s,v,b,m)}switch(u){case"input":ib(s,o);break;case"textarea":rk(s,o);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var O=o.value;O!=null?mm(s,!!o.multiple,O,!1):x!==!!o.multiple&&(o.defaultValue!=null?mm(s,!!o.multiple,o.defaultValue,!0):mm(s,!!o.multiple,o.multiple?[]:"",!1))}s[c0]=o}catch(D){cs(e,e.return,D)}}break;case 6:if(rl(t,e),Yl(e),r&4){if(e.stateNode===null)throw Error(Bt(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(D){cs(e,e.return,D)}}break;case 3:if(rl(t,e),Yl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{r0(t.containerInfo)}catch(D){cs(e,e.return,D)}break;case 4:rl(t,e),Yl(e);break;case 13:rl(t,e),Yl(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(l2=Ss())),r&4&&cE(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(Go=(m=Go)||v,rl(t,e),Go=m):rl(t,e),Yl(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!v&&e.mode&1)for(ln=e,v=e.child;v!==null;){for(b=ln=v;ln!==null;){switch(x=ln,O=x.child,x.tag){case 0:case 11:case 14:case 15:zg(4,x,x.return);break;case 1:um(x,x.return);var T=x.stateNode;if(typeof T.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(D){cs(r,n,D)}}break;case 5:um(x,x.return);break;case 22:if(x.memoizedState!==null){uE(b);continue}}O!==null?(O.return=x,ln=O):uE(b)}v=v.sibling}e:for(v=null,b=e;;){if(b.tag===5){if(v===null){v=b;try{s=b.stateNode,m?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=b.stateNode,f=b.memoizedProps.style,l=f!=null&&f.hasOwnProperty("display")?f.display:null,u.style.display=ok("display",l))}catch(D){cs(e,e.return,D)}}}else if(b.tag===6){if(v===null)try{b.stateNode.nodeValue=m?"":b.memoizedProps}catch(D){cs(e,e.return,D)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;v===b&&(v=null),b=b.return}v===b&&(v=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:rl(t,e),Yl(e),r&4&&cE(e);break;case 21:break;default:rl(t,e),Yl(e)}}function Yl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(R6(n)){var r=n;break e}n=n.return}throw Error(Bt(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Jg(s,""),r.flags&=-33);var o=aE(e);Ub(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,u=aE(e);jb(e,u,l);break;default:throw Error(Bt(161))}}catch(f){cs(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function k7(e,t,n){ln=e,L6(e)}function L6(e,t,n){for(var r=(e.mode&1)!==0;ln!==null;){var s=ln,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Nv;if(!l){var u=s.alternate,f=u!==null&&u.memoizedState!==null||Go;u=Nv;var m=Go;if(Nv=l,(Go=f)&&!m)for(ln=s;ln!==null;)l=ln,f=l.child,l.tag===22&&l.memoizedState!==null?hE(s):f!==null?(f.return=l,ln=f):hE(s);for(;o!==null;)ln=o,L6(o),o=o.sibling;ln=s,Nv=u,Go=m}lE(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ln=o):lE(e)}}function lE(e){for(;ln!==null;){var t=ln;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Go||h1(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Go)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:il(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&WT(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}WT(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var b=v.dehydrated;b!==null&&r0(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Bt(163))}Go||t.flags&512&&Fb(t)}catch(x){cs(t,t.return,x)}}if(t===e){ln=null;break}if(n=t.sibling,n!==null){n.return=t.return,ln=n;break}ln=t.return}}function uE(e){for(;ln!==null;){var t=ln;if(t===e){ln=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ln=n;break}ln=t.return}}function hE(e){for(;ln!==null;){var t=ln;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{h1(4,t)}catch(f){cs(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(f){cs(t,s,f)}}var o=t.return;try{Fb(t)}catch(f){cs(t,o,f)}break;case 5:var l=t.return;try{Fb(t)}catch(f){cs(t,l,f)}}}catch(f){cs(t,t.return,f)}if(t===e){ln=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ln=u;break}ln=t.return}}var O7=Math.ceil,Py=wh.ReactCurrentDispatcher,a2=wh.ReactCurrentOwner,Ic=wh.ReactCurrentBatchConfig,Hr=0,so=null,Ps=null,xo=0,Za=0,hm=jd(0),Ws=0,p0=null,Kf=0,d1=0,c2=0,Hg=null,Ta=null,l2=0,Nm=1/0,Zu=null,Iy=!1,Bb=null,bd=null,Av=!1,pd=null,Ly=0,$g=0,Vb=null,cy=-1,ly=0;function aa(){return Hr&6?Ss():cy!==-1?cy:cy=Ss()}function Sd(e){return e.mode&1?Hr&2&&xo!==0?xo&-xo:h7.transition!==null?(ly===0&&(ly=_k()),ly):(e=ai,e!==0||(e=window.event,e=e===void 0?16:Ck(e.type)),e):1}function ll(e,t,n,r){if(50<$g)throw $g=0,Vb=null,Error(Bt(185));D0(e,n,r),(!(Hr&2)||e!==so)&&(e===so&&(!(Hr&2)&&(d1|=n),Ws===4&&dd(e,xo)),Aa(e,r),n===1&&Hr===0&&!(t.mode&1)&&(Nm=Ss()+500,c1&&Ud()))}function Aa(e,t){var n=e.callbackNode;hP(e,t);var r=_y(e,e===so?xo:0);if(r===0)n!==null&&wT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&wT(n),t===1)e.tag===0?u7(dE.bind(null,e)):qk(dE.bind(null,e)),o7(function(){!(Hr&6)&&Ud()}),n=null;else{switch(wk(r)){case 1:n=IS;break;case 4:n=vk;break;case 16:n=yy;break;case 536870912:n=yk;break;default:n=yy}n=$6(n,F6.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function F6(e,t){if(cy=-1,ly=0,Hr&6)throw Error(Bt(327));var n=e.callbackNode;if(wm()&&e.callbackNode!==n)return null;var r=_y(e,e===so?xo:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fy(e,r);else{t=r;var s=Hr;Hr|=2;var o=U6();(so!==e||xo!==t)&&(Zu=null,Nm=Ss()+500,Vf(e,t));do try{M7();break}catch(u){j6(e,u)}while(1);YS(),Py.current=o,Hr=s,Ps!==null?t=0:(so=null,xo=0,t=Ws)}if(t!==0){if(t===2&&(s=pb(e),s!==0&&(r=s,t=zb(e,s))),t===1)throw n=p0,Vf(e,0),dd(e,r),Aa(e,Ss()),n;if(t===6)dd(e,r);else{if(s=e.current.alternate,!(r&30)&&!N7(s)&&(t=Fy(e,r),t===2&&(o=pb(e),o!==0&&(r=o,t=zb(e,o))),t===1))throw n=p0,Vf(e,0),dd(e,r),Aa(e,Ss()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Bt(345));case 2:Mf(e,Ta,Zu);break;case 3:if(dd(e,r),(r&130023424)===r&&(t=l2+500-Ss(),10<t)){if(_y(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){aa(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Sb(Mf.bind(null,e,Ta,Zu),t);break}Mf(e,Ta,Zu);break;case 4:if(dd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-cl(r);o=1<<l,l=t[l],l>s&&(s=l),r&=~o}if(r=s,r=Ss()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O7(r/1960))-r,10<r){e.timeoutHandle=Sb(Mf.bind(null,e,Ta,Zu),r);break}Mf(e,Ta,Zu);break;case 5:Mf(e,Ta,Zu);break;default:throw Error(Bt(329))}}}return Aa(e,Ss()),e.callbackNode===n?F6.bind(null,e):null}function zb(e,t){var n=Hg;return e.current.memoizedState.isDehydrated&&(Vf(e,t).flags|=256),e=Fy(e,t),e!==2&&(t=Ta,Ta=n,t!==null&&Hb(t)),e}function Hb(e){Ta===null?Ta=e:Ta.push.apply(Ta,e)}function N7(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!dl(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dd(e,t){for(t&=~c2,t&=~d1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cl(t),r=1<<n;e[n]=-1,t&=~r}}function dE(e){if(Hr&6)throw Error(Bt(327));wm();var t=_y(e,0);if(!(t&1))return Aa(e,Ss()),null;var n=Fy(e,t);if(e.tag!==0&&n===2){var r=pb(e);r!==0&&(t=r,n=zb(e,r))}if(n===1)throw n=p0,Vf(e,0),dd(e,t),Aa(e,Ss()),n;if(n===6)throw Error(Bt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mf(e,Ta,Zu),Aa(e,Ss()),null}function u2(e,t){var n=Hr;Hr|=1;try{return e(t)}finally{Hr=n,Hr===0&&(Nm=Ss()+500,c1&&Ud())}}function Xf(e){pd!==null&&pd.tag===0&&!(Hr&6)&&wm();var t=Hr;Hr|=1;var n=Ic.transition,r=ai;try{if(Ic.transition=null,ai=1,e)return e()}finally{ai=r,Ic.transition=n,Hr=t,!(Hr&6)&&Ud()}}function h2(){Za=hm.current,Ii(hm)}function Vf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,s7(n)),Ps!==null)for(n=Ps.return;n!==null;){var r=n;switch(qS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ty();break;case 3:km(),Ii(Oa),Ii(Ko),e2();break;case 5:JS(r);break;case 4:km();break;case 13:Ii(Xi);break;case 19:Ii(Xi);break;case 10:QS(r.type._context);break;case 22:case 23:h2()}n=n.return}if(so=e,Ps=e=xd(e.current,null),xo=Za=t,Ws=0,p0=null,c2=d1=Kf=0,Ta=Hg=null,If!==null){for(t=0;t<If.length;t++)if(n=If[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}If=null}return e}function j6(e,t){do{var n=Ps;try{if(YS(),sy.current=Ry,Dy){for(var r=Zi.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dy=!1}if(Qf=0,ro=qs=Zi=null,Vg=!1,h0=0,a2.current=null,n===null||n.return===null){Ws=1,p0=t,Ps=null;break}e:{var o=e,l=n.return,u=n,f=t;if(t=xo,u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,v=u,b=v.tag;if(!(v.mode&1)&&(b===0||b===11||b===15)){var x=v.alternate;x?(v.updateQueue=x.updateQueue,v.memoizedState=x.memoizedState,v.lanes=x.lanes):(v.updateQueue=null,v.memoizedState=null)}var O=JT(l);if(O!==null){O.flags&=-257,eE(O,l,u,o,t),O.mode&1&&ZT(o,m,t),t=O,f=m;var T=t.updateQueue;if(T===null){var D=new Set;D.add(f),t.updateQueue=D}else T.add(f);break e}else{if(!(t&1)){ZT(o,m,t),d2();break e}f=Error(Bt(426))}}else if(Bi&&u.mode&1){var M=JT(l);if(M!==null){!(M.flags&65536)&&(M.flags|=256),eE(M,l,u,o,t),WS(Om(f,u));break e}}o=f=Om(f,u),Ws!==4&&(Ws=2),Hg===null?Hg=[o]:Hg.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var C=b6(o,f,t);qT(o,C);break e;case 1:u=f;var R=o.type,j=o.stateNode;if(!(o.flags&128)&&(typeof R.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(bd===null||!bd.has(j)))){o.flags|=65536,t&=-t,o.lanes|=t;var H=S6(o,u,t);qT(o,H);break e}}o=o.return}while(o!==null)}V6(n)}catch(F){t=F,Ps===n&&n!==null&&(Ps=n=n.return);continue}break}while(1)}function U6(){var e=Py.current;return Py.current=Ry,e===null?Ry:e}function d2(){(Ws===0||Ws===3||Ws===2)&&(Ws=4),so===null||!(Kf&268435455)&&!(d1&268435455)||dd(so,xo)}function Fy(e,t){var n=Hr;Hr|=2;var r=U6();(so!==e||xo!==t)&&(Zu=null,Vf(e,t));do try{A7();break}catch(s){j6(e,s)}while(1);if(YS(),Hr=n,Py.current=r,Ps!==null)throw Error(Bt(261));return so=null,xo=0,Ws}function A7(){for(;Ps!==null;)B6(Ps)}function M7(){for(;Ps!==null&&!nP();)B6(Ps)}function B6(e){var t=H6(e.alternate,e,Za);e.memoizedProps=e.pendingProps,t===null?V6(e):Ps=t,a2.current=null}function V6(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=T7(n,t),n!==null){n.flags&=32767,Ps=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ws=6,Ps=null;return}}else if(n=x7(n,t,Za),n!==null){Ps=n;return}if(t=t.sibling,t!==null){Ps=t;return}Ps=t=e}while(t!==null);Ws===0&&(Ws=5)}function Mf(e,t,n){var r=ai,s=Ic.transition;try{Ic.transition=null,ai=1,D7(e,t,n,r)}finally{Ic.transition=s,ai=r}return null}function D7(e,t,n,r){do wm();while(pd!==null);if(Hr&6)throw Error(Bt(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Bt(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(dP(e,o),e===so&&(Ps=so=null,xo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Av||(Av=!0,$6(yy,function(){return wm(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ic.transition,Ic.transition=null;var l=ai;ai=1;var u=Hr;Hr|=4,a2.current=null,C7(e,n),I6(n,e),ZP(wb),wy=!!_b,wb=_b=null,e.current=n,k7(n),rP(),Hr=u,ai=l,Ic.transition=o}else e.current=n;if(Av&&(Av=!1,pd=e,Ly=s),o=e.pendingLanes,o===0&&(bd=null),oP(n.stateNode),Aa(e,Ss()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Iy)throw Iy=!1,e=Bb,Bb=null,e;return Ly&1&&e.tag!==0&&wm(),o=e.pendingLanes,o&1?e===Vb?$g++:($g=0,Vb=e):$g=0,Ud(),null}function wm(){if(pd!==null){var e=wk(Ly),t=Ic.transition,n=ai;try{if(Ic.transition=null,ai=16>e?16:e,pd===null)var r=!1;else{if(e=pd,pd=null,Ly=0,Hr&6)throw Error(Bt(331));var s=Hr;for(Hr|=4,ln=e.current;ln!==null;){var o=ln,l=o.child;if(ln.flags&16){var u=o.deletions;if(u!==null){for(var f=0;f<u.length;f++){var m=u[f];for(ln=m;ln!==null;){var v=ln;switch(v.tag){case 0:case 11:case 15:zg(8,v,o)}var b=v.child;if(b!==null)b.return=v,ln=b;else for(;ln!==null;){v=ln;var x=v.sibling,O=v.return;if(D6(v),v===m){ln=null;break}if(x!==null){x.return=O,ln=x;break}ln=O}}}var T=o.alternate;if(T!==null){var D=T.child;if(D!==null){T.child=null;do{var M=D.sibling;D.sibling=null,D=M}while(D!==null)}}ln=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,ln=l;else e:for(;ln!==null;){if(o=ln,o.flags&2048)switch(o.tag){case 0:case 11:case 15:zg(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,ln=C;break e}ln=o.return}}var R=e.current;for(ln=R;ln!==null;){l=ln;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,ln=j;else e:for(l=R;ln!==null;){if(u=ln,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:h1(9,u)}}catch(F){cs(u,u.return,F)}if(u===l){ln=null;break e}var H=u.sibling;if(H!==null){H.return=u.return,ln=H;break e}ln=u.return}}if(Hr=s,Ud(),eu&&typeof eu.onPostCommitFiberRoot=="function")try{eu.onPostCommitFiberRoot(r1,e)}catch{}r=!0}return r}finally{ai=n,Ic.transition=t}}return!1}function fE(e,t,n){t=Om(n,t),t=b6(e,t,1),e=wd(e,t,1),t=aa(),e!==null&&(D0(e,1,t),Aa(e,t))}function cs(e,t,n){if(e.tag===3)fE(e,e,n);else for(;t!==null;){if(t.tag===3){fE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bd===null||!bd.has(r))){e=Om(n,e),e=S6(t,e,1),t=wd(t,e,1),e=aa(),t!==null&&(D0(t,1,e),Aa(t,e));break}}t=t.return}}function R7(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=aa(),e.pingedLanes|=e.suspendedLanes&n,so===e&&(xo&n)===n&&(Ws===4||Ws===3&&(xo&130023424)===xo&&500>Ss()-l2?Vf(e,0):c2|=n),Aa(e,t)}function z6(e,t){t===0&&(e.mode&1?(t=wv,wv<<=1,!(wv&130023424)&&(wv=4194304)):t=1);var n=aa();e=hh(e,t),e!==null&&(D0(e,t,n),Aa(e,n))}function P7(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),z6(e,n)}function I7(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Bt(314))}r!==null&&r.delete(t),z6(e,n)}var H6;H6=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oa.current)Ca=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ca=!1,S7(e,t,n);Ca=!!(e.flags&131072)}else Ca=!1,Bi&&t.flags&1048576&&Wk(t,ky,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ay(e,t),e=t.pendingProps;var s=Tm(t,Ko.current);_m(t,n),s=n2(null,t,r,e,s,n);var o=r2();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Na(r)?(o=!0,Ey(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,XS(t),s.updater=l1,t.stateNode=s,s._reactInternals=t,Nb(t,r,e,n),t=Db(null,t,r,!0,o,n)):(t.tag=0,Bi&&o&&$S(t),oa(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ay(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=F7(r),e=il(r,e),s){case 0:t=Mb(null,t,r,e,n);break e;case 1:t=rE(null,t,r,e,n);break e;case 11:t=tE(null,t,r,e,n);break e;case 14:t=nE(null,t,r,il(r.type,e),n);break e}throw Error(Bt(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:il(r,s),Mb(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:il(r,s),rE(e,t,r,s,n);case 3:e:{if(C6(t),e===null)throw Error(Bt(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Kk(e,t),Ay(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Om(Error(Bt(423)),t),t=iE(e,t,r,n,s);break e}else if(r!==s){s=Om(Error(Bt(424)),t),t=iE(e,t,r,n,s);break e}else for(Ja=_d(t.stateNode.containerInfo.firstChild),tc=t,Bi=!0,ol=null,n=e6(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Em(),r===s){t=dh(e,t,n);break e}oa(e,t,r,n)}t=t.child}return t;case 5:return t6(t),e===null&&Cb(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,bb(r,s)?l=null:o!==null&&bb(r,o)&&(t.flags|=32),E6(e,t),oa(e,t,l,n),t.child;case 6:return e===null&&Cb(t),null;case 13:return k6(e,t,n);case 4:return ZS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cm(t,null,r,n):oa(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:il(r,s),tE(e,t,r,s,n);case 7:return oa(e,t,t.pendingProps,n),t.child;case 8:return oa(e,t,t.pendingProps.children,n),t.child;case 12:return oa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,Ei(Oy,r._currentValue),r._currentValue=l,o!==null)if(dl(o.value,l)){if(o.children===s.children&&!Oa.current){t=dh(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var f=u.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=sh(-1,n&-n),f.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?f.next=f:(f.next=v.next,v.next=f),m.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),kb(o.return,n,t),u.lanes|=n;break}f=f.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(Bt(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),kb(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}oa(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,_m(t,n),s=Fc(s),r=r(s),t.flags|=1,oa(e,t,r,n),t.child;case 14:return r=t.type,s=il(r,t.pendingProps),s=il(r.type,s),nE(e,t,r,s,n);case 15:return x6(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:il(r,s),ay(e,t),t.tag=1,Na(r)?(e=!0,Ey(t)):e=!1,_m(t,n),Zk(t,r,s),Nb(t,r,s,n),Db(null,t,r,!0,e,n);case 19:return O6(e,t,n);case 22:return T6(e,t,n)}throw Error(Bt(156,t.tag))};function $6(e,t){return gk(e,t)}function L7(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new L7(e,t,n,r)}function f2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F7(e){if(typeof e=="function")return f2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===DS)return 11;if(e===RS)return 14}return 2}function xd(e,t){var n=e.alternate;return n===null?(n=Pc(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function uy(e,t,n,r,s,o){var l=2;if(r=e,typeof e=="function")f2(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case tm:return zf(n.children,s,o,t);case MS:l=8,s|=8;break;case Jw:return e=Pc(12,n,t,s|2),e.elementType=Jw,e.lanes=o,e;case eb:return e=Pc(13,n,t,s),e.elementType=eb,e.lanes=o,e;case tb:return e=Pc(19,n,t,s),e.elementType=tb,e.lanes=o,e;case JC:return f1(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case XC:l=10;break e;case ZC:l=9;break e;case DS:l=11;break e;case RS:l=14;break e;case ld:l=16,r=null;break e}throw Error(Bt(130,e==null?e:typeof e,""))}return t=Pc(l,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function zf(e,t,n,r){return e=Pc(7,e,r,t),e.lanes=n,e}function f1(e,t,n,r){return e=Pc(22,e,r,t),e.elementType=JC,e.lanes=n,e.stateNode={isHidden:!1},e}function cw(e,t,n){return e=Pc(6,e,null,t),e.lanes=n,e}function lw(e,t,n){return t=Pc(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j7(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=H_(0),this.expirationTimes=H_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H_(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function p2(e,t,n,r,s,o,l,u,f){return e=new j7(e,t,n,u,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},XS(o),e}function U7(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:em,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function q6(e){if(!e)return Md;e=e._reactInternals;e:{if(sp(e)!==e||e.tag!==1)throw Error(Bt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Na(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Bt(171))}if(e.tag===1){var n=e.type;if(Na(n))return $k(e,n,t)}return t}function W6(e,t,n,r,s,o,l,u,f){return e=p2(n,r,!0,e,s,o,l,u,f),e.context=q6(null),n=e.current,r=aa(),s=Sd(n),o=sh(r,s),o.callback=t??null,wd(n,o,s),e.current.lanes=s,D0(e,s,r),Aa(e,r),e}function p1(e,t,n,r){var s=t.current,o=aa(),l=Sd(s);return n=q6(n),t.context===null?t.context=n:t.pendingContext=n,t=sh(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wd(s,t,l),e!==null&&(ll(e,s,l,o),iy(e,s,l)),l}function jy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function m2(e,t){pE(e,t),(e=e.alternate)&&pE(e,t)}function B7(){return null}var G6=typeof reportError=="function"?reportError:function(e){console.error(e)};function g2(e){this._internalRoot=e}m1.prototype.render=g2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Bt(409));p1(e,t,null,null)};m1.prototype.unmount=g2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xf(function(){p1(null,e,null,null)}),t[uh]=null}};function m1(e){this._internalRoot=e}m1.prototype.unstable_scheduleHydration=function(e){if(e){var t=xk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hd.length&&t!==0&&t<hd[n].priority;n++);hd.splice(n,0,e),n===0&&Ek(e)}};function v2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mE(){}function V7(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var m=jy(l);o.call(m)}}var l=W6(t,r,e,0,null,!1,!1,"",mE);return e._reactRootContainer=l,e[uh]=l.current,o0(e.nodeType===8?e.parentNode:e),Xf(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var m=jy(f);u.call(m)}}var f=p2(e,0,!1,null,null,!1,!1,"",mE);return e._reactRootContainer=f,e[uh]=f.current,o0(e.nodeType===8?e.parentNode:e),Xf(function(){p1(t,f,n,r)}),f}function v1(e,t,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var u=s;s=function(){var f=jy(l);u.call(f)}}p1(t,l,e,s)}else l=V7(n,t,e,s,r);return jy(l)}bk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mg(t.pendingLanes);n!==0&&(LS(t,n|1),Aa(t,Ss()),!(Hr&6)&&(Nm=Ss()+500,Ud()))}break;case 13:Xf(function(){var r=hh(e,1);if(r!==null){var s=aa();ll(r,e,1,s)}}),m2(e,1)}};FS=function(e){if(e.tag===13){var t=hh(e,134217728);if(t!==null){var n=aa();ll(t,e,134217728,n)}m2(e,134217728)}};Sk=function(e){if(e.tag===13){var t=Sd(e),n=hh(e,t);if(n!==null){var r=aa();ll(n,e,t,r)}m2(e,t)}};xk=function(){return ai};Tk=function(e,t){var n=ai;try{return ai=e,t()}finally{ai=n}};hb=function(e,t,n){switch(t){case"input":if(ib(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=a1(r);if(!s)throw Error(Bt(90));tk(r),ib(r,s)}}}break;case"textarea":rk(e,n);break;case"select":t=n.value,t!=null&&mm(e,!!n.multiple,t,!1)}};uk=u2;hk=Xf;var z7={usingClientEntryPoint:!1,Events:[P0,sm,a1,ck,lk,u2]},Eg={findFiberByHostInstance:Pf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},H7={bundleType:Eg.bundleType,version:Eg.version,rendererPackageName:Eg.rendererPackageName,rendererConfig:Eg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wh.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pk(e),e===null?null:e.stateNode},findFiberByHostInstance:Eg.findFiberByHostInstance||B7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mv.isDisabled&&Mv.supportsFiber)try{r1=Mv.inject(H7),eu=Mv}catch{}}ac.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z7;ac.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v2(t))throw Error(Bt(200));return U7(e,t,null,n)};ac.createRoot=function(e,t){if(!v2(e))throw Error(Bt(299));var n=!1,r="",s=G6;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=p2(e,1,!1,null,null,n,!1,r,s),e[uh]=t.current,o0(e.nodeType===8?e.parentNode:e),new g2(t)};ac.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Bt(188)):(e=Object.keys(e).join(","),Error(Bt(268,e)));return e=pk(t),e=e===null?null:e.stateNode,e};ac.flushSync=function(e){return Xf(e)};ac.hydrate=function(e,t,n){if(!g1(t))throw Error(Bt(200));return v1(null,e,t,!0,n)};ac.hydrateRoot=function(e,t,n){if(!v2(e))throw Error(Bt(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=G6;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=W6(t,null,e,1,n??null,s,!1,o,l),e[uh]=t.current,o0(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new m1(t)};ac.render=function(e,t,n){if(!g1(t))throw Error(Bt(200));return v1(null,e,t,!1,n)};ac.unmountComponentAtNode=function(e){if(!g1(e))throw Error(Bt(40));return e._reactRootContainer?(Xf(function(){v1(null,null,e,!1,function(){e._reactRootContainer=null,e[uh]=null})}),!0):!1};ac.unstable_batchedUpdates=u2;ac.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!g1(n))throw Error(Bt(200));if(e==null||e._reactInternals===void 0)throw Error(Bt(38));return v1(e,t,n,!1,r)};ac.version="18.2.0-next-9e3b772b8-20220608";function Y6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y6)}catch(e){console.error(e)}}Y6(),WC.exports=ac;var y1=WC.exports,gE=y1;Xw.createRoot=gE.createRoot,Xw.hydrateRoot=gE.hydrateRoot;var _1={},Q6={exports:{}},K6={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=he;function $7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var q7=typeof Object.is=="function"?Object.is:$7,W7=Am.useState,G7=Am.useEffect,Y7=Am.useLayoutEffect,Q7=Am.useDebugValue;function K7(e,t){var n=t(),r=W7({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return Y7(function(){s.value=n,s.getSnapshot=t,uw(s)&&o({inst:s})},[e,n,t]),G7(function(){return uw(s)&&o({inst:s}),e(function(){uw(s)&&o({inst:s})})},[e]),Q7(n),n}function uw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!q7(e,n)}catch{return!0}}function X7(e,t){return t()}var Z7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?X7:K7;K6.useSyncExternalStore=Am.useSyncExternalStore!==void 0?Am.useSyncExternalStore:Z7;Q6.exports=K6;var X6=Q6.exports,Z6={exports:{}},J6={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1=he,J7=X6;function eI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tI=typeof Object.is=="function"?Object.is:eI,nI=J7.useSyncExternalStore,rI=w1.useRef,iI=w1.useEffect,sI=w1.useMemo,oI=w1.useDebugValue;J6.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=rI(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=sI(function(){function f(O){if(!m){if(m=!0,v=O,O=r(O),s!==void 0&&l.hasValue){var T=l.value;if(s(T,O))return b=T}return b=O}if(T=b,tI(v,O))return T;var D=r(O);return s!==void 0&&s(T,D)?T:(v=O,b=D)}var m=!1,v,b,x=n===void 0?null:n;return[function(){return f(t())},x===null?void 0:function(){return f(x())}]},[t,n,r,s]);var u=nI(e,o[0],o[1]);return iI(function(){l.hasValue=!0,l.value=u},[u]),oI(u),u};Z6.exports=J6;var aI=Z6.exports,eO={};(function(e){e.__esModule=!0,Object.defineProperty(e,"unstable_batchedUpdates",{enumerable:!0,get:function(){return t.unstable_batchedUpdates}});var t=y1})(eO);var Zf={};Zf.__esModule=!0;Zf.getBatch=Zf.setBatch=void 0;function cI(e){e()}let tO=cI;const lI=e=>tO=e;Zf.setBatch=lI;const uI=()=>tO;Zf.getBatch=uI;var Dd={},b1={},Uc={};Uc.__esModule=!0;Uc.default=Uc.ReactReduxContext=void 0;var hI=he;const nO=(0,hI.createContext)(null);Uc.ReactReduxContext=nO;var dI=nO;Uc.default=dI;b1.__esModule=!0;b1.useReduxContext=mI;var fI=he,pI=Uc;function mI(){return(0,fI.useContext)(pI.ReactReduxContext)}var L0={};L0.__esModule=!0;L0.notInitialized=void 0;const gI=()=>{throw new Error("uSES not initialized!")};L0.notInitialized=gI;Dd.__esModule=!0;Dd.createSelectorHook=iO;Dd.useSelector=Dd.initializeUseSelector=void 0;var vE=he,vI=b1,yE=Uc,yI=L0;let rO=yI.notInitialized;const _I=e=>{rO=e};Dd.initializeUseSelector=_I;const wI=(e,t)=>e===t;function iO(e=yE.ReactReduxContext){const t=e===yE.ReactReduxContext?vI.useReduxContext:()=>(0,vE.useContext)(e);return function(r,s=wI){const{store:o,subscription:l,getServerState:u}=t(),f=rO(l.addNestedSub,o.getState,u||o.getState,r,s);return(0,vE.useDebugValue)(f),f}}const bI=iO();Dd.useSelector=bI;var Jf={},sO={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(sO);var Bd=sO.exports,hw={exports:{}},_E;function oO(){return _E||(_E=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(hw)),hw.exports}var dw={exports:{}},wE;function aO(){return wE||(wE=1,function(e){function t(n,r){if(n==null)return{};var s={},o=Object.keys(n),l,u;for(u=0;u<o.length;u++)l=o[u],!(r.indexOf(l)>=0)&&(s[l]=n[l]);return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(dw)),dw.exports}var fw={exports:{}},Zr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function SI(){if(bE)return Zr;bE=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,f=e?Symbol.for("react.async_mode"):60111,m=e?Symbol.for("react.concurrent_mode"):60111,v=e?Symbol.for("react.forward_ref"):60112,b=e?Symbol.for("react.suspense"):60113,x=e?Symbol.for("react.suspense_list"):60120,O=e?Symbol.for("react.memo"):60115,T=e?Symbol.for("react.lazy"):60116,D=e?Symbol.for("react.block"):60121,M=e?Symbol.for("react.fundamental"):60117,C=e?Symbol.for("react.responder"):60118,R=e?Symbol.for("react.scope"):60119;function j(F){if(typeof F=="object"&&F!==null){var ie=F.$$typeof;switch(ie){case t:switch(F=F.type,F){case f:case m:case r:case o:case s:case b:return F;default:switch(F=F&&F.$$typeof,F){case u:case v:case T:case O:case l:return F;default:return ie}}case n:return ie}}}function H(F){return j(F)===m}return Zr.AsyncMode=f,Zr.ConcurrentMode=m,Zr.ContextConsumer=u,Zr.ContextProvider=l,Zr.Element=t,Zr.ForwardRef=v,Zr.Fragment=r,Zr.Lazy=T,Zr.Memo=O,Zr.Portal=n,Zr.Profiler=o,Zr.StrictMode=s,Zr.Suspense=b,Zr.isAsyncMode=function(F){return H(F)||j(F)===f},Zr.isConcurrentMode=H,Zr.isContextConsumer=function(F){return j(F)===u},Zr.isContextProvider=function(F){return j(F)===l},Zr.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===t},Zr.isForwardRef=function(F){return j(F)===v},Zr.isFragment=function(F){return j(F)===r},Zr.isLazy=function(F){return j(F)===T},Zr.isMemo=function(F){return j(F)===O},Zr.isPortal=function(F){return j(F)===n},Zr.isProfiler=function(F){return j(F)===o},Zr.isStrictMode=function(F){return j(F)===s},Zr.isSuspense=function(F){return j(F)===b},Zr.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===r||F===m||F===o||F===s||F===b||F===x||typeof F=="object"&&F!==null&&(F.$$typeof===T||F.$$typeof===O||F.$$typeof===l||F.$$typeof===u||F.$$typeof===v||F.$$typeof===M||F.$$typeof===C||F.$$typeof===R||F.$$typeof===D)},Zr.typeOf=j,Zr}var SE;function xI(){return SE||(SE=1,fw.exports=SI()),fw.exports}var pw,xE;function TI(){if(xE)return pw;xE=1;var e=xI(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=s;function l(T){return e.isMemo(T)?s:o[T.$$typeof]||t}var u=Object.defineProperty,f=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,v=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,x=Object.prototype;function O(T,D,M){if(typeof D!="string"){if(x){var C=b(D);C&&C!==x&&O(T,C,M)}var R=f(D);m&&(R=R.concat(m(D)));for(var j=l(T),H=l(D),F=0;F<R.length;++F){var ie=R[F];if(!n[ie]&&!(M&&M[ie])&&!(H&&H[ie])&&!(j&&j[ie])){var ee=v(D,ie);try{u(T,ie,ee)}catch{}}}}return T}return pw=O,pw}var mw={exports:{}},Jr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function EI(){if(TE)return Jr;TE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function D(M){if(typeof M=="object"&&M!==null){var C=M.$$typeof;switch(C){case e:switch(M=M.type,M){case n:case s:case r:case m:case v:return M;default:switch(M=M&&M.$$typeof,M){case u:case l:case f:case x:case b:case o:return M;default:return C}}case t:return C}}}return Jr.ContextConsumer=l,Jr.ContextProvider=o,Jr.Element=e,Jr.ForwardRef=f,Jr.Fragment=n,Jr.Lazy=x,Jr.Memo=b,Jr.Portal=t,Jr.Profiler=s,Jr.StrictMode=r,Jr.Suspense=m,Jr.SuspenseList=v,Jr.isAsyncMode=function(){return!1},Jr.isConcurrentMode=function(){return!1},Jr.isContextConsumer=function(M){return D(M)===l},Jr.isContextProvider=function(M){return D(M)===o},Jr.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},Jr.isForwardRef=function(M){return D(M)===f},Jr.isFragment=function(M){return D(M)===n},Jr.isLazy=function(M){return D(M)===x},Jr.isMemo=function(M){return D(M)===b},Jr.isPortal=function(M){return D(M)===t},Jr.isProfiler=function(M){return D(M)===s},Jr.isStrictMode=function(M){return D(M)===r},Jr.isSuspense=function(M){return D(M)===m},Jr.isSuspenseList=function(M){return D(M)===v},Jr.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===n||M===s||M===r||M===m||M===v||M===O||typeof M=="object"&&M!==null&&(M.$$typeof===x||M.$$typeof===b||M.$$typeof===o||M.$$typeof===l||M.$$typeof===f||M.$$typeof===T||M.getModuleId!==void 0)},Jr.typeOf=D,Jr}var EE;function CI(){return EE||(EE=1,mw.exports=EI()),mw.exports}var Cg={},Dv={},Rv={},CE;function y2(){if(CE)return Rv;CE=1,Rv.__esModule=!0,Rv.default=e;function e(t){typeof console<"u"&&typeof console.error=="function"&&console.error(t);try{throw new Error(t)}catch{}}return Rv}var kE;function kI(){if(kE)return Dv;kE=1;var e=Bd;Dv.__esModule=!0,Dv.default=r;var t=e(y2());function n(s,o){if(s)(o==="mapStateToProps"||o==="mapDispatchToProps")&&(Object.prototype.hasOwnProperty.call(s,"dependsOnOwnProps")||(0,t.default)(`The selector for ${o} of connect did not specify a value for dependsOnOwnProps.`));else throw new Error(`Unexpected value for ${o} in connect.`)}function r(s,o,l){n(s,"mapStateToProps"),n(o,"mapDispatchToProps"),n(l,"mergeProps")}return Dv}var OE;function OI(){if(OE)return Cg;OE=1;var e=Bd;Cg.__esModule=!0,Cg.pureFinalPropsSelectorFactory=r,Cg.default=s;var t=e(aO());e(kI());const n=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function r(o,l,u,f,{areStatesEqual:m,areOwnPropsEqual:v,areStatePropsEqual:b}){let x=!1,O,T,D,M,C;function R(ee,_e){return O=ee,T=_e,D=o(O,T),M=l(f,T),C=u(D,M,T),x=!0,C}function j(){return D=o(O,T),l.dependsOnOwnProps&&(M=l(f,T)),C=u(D,M,T),C}function H(){return o.dependsOnOwnProps&&(D=o(O,T)),l.dependsOnOwnProps&&(M=l(f,T)),C=u(D,M,T),C}function F(){const ee=o(O,T),_e=!b(ee,D);return D=ee,_e&&(C=u(D,M,T)),C}function ie(ee,_e){const Xe=!v(_e,T),Te=!m(ee,O,_e,T);return O=ee,T=_e,Xe&&Te?j():Xe?H():Te?F():C}return function(_e,Xe){return x?ie(_e,Xe):R(_e,Xe)}}function s(o,l){let{initMapStateToProps:u,initMapDispatchToProps:f,initMergeProps:m}=l,v=(0,t.default)(l,n);const b=u(o,v),x=f(o,v),O=m(o,v);return r(b,x,O,o,v)}return Cg}var Pv={},Iv={},NE;function NI(){if(NE)return Iv;NE=1,Iv.__esModule=!0,Iv.default=e;function e(t,n){const r={};for(const s in t){const o=t[s];typeof o=="function"&&(r[s]=(...l)=>n(o(...l)))}return r}return Iv}var Hp={},Lv={},Fv={},AE;function AI(){if(AE)return Fv;AE=1,Fv.__esModule=!0,Fv.default=e;function e(t){if(typeof t!="object"||t===null)return!1;let n=Object.getPrototypeOf(t);if(n===null)return!0;let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return n===r}return Fv}var ME;function cO(){if(ME)return Lv;ME=1;var e=Bd;Lv.__esModule=!0,Lv.default=r;var t=e(AI()),n=e(y2());function r(s,o,l){(0,t.default)(s)||(0,n.default)(`${l}() in ${o} must return a plain object. Instead received ${s}.`)}return Lv}var DE;function lO(){if(DE)return Hp;DE=1;var e=Bd;Hp.__esModule=!0,Hp.wrapMapToPropsConstant=t,Hp.getDependsOnOwnProps=n,Hp.wrapMapToPropsFunc=r,e(cO());function t(s){return function(l){const u=s(l);function f(){return u}return f.dependsOnOwnProps=!1,f}}function n(s){return s.dependsOnOwnProps?!!s.dependsOnOwnProps:s.length!==1}function r(s,o){return function(u,{displayName:f}){const m=function(b,x){return m.dependsOnOwnProps?m.mapToProps(b,x):m.mapToProps(b,void 0)};return m.dependsOnOwnProps=!0,m.mapToProps=function(b,x){m.mapToProps=s,m.dependsOnOwnProps=n(s);let O=m(b,x);return typeof O=="function"&&(m.mapToProps=O,m.dependsOnOwnProps=n(O),O=m(b,x)),O},m}}return Hp}var jv={},RE;function _2(){if(RE)return jv;RE=1,jv.__esModule=!0,jv.createInvalidArgFactory=e;function e(t,n){return(r,s)=>{throw new Error(`Invalid value of type ${typeof t} for ${n} argument when connecting component ${s.wrappedComponentName}.`)}}return jv}var PE;function MI(){if(PE)return Pv;PE=1;var e=Bd;Pv.__esModule=!0,Pv.mapDispatchToPropsFactory=s;var t=e(NI()),n=lO(),r=_2();function s(o){return o&&typeof o=="object"?(0,n.wrapMapToPropsConstant)(l=>(0,t.default)(o,l)):o?typeof o=="function"?(0,n.wrapMapToPropsFunc)(o,"mapDispatchToProps"):(0,r.createInvalidArgFactory)(o,"mapDispatchToProps"):(0,n.wrapMapToPropsConstant)(l=>({dispatch:l}))}return Pv}var Uv={},IE;function DI(){if(IE)return Uv;IE=1,Uv.__esModule=!0,Uv.mapStateToPropsFactory=n;var e=lO(),t=_2();function n(r){return r?typeof r=="function"?(0,e.wrapMapToPropsFunc)(r,"mapStateToProps"):(0,t.createInvalidArgFactory)(r,"mapStateToProps"):(0,e.wrapMapToPropsConstant)(()=>({}))}return Uv}var $p={},LE;function RI(){if(LE)return $p;LE=1;var e=Bd;$p.__esModule=!0,$p.defaultMergeProps=r,$p.wrapMergePropsFunc=s,$p.mergePropsFactory=o;var t=e(oO());e(cO());var n=_2();function r(l,u,f){return(0,t.default)({},f,l,u)}function s(l){return function(f,{displayName:m,areMergedPropsEqual:v}){let b=!1,x;return function(T,D,M){const C=l(T,D,M);return b?v(C,x)||(x=C):(b=!0,x=C),x}}}function o(l){return l?typeof l=="function"?s(l):(0,n.createInvalidArgFactory)(l,"mergeProps"):()=>r}return $p}var Bv={},FE;function uO(){if(FE)return Bv;FE=1,Bv.__esModule=!0,Bv.createSubscription=r;var e=Zf;function t(){const s=(0,e.getBatch)();let o=null,l=null;return{clear(){o=null,l=null},notify(){s(()=>{let u=o;for(;u;)u.callback(),u=u.next})},get(){let u=[],f=o;for(;f;)u.push(f),f=f.next;return u},subscribe(u){let f=!0,m=l={callback:u,next:null,prev:l};return m.prev?m.prev.next=m:o=m,function(){!f||o===null||(f=!1,m.next?m.next.prev=m.prev:l=m.prev,m.prev?m.prev.next=m.next:o=m.next)}}}}const n={notify(){},get:()=>[]};function r(s,o){let l,u=n;function f(D){return x(),u.subscribe(D)}function m(){u.notify()}function v(){T.onStateChange&&T.onStateChange()}function b(){return!!l}function x(){l||(l=o?o.addNestedSub(v):s.subscribe(v),u=t())}function O(){l&&(l(),l=void 0,u.clear(),u=n)}const T={addNestedSub:f,notifyNestedSubs:m,handleChangeWrapper:v,isSubscribed:b,trySubscribe:x,tryUnsubscribe:O,getListeners:()=>u};return T}return Bv}var Of={},jE;function hO(){if(jE)return Of;jE=1,Of.__esModule=!0,Of.useIsomorphicLayoutEffect=Of.canUseDOM=void 0;var e=he;const t=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";Of.canUseDOM=t;const n=t?e.useLayoutEffect:e.useEffect;return Of.useIsomorphicLayoutEffect=n,Of}var Vv={},UE;function dO(){if(UE)return Vv;UE=1,Vv.__esModule=!0,Vv.default=t;function e(n,r){return n===r?n!==0||r!==0||1/n===1/r:n!==n&&r!==r}function t(n,r){if(e(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;const s=Object.keys(n),o=Object.keys(r);if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++)if(!Object.prototype.hasOwnProperty.call(r,s[l])||!e(n[s[l]],r[s[l]]))return!1;return!0}return Vv}var zm=Bd;Jf.__esModule=!0;Jf.default=Jf.initializeConnect=void 0;var gw=zm(oO()),PI=zm(aO()),BE=zm(TI()),Qi=$I(he),II=CI(),LI=zm(OI()),FI=MI(),jI=DI(),UI=RI(),BI=uO(),$b=hO(),vw=zm(dO());zm(y2());var VI=Uc,zI=L0;const HI=["reactReduxForwardedRef"];function fO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(fO=function(r){return r?n:t})(e)}function $I(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=fO(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var l=s?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let pO=zI.notInitialized;const qI=e=>{pO=e};Jf.initializeConnect=qI;const WI=[null,null];function GI(e,t,n){(0,$b.useIsomorphicLayoutEffect)(()=>e(...t),n)}function YI(e,t,n,r,s,o){e.current=r,n.current=!1,s.current&&(s.current=null,o())}function QI(e,t,n,r,s,o,l,u,f,m,v){if(!e)return()=>{};let b=!1,x=null;const O=()=>{if(b||!u.current)return;const D=t.getState();let M,C;try{M=r(D,s.current)}catch(R){C=R,x=R}C||(x=null),M===o.current?l.current||m():(o.current=M,f.current=M,l.current=!0,v())};return n.onStateChange=O,n.trySubscribe(),O(),()=>{if(b=!0,n.tryUnsubscribe(),n.onStateChange=null,x)throw x}}function KI(e,t){return e===t}function XI(e,t,n,{pure:r,areStatesEqual:s=KI,areOwnPropsEqual:o=vw.default,areStatePropsEqual:l=vw.default,areMergedPropsEqual:u=vw.default,forwardRef:f=!1,context:m=VI.ReactReduxContext}={}){const v=m,b=(0,jI.mapStateToPropsFactory)(e),x=(0,FI.mapDispatchToPropsFactory)(t),O=(0,UI.mergePropsFactory)(n),T=!!e;return M=>{const C=M.displayName||M.name||"Component",R=`Connect(${C})`,j={shouldHandleStateChanges:T,displayName:R,wrappedComponentName:C,WrappedComponent:M,initMapStateToProps:b,initMapDispatchToProps:x,initMergeProps:O,areStatesEqual:s,areStatePropsEqual:l,areOwnPropsEqual:o,areMergedPropsEqual:u};function H(ee){const[_e,Xe,Te]=(0,Qi.useMemo)(()=>{const{reactReduxForwardedRef:le}=ee,z=(0,PI.default)(ee,HI);return[ee.context,le,z]},[ee]),Fe=(0,Qi.useMemo)(()=>_e&&_e.Consumer&&(0,II.isContextConsumer)(Qi.default.createElement(_e.Consumer,null))?_e:v,[_e,v]),je=(0,Qi.useContext)(Fe),et=!!ee.store&&!!ee.store.getState&&!!ee.store.dispatch,ut=!!je&&!!je.store,Ge=et?ee.store:je.store,We=ut?je.getServerState:Ge.getState,Ae=(0,Qi.useMemo)(()=>(0,LI.default)(Ge.dispatch,j),[Ge]),[pe,Pe]=(0,Qi.useMemo)(()=>{if(!T)return WI;const le=(0,BI.createSubscription)(Ge,et?void 0:je.subscription),z=le.notifyNestedSubs.bind(le);return[le,z]},[Ge,et,je]),Ye=(0,Qi.useMemo)(()=>et?je:(0,gw.default)({},je,{subscription:pe}),[et,je,pe]),it=(0,Qi.useRef)(),Qe=(0,Qi.useRef)(Te),bt=(0,Qi.useRef)(),Mt=(0,Qi.useRef)(!1);(0,Qi.useRef)(!1);const rt=(0,Qi.useRef)(!1),Kt=(0,Qi.useRef)();(0,$b.useIsomorphicLayoutEffect)(()=>(rt.current=!0,()=>{rt.current=!1}),[]);const Ue=(0,Qi.useMemo)(()=>()=>bt.current&&Te===Qe.current?bt.current:Ae(Ge.getState(),Te),[Ge,Te]),ae=(0,Qi.useMemo)(()=>z=>pe?QI(T,Ge,pe,Ae,Qe,it,Mt,rt,bt,Pe,z):()=>{},[pe]);GI(YI,[Qe,it,Mt,Te,bt,Pe]);let we;try{we=pO(ae,Ue,We?()=>Ae(We(),Te):Ue)}catch(le){throw Kt.current&&(le.message+=`
The error may be correlated with this previous error:
${Kt.current.stack}

`),le}(0,$b.useIsomorphicLayoutEffect)(()=>{Kt.current=void 0,bt.current=void 0,it.current=we});const be=(0,Qi.useMemo)(()=>Qi.default.createElement(M,(0,gw.default)({},we,{ref:Xe})),[Xe,M,we]);return(0,Qi.useMemo)(()=>T?Qi.default.createElement(Fe.Provider,{value:Ye},be):be,[Fe,be,Ye])}const ie=Qi.default.memo(H);if(ie.WrappedComponent=M,ie.displayName=H.displayName=R,f){const _e=Qi.default.forwardRef(function(Te,Fe){return Qi.default.createElement(ie,(0,gw.default)({},Te,{reactReduxForwardedRef:Fe}))});return _e.displayName=R,_e.WrappedComponent=M,(0,BE.default)(_e,M)}return(0,BE.default)(ie,M)}}var ZI=XI;Jf.default=ZI;var mO={},kg={},VE;function JI(){if(VE)return kg;VE=1,kg.__esModule=!0,kg.default=void 0;var e=o(he),t=Uc,n=uO(),r=hO();function s(f){if(typeof WeakMap!="function")return null;var m=new WeakMap,v=new WeakMap;return(s=function(b){return b?v:m})(f)}function o(f,m){if(!m&&f&&f.__esModule)return f;if(f===null||typeof f!="object"&&typeof f!="function")return{default:f};var v=s(m);if(v&&v.has(f))return v.get(f);var b={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in f)if(O!=="default"&&Object.prototype.hasOwnProperty.call(f,O)){var T=x?Object.getOwnPropertyDescriptor(f,O):null;T&&(T.get||T.set)?Object.defineProperty(b,O,T):b[O]=f[O]}return b.default=f,v&&v.set(f,b),b}function l({store:f,context:m,children:v,serverState:b}){const x=(0,e.useMemo)(()=>{const D=(0,n.createSubscription)(f);return{store:f,subscription:D,getServerState:b?()=>b:void 0}},[f,b]),O=(0,e.useMemo)(()=>f.getState(),[f]);(0,r.useIsomorphicLayoutEffect)(()=>{const{subscription:D}=x;return D.onStateChange=D.notifyNestedSubs,D.trySubscribe(),O!==f.getState()&&D.notifyNestedSubs(),()=>{D.tryUnsubscribe(),D.onStateChange=void 0}},[x,O]);const T=m||t.ReactReduxContext;return e.default.createElement(T.Provider,{value:x},v)}var u=l;return kg.default=u,kg}var qp={},Wp={},zE;function gO(){if(zE)return Wp;zE=1,Wp.__esModule=!0,Wp.createStoreHook=r,Wp.useStore=void 0;var e=he,t=Uc,n=b1;function r(o=t.ReactReduxContext){const l=o===t.ReactReduxContext?n.useReduxContext:()=>(0,e.useContext)(o);return function(){const{store:f}=l();return f}}const s=r();return Wp.useStore=s,Wp}var HE;function e8(){if(HE)return qp;HE=1,qp.__esModule=!0,qp.createDispatchHook=n,qp.useDispatch=void 0;var e=Uc,t=gO();function n(s=e.ReactReduxContext){const o=s===e.ReactReduxContext?t.useStore:(0,t.createStoreHook)(s);return function(){return o().dispatch}}const r=n();return qp.useDispatch=r,qp}var $E={},qE;function t8(){return qE||(qE=1),$E}(function(e){var t=Bd;e.__esModule=!0;var n={Provider:!0,connect:!0,ReactReduxContext:!0,useDispatch:!0,createDispatchHook:!0,useSelector:!0,createSelectorHook:!0,useStore:!0,createStoreHook:!0,shallowEqual:!0};Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"ReactReduxContext",{enumerable:!0,get:function(){return o.ReactReduxContext}}),Object.defineProperty(e,"useDispatch",{enumerable:!0,get:function(){return l.useDispatch}}),Object.defineProperty(e,"createDispatchHook",{enumerable:!0,get:function(){return l.createDispatchHook}}),Object.defineProperty(e,"useSelector",{enumerable:!0,get:function(){return u.useSelector}}),Object.defineProperty(e,"createSelectorHook",{enumerable:!0,get:function(){return u.createSelectorHook}}),Object.defineProperty(e,"useStore",{enumerable:!0,get:function(){return f.useStore}}),Object.defineProperty(e,"createStoreHook",{enumerable:!0,get:function(){return f.createStoreHook}}),Object.defineProperty(e,"shallowEqual",{enumerable:!0,get:function(){return m.default}});var r=t(JI()),s=t(Jf),o=Uc,l=e8(),u=Dd,f=gO(),m=t(dO()),v=t8();Object.keys(v).forEach(function(b){b==="default"||b==="__esModule"||Object.prototype.hasOwnProperty.call(n,b)||b in e&&e[b]===v[b]||Object.defineProperty(e,b,{enumerable:!0,get:function(){return v[b]}})})})(mO);(function(e){e.__esModule=!0;var t={batch:!0};Object.defineProperty(e,"batch",{enumerable:!0,get:function(){return s.unstable_batchedUpdates}});var n=X6,r=aI,s=eO,o=Zf,l=Dd,u=Jf,f=mO;Object.keys(f).forEach(function(m){m==="default"||m==="__esModule"||Object.prototype.hasOwnProperty.call(t,m)||m in e&&e[m]===f[m]||Object.defineProperty(e,m,{enumerable:!0,get:function(){return f[m]}})}),(0,l.initializeUseSelector)(r.useSyncExternalStoreWithSelector),(0,u.initializeConnect)(n.useSyncExternalStore),(0,o.setBatch)(s.unstable_batchedUpdates)})(_1);class al{constructor(t=!1){this.eventMap={},this.eventsSuspended=t==!0}addListener(t,n,r={}){if(typeof t=="string"&&t.length<1||t instanceof String&&t.length<1||typeof t!="string"&&!(t instanceof String)&&t!==al.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof n!="function")throw new TypeError("The callback must be a function.");const s=new WE(t,this,n,r);return this.eventMap[t]||(this.eventMap[t]=[]),r.prepend?this.eventMap[t].unshift(s):this.eventMap[t].push(s),s}addOneTimeListener(t,n,r={}){r.remaining=1,this.addListener(t,n,r)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(t,n){return t===void 0?this.eventMap[al.ANY_EVENT]&&this.eventMap[al.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,r])=>r.length>0):this.eventMap[t]&&this.eventMap[t].length>0?n instanceof WE?this.eventMap[t].filter(s=>s===n).length>0:typeof n=="function"?this.eventMap[t].filter(s=>s.callback===n).length>0:n==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(t){return this.eventMap[t]||[]}suspendEvent(t){this.getListeners(t).forEach(n=>{n.suspended=!0})}unsuspendEvent(t){this.getListeners(t).forEach(n=>{n.suspended=!1})}getListenerCount(t){return this.getListeners(t).length}emit(t,...n){if(typeof t!="string"&&!(t instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let r=[],s=this.eventMap[al.ANY_EVENT]||[];return this.eventMap[t]&&(s=s.concat(this.eventMap[t])),s.forEach(o=>{if(o.suspended)return;let l=[...n];Array.isArray(o.arguments)&&(l=l.concat(o.arguments)),o.remaining>0&&(r.push(o.callback.apply(o.context,l)),o.count++),--o.remaining<1&&o.remove()}),r}removeListener(t,n,r={}){if(t===void 0){this.eventMap={};return}else if(!this.eventMap[t])return;let s=this.eventMap[t].filter(o=>n&&o.callback!==n||r.remaining&&r.remaining!==o.remaining||r.context&&r.context!==o.context);s.length?this.eventMap[t]=s:delete this.eventMap[t]}async waitFor(t,n={}){return n.duration=parseInt(n.duration),(isNaN(n.duration)||n.duration<=0)&&(n.duration=1/0),new Promise((r,s)=>{let o,l=this.addListener(t,()=>{clearTimeout(o),r()},{remaining:1});n.duration!==1/0&&(o=setTimeout(()=>{l.remove(),s("The duration expired before the event was emitted.")},n.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class WE{constructor(t,n,r,s={}){if(typeof t!="string"&&!(t instanceof String)&&t!==al.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!n)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof r!="function")throw new TypeError("The 'callback' must be a function.");s.arguments!==void 0&&!Array.isArray(s.arguments)&&(s.arguments=[s.arguments]),s=Object.assign({context:n,remaining:1/0,arguments:void 0,duration:1/0},s),s.duration!==1/0&&setTimeout(()=>this.remove(),s.duration),this.arguments=s.arguments,this.callback=r,this.context=s.context,this.count=0,this.event=t,this.remaining=parseInt(s.remaining)>=1?parseInt(s.remaining):1/0,this.suspended=!1,this.target=n}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class wt{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),wt.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),wt.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),wt.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),wt.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class dm{constructor(t,n={}){this.duration=$t.defaults.note.duration,this.attack=$t.defaults.note.attack,this.release=$t.defaults.note.release,n.duration!=null&&(this.duration=n.duration),n.attack!=null&&(this.attack=n.attack),n.rawAttack!=null&&(this.attack=Yt.from7bitToFloat(n.rawAttack)),n.release!=null&&(this.release=n.release),n.rawRelease!=null&&(this.release=Yt.from7bitToFloat(n.rawRelease)),Number.isInteger(t)?this.identifier=Yt.toNoteIdentifier(t):this.identifier=t}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(t){const n=Yt.getNoteDetails(t);if($t.validation&&!t)throw new Error("Invalid note identifier");this._name=n.name,this._accidental=n.accidental,this._octave=n.octave}get name(){return this._name}set name(t){if($t.validation&&(t=t.toUpperCase(),!["C","D","E","F","G","A","B"].includes(t)))throw new Error("Invalid name value");this._name=t}get accidental(){return this._accidental}set accidental(t){if($t.validation&&(t=t.toLowerCase(),!["#","##","b","bb"].includes(t)))throw new Error("Invalid accidental value");this._accidental=t}get octave(){return this._octave}set octave(t){if($t.validation&&(t=parseInt(t),isNaN(t)))throw new Error("Invalid octave value");this._octave=t}get duration(){return this._duration}set duration(t){if($t.validation&&(t=parseFloat(t),isNaN(t)||t===null||t<0))throw new RangeError("Invalid duration value.");this._duration=t}get attack(){return this._attack}set attack(t){if($t.validation&&(t=parseFloat(t),isNaN(t)||!(t>=0&&t<=1)))throw new RangeError("Invalid attack value.");this._attack=t}get release(){return this._release}set release(t){if($t.validation&&(t=parseFloat(t),isNaN(t)||!(t>=0&&t<=1)))throw new RangeError("Invalid release value.");this._release=t}get rawAttack(){return Yt.fromFloatTo7Bit(this._attack)}set rawAttack(t){this._attack=Yt.from7bitToFloat(t)}get rawRelease(){return Yt.fromFloatTo7Bit(this._release)}set rawRelease(t){this._release=Yt.from7bitToFloat(t)}get number(){return Yt.toNoteNumber(this.identifier)}getOffsetNumber(t=0,n=0){return $t.validation&&(t=parseInt(t)||0,n=parseInt(n)||0),Math.min(Math.max(this.number+t*12+n,0),127)}}/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Yt{static toNoteNumber(t,n=0){if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid 'octaveOffset' value");typeof t!="string"&&(t="");const r=this.getNoteDetails(t);if(!r)throw new TypeError("Invalid note identifier");const s={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let o=(r.octave+1+n)*12;if(o+=s[r.name],r.accidental&&(r.accidental.startsWith("b")?o-=r.accidental.length:o+=r.accidental.length),o<0||o>127)throw new RangeError("Invalid octaveOffset value");return o}static getNoteDetails(t){Number.isInteger(t)&&(t=this.toNoteIdentifier(t));const n=t.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!n)throw new TypeError("Invalid note identifier");const r=n[1].toUpperCase(),s=parseInt(n[3]);let o=n[2].toLowerCase();return o=o===""?void 0:o,{accidental:o,identifier:r+(o||"")+s,name:r,octave:s}}static sanitizeChannels(t){let n;if($t.validation){if(t==="all")n=["all"];else if(t==="none")return[]}return Array.isArray(t)?n=t:n=[t],n.indexOf("all")>-1&&(n=wt.MIDI_CHANNEL_NUMBERS),n.map(function(r){return parseInt(r)}).filter(function(r){return r>=1&&r<=16})}static toTimestamp(t){let n=!1;const r=parseFloat(t);return isNaN(r)?!1:(typeof t=="string"&&t.substring(0,1)==="+"?r>=0&&(n=$t.time+r):r>=0&&(n=r),n)}static guessNoteNumber(t,n){n=parseInt(n)||0;let r=!1;if(Number.isInteger(t)&&t>=0&&t<=127)r=parseInt(t);else if(parseInt(t)>=0&&parseInt(t)<=127)r=parseInt(t);else if(typeof t=="string"||t instanceof String)try{r=this.toNoteNumber(t.trim(),n)}catch{return!1}return r}static toNoteIdentifier(t,n){if(t=parseInt(t),isNaN(t)||t<0||t>127)throw new RangeError("Invalid note number");if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid octaveOffset value");const r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],s=Math.floor(t/12-1)+n;return r[t%12]+s.toString()}static buildNote(t,n={}){if(n.octaveOffset=parseInt(n.octaveOffset)||0,t instanceof dm)return t;let r=this.guessNoteNumber(t,n.octaveOffset);if(r===!1)throw new TypeError(`The input could not be parsed as a note (${t})`);return n.octaveOffset=void 0,new dm(r,n)}static buildNoteArray(t,n={}){let r=[];return Array.isArray(t)||(t=[t]),t.forEach(s=>{r.push(this.buildNote(s,n))}),r}static from7bitToFloat(t){return t===1/0&&(t=127),t=parseInt(t)||0,Math.min(Math.max(t/127,0),1)}static fromFloatTo7Bit(t){return t===1/0&&(t=1),t=parseFloat(t)||0,Math.min(Math.max(Math.round(t*127),0),127)}static fromMsbLsbToFloat(t,n=0){$t.validation&&(t=Math.min(Math.max(parseInt(t)||0,0),127),n=Math.min(Math.max(parseInt(n)||0,0),127));const r=((t<<7)+n)/16383;return Math.min(Math.max(r,0),1)}static fromFloatToMsbLsb(t){$t.validation&&(t=Math.min(Math.max(parseFloat(t)||0,0),1));const n=Math.round(t*16383);return{msb:n>>7,lsb:n&127}}static offsetNumber(t,n=0,r=0){if($t.validation){if(t=parseInt(t),isNaN(t))throw new Error("Invalid note number");n=parseInt(n)||0,r=parseInt(r)||0}return Math.min(Math.max(t+n*12+r,0),127)}static getPropertyByValue(t,n){return Object.keys(t).find(r=>t[r]===n)}static getCcNameByNumber(t){if(!($t.validation&&(t=parseInt(t),!(t>=0&&t<=127))))return wt.CONTROL_CHANGE_MESSAGES[t].name}static getCcNumberByName(t){let n=wt.CONTROL_CHANGE_MESSAGES.find(r=>r.name===t);return n?n.number:wt.MIDI_CONTROL_CHANGE_MESSAGES[t]}static getChannelModeByNumber(t){if(!(t>=120&&t<=127))return!1;for(let n in wt.CHANNEL_MODE_MESSAGES)if(wt.CHANNEL_MODE_MESSAGES.hasOwnProperty(n)&&t===wt.CHANNEL_MODE_MESSAGES[n])return n;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class n8 extends al{constructor(t,n){super(),this._output=t,this._number=n,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(t,n={time:0}){return this.output.send(t,n),this}sendKeyAftertouch(t,n,r={}){if($t.validation){if(r.useRawValue&&(r.rawValue=r.useRawValue),isNaN(parseFloat(n)))throw new RangeError("Invalid key aftertouch value.");if(r.rawValue){if(!(n>=0&&n<=127&&Number.isInteger(n)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(n>=0&&n<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}r.rawValue||(n=Yt.fromFloatTo7Bit(n));const s=$t.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(t)||(t=[t]),Yt.buildNoteArray(t).forEach(o=>{this.send([(wt.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),o.getOffsetNumber(s),n],{time:Yt.toTimestamp(r.time)})}),this}sendControlChange(t,n,r={}){if(typeof t=="string"&&(t=Yt.getCcNumberByName(t)),Array.isArray(n)||(n=[n]),$t.validation){if(t===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(n=n.map(s=>{const o=Math.min(Math.max(parseInt(s),0),127);if(isNaN(o))throw new TypeError("Values must be integers between 0 and 127");return o}),n.length===2&&t>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return n.forEach((s,o)=>{this.send([(wt.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),t+o*32,n[o]],{time:Yt.toTimestamp(r.time)})}),this}_selectNonRegisteredParameter(t,n={}){return this.sendControlChange(99,t[0],n),this.sendControlChange(98,t[1],n),this}_deselectRegisteredParameter(t={}){return this.sendControlChange(101,127,t),this.sendControlChange(100,127,t),this}_deselectNonRegisteredParameter(t={}){return this.sendControlChange(101,127,t),this.sendControlChange(100,127,t),this}_selectRegisteredParameter(t,n={}){return this.sendControlChange(101,t[0],n),this.sendControlChange(100,t[1],n),this}_setCurrentParameter(t,n={}){return t=[].concat(t),this.sendControlChange(6,t[0],n),t.length<2?this:(this.sendControlChange(38,t[1],n),this)}sendRpnDecrement(t,n={}){if(Array.isArray(t)||(t=wt.REGISTERED_PARAMETERS[t]),$t.validation){if(t===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(wt.REGISTERED_PARAMETERS).forEach(s=>{wt.REGISTERED_PARAMETERS[s][0]===t[0]&&wt.REGISTERED_PARAMETERS[s][1]===t[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(t,n),this.sendControlChange(97,0,n),this._deselectRegisteredParameter(n),this}sendRpnIncrement(t,n={}){if(Array.isArray(t)||(t=wt.REGISTERED_PARAMETERS[t]),$t.validation){if(t===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(wt.REGISTERED_PARAMETERS).forEach(s=>{wt.REGISTERED_PARAMETERS[s][0]===t[0]&&wt.REGISTERED_PARAMETERS[s][1]===t[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(t,n),this.sendControlChange(96,0,n),this._deselectRegisteredParameter(n),this}playNote(t,n={}){if(this.sendNoteOn(t,n),parseInt(t.duration)>0){const r={time:(Yt.toTimestamp(n.time)||$t.time)+parseInt(t.duration),release:t.release,rawRelease:t.rawRelease};this.sendNoteOff(t,r)}else if(parseInt(n.duration)>0){const r={time:(Yt.toTimestamp(n.time)||$t.time)+parseInt(n.duration),release:n.release,rawRelease:n.rawRelease};this.sendNoteOff(t,r)}return this}sendNoteOff(t,n={}){if($t.validation){if(n.rawRelease!=null&&!(n.rawRelease>=0&&n.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(n.release!=null&&!(n.release>=0&&n.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");n.rawVelocity&&(n.rawRelease=n.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),n.velocity&&(n.release=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;n.rawRelease!=null?r=n.rawRelease:isNaN(n.release)||(r=Math.round(n.release*127));const s=$t.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Yt.buildNoteArray(t,{rawRelease:parseInt(r)}).forEach(o=>{this.send([(wt.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),o.getOffsetNumber(s),o.rawRelease],{time:Yt.toTimestamp(n.time)})}),this}stopNote(t,n={}){return this.sendNoteOff(t,n)}sendNoteOn(t,n={}){if($t.validation){if(n.rawAttack!=null&&!(n.rawAttack>=0&&n.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(n.attack!=null&&!(n.attack>=0&&n.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");n.rawVelocity&&(n.rawAttack=n.velocity,n.rawRelease=n.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),n.velocity&&(n.attack=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;n.rawAttack!=null?r=n.rawAttack:isNaN(n.attack)||(r=Math.round(n.attack*127));const s=$t.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Yt.buildNoteArray(t,{rawAttack:r}).forEach(o=>{this.send([(wt.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),o.getOffsetNumber(s),o.rawAttack],{time:Yt.toTimestamp(n.time)})}),this}sendChannelMode(t,n=0,r={}){if(typeof t=="string"&&(t=wt.CHANNEL_MODE_MESSAGES[t]),$t.validation){if(t===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(t)||!(t>=120&&t<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(n))||n<0||n>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(wt.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),t,n],{time:Yt.toTimestamp(r.time)}),this}sendOmniMode(t,n={}){return t===void 0||t?this.sendChannelMode("omnimodeon",0,n):this.sendChannelMode("omnimodeoff",0,n),this}sendChannelAftertouch(t,n={}){if($t.validation){if(isNaN(parseFloat(t)))throw new RangeError("Invalid channel aftertouch value.");if(n.rawValue){if(!(t>=0&&t<=127&&Number.isInteger(t)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(t>=0&&t<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return this.send([(wt.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(t*127)],{time:Yt.toTimestamp(n.time)}),this}sendMasterTuning(t,n={}){if(t=parseFloat(t)||0,$t.validation&&!(t>-65&&t<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let r=Math.floor(t)+64,s=t-Math.floor(t);s=Math.round((s+1)/2*16383);let o=s>>7&127,l=s&127;return this.sendRpnValue("channelcoarsetuning",r,n),this.sendRpnValue("channelfinetuning",[o,l],n),this}sendModulationRange(t,n,r={}){if($t.validation){if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(n!=null&&(!Number.isInteger(n)||!(n>=0&&n<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return n>=0&&n<=127||(n=0),this.sendRpnValue("modulationrange",[t,n],r),this}sendNrpnValue(t,n,r={}){if(n=[].concat(n),$t.validation){if(!Array.isArray(t)||!Number.isInteger(t[0])||!Number.isInteger(t[1]))throw new TypeError("The specified NRPN is invalid.");if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");n.forEach(s=>{if(!(s>=0&&s<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(t,r),this._setCurrentParameter(n,r),this._deselectNonRegisteredParameter(r),this}sendPitchBend(t,n={}){if($t.validation)if(n.rawValue&&Array.isArray(t)){if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(n.rawValue&&!Array.isArray(t)){if(!(t>=0&&t<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(t)||t===null)throw new RangeError("Invalid pitch bend value.");if(!(t>=-1&&t<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let r=0,s=0;if(n.rawValue&&Array.isArray(t))r=t[0],s=t[1];else if(n.rawValue&&!Array.isArray(t))r=t;else{const o=Yt.fromFloatToMsbLsb((t+1)/2);r=o.msb,s=o.lsb}return this.send([(wt.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),s,r],{time:Yt.toTimestamp(n.time)}),this}sendPitchBendRange(t,n,r={}){if($t.validation){if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(n)||!(n>=0&&n<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[t,n],r),this}sendProgramChange(t,n={}){if(t=parseInt(t)||0,$t.validation&&!(t>=0&&t<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(wt.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),t],{time:Yt.toTimestamp(n.time)}),this}sendRpnValue(t,n,r={}){if(Array.isArray(t)||(t=wt.REGISTERED_PARAMETERS[t]),$t.validation){if(!Number.isInteger(t[0])||!Number.isInteger(t[1]))throw new TypeError("The specified NRPN is invalid.");if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(n).forEach(s=>{if(!(s>=0&&s<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(t,r),this._setCurrentParameter(n,r),this._deselectRegisteredParameter(r),this}sendTuningBank(t,n={}){if($t.validation&&(!Number.isInteger(t)||!(t>=0&&t<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",t,n),this}sendTuningProgram(t,n={}){if($t.validation&&(!Number.isInteger(t)||!(t>=0&&t<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",t,n),this}sendLocalControl(t,n={}){return t?this.sendChannelMode("localcontrol",127,n):this.sendChannelMode("localcontrol",0,n)}sendAllNotesOff(t={}){return this.sendChannelMode("allnotesoff",0,t)}sendAllSoundOff(t={}){return this.sendChannelMode("allsoundoff",0,t)}sendResetAllControllers(t={}){return this.sendChannelMode("resetallcontrollers",0,t)}sendPolyphonicMode(t,n={}){return t==="mono"?this.sendChannelMode("monomodeon",0,n):this.sendChannelMode("polymodeon",0,n)}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class qb extends al{constructor(t){super(),this._midiOutput=t,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new n8(this,n);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(t=>t.destroy()),this.channels=[],this._midiOutput.onstatechange=null,await this.close(),this._midiOutput=null}_onStateChange(t){let n={timestamp:$t.time};t.port.connection==="open"?(n.type="opened",n.target=this,n.port=n.target,this.emit("opened",n)):t.port.connection==="closed"&&t.port.state==="connected"?(n.type="closed",n.target=this,n.port=n.target,this.emit("closed",n)):t.port.connection==="closed"&&t.port.state==="disconnected"?(n.type="disconnected",n.port={connection:t.port.connection,id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name,state:t.port.state,type:t.port.type},this.emit("disconnected",n)):t.port.connection==="pending"&&t.port.state==="disconnected"||console.warn("This statechange event was not caught:",t.port.connection,t.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(t){return Promise.reject(t)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(t,n={time:0},r=0){if(t instanceof vO&&(t=Yt.isNode?t.data:t.rawData),t instanceof Uint8Array&&Yt.isNode&&(t=Array.from(t)),$t.validation){if(!Array.isArray(t)&&!(t instanceof Uint8Array)&&(t=[t],Array.isArray(n)&&(t=t.concat(n)),n=isNaN(r)?{time:0}:{time:r}),!(parseInt(t[0])>=128&&parseInt(t[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");t.slice(1).forEach(s=>{if(s=parseInt(s),!(s>=0&&s<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),n||(n={time:0})}return this._midiOutput.send(t,Yt.toTimestamp(n.time)),this}sendSysex(t,n=[],r={}){if(t=[].concat(t),n instanceof Uint8Array){const s=new Uint8Array(1+t.length+n.length+1);s[0]=wt.SYSTEM_MESSAGES.sysex,s.set(Uint8Array.from(t),1),s.set(n,1+t.length),s[s.length-1]=wt.SYSTEM_MESSAGES.sysexend,this.send(s,{time:r.time})}else{const s=t.concat(n,wt.SYSTEM_MESSAGES.sysexend);this.send([wt.SYSTEM_MESSAGES.sysex].concat(s),{time:r.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():$t.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(t,n={}){if($t.validation&&(t=parseInt(t),isNaN(t)||!(t>=0&&t<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([wt.SYSTEM_MESSAGES.timecode,t],{time:n.time}),this}sendSongPosition(t=0,n={}){t=Math.floor(t)||0;var r=t>>7&127,s=t&127;return this.send([wt.SYSTEM_MESSAGES.songposition,r,s],{time:n.time}),this}sendSongSelect(t=0,n={}){if($t.validation&&(t=parseInt(t),isNaN(t)||!(t>=0&&t<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([wt.SYSTEM_MESSAGES.songselect,t],{time:n.time}),this}sendTuneRequest(t={}){return this.send([wt.SYSTEM_MESSAGES.tunerequest],{time:t.time}),this}sendClock(t={}){return this.send([wt.SYSTEM_MESSAGES.clock],{time:t.time}),this}sendStart(t={}){return this.send([wt.SYSTEM_MESSAGES.start],{time:t.time}),this}sendContinue(t={}){return this.send([wt.SYSTEM_MESSAGES.continue],{time:t.time}),this}sendStop(t={}){return this.send([wt.SYSTEM_MESSAGES.stop],{time:t.time}),this}sendActiveSensing(t={}){return this.send([wt.SYSTEM_MESSAGES.activesensing],{time:t.time}),this}sendReset(t={}){return this.send([wt.SYSTEM_MESSAGES.reset],{time:t.time}),this}sendTuningRequest(t={}){return $t.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(t)}sendKeyAftertouch(t,n,r={}){return r.channels==null&&(r.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendKeyAftertouch(t,n,r)}),this}sendControlChange(t,n,r={},s={}){if($t.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const o=r;r=s,r.channels=o,r.channels==="all"&&(r.channels=wt.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(r.channels).forEach(o=>{this.channels[o].sendControlChange(t,n,r)}),this}sendPitchBendRange(t=0,n=0,r={}){return r.channels==null&&(r.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendPitchBendRange(t,n,r)}),this}setPitchBendRange(t=0,n=0,r="all",s={}){return $t.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),s.channels=r,s.channels==="all"&&(s.channels=wt.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(t,n,s)}sendRpnValue(t,n,r={}){return r.channels==null&&(r.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendRpnValue(t,n,r)}),this}setRegisteredParameter(t,n=[],r="all",s={}){return $t.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),s.channels=r,s.channels==="all"&&(s.channels=wt.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(t,n,s)}sendChannelAftertouch(t,n={},r={}){if($t.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=wt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendChannelAftertouch(t,n)}),this}sendPitchBend(t,n={},r={}){if($t.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=wt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendPitchBend(t,n)}),this}sendProgramChange(t=0,n={},r={}){if($t.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=wt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendProgramChange(t,n)}),this}sendModulationRange(t,n,r={}){return r.channels==null&&(r.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendModulationRange(t,n,r)}),this}setModulationRange(t=0,n=0,r="all",s={}){return $t.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),s.channels=r,s.channels==="all"&&(s.channels=wt.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(t,n,s)}sendMasterTuning(t,n={}){return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendMasterTuning(t,n)}),this}setMasterTuning(t,n={},r={}){return $t.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),r.channels=n,r.channels==="all"&&(r.channels=wt.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(t,r)}sendTuningProgram(t,n={}){return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendTuningProgram(t,n)}),this}setTuningProgram(t,n="all",r={}){return $t.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),r.channels=n,r.channels==="all"&&(r.channels=wt.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(t,r)}sendTuningBank(t=0,n={}){return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendTuningBank(t,n)}),this}setTuningBank(t,n="all",r={}){return $t.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),r.channels=n,r.channels==="all"&&(r.channels=wt.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(t,r)}sendChannelMode(t,n=0,r={},s={}){if($t.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const o=r;r=s,r.channels=o,r.channels==="all"&&(r.channels=wt.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(r.channels).forEach(o=>{this.channels[o].sendChannelMode(t,n,r)}),this}sendAllSoundOff(t={}){return t.channels==null&&(t.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(t.channels).forEach(n=>{this.channels[n].sendAllSoundOff(t)}),this}sendAllNotesOff(t={}){return t.channels==null&&(t.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(t.channels).forEach(n=>{this.channels[n].sendAllNotesOff(t)}),this}sendResetAllControllers(t={},n={}){if($t.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const r=t;t=n,t.channels=r,t.channels==="all"&&(t.channels=wt.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendResetAllControllers(t)}),this}sendPolyphonicMode(t,n={},r={}){if($t.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=wt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendPolyphonicMode(t,n)}),this}sendLocalControl(t,n={},r={}){if($t.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=wt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendLocalControl(t,n)}),this}sendOmniMode(t,n={},r={}){if($t.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=wt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendOmniMode(t,n)}),this}sendNrpnValue(t,n,r={}){return r.channels==null&&(r.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendNrpnValue(t,n,r)}),this}setNonRegisteredParameter(t,n=[],r="all",s={}){return $t.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),s.channels=r,s.channels==="all"&&(s.channels=wt.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(t,n,s)}sendRpnIncrement(t,n={}){return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendRpnIncrement(t,n)}),this}incrementRegisteredParameter(t,n="all",r={}){return $t.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),r.channels=n,r.channels==="all"&&(r.channels=wt.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(t,r)}sendRpnDecrement(t,n={}){return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendRpnDecrement(t,n)}),this}decrementRegisteredParameter(t,n="all",r={}){return $t.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),r.channels=n,r.channels==="all"&&(r.channels=wt.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(t,r)}sendNoteOff(t,n={},r={}){if($t.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=wt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendNoteOff(t,n)}),this}stopNote(t,n){return this.sendNoteOff(t,n)}playNote(t,n={},r={}){if($t.validation&&(n.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),n.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=wt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].playNote(t,n)}),this}sendNoteOn(t,n={},r={}){if($t.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=wt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendNoteOn(t,n)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class GE{constructor(t=[],n={}){this.destinations=[],this.types=[...Object.keys(wt.SYSTEM_MESSAGES),...Object.keys(wt.CHANNEL_MESSAGES)],this.channels=wt.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(t)||(t=[t]),n.types&&!Array.isArray(n.types)&&(n.types=[n.types]),n.channels&&!Array.isArray(n.channels)&&(n.channels=[n.channels]),$t.validation&&(t.forEach(r=>{if(!(r instanceof qb))throw new TypeError("Destinations must be of type 'Output'.")}),n.types!==void 0&&n.types.forEach(r=>{if(!wt.SYSTEM_MESSAGES.hasOwnProperty(r)&&!wt.CHANNEL_MESSAGES.hasOwnProperty(r))throw new TypeError("Type must be a valid message type.")}),n.channels!==void 0&&n.channels.forEach(r=>{if(!wt.MIDI_CHANNEL_NUMBERS.includes(r))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=t,n.types&&(this.types=n.types),n.channels&&(this.channels=n.channels)}forward(t){this.suspended||this.types.includes(t.type)&&(t.channel&&!this.channels.includes(t.channel)||this.destinations.forEach(n=>{$t.validation&&!(n instanceof qb)||n.send(t)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class r8 extends al{constructor(t,n){super(),this._input=t,this._number=n,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(t){const n=Object.assign({},t);n.port=this.input,n.target=this,n.type="midimessage",this.emit(n.type,n),this._parseEventForStandardMessages(n)}_parseEventForStandardMessages(t){const n=Object.assign({},t);n.type=n.message.type||"unknownmessage";const r=t.message.dataBytes[0],s=t.message.dataBytes[1];if(n.type==="noteoff"||n.type==="noteon"&&s===0)this.notesState[r]=!1,n.type="noteoff",n.note=new dm(Yt.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+$t.octaveOffset),{rawAttack:0,rawRelease:s}),n.value=Yt.from7bitToFloat(s),n.rawValue=s,n.velocity=n.note.release,n.rawVelocity=n.note.rawRelease;else if(n.type==="noteon")this.notesState[r]=!0,n.note=new dm(Yt.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+$t.octaveOffset),{rawAttack:s}),n.value=Yt.from7bitToFloat(s),n.rawValue=s,n.velocity=n.note.attack,n.rawVelocity=n.note.rawAttack;else if(n.type==="keyaftertouch")n.note=new dm(Yt.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+$t.octaveOffset)),n.value=Yt.from7bitToFloat(s),n.rawValue=s,n.identifier=n.note.identifier,n.key=n.note.number,n.rawKey=r;else if(n.type==="controlchange"){n.controller={number:r,name:wt.CONTROL_CHANGE_MESSAGES[r].name,description:wt.CONTROL_CHANGE_MESSAGES[r].description,position:wt.CONTROL_CHANGE_MESSAGES[r].position},n.subtype=n.controller.name||"controller"+r,n.value=Yt.from7bitToFloat(s),n.rawValue=s;const o=Object.assign({},n);o.type=`${n.type}-controller${r}`,delete o.subtype,this.emit(o.type,o);const l=Object.assign({},n);l.type=`${n.type}-`+wt.CONTROL_CHANGE_MESSAGES[r].name,delete l.subtype,l.type.indexOf("controller")!==0&&this.emit(l.type,l),n.message.dataBytes[0]>=120&&this._parseChannelModeMessage(n),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(n.message.dataBytes[0])&&this._parseEventForParameterNumber(n)}else n.type==="programchange"?(n.value=r,n.rawValue=n.value):n.type==="channelaftertouch"?(n.value=Yt.from7bitToFloat(r),n.rawValue=r):n.type==="pitchbend"?(n.value=((s<<7)+r-8192)/8192,n.rawValue=(s<<7)+r):n.type="unknownmessage";this.emit(n.type,n)}_parseChannelModeMessage(t){const n=Object.assign({},t);n.type=n.controller.name,n.type==="localcontrol"&&(n.value=n.message.data[2]===127,n.rawValue=n.message.data[2]),n.type==="omnimodeon"?(n.type="omnimode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="omnimodeoff"&&(n.type="omnimode",n.value=!1,n.rawValue=n.message.data[2]),n.type==="monomodeon"?(n.type="monomode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="polymodeon"&&(n.type="monomode",n.value=!1,n.rawValue=n.message.data[2]),this.emit(n.type,n)}_parseEventForParameterNumber(t){const n=t.message.dataBytes[0],r=t.message.dataBytes[1];n===99||n===101?(this._nrpnBuffer=[],this._rpnBuffer=[],n===99?this._nrpnBuffer=[t.message]:r!==127&&(this._rpnBuffer=[t.message])):n===98||n===100?n===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(t.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&r!==127?this._rpnBuffer.push(t.message):this._rpnBuffer=[]):(n===6||n===38||n===96||n===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],t):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],t):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(t){return t===6||t===38||t===96||t===97||t===98||t===99||t===100||t===101}_dispatchParameterNumberEvent(t,n,r,s){t=t==="nrpn"?"nrpn":"rpn";const o={target:s.target,timestamp:s.timestamp,message:s.message,parameterMsb:n,parameterLsb:r,value:Yt.from7bitToFloat(s.message.dataBytes[1]),rawValue:s.message.dataBytes[1]};t==="rpn"?o.parameter=Object.keys(wt.REGISTERED_PARAMETERS).find(f=>wt.REGISTERED_PARAMETERS[f][0]===n&&wt.REGISTERED_PARAMETERS[f][1]===r):o.parameter=(n<<7)+r;const l=wt.CONTROL_CHANGE_MESSAGES[s.message.dataBytes[0]].name;o.type=`${t}-${l}`,this.emit(o.type,o);const u=Object.assign({},o);u.type==="nrpn-dataincrement"?u.type="nrpn-databuttonincrement":u.type==="nrpn-datadecrement"?u.type="nrpn-databuttondecrement":u.type==="rpn-dataincrement"?u.type="rpn-databuttonincrement":u.type==="rpn-datadecrement"&&(u.type="rpn-databuttondecrement"),this.emit(u.type,u),o.type=t,o.subtype=l,this.emit(o.type,o)}getChannelModeByNumber(t){return $t.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),t=Math.floor(t)),Yt.getChannelModeByNumber(t)}getCcNameByNumber(t){if($t.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),t=parseInt(t),!(t>=0&&t<=127)))throw new RangeError("Invalid control change number.");return Yt.getCcNameByNumber(t)}getNoteState(t){t instanceof dm&&(t=t.identifier);const n=Yt.guessNoteNumber(t,$t.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[n]}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(t){this.validation&&(t=!!t),this.parameterNumberEventsEnabled=t}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class vO{constructor(t){this.rawData=t,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=Yt.getPropertyByValue(wt.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=Yt.getPropertyByValue(wt.SYSTEM_MESSAGES,this.command)),this.statusByte===wt.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class i8 extends al{constructor(t){super(),this._midiInput=t,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new r8(this,n);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(t=>t.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(t){let n={timestamp:$t.time,target:this,port:this};t.port.connection==="open"?(n.type="opened",this.emit("opened",n)):t.port.connection==="closed"&&t.port.state==="connected"?(n.type="closed",this.emit("closed",n)):t.port.connection==="closed"&&t.port.state==="disconnected"?(n.type="disconnected",n.port={connection:t.port.connection,id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name,state:t.port.state,type:t.port.type},this.emit("disconnected",n)):t.port.connection==="pending"&&t.port.state==="disconnected"||console.warn("This statechange event was not caught: ",t.port.connection,t.port.state)}_onMidiMessage(t){const n=new vO(t.data),r={port:this,target:this,message:n,timestamp:t.timeStamp,type:"midimessage",data:n.data,rawData:n.data,statusByte:n.data[0],dataBytes:n.dataBytes};this.emit("midimessage",r),n.isSystemMessage?this._parseEvent(r):n.isChannelMessage&&this.channels[n.channel]._processMidiMessageEvent(r),this._forwarders.forEach(s=>s.forward(n))}_parseEvent(t){const n=Object.assign({},t);n.type=n.message.type||"unknownmidimessage",n.type==="songselect"&&(n.song=t.data[1]+1,n.value=t.data[1],n.rawValue=n.value),this.emit(n.type,n)}async open(){try{await this._midiInput.open()}catch(t){return Promise.reject(t)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(t){return Promise.reject(t)}return Promise.resolve(this)}getChannelModeByNumber(){$t.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(t,n,r={}){if($t.validation&&typeof r=="function"){let s=n!=null?[].concat(n):void 0;n=r,r={channels:s}}if(wt.CHANNEL_EVENTS.includes(t)){r.channels===void 0&&(r.channels=wt.MIDI_CHANNEL_NUMBERS);let s=[];return Yt.sanitizeChannels(r.channels).forEach(o=>{s.push(this.channels[o].addListener(t,n,r))}),s}else return super.addListener(t,n,r)}addOneTimeListener(t,n,r={}){return r.remaining=1,this.addListener(t,n,r)}on(t,n,r,s){return this.addListener(t,n,r,s)}hasListener(t,n,r={}){if($t.validation&&typeof r=="function"){let s=[].concat(n);n=r,r={channels:s}}return wt.CHANNEL_EVENTS.includes(t)?(r.channels===void 0&&(r.channels=wt.MIDI_CHANNEL_NUMBERS),Yt.sanitizeChannels(r.channels).every(s=>this.channels[s].hasListener(t,n))):super.hasListener(t,n)}removeListener(t,n,r={}){if($t.validation&&typeof r=="function"){let s=[].concat(n);n=r,r={channels:s}}if(r.channels===void 0&&(r.channels=wt.MIDI_CHANNEL_NUMBERS),t==null)return Yt.sanitizeChannels(r.channels).forEach(s=>{this.channels[s]&&this.channels[s].removeListener()}),super.removeListener();wt.CHANNEL_EVENTS.includes(t)?Yt.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].removeListener(t,n,r)}):super.removeListener(t,n,r)}addForwarder(t,n={}){let r;return t instanceof GE?r=t:r=new GE(t,n),this._forwarders.push(r),r}removeForwarder(t){this._forwarders=this._forwarders.filter(n=>n!==t)}hasForwarder(t){return this._forwarders.includes(t)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return $t.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class s8 extends al{constructor(){super(),this.defaults={note:{attack:Yt.from7bitToFloat(64),release:Yt.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(t={},n=!1){if(Yt.isNode){try{window.navigator}catch{global.navigator=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)()}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=t.validation!==!1,this.validation&&(typeof t=="function"&&(t={callback:t,sysex:n}),n&&(t.sysex=!0)),this.enabled)return typeof t.callback=="function"&&t.callback(),Promise.resolve();const r={timestamp:this.time,target:this,type:"error",error:void 0},s={timestamp:this.time,target:this,type:"midiaccessgranted"},o={timestamp:this.time,target:this,type:"enabled"};try{typeof t.requestMIDIAccessFunction=="function"?this.interface=await t.requestMIDIAccessFunction({sysex:t.sysex,software:t.software}):this.interface=await navigator.requestMIDIAccess({sysex:t.sysex,software:t.software})}catch(l){return r.error=l,this.emit("error",r),typeof t.callback=="function"&&t.callback(l),Promise.reject(l)}this.emit("midiaccessgranted",s),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(l){return r.error=l,this.emit("error",r),typeof t.callback=="function"&&t.callback(l),Promise.reject(l)}return this.emit("enabled",o),typeof t.callback=="function"&&t.callback(),Promise.resolve(this)}async disable(){return this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface&&(this.interface.onstatechange=void 0),this.interface=null;let t={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",t),this.removeListener()})}getInputById(t,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return}if(n.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(this._disconnectedInputs[r].id===t.toString())return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(this.inputs[r].id===t.toString())return this.inputs[r]}getInputByName(t,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return;t=t.toString()}if(n.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(~this._disconnectedInputs[r].name.indexOf(t))return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(~this.inputs[r].name.indexOf(t))return this.inputs[r]}getOutputByName(t,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return;t=t.toString()}if(n.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(~this._disconnectedOutputs[r].name.indexOf(t))return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(~this.outputs[r].name.indexOf(t))return this.outputs[r]}getOutputById(t,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return}if(n.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(this._disconnectedOutputs[r].id===t.toString())return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(this.outputs[r].id===t.toString())return this.outputs[r]}noteNameToNumber(t){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),Yt.toNoteNumber(t,this.octaveOffset)}getOctave(t){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),t=parseInt(t)),!isNaN(t)&&t>=0&&t<=127?Yt.getNoteDetails(Yt.offsetNumber(t,this.octaveOffset)).octave:!1}sanitizeChannels(t){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),Yt.sanitizeChannels(t)}toMIDIChannels(t){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),Yt.sanitizeChannels(t)}guessNoteNumber(t){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),Yt.guessNoteNumber(t,this.octaveOffset)}getValidNoteArray(t,n={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),Yt.buildNoteArray(t,n)}convertToTimestamp(t){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),Yt.toTimestamp(t)}async _destroyInputsAndOutputs(){let t=[];return this.inputs.forEach(n=>t.push(n.destroy())),this.outputs.forEach(n=>t.push(n.destroy())),Promise.all(t).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(t){this._updateInputsAndOutputs();let n={timestamp:t.timeStamp,type:t.port.state,target:this};if(t.port.state==="connected"&&t.port.connection==="open"){t.port.type==="output"?n.port=this.getOutputById(t.port.id):t.port.type==="input"&&(n.port=this.getInputById(t.port.id)),this.emit(t.port.state,n);const r=Object.assign({},n);r.type="portschanged",this.emit(r.type,r)}else if(t.port.state==="disconnected"&&t.port.connection==="pending"){t.port.type==="input"?n.port=this.getInputById(t.port.id,{disconnected:!0}):t.port.type==="output"&&(n.port=this.getOutputById(t.port.id,{disconnected:!0})),this.emit(t.port.state,n);const r=Object.assign({},n);r.type="portschanged",this.emit(r.type,r)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let n=this._inputs.length-1;n>=0;n--){const r=this._inputs[n];Array.from(this.interface.inputs.values()).find(o=>o===r._midiInput)||(this._disconnectedInputs.push(r),this._inputs.splice(n,1))}let t=[];return this.interface.inputs.forEach(n=>{if(!this._inputs.find(r=>r._midiInput===n)){let r=this._disconnectedInputs.find(s=>s._midiInput===n);r||(r=new i8(n)),this._inputs.push(r),t.push(r.open())}}),Promise.all(t)}async _updateOutputs(){if(!this.interface)return;for(let n=this._outputs.length-1;n>=0;n--){const r=this._outputs[n];Array.from(this.interface.outputs.values()).find(o=>o===r._midiOutput)||(this._disconnectedOutputs.push(r),this._outputs.splice(n,1))}let t=[];return this.interface.outputs.forEach(n=>{if(!this._outputs.find(r=>r._midiOutput===n)){let r=this._disconnectedOutputs.find(s=>s._midiOutput===n);r||(r=new qb(n)),this._outputs.push(r),t.push(r.open())}}),Promise.all(t)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),Yt.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),Yt.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.4"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),wt.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),wt.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),wt.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),wt.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),wt.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const $t=new s8;$t.constructor=null;const o8=he.createContext({midiInputs:[],midiOutputs:[],selectedInput:void 0,selectedOutput:void 0,setSelectedInput:()=>{},setSelectedOutput:()=>{}}),a8=({children:e})=>{const[t,n]=he.useState([]),[r,s]=he.useState([]),[o,l]=he.useState(),[u,f]=he.useState();return he.useEffect(()=>{const m=()=>{n($t.inputs),s($t.outputs)};return $t.enable().then(m),()=>{$t.inputs.forEach(v=>{v.removeListener()}),$t.outputs.forEach(v=>{v.removeListener()}),$t.disable(),n([]),s([])}},[$t]),V(o8.Provider,{value:{midiInputs:t,midiOutputs:r,selectedInput:o,selectedOutput:u,setSelectedInput:l,setSelectedOutput:f},children:e})},c8=he.createContext({dragDropManager:void 0});var ul={},yO={exports:{}},_O={exports:{}},wO={exports:{}},bO={exports:{}};(function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(bO);var SO=bO.exports,xO={exports:{}};(function(e){var t=SO.default;function n(r,s){if(t(r)!=="object"||r===null)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var l=o.call(r,s||"default");if(t(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(xO);var l8=xO.exports;(function(e){var t=SO.default,n=l8;function r(s){var o=n(s,"string");return t(o)==="symbol"?o:String(o)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(wO);var u8=wO.exports;(function(e){var t=u8;function n(r,s,o){return s=t(s),s in r?Object.defineProperty(r,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[s]=o,r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(_O);var h8=_O.exports;(function(e){var t=h8;function n(s,o){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);o&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(s,f).enumerable})),l.push.apply(l,u)}return l}function r(s){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?n(Object(l),!0).forEach(function(u){t(s,u,l[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):n(Object(l)).forEach(function(u){Object.defineProperty(s,u,Object.getOwnPropertyDescriptor(l,u))})}return s}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(yO);var d8=yO.exports;Object.defineProperty(ul,"__esModule",{value:!0});var f8=d8;function p8(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var YE=p8(f8);function So(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var QE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),yw=function(){return Math.random().toString(36).substring(7).split("").join(".")},m0={INIT:"@@redux/INIT"+yw(),REPLACE:"@@redux/REPLACE"+yw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yw()}};function m8(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function w2(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(So(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(So(1));return n(w2)(e,t)}if(typeof e!="function")throw new Error(So(2));var s=e,o=t,l=[],u=l,f=!1;function m(){u===l&&(u=l.slice())}function v(){if(f)throw new Error(So(3));return o}function b(D){if(typeof D!="function")throw new Error(So(4));if(f)throw new Error(So(5));var M=!0;return m(),u.push(D),function(){if(M){if(f)throw new Error(So(6));M=!1,m();var R=u.indexOf(D);u.splice(R,1),l=null}}}function x(D){if(!m8(D))throw new Error(So(7));if(typeof D.type>"u")throw new Error(So(8));if(f)throw new Error(So(9));try{f=!0,o=s(o,D)}finally{f=!1}for(var M=l=u,C=0;C<M.length;C++){var R=M[C];R()}return D}function O(D){if(typeof D!="function")throw new Error(So(10));s=D,x({type:m0.REPLACE})}function T(){var D,M=b;return D={subscribe:function(R){if(typeof R!="object"||R===null)throw new Error(So(11));function j(){R.next&&R.next(v())}j();var H=M(j);return{unsubscribe:H}}},D[QE]=function(){return this},D}return x({type:m0.INIT}),r={dispatch:x,subscribe:b,getState:v,replaceReducer:O},r[QE]=T,r}var g8=w2;function v8(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:m0.INIT});if(typeof r>"u")throw new Error(So(12));if(typeof n(void 0,{type:m0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(So(13))})}function y8(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var s=t[r];typeof e[s]=="function"&&(n[s]=e[s])}var o=Object.keys(n),l;try{v8(n)}catch(u){l=u}return function(f,m){if(f===void 0&&(f={}),l)throw l;for(var v=!1,b={},x=0;x<o.length;x++){var O=o[x],T=n[O],D=f[O],M=T(D,m);if(typeof M>"u")throw m&&m.type,new Error(So(14));b[O]=M,v=v||M!==D}return v=v||o.length!==Object.keys(f).length,v?b:f}}function KE(e,t){return function(){return t(e.apply(this,arguments))}}function _8(e,t){if(typeof e=="function")return KE(e,t);if(typeof e!="object"||e===null)throw new Error(So(16));var n={};for(var r in e){var s=e[r];typeof s=="function"&&(n[r]=KE(s,t))}return n}function TO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function w8(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),o=function(){throw new Error(So(15))},l={getState:s.getState,dispatch:function(){return o.apply(void 0,arguments)}},u=t.map(function(f){return f(l)});return o=TO.apply(void 0,u)(s.dispatch),YE.default(YE.default({},s),{},{dispatch:o})}}}ul.__DO_NOT_USE__ActionTypes=m0;ul.applyMiddleware=w8;ul.bindActionCreators=_8;ul.combineReducers=y8;ul.compose=TO;var b8=ul.createStore=w2;ul.legacy_createStore=g8;function jr(e,t,...n){if(S8()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(t.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function S8(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function x8(e,t,n){return t.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,e)}function T8(e,t){return e.filter(n=>n!==t)}function EO(e){return typeof e=="object"}function E8(e,t){const n=new Map,r=o=>{n.set(o,n.has(o)?n.get(o)+1:1)};e.forEach(r),t.forEach(r);const s=[];return n.forEach((o,l)=>{o===1&&s.push(l)}),s}function C8(e,t){return e.filter(n=>t.indexOf(n)>-1)}const b2="dnd-core/INIT_COORDS",S1="dnd-core/BEGIN_DRAG",S2="dnd-core/PUBLISH_DRAG_SOURCE",x1="dnd-core/HOVER",T1="dnd-core/DROP",E1="dnd-core/END_DRAG";function XE(e,t){return{type:b2,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const k8={type:b2,payload:{clientOffset:null,sourceClientOffset:null}};function O8(e){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:l}=r,u=e.getMonitor(),f=e.getRegistry();e.dispatch(XE(o)),N8(n,u,f);const m=D8(n,u);if(m==null){e.dispatch(k8);return}let v=null;if(o){if(!l)throw new Error("getSourceClientOffset must be defined");A8(l),v=l(m)}e.dispatch(XE(o,v));const x=f.getSource(m).beginDrag(u,m);if(x==null)return;M8(x),f.pinSource(m);const O=f.getSourceType(m);return{type:S1,payload:{itemType:O,item:x,sourceId:m,clientOffset:o||null,sourceClientOffset:v||null,isSourcePublic:!!s}}}}function N8(e,t,n){jr(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){jr(n.getSource(r),"Expected sourceIds to be registered.")})}function A8(e){jr(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function M8(e){jr(EO(e),"Item must be an object.")}function D8(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function R8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){R8(e,s,n[s])})}return e}function I8(e){return function(n={}){const r=e.getMonitor(),s=e.getRegistry();L8(r),U8(r).forEach((l,u)=>{const f=F8(l,u,s,r),m={type:T1,payload:{dropResult:P8({},n,f)}};e.dispatch(m)})}}function L8(e){jr(e.isDragging(),"Cannot call drop while not dragging."),jr(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function F8(e,t,n,r){const s=n.getTarget(e);let o=s?s.drop(r,e):void 0;return j8(o),typeof o>"u"&&(o=t===0?{}:r.getDropResult()),o}function j8(e){jr(typeof e>"u"||EO(e),"Drop result must either be an object or undefined.")}function U8(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function B8(e){return function(){const n=e.getMonitor(),r=e.getRegistry();V8(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:E1}}}function V8(e){jr(e.isDragging(),"Cannot call endDrag while not dragging.")}function Wb(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function z8(e){return function(n,{clientOffset:r}={}){H8(n);const s=n.slice(0),o=e.getMonitor(),l=e.getRegistry(),u=o.getItemType();return q8(s,l,u),$8(s,o,l),W8(s,o,l),{type:x1,payload:{targetIds:s,clientOffset:r||null}}}}function H8(e){jr(Array.isArray(e),"Expected targetIds to be an array.")}function $8(e,t,n){jr(t.isDragging(),"Cannot call hover while not dragging."),jr(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const s=e[r];jr(e.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const o=n.getTarget(s);jr(o,"Expected targetIds to be registered.")}}function q8(e,t,n){for(let r=e.length-1;r>=0;r--){const s=e[r],o=t.getTargetType(s);Wb(o,n)||e.splice(r,1)}}function W8(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function G8(e){return function(){if(e.getMonitor().isDragging())return{type:S2}}}function Y8(e){return{beginDrag:O8(e),publishDragSource:G8(e),hover:z8(e),drop:I8(e),endDrag:B8(e)}}class Q8{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(o){return(...l)=>{const u=o.apply(t,l);typeof u<"u"&&n(u)}}const s=Y8(this);return Object.keys(s).reduce((o,l)=>{const u=s[l];return o[l]=r(u),o},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function K8(e,t){return{x:e.x+t.x,y:e.y+t.y}}function CO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function X8(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:CO(K8(t,r),n)}function Z8(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:CO(t,n)}const qg=[],x2=[];qg.__IS_NONE__=!0;x2.__IS_ALL__=!0;function J8(e,t){return e===qg?!1:e===x2||typeof t>"u"?!0:C8(t,e).length>0}class eL{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;jr(typeof t=="function","listener must be a function."),jr(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const o=()=>{const l=this.store.getState(),u=l.stateId;try{u===s||u===s+1&&!J8(l.dirtyHandlerIds,r)||t()}finally{s=u}};return this.store.subscribe(o)}subscribeToOffsetChange(t){jr(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return jr(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(jr(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),s=this.getItemType();return Wb(r,s)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(jr(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),o=this.getItemType();if(o&&!Wb(s,o))return!1;const l=this.getTargetIds();if(!l.length)return!1;const u=l.indexOf(t);return r?u===l.length-1:u>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return X8(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Z8(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const ZE=typeof global<"u"?global:self,kO=ZE.MutationObserver||ZE.WebKitMutationObserver;function OO(e){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),e()}}}function tL(e){let t=1;const n=new kO(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const nL=typeof kO=="function"?tL:OO;class rL{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=nL(this.flush),this.requestErrorThrow=OO(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class iL{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class sL{create(t){const n=this.freeTasks,r=n.length?n.pop():new iL(this.onError,s=>n[n.length]=s);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const NO=new rL,oL=new sL(NO.registerPendingError);function aL(e){NO.enqueueTask(oL.create(e))}const T2="dnd-core/ADD_SOURCE",E2="dnd-core/ADD_TARGET",C2="dnd-core/REMOVE_SOURCE",C1="dnd-core/REMOVE_TARGET";function cL(e){return{type:T2,payload:{sourceId:e}}}function lL(e){return{type:E2,payload:{targetId:e}}}function uL(e){return{type:C2,payload:{sourceId:e}}}function hL(e){return{type:C1,payload:{targetId:e}}}function dL(e){jr(typeof e.canDrag=="function","Expected canDrag to be a function."),jr(typeof e.beginDrag=="function","Expected beginDrag to be a function."),jr(typeof e.endDrag=="function","Expected endDrag to be a function.")}function fL(e){jr(typeof e.canDrop=="function","Expected canDrop to be a function."),jr(typeof e.hover=="function","Expected hover to be a function."),jr(typeof e.drop=="function","Expected beginDrag to be a function.")}function Gb(e,t){if(t&&Array.isArray(e)){e.forEach(n=>Gb(n,!1));return}jr(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Dc;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Dc||(Dc={}));let pL=0;function mL(){return pL++}function gL(e){const t=mL().toString();switch(e){case Dc.SOURCE:return`S${t}`;case Dc.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function JE(e){switch(e[0]){case"S":return Dc.SOURCE;case"T":return Dc.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function e5(e,t){const n=e.entries();let r=!1;do{const{done:s,value:[,o]}=n.next();if(o===t)return!0;r=!!s}while(!r);return!1}class vL{addSource(t,n){Gb(t),dL(n);const r=this.addHandler(Dc.SOURCE,t,n);return this.store.dispatch(cL(r)),r}addTarget(t,n){Gb(t,!0),fL(n);const r=this.addHandler(Dc.TARGET,t,n);return this.store.dispatch(lL(r)),r}containsHandler(t){return e5(this.dragSources,t)||e5(this.dropTargets,t)}getSource(t,n=!1){return jr(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return jr(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return jr(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return jr(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return JE(t)===Dc.SOURCE}isTargetId(t){return JE(t)===Dc.TARGET}removeSource(t){jr(this.getSource(t),"Expected an existing source."),this.store.dispatch(uL(t)),aL(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){jr(this.getTarget(t),"Expected an existing target."),this.store.dispatch(hL(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);jr(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){jr(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const s=gL(t);return this.types.set(s,n),t===Dc.SOURCE?this.dragSources.set(s,r):t===Dc.TARGET&&this.dropTargets.set(s,r),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const yL=(e,t)=>e===t;function _L(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function wL(e,t,n=yL){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function bL(e=qg,t){switch(t.type){case x1:break;case T2:case E2:case C1:case C2:return qg;case S1:case S2:case E1:case T1:default:return x2}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,s=E8(n,r);if(!(s.length>0||!wL(n,r)))return qg;const l=r[r.length-1],u=n[n.length-1];return l!==u&&(l&&s.push(l),u&&s.push(u)),s}function SL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){SL(e,s,n[s])})}return e}const t5={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function TL(e=t5,t){const{payload:n}=t;switch(t.type){case b2:case S1:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case x1:return _L(e.clientOffset,n.clientOffset)?e:xL({},e,{clientOffset:n.clientOffset});case E1:case T1:return t5;default:return e}}function EL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){EL(e,s,n[s])})}return e}const CL={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function kL(e=CL,t){const{payload:n}=t;switch(t.type){case S1:return Gp({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case S2:return Gp({},e,{isSourcePublic:!0});case x1:return Gp({},e,{targetIds:n.targetIds});case C1:return e.targetIds.indexOf(n.targetId)===-1?e:Gp({},e,{targetIds:T8(e.targetIds,n.targetId)});case T1:return Gp({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case E1:return Gp({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function OL(e=0,t){switch(t.type){case T2:case E2:return e+1;case C2:case C1:return e-1;default:return e}}function NL(e=0){return e+1}function AL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ML(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){AL(e,s,n[s])})}return e}function DL(e={},t){return{dirtyHandlerIds:bL(e.dirtyHandlerIds,{type:t.type,payload:ML({},t.payload,{prevTargetIds:x8(e,"dragOperation.targetIds",[])})}),dragOffset:TL(e.dragOffset,t),refCount:OL(e.refCount,t),dragOperation:kL(e.dragOperation,t),stateId:NL(e.stateId)}}function RL(e,t=void 0,n={},r=!1){const s=PL(r),o=new eL(s,new vL(s)),l=new Q8(s,o),u=e(l,t,n);return l.receiveBackend(u),l}function PL(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return b8(DL,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function IL(e,t){if(e==null)return{};var n=LL(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LL(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let n5=0;const hy=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var FL=he.memo(function(t){var{children:n}=t,r=IL(t,["children"]);const[s,o]=jL(r);return he.useEffect(()=>{if(o){const l=AO();return++n5,()=>{--n5===0&&(l[hy]=null)}}},[]),V(c8.Provider,{value:s,children:n})});function jL(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=UL(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function UL(e,t=AO(),n,r){const s=t;return s[hy]||(s[hy]={dragDropManager:RL(e,t,n,r)}),s[hy]}function AO(){return typeof global<"u"?global:window}function MO(e){let t=null;return()=>(t==null&&(t=e()),t)}function BL(e,t){return e.filter(n=>n!==t)}function VL(e,t){const n=new Set,r=o=>n.add(o);e.forEach(r),t.forEach(r);const s=[];return n.forEach(o=>s.push(o)),s}class zL{enter(t){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=VL(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=BL(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class HL{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const DO="__NATIVE_FILE__",RO="__NATIVE_URL__",PO="__NATIVE_TEXT__",IO="__NATIVE_HTML__",r5=Object.freeze(Object.defineProperty({__proto__:null,FILE:DO,HTML:IO,TEXT:PO,URL:RO},Symbol.toStringTag,{value:"Module"}));function _w(e,t,n){const r=t.reduce((s,o)=>s||e.getData(o),"");return r??n}const Yb={[DO]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[IO]:{exposeProperties:{html:(e,t)=>_w(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[RO]:{exposeProperties:{urls:(e,t)=>_w(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[PO]:{exposeProperties:{text:(e,t)=>_w(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function $L(e,t){const n=Yb[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new HL(n);return r.loadDataTransfer(t),r}function ww(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Yb).filter(n=>{const r=Yb[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const qL=MO(()=>/firefox/i.test(navigator.userAgent)),LO=MO(()=>!!window.safari);class i5{interpolate(t){const{xs:n,ys:r,c1s:s,c2s:o,c3s:l}=this;let u=n.length-1;if(t===n[u])return r[u];let f=0,m=l.length-1,v;for(;f<=m;){v=Math.floor(.5*(f+m));const O=n[v];if(O<t)f=v+1;else if(O>t)m=v-1;else return r[v]}u=Math.max(0,m);const b=t-n[u],x=b*b;return r[u]+s[u]*b+o[u]*x+l[u]*b*x}constructor(t,n){const{length:r}=t,s=[];for(let O=0;O<r;O++)s.push(O);s.sort((O,T)=>t[O]<t[T]?-1:1);const o=[],l=[];let u,f;for(let O=0;O<r-1;O++)u=t[O+1]-t[O],f=n[O+1]-n[O],o.push(u),l.push(f/u);const m=[l[0]];for(let O=0;O<o.length-1;O++){const T=l[O],D=l[O+1];if(T*D<=0)m.push(0);else{u=o[O];const M=o[O+1],C=u+M;m.push(3*C/((C+M)/T+(C+u)/D))}}m.push(l[l.length-1]);const v=[],b=[];let x;for(let O=0;O<m.length-1;O++){x=l[O];const T=m[O],D=1/o[O],M=T+m[O+1]-x-x;v.push((x-T-M)*D),b.push(M*D*D)}this.xs=t,this.ys=n,this.c1s=m,this.c2s=v,this.c3s=b}}const WL=1;function FO(e){const t=e.nodeType===WL?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function zv(e){return{x:e.clientX,y:e.clientY}}function GL(e){var t;return e.nodeName==="IMG"&&(qL()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function YL(e,t,n,r){let s=e?t.width:n,o=e?t.height:r;return LO()&&e&&(o/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:o}}function QL(e,t,n,r,s){const o=GL(t),u=FO(o?e:t),f={x:n.x-u.x,y:n.y-u.y},{offsetWidth:m,offsetHeight:v}=e,{anchorX:b,anchorY:x}=r,{dragPreviewWidth:O,dragPreviewHeight:T}=YL(o,t,m,v),D=()=>{let ie=new i5([0,.5,1],[f.y,f.y/v*T,f.y+T-v]).interpolate(x);return LO()&&o&&(ie+=(window.devicePixelRatio-1)*T),ie},M=()=>new i5([0,.5,1],[f.x,f.x/m*O,f.x+O-m]).interpolate(b),{offsetX:C,offsetY:R}=s,j=C===0||C,H=R===0||R;return{x:j?C:M(),y:H?R:D()}}class KL{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function XL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){XL(e,s,n[s])})}return e}class ZL{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const s=l=>this.handleDragStart(l,t),o=l=>this.handleSelectStart(l);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",o),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=l=>this.handleDragEnter(l,t),s=l=>this.handleDragOver(l,t),o=l=>this.handleDrop(l,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",o),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",o)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return s5({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return s5({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(r5).some(n=>r5[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=$L(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const o=this.sourceNodes.get(s);return o&&FO(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const l=zv(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:l});const{dataTransfer:u}=s,f=ww(u);if(this.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){const v=this.monitor.getSourceId(),b=this.sourceNodes.get(v),x=this.sourcePreviewNodes.get(v)||b;if(x){const{anchorX:O,anchorY:T,offsetX:D,offsetY:M}=this.getCurrentSourcePreviewNodeOptions(),j=QL(b,x,l,{anchorX:O,anchorY:T},{offsetX:D,offsetY:M});u.setDragImage(x,j.x,j.y)}}try{u==null||u.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:m}=this.getCurrentSourcePreviewNodeOptions();m?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(f)this.beginDragNativeItem(f);else{if(u&&!u.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:u}=s,f=ww(u);f&&this.beginDragNativeItem(f,u)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,o.length>0&&this.actions.hover(o,{clientOffset:zv(s)}),o.some(u=>this.monitor.canDropOnTarget(u))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=zv(s),this.scheduleHover(o),(o||[]).some(u=>this.monitor.canDropOnTarget(u))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;s.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}else ww(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:zv(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const o=s.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(s.preventDefault(),o.dragDrop()))},this.options=new KL(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new zL(this.isNodeInDocument)}}const JL=function(t,n,r){return new ZL(t,n,r)};var jO={exports:{}},Jp={};const e9=vR(BR);var Ki=he,Qb=e9;function UO(){return(UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var BO=["shift","alt","meta","mod","ctrl"],t9={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function nh(e){return(t9[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function bw(e,t){return t===void 0&&(t=","),e.split(t)}function Sw(e,t,n){t===void 0&&(t="+");var r=e.toLocaleLowerCase().split(t).map(function(s){return nh(s)});return UO({},{alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},{keys:r.filter(function(s){return!BO.includes(s)}),description:n})}typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&VO([nh(e.key),nh(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&zO([nh(e.key),nh(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){md.clear()});var md=new Set;function k2(e){return Array.isArray(e)}function o5(e,t){return t===void 0&&(t=","),(k2(e)?e:e.split(t)).every(function(n){return md.has(n.trim().toLowerCase())})}function VO(e){var t=Array.isArray(e)?e:[e];md.has("meta")&&md.forEach(function(n){return!function(r){return BO.includes(r)}(n)&&md.delete(n.toLowerCase())}),t.forEach(function(n){return md.add(n.toLowerCase())})}function zO(e){var t=Array.isArray(e)?e:[e];e==="meta"?md.clear():t.forEach(function(n){return md.delete(n.toLowerCase())})}function a5(e,t){var n=e.target;t===void 0&&(t=!1);var r=n&&n.tagName;return k2(t)?!!(r&&t&&t.some(function(s){return s.toLowerCase()===r.toLowerCase()})):!!(r&&t&&t===!0)}var HO=Ki.createContext(void 0);function n9(e){return Qb.jsx(HO.Provider,{value:{addHotkey:e.addHotkey,removeHotkey:e.removeHotkey},children:e.children})}function Kb(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,r){return n&&Kb(e[r],t[r])},!0):e===t}var $O=Ki.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),c5=function(){return Ki.useContext($O)},l5=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},r9=typeof window<"u"?Ki.useLayoutEffect:Ki.useEffect;Jp.HotkeysProvider=function(e){var t=e.initiallyActiveScopes,n=t===void 0?["*"]:t,r=e.children,s=Ki.useState((n==null?void 0:n.length)>0?n:["*"]),o=s[0],l=s[1],u=Ki.useState([]),f=u[0],m=u[1],v=Ki.useCallback(function(D){l(function(M){return M.includes("*")?[D]:Array.from(new Set([].concat(M,[D])))})},[]),b=Ki.useCallback(function(D){l(function(M){return M.filter(function(C){return C!==D}).length===0?["*"]:M.filter(function(C){return C!==D})})},[]),x=Ki.useCallback(function(D){l(function(M){return M.includes(D)?M.filter(function(C){return C!==D}).length===0?["*"]:M.filter(function(C){return C!==D}):M.includes("*")?[D]:Array.from(new Set([].concat(M,[D])))})},[]),O=Ki.useCallback(function(D){m(function(M){return[].concat(M,[D])})},[]),T=Ki.useCallback(function(D){m(function(M){return M.filter(function(C){return!Kb(C,D)})})},[]);return Qb.jsx($O.Provider,{value:{enabledScopes:o,hotkeys:f,enableScope:v,disableScope:b,toggleScope:x},children:Qb.jsx(n9,{addHotkey:O,removeHotkey:T,children:r})})},Jp.isHotkeyPressed=o5,Jp.useHotkeys=function(e,t,n,r){var s=Ki.useRef(null),o=Ki.useRef(!1),l=n instanceof Array?r instanceof Array?void 0:r:n,u=k2(e)?e.join(l==null?void 0:l.splitKey):e,f=n instanceof Array?n:r instanceof Array?r:void 0,m=Ki.useCallback(t,f??[]),v=Ki.useRef(m);v.current=f?m:t;var b=function(T){var D=Ki.useRef(void 0);return Kb(D.current,T)||(D.current=T),D.current}(l),x=c5().enabledScopes,O=Ki.useContext(HO);return r9(function(){if((b==null?void 0:b.enabled)!==!1&&(D=b==null?void 0:b.scopes,(T=x).length===0&&D?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),1):!D||T.some(function(H){return D.includes(H)})||T.includes("*"))){var T,D,M=function(H,F){var ie;F===void 0&&(F=!1),(!a5(H,["input","textarea","select"])||a5(H,b==null?void 0:b.enableOnFormTags))&&(b!=null&&b.ignoreEventWhen!=null&&b.ignoreEventWhen(H)||(s.current===null||document.activeElement===s.current||s.current.contains(document.activeElement)?((ie=H.target)==null||!ie.isContentEditable||b!=null&&b.enableOnContentEditable)&&bw(u,b==null?void 0:b.splitKey).forEach(function(ee){var _e,Xe=Sw(ee,b==null?void 0:b.combinationKey);if(function(Te,Fe,je){je===void 0&&(je=!1);var et=Fe.alt,ut=Fe.meta,Ge=Fe.mod,We=Fe.shift,Ae=Fe.ctrl,pe=Fe.keys,Pe=Te.key,Ye=Te.ctrlKey,it=Te.metaKey,Qe=Te.shiftKey,bt=Te.altKey,Mt=nh(Te.code),rt=Pe.toLowerCase();if(!je){if(et===!bt&&rt!=="alt"||We===!Qe&&rt!=="shift")return!1;if(Ge){if(!it&&!Ye)return!1}else if(ut===!it&&rt!=="meta"&&rt!=="os"||Ae===!Ye&&rt!=="ctrl"&&rt!=="control")return!1}return!(!pe||pe.length!==1||!pe.includes(rt)&&!pe.includes(Mt))||(pe?o5(pe):!pe)}(H,Xe,b==null?void 0:b.ignoreModifiers)||(_e=Xe.keys)!=null&&_e.includes("*")){if(F&&o.current)return;if(function(Te,Fe,je){(typeof je=="function"&&je(Te,Fe)||je===!0)&&Te.preventDefault()}(H,Xe,b==null?void 0:b.preventDefault),!function(Te,Fe,je){return typeof je=="function"?je(Te,Fe):je===!0||je===void 0}(H,Xe,b==null?void 0:b.enabled))return void l5(H);v.current(H,Xe),F||(o.current=!0)}}):l5(H)))},C=function(H){H.key!==void 0&&(VO(nh(H.code)),((b==null?void 0:b.keydown)===void 0&&(b==null?void 0:b.keyup)!==!0||b!=null&&b.keydown)&&M(H))},R=function(H){H.key!==void 0&&(zO(nh(H.code)),o.current=!1,b!=null&&b.keyup&&M(H,!0))},j=s.current||(l==null?void 0:l.document)||document;return j.addEventListener("keyup",R),j.addEventListener("keydown",C),O&&bw(u,b==null?void 0:b.splitKey).forEach(function(H){return O.addHotkey(Sw(H,b==null?void 0:b.combinationKey,b==null?void 0:b.description))}),function(){j.removeEventListener("keyup",R),j.removeEventListener("keydown",C),O&&bw(u,b==null?void 0:b.splitKey).forEach(function(H){return O.removeHotkey(Sw(H,b==null?void 0:b.combinationKey,b==null?void 0:b.description))})}}},[u,b,x]),s},Jp.useHotkeysContext=c5,Jp.useRecordHotkeys=function(){var e=Ki.useState(new Set),t=e[0],n=e[1],r=Ki.useState(!1),s=r[0],o=r[1],l=Ki.useCallback(function(f){f.key!==void 0&&(f.preventDefault(),f.stopPropagation(),n(function(m){var v=new Set(m);return v.add(nh(f.code)),v}))},[]),u=Ki.useCallback(function(){typeof document<"u"&&(document.removeEventListener("keydown",l),o(!1))},[l]);return[t,{start:Ki.useCallback(function(){n(new Set),typeof document<"u"&&(u(),document.addEventListener("keydown",l),o(!0))},[l,u]),stop:u,isRecording:s}]};jO.exports=Jp;var Mm=jO.exports,qO={exports:{}},Xb={exports:{}},xw={exports:{}},Hv={exports:{}},vr={};/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var u5;function WO(){if(u5)return vr;u5=1,Object.defineProperty(vr,"__esModule",{value:!0});function e(){return e=Object.assign?Object.assign.bind():function(L){for(var q=1;q<arguments.length;q++){var X=arguments[q];for(var re in X)Object.prototype.hasOwnProperty.call(X,re)&&(L[re]=X[re])}return L},e.apply(this,arguments)}let t=function(L){return L.Pop="POP",L.Push="PUSH",L.Replace="REPLACE",L}({});const n="popstate";function r(L){L===void 0&&(L={});let{initialEntries:q=["/"],initialIndex:X,v5Compat:re=!1}=L,se;se=q.map((Dt,kt)=>Ct(Dt,typeof Dt=="string"?null:Dt.state,kt===0?"default":void 0));let Ee=tt(X??se.length-1),Me=t.Pop,Ve=null;function tt(Dt){return Math.min(Math.max(Dt,0),se.length-1)}function lt(){return se[Ee]}function Ct(Dt,kt,Ht){kt===void 0&&(kt=null);let _t=v(se?lt().pathname:"/",Dt,kt,Ht);return u(_t.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(Dt)),_t}function Ft(Dt){return typeof Dt=="string"?Dt:b(Dt)}return{get index(){return Ee},get action(){return Me},get location(){return lt()},createHref:Ft,createURL(Dt){return new URL(Ft(Dt),"http://localhost")},encodeLocation(Dt){let kt=typeof Dt=="string"?x(Dt):Dt;return{pathname:kt.pathname||"",search:kt.search||"",hash:kt.hash||""}},push(Dt,kt){Me=t.Push;let Ht=Ct(Dt,kt);Ee+=1,se.splice(Ee,se.length,Ht),re&&Ve&&Ve({action:Me,location:Ht,delta:1})},replace(Dt,kt){Me=t.Replace;let Ht=Ct(Dt,kt);se[Ee]=Ht,re&&Ve&&Ve({action:Me,location:Ht,delta:0})},go(Dt){Me=t.Pop;let kt=tt(Ee+Dt),Ht=se[kt];Ee=kt,Ve&&Ve({action:Me,location:Ht,delta:Dt})},listen(Dt){return Ve=Dt,()=>{Ve=null}}}}function s(L){L===void 0&&(L={});function q(re,se){let{pathname:Ee,search:Me,hash:Ve}=re.location;return v("",{pathname:Ee,search:Me,hash:Ve},se.state&&se.state.usr||null,se.state&&se.state.key||"default")}function X(re,se){return typeof se=="string"?se:b(se)}return O(q,X,null,L)}function o(L){L===void 0&&(L={});function q(se,Ee){let{pathname:Me="/",search:Ve="",hash:tt=""}=x(se.location.hash.substr(1));return!Me.startsWith("/")&&!Me.startsWith(".")&&(Me="/"+Me),v("",{pathname:Me,search:Ve,hash:tt},Ee.state&&Ee.state.usr||null,Ee.state&&Ee.state.key||"default")}function X(se,Ee){let Me=se.document.querySelector("base"),Ve="";if(Me&&Me.getAttribute("href")){let tt=se.location.href,lt=tt.indexOf("#");Ve=lt===-1?tt:tt.slice(0,lt)}return Ve+"#"+(typeof Ee=="string"?Ee:b(Ee))}function re(se,Ee){u(se.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(Ee)+")")}return O(q,X,re,L)}function l(L,q){if(L===!1||L===null||typeof L>"u")throw new Error(q)}function u(L,q){if(!L){typeof console<"u"&&console.warn(q);try{throw new Error(q)}catch{}}}function f(){return Math.random().toString(36).substr(2,8)}function m(L,q){return{usr:L.state,key:L.key,idx:q}}function v(L,q,X,re){return X===void 0&&(X=null),e({pathname:typeof L=="string"?L:L.pathname,search:"",hash:""},typeof q=="string"?x(q):q,{state:X,key:q&&q.key||re||f()})}function b(L){let{pathname:q="/",search:X="",hash:re=""}=L;return X&&X!=="?"&&(q+=X.charAt(0)==="?"?X:"?"+X),re&&re!=="#"&&(q+=re.charAt(0)==="#"?re:"#"+re),q}function x(L){let q={};if(L){let X=L.indexOf("#");X>=0&&(q.hash=L.substr(X),L=L.substr(0,X));let re=L.indexOf("?");re>=0&&(q.search=L.substr(re),L=L.substr(0,re)),L&&(q.pathname=L)}return q}function O(L,q,X,re){re===void 0&&(re={});let{window:se=document.defaultView,v5Compat:Ee=!1}=re,Me=se.history,Ve=t.Pop,tt=null,lt=Ct();lt==null&&(lt=0,Me.replaceState(e({},Me.state,{idx:lt}),""));function Ct(){return(Me.state||{idx:null}).idx}function Ft(){Ve=t.Pop;let _t=Ct(),nn=_t==null?null:_t-lt;lt=_t,tt&&tt({action:Ve,location:Ht.location,delta:nn})}function Gt(_t,nn){Ve=t.Push;let Un=v(Ht.location,_t,nn);X&&X(Un,_t),lt=Ct()+1;let Cn=m(Un,lt),Ke=Ht.createHref(Un);try{Me.pushState(Cn,"",Ke)}catch(Fn){if(Fn instanceof DOMException&&Fn.name==="DataCloneError")throw Fn;se.location.assign(Ke)}Ee&&tt&&tt({action:Ve,location:Ht.location,delta:1})}function Dt(_t,nn){Ve=t.Replace;let Un=v(Ht.location,_t,nn);X&&X(Un,_t),lt=Ct();let Cn=m(Un,lt),Ke=Ht.createHref(Un);Me.replaceState(Cn,"",Ke),Ee&&tt&&tt({action:Ve,location:Ht.location,delta:0})}function kt(_t){let nn=se.location.origin!=="null"?se.location.origin:se.location.href,Un=typeof _t=="string"?_t:b(_t);return l(nn,"No window.location.(origin|href) available to create URL for href: "+Un),new URL(Un,nn)}let Ht={get action(){return Ve},get location(){return L(se,Me)},listen(_t){if(tt)throw new Error("A history only accepts one active listener");return se.addEventListener(n,Ft),tt=_t,()=>{se.removeEventListener(n,Ft),tt=null}},createHref(_t){return q(se,_t)},createURL:kt,encodeLocation(_t){let nn=kt(_t);return{pathname:nn.pathname,search:nn.search,hash:nn.hash}},push:Gt,replace:Dt,go(_t){return Me.go(_t)}};return Ht}let T=function(L){return L.data="data",L.deferred="deferred",L.redirect="redirect",L.error="error",L}({});const D=new Set(["lazy","caseSensitive","path","id","index","children"]);function M(L){return L.index===!0}function C(L,q,X,re){return X===void 0&&(X=[]),re===void 0&&(re={}),L.map((se,Ee)=>{let Me=[...X,Ee],Ve=typeof se.id=="string"?se.id:Me.join("-");if(l(se.index!==!0||!se.children,"Cannot specify children on an index route"),l(!re[Ve],'Found a route id collision on id "'+Ve+`".  Route id's must be globally unique within Data Router usages`),M(se)){let tt=e({},se,q(se),{id:Ve});return re[Ve]=tt,tt}else{let tt=e({},se,q(se),{id:Ve,children:void 0});return re[Ve]=tt,se.children&&(tt.children=C(se.children,q,Me,re)),tt}})}function R(L,q,X){X===void 0&&(X="/");let re=typeof q=="string"?x(q):q,se=it(re.pathname||"/",X);if(se==null)return null;let Ee=j(L);F(Ee);let Me=null;for(let Ve=0;Me==null&&Ve<Ee.length;++Ve)Me=Ge(Ee[Ve],Pe(se));return Me}function j(L,q,X,re){q===void 0&&(q=[]),X===void 0&&(X=[]),re===void 0&&(re="");let se=(Ee,Me,Ve)=>{let tt={relativePath:Ve===void 0?Ee.path||"":Ve,caseSensitive:Ee.caseSensitive===!0,childrenIndex:Me,route:Ee};tt.relativePath.startsWith("/")&&(l(tt.relativePath.startsWith(re),'Absolute route path "'+tt.relativePath+'" nested under path '+('"'+re+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),tt.relativePath=tt.relativePath.slice(re.length));let lt=ae([re,tt.relativePath]),Ct=X.concat(tt);Ee.children&&Ee.children.length>0&&(l(Ee.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+lt+'".')),j(Ee.children,q,Ct,lt)),!(Ee.path==null&&!Ee.index)&&q.push({path:lt,score:et(lt,Ee.index),routesMeta:Ct})};return L.forEach((Ee,Me)=>{var Ve;if(Ee.path===""||!((Ve=Ee.path)!=null&&Ve.includes("?")))se(Ee,Me);else for(let tt of H(Ee.path))se(Ee,Me,tt)}),q}function H(L){let q=L.split("/");if(q.length===0)return[];let[X,...re]=q,se=X.endsWith("?"),Ee=X.replace(/\?$/,"");if(re.length===0)return se?[Ee,""]:[Ee];let Me=H(re.join("/")),Ve=[];return Ve.push(...Me.map(tt=>tt===""?Ee:[Ee,tt].join("/"))),se&&Ve.push(...Me),Ve.map(tt=>L.startsWith("/")&&tt===""?"/":tt)}function F(L){L.sort((q,X)=>q.score!==X.score?X.score-q.score:ut(q.routesMeta.map(re=>re.childrenIndex),X.routesMeta.map(re=>re.childrenIndex)))}const ie=/^:\w+$/,ee=3,_e=2,Xe=1,Te=10,Fe=-2,je=L=>L==="*";function et(L,q){let X=L.split("/"),re=X.length;return X.some(je)&&(re+=Fe),q&&(re+=_e),X.filter(se=>!je(se)).reduce((se,Ee)=>se+(ie.test(Ee)?ee:Ee===""?Xe:Te),re)}function ut(L,q){return L.length===q.length&&L.slice(0,-1).every((re,se)=>re===q[se])?L[L.length-1]-q[q.length-1]:0}function Ge(L,q){let{routesMeta:X}=L,re={},se="/",Ee=[];for(let Me=0;Me<X.length;++Me){let Ve=X[Me],tt=Me===X.length-1,lt=se==="/"?q:q.slice(se.length)||"/",Ct=Ae({path:Ve.relativePath,caseSensitive:Ve.caseSensitive,end:tt},lt);if(!Ct)return null;Object.assign(re,Ct.params);let Ft=Ve.route;Ee.push({params:re,pathname:ae([se,Ct.pathname]),pathnameBase:we(ae([se,Ct.pathnameBase])),route:Ft}),Ct.pathnameBase!=="/"&&(se=ae([se,Ct.pathnameBase]))}return Ee}function We(L,q){q===void 0&&(q={});let X=L;X.endsWith("*")&&X!=="*"&&!X.endsWith("/*")&&(u(!1,'Route path "'+X+'" will be treated as if it were '+('"'+X.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+X.replace(/\*$/,"/*")+'".')),X=X.replace(/\*$/,"/*"));const re=X.startsWith("/")?"/":"",se=Me=>Me==null?"":typeof Me=="string"?Me:String(Me),Ee=X.split(/\/+/).map((Me,Ve,tt)=>{if(Ve===tt.length-1&&Me==="*")return se(q["*"]);const Ct=Me.match(/^:(\w+)(\??)$/);if(Ct){const[,Ft,Gt]=Ct;let Dt=q[Ft];return l(Gt==="?"||Dt!=null,'Missing ":'+Ft+'" param'),se(Dt)}return Me.replace(/\?$/g,"")}).filter(Me=>!!Me);return re+Ee.join("/")}function Ae(L,q){typeof L=="string"&&(L={path:L,caseSensitive:!1,end:!0});let[X,re]=pe(L.path,L.caseSensitive,L.end),se=q.match(X);if(!se)return null;let Ee=se[0],Me=Ee.replace(/(.)\/+$/,"$1"),Ve=se.slice(1);return{params:re.reduce((lt,Ct,Ft)=>{if(Ct==="*"){let Gt=Ve[Ft]||"";Me=Ee.slice(0,Ee.length-Gt.length).replace(/(.)\/+$/,"$1")}return lt[Ct]=Ye(Ve[Ft]||"",Ct),lt},{}),pathname:Ee,pathnameBase:Me,pattern:L}}function pe(L,q,X){q===void 0&&(q=!1),X===void 0&&(X=!0),u(L==="*"||!L.endsWith("*")||L.endsWith("/*"),'Route path "'+L+'" will be treated as if it were '+('"'+L.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+L.replace(/\*$/,"/*")+'".'));let re=[],se="^"+L.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(Me,Ve)=>(re.push(Ve),"/([^\\/]+)"));return L.endsWith("*")?(re.push("*"),se+=L==="*"||L==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):X?se+="\\/*$":L!==""&&L!=="/"&&(se+="(?:(?=\\/|$))"),[new RegExp(se,q?void 0:"i"),re]}function Pe(L){try{return decodeURI(L)}catch(q){return u(!1,'The URL path "'+L+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+q+").")),L}}function Ye(L,q){try{return decodeURIComponent(L)}catch(X){return u(!1,'The value for the URL param "'+q+'" will not be decoded because'+(' the string "'+L+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+X+").")),L}}function it(L,q){if(q==="/")return L;if(!L.toLowerCase().startsWith(q.toLowerCase()))return null;let X=q.endsWith("/")?q.length-1:q.length,re=L.charAt(X);return re&&re!=="/"?null:L.slice(X)||"/"}function Qe(L,q){q===void 0&&(q="/");let{pathname:X,search:re="",hash:se=""}=typeof L=="string"?x(L):L;return{pathname:X?X.startsWith("/")?X:bt(X,q):q,search:be(re),hash:W(se)}}function bt(L,q){let X=q.replace(/\/+$/,"").split("/");return L.split("/").forEach(se=>{se===".."?X.length>1&&X.pop():se!=="."&&X.push(se)}),X.length>1?X.join("/"):"/"}function Mt(L,q,X,re){return"Cannot include a '"+L+"' character in a manually specified "+("`to."+q+"` field ["+JSON.stringify(re)+"].  Please separate it out to the ")+("`to."+X+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rt(L){return L.filter((q,X)=>X===0||q.route.path&&q.route.path.length>0)}function Kt(L,q,X,re){re===void 0&&(re=!1);let se;typeof L=="string"?se=x(L):(se=e({},L),l(!se.pathname||!se.pathname.includes("?"),Mt("?","pathname","search",se)),l(!se.pathname||!se.pathname.includes("#"),Mt("#","pathname","hash",se)),l(!se.search||!se.search.includes("#"),Mt("#","search","hash",se)));let Ee=L===""||se.pathname==="",Me=Ee?"/":se.pathname,Ve;if(re||Me==null)Ve=X;else{let Ft=q.length-1;if(Me.startsWith("..")){let Gt=Me.split("/");for(;Gt[0]==="..";)Gt.shift(),Ft-=1;se.pathname=Gt.join("/")}Ve=Ft>=0?q[Ft]:"/"}let tt=Qe(se,Ve),lt=Me&&Me!=="/"&&Me.endsWith("/"),Ct=(Ee||Me===".")&&X.endsWith("/");return!tt.pathname.endsWith("/")&&(lt||Ct)&&(tt.pathname+="/"),tt}function Ue(L){return L===""||L.pathname===""?"/":typeof L=="string"?x(L).pathname:L.pathname}const ae=L=>L.join("/").replace(/\/\/+/g,"/"),we=L=>L.replace(/\/+$/,"").replace(/^\/*/,"/"),be=L=>!L||L==="?"?"":L.startsWith("?")?L:"?"+L,W=L=>!L||L==="#"?"":L.startsWith("#")?L:"#"+L,le=function(q,X){X===void 0&&(X={});let re=typeof X=="number"?{status:X}:X,se=new Headers(re.headers);return se.has("Content-Type")||se.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(q),e({},re,{headers:se}))};class z extends Error{}class K{constructor(q,X){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],l(q&&typeof q=="object"&&!Array.isArray(q),"defer() only accepts plain objects");let re;this.abortPromise=new Promise((Ee,Me)=>re=Me),this.controller=new AbortController;let se=()=>re(new z("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",se),this.controller.signal.addEventListener("abort",se),this.data=Object.entries(q).reduce((Ee,Me)=>{let[Ve,tt]=Me;return Object.assign(Ee,{[Ve]:this.trackPromise(Ve,tt)})},{}),this.done&&this.unlistenAbortSignal(),this.init=X}trackPromise(q,X){if(!(X instanceof Promise))return X;this.deferredKeys.push(q),this.pendingKeysSet.add(q);let re=Promise.race([X,this.abortPromise]).then(se=>this.onSettle(re,q,void 0,se),se=>this.onSettle(re,q,se));return re.catch(()=>{}),Object.defineProperty(re,"_tracked",{get:()=>!0}),re}onSettle(q,X,re,se){if(this.controller.signal.aborted&&re instanceof z)return this.unlistenAbortSignal(),Object.defineProperty(q,"_error",{get:()=>re}),Promise.reject(re);if(this.pendingKeysSet.delete(X),this.done&&this.unlistenAbortSignal(),re===void 0&&se===void 0){let Ee=new Error('Deferred data for key "'+X+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(q,"_error",{get:()=>Ee}),this.emit(!1,X),Promise.reject(Ee)}return se===void 0?(Object.defineProperty(q,"_error",{get:()=>re}),this.emit(!1,X),Promise.reject(re)):(Object.defineProperty(q,"_data",{get:()=>se}),this.emit(!1,X),se)}emit(q,X){this.subscribers.forEach(re=>re(q,X))}subscribe(q){return this.subscribers.add(q),()=>this.subscribers.delete(q)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((q,X)=>this.pendingKeysSet.delete(X)),this.emit(!0)}async resolveData(q){let X=!1;if(!this.done){let re=()=>this.cancel();q.addEventListener("abort",re),X=await new Promise(se=>{this.subscribe(Ee=>{q.removeEventListener("abort",re),(Ee||this.done)&&se(Ee)})})}return X}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return l(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((q,X)=>{let[re,se]=X;return Object.assign(q,{[re]:Ce(se)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function de(L){return L instanceof Promise&&L._tracked===!0}function Ce(L){if(!de(L))return L;if(L._error)throw L._error;return L._data}const fe=function(q,X){X===void 0&&(X={});let re=typeof X=="number"?{status:X}:X;return new K(q,re)},$e=function(q,X){X===void 0&&(X=302);let re=X;typeof re=="number"?re={status:re}:typeof re.status>"u"&&(re.status=302);let se=new Headers(re.headers);return se.set("Location",q),new Response(null,e({},re,{headers:se}))},mt=(L,q)=>{let X=$e(L,q);return X.headers.set("X-Remix-Reload-Document","true"),X};class It{constructor(q,X,re,se){se===void 0&&(se=!1),this.status=q,this.statusText=X||"",this.internal=se,re instanceof Error?(this.data=re.toString(),this.error=re):this.data=re}}function Vt(L){return L!=null&&typeof L.status=="number"&&typeof L.statusText=="string"&&typeof L.internal=="boolean"&&"data"in L}const Pt=["post","put","patch","delete"],mn=new Set(Pt),Sn=["get",...Pt],un=new Set(Sn),mr=new Set([301,302,303,307,308]),Nr=new Set([307,308]),Ln={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jt={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ir=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ki=L=>({hasErrorBoundary:!!L.hasErrorBoundary});function ei(L){const q=L.window?L.window:typeof window<"u"?window:void 0,X=typeof q<"u"&&typeof q.document<"u"&&typeof q.document.createElement<"u",re=!X;l(L.routes.length>0,"You must provide a non-empty routes array to createRouter");let se;if(L.mapRouteProperties)se=L.mapRouteProperties;else if(L.detectErrorBoundary){let nt=L.detectErrorBoundary;se=He=>({hasErrorBoundary:nt(He)})}else se=ki;let Ee={},Me=C(L.routes,se,void 0,Ee),Ve,tt=L.basename||"/",lt=e({v7_normalizeFormMethod:!1,v7_prependBasename:!1},L.future),Ct=null,Ft=new Set,Gt=null,Dt=null,kt=null,Ht=L.hydrationData!=null,_t=R(Me,L.history.location,tt),nn=null;if(_t==null){let nt=Br(404,{pathname:L.history.location.pathname}),{matches:He,route:Tt}=br(Me);_t=He,nn={[Tt.id]:nt}}let Un=!_t.some(nt=>nt.route.lazy)&&(!_t.some(nt=>nt.route.loader)||L.hydrationData!=null),Cn,Ke={historyAction:L.history.action,location:L.history.location,matches:_t,initialized:Un,navigation:Ln,restoreScrollPosition:L.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:L.hydrationData&&L.hydrationData.loaderData||{},actionData:L.hydrationData&&L.hydrationData.actionData||null,errors:L.hydrationData&&L.hydrationData.errors||nn,fetchers:new Map,blockers:new Map},Fn=t.Pop,Qr=!1,an,ks=!1,Os=!1,Ns=[],Ia=[],An=new Map,Hc=0,ti=-1,ur=new Map,lo=new Set,La=new Map,da=new Map,Oo=new Map,No=!1;function mu(){return Ct=L.history.listen(nt=>{let{action:He,location:Tt,delta:rn}=nt;if(No){No=!1;return}u(Oo.size===0||rn!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Rn=ts({currentLocation:Ke.location,nextLocation:Tt,historyAction:He});if(Rn&&rn!=null){No=!0,L.history.go(rn*-1),Ks(Rn,{state:"blocked",location:Tt,proceed(){Ks(Rn,{state:"proceeding",proceed:void 0,reset:void 0,location:Tt}),L.history.go(rn)},reset(){let gn=new Map(Ke.blockers);gn.set(Rn,yr),Oi({blockers:gn})}});return}return Ys(He,Tt)}),Ke.initialized||Ys(t.Pop,Ke.location),Cn}function gu(){Ct&&Ct(),Ft.clear(),an&&an.abort(),Ke.fetchers.forEach((nt,He)=>Fi(He)),Ke.blockers.forEach((nt,He)=>ja(He))}function vu(nt){return Ft.add(nt),()=>Ft.delete(nt)}function Oi(nt){Ke=e({},Ke,nt),Ft.forEach(He=>He(Ke))}function kn(nt,He){var Tt,rn;let Rn=Ke.actionData!=null&&Ke.navigation.formMethod!=null&&ne(Ke.navigation.formMethod)&&Ke.navigation.state==="loading"&&((Tt=nt.state)==null?void 0:Tt._isRedirect)!==!0,gn;He.actionData?Object.keys(He.actionData).length>0?gn=He.actionData:gn=null:Rn?gn=Ke.actionData:gn=null;let Mn=He.loaderData?hs(Ke.loaderData,He.loaderData,He.matches||[],He.errors):Ke.loaderData,xn=Ke.blockers;xn.size>0&&(xn=new Map(xn),xn.forEach((nr,_i)=>xn.set(_i,yr)));let dn=Qr===!0||Ke.navigation.formMethod!=null&&ne(Ke.navigation.formMethod)&&((rn=nt.state)==null?void 0:rn._isRedirect)!==!0;Ve&&(Me=Ve,Ve=void 0),ks||Fn===t.Pop||(Fn===t.Push?L.history.push(nt,nt.state):Fn===t.Replace&&L.history.replace(nt,nt.state)),Oi(e({},He,{actionData:gn,loaderData:Mn,historyAction:Fn,location:nt,initialized:!0,navigation:Ln,revalidation:"idle",restoreScrollPosition:Fs(nt,He.matches||Ke.matches),preventScrollReset:dn,blockers:xn})),Fn=t.Pop,Qr=!1,ks=!1,Os=!1,Ns=[],Ia=[]}async function Lr(nt,He){if(typeof nt=="number"){L.history.go(nt);return}let Tt=Ur(Ke.location,Ke.matches,tt,lt.v7_prependBasename,nt,He==null?void 0:He.fromRouteId,He==null?void 0:He.relative),{path:rn,submission:Rn,error:gn}=di(lt.v7_normalizeFormMethod,!1,Tt,He),Mn=Ke.location,xn=v(Ke.location,rn,He&&He.state);xn=e({},xn,L.history.encodeLocation(xn));let dn=He&&He.replace!=null?He.replace:void 0,nr=t.Push;dn===!0?nr=t.Replace:dn===!1||Rn!=null&&ne(Rn.formMethod)&&Rn.formAction===Ke.location.pathname+Ke.location.search&&(nr=t.Replace);let _i=He&&"preventScrollReset"in He?He.preventScrollReset===!0:void 0,hr=ts({currentLocation:Mn,nextLocation:xn,historyAction:nr});if(hr){Ks(hr,{state:"blocked",location:xn,proceed(){Ks(hr,{state:"proceeding",proceed:void 0,reset:void 0,location:xn}),Lr(nt,He)},reset(){let li=new Map(Ke.blockers);li.set(hr,yr),Oi({blockers:li})}});return}return await Ys(nr,xn,{submission:Rn,pendingError:gn,preventScrollReset:_i,replace:He&&He.replace})}function Yd(){if(uo(),Oi({revalidation:"loading"}),Ke.navigation.state!=="submitting"){if(Ke.navigation.state==="idle"){Ys(Ke.historyAction,Ke.location,{startUninterruptedRevalidation:!0});return}Ys(Fn||Ke.historyAction,Ke.navigation.location,{overrideNavigation:Ke.navigation})}}async function Ys(nt,He,Tt){an&&an.abort(),an=null,Fn=nt,ks=(Tt&&Tt.startUninterruptedRevalidation)===!0,qc(Ke.location,Ke.matches),Qr=(Tt&&Tt.preventScrollReset)===!0;let rn=Ve||Me,Rn=Tt&&Tt.overrideNavigation,gn=R(rn,He,tt);if(!gn){let li=Br(404,{pathname:He.pathname}),{matches:Kr,route:js}=br(rn);_u(),kn(He,{matches:Kr,loaderData:{},errors:{[js.id]:li}});return}if(Ke.initialized&&!Os&&sr(Ke.location,He)&&!(Tt&&Tt.submission&&ne(Tt.submission.formMethod))){kn(He,{matches:gn});return}an=new AbortController;let Mn=lr(L.history,He,an.signal,Tt&&Tt.submission),xn,dn;if(Tt&&Tt.pendingError)dn={[Nt(gn).route.id]:Tt.pendingError};else if(Tt&&Tt.submission&&ne(Tt.submission.formMethod)){let li=await gl(Mn,He,Tt.submission,gn,{replace:Tt.replace});if(li.shortCircuited)return;xn=li.pendingActionData,dn=li.pendingActionError,Rn=qt(He,Tt.submission),Mn=new Request(Mn.url,{signal:Mn.signal})}let{shortCircuited:nr,loaderData:_i,errors:hr}=await Nh(Mn,He,gn,Rn,Tt&&Tt.submission,Tt&&Tt.fetcherSubmission,Tt&&Tt.replace,xn,dn);nr||(an=null,kn(He,e({matches:gn},xn?{actionData:xn}:{},{loaderData:_i,errors:hr})))}async function gl(nt,He,Tt,rn,Rn){Rn===void 0&&(Rn={}),uo();let gn=Xt(He,Tt);Oi({navigation:gn});let Mn,xn=ht(rn,He);if(!xn.route.action&&!xn.route.lazy)Mn={type:T.error,error:Br(405,{method:nt.method,pathname:He.pathname,routeId:xn.route.id})};else if(Mn=await Hi("action",nt,xn,rn,Ee,se,tt),nt.signal.aborted)return{shortCircuited:!0};if(Gn(Mn)){let dn;return Rn&&Rn.replace!=null?dn=Rn.replace:dn=Mn.location===Ke.location.pathname+Ke.location.search,await ni(Ke,Mn,{submission:Tt,replace:dn}),{shortCircuited:!0}}if(Is(Mn)){let dn=Nt(rn,xn.route.id);return(Rn&&Rn.replace)!==!0&&(Fn=t.Push),{pendingActionData:{},pendingActionError:{[dn.route.id]:Mn.error}}}if($i(Mn))throw Br(400,{type:"defer-action"});return{pendingActionData:{[xn.route.id]:Mn.data}}}async function Nh(nt,He,Tt,rn,Rn,gn,Mn,xn,dn){let nr=rn||qt(He,Rn),_i=Rn||gn||vt(nr),hr=Ve||Me,[li,Kr]=Es(L.history,Ke,Tt,_i,He,Os,Ns,Ia,La,lo,hr,tt,xn,dn);if(_u(Sr=>!(Tt&&Tt.some(qi=>qi.route.id===Sr))||li&&li.some(qi=>qi.route.id===Sr)),ti=++Hc,li.length===0&&Kr.length===0){let Sr=Ls();return kn(He,e({matches:Tt,loaderData:{},errors:dn||null},xn?{actionData:xn}:{},Sr?{fetchers:new Map(Ke.fetchers)}:{})),{shortCircuited:!0}}if(!ks){Kr.forEach(qi=>{let dr=Ke.fetchers.get(qi.key),Sl=jt(void 0,dr?dr.data:void 0);Ke.fetchers.set(qi.key,Sl)});let Sr=xn||Ke.actionData;Oi(e({navigation:nr},Sr?Object.keys(Sr).length===0?{actionData:null}:{actionData:Sr}:{},Kr.length>0?{fetchers:new Map(Ke.fetchers)}:{}))}Kr.forEach(Sr=>{An.has(Sr.key)&&Fr(Sr.key),Sr.controller&&An.set(Sr.key,Sr.controller)});let js=()=>Kr.forEach(Sr=>Fr(Sr.key));an&&an.signal.addEventListener("abort",js);let{results:Ao,loaderResults:Zo,fetcherResults:wl}=await Fa(Ke.matches,Tt,li,Kr,nt);if(nt.signal.aborted)return{shortCircuited:!0};an&&an.signal.removeEventListener("abort",js),Kr.forEach(Sr=>An.delete(Sr.key));let Xs=$n(Ao);if(Xs){if(Xs.idx>=li.length){let Sr=Kr[Xs.idx-li.length].key;lo.add(Sr)}return await ni(Ke,Xs.result,{replace:Mn}),{shortCircuited:!0}}let{loaderData:Us,errors:uc}=es(Ke,Tt,li,Zo,dn,Kr,wl,da);da.forEach((Sr,qi)=>{Sr.subscribe(dr=>{(dr||Sr.done)&&da.delete(qi)})});let wu=Ls(),bl=yu(ti),Ni=wu||bl||Kr.length>0;return e({loaderData:Us,errors:uc},Ni?{fetchers:new Map(Ke.fetchers)}:{})}function $c(nt){return Ke.fetchers.get(nt)||Jt}function vl(nt,He,Tt,rn){if(re)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");An.has(nt)&&Fr(nt);let Rn=Ve||Me,gn=Ur(Ke.location,Ke.matches,tt,lt.v7_prependBasename,Tt,He,rn==null?void 0:rn.relative),Mn=R(Rn,gn,tt);if(!Mn){Ar(nt,He,Br(404,{pathname:gn}));return}let{path:xn,submission:dn,error:nr}=di(lt.v7_normalizeFormMethod,!0,gn,rn);if(nr){Ar(nt,He,nr);return}let _i=ht(Mn,xn);if(Qr=(rn&&rn.preventScrollReset)===!0,dn&&ne(dn.formMethod)){yl(nt,He,xn,_i,Mn,dn);return}La.set(nt,{routeId:He,path:xn}),Qd(nt,He,xn,_i,Mn,dn)}async function yl(nt,He,Tt,rn,Rn,gn){if(uo(),La.delete(nt),!rn.route.action&&!rn.route.lazy){let wi=Br(405,{method:gn.formMethod,pathname:Tt,routeId:He});Ar(nt,He,wi);return}let Mn=Ke.fetchers.get(nt),xn=gt(gn,Mn);Ke.fetchers.set(nt,xn),Oi({fetchers:new Map(Ke.fetchers)});let dn=new AbortController,nr=lr(L.history,Tt,dn.signal,gn);An.set(nt,dn);let _i=Hc,hr=await Hi("action",nr,rn,Rn,Ee,se,tt);if(nr.signal.aborted){An.get(nt)===dn&&An.delete(nt);return}if(Gn(hr))if(An.delete(nt),ti>_i){let wi=St(void 0);Ke.fetchers.set(nt,wi),Oi({fetchers:new Map(Ke.fetchers)});return}else{lo.add(nt);let wi=jt(gn);return Ke.fetchers.set(nt,wi),Oi({fetchers:new Map(Ke.fetchers)}),ni(Ke,hr,{submission:gn,isFetchActionRedirect:!0})}if(Is(hr)){Ar(nt,He,hr.error);return}if($i(hr))throw Br(400,{type:"defer-action"});let li=Ke.navigation.location||Ke.location,Kr=lr(L.history,li,dn.signal),js=Ve||Me,Ao=Ke.navigation.state!=="idle"?R(js,Ke.navigation.location,tt):Ke.matches;l(Ao,"Didn't find any matches after fetcher action");let Zo=++Hc;ur.set(nt,Zo);let wl=jt(gn,hr.data);Ke.fetchers.set(nt,wl);let[Xs,Us]=Es(L.history,Ke,Ao,gn,li,Os,Ns,Ia,La,lo,js,tt,{[rn.route.id]:hr.data},void 0);Us.filter(wi=>wi.key!==nt).forEach(wi=>{let hc=wi.key,bu=Ke.fetchers.get(hc),Kd=jt(void 0,bu?bu.data:void 0);Ke.fetchers.set(hc,Kd),An.has(hc)&&Fr(hc),wi.controller&&An.set(hc,wi.controller)}),Oi({fetchers:new Map(Ke.fetchers)});let uc=()=>Us.forEach(wi=>Fr(wi.key));dn.signal.addEventListener("abort",uc);let{results:wu,loaderResults:bl,fetcherResults:Ni}=await Fa(Ke.matches,Ao,Xs,Us,Kr);if(dn.signal.aborted)return;dn.signal.removeEventListener("abort",uc),ur.delete(nt),An.delete(nt),Us.forEach(wi=>An.delete(wi.key));let Sr=$n(wu);if(Sr){if(Sr.idx>=Xs.length){let wi=Us[Sr.idx-Xs.length].key;lo.add(wi)}return ni(Ke,Sr.result)}let{loaderData:qi,errors:dr}=es(Ke,Ke.matches,Xs,bl,void 0,Us,Ni,da);if(Ke.fetchers.has(nt)){let wi=St(hr.data);Ke.fetchers.set(nt,wi)}let Sl=yu(Zo);Ke.navigation.state==="loading"&&Zo>ti?(l(Fn,"Expected pending action"),an&&an.abort(),kn(Ke.navigation.location,{matches:Ao,loaderData:qi,errors:dr,fetchers:new Map(Ke.fetchers)})):(Oi(e({errors:dr,loaderData:hs(Ke.loaderData,qi,Ao,dr)},Sl||Us.length>0?{fetchers:new Map(Ke.fetchers)}:{})),Os=!1)}async function Qd(nt,He,Tt,rn,Rn,gn){let Mn=Ke.fetchers.get(nt),xn=jt(gn,Mn?Mn.data:void 0);Ke.fetchers.set(nt,xn),Oi({fetchers:new Map(Ke.fetchers)});let dn=new AbortController,nr=lr(L.history,Tt,dn.signal);An.set(nt,dn);let _i=Hc,hr=await Hi("loader",nr,rn,Rn,Ee,se,tt);if($i(hr)&&(hr=await Ne(hr,nr.signal,!0)||hr),An.get(nt)===dn&&An.delete(nt),nr.signal.aborted)return;if(Gn(hr))if(ti>_i){let Kr=St(void 0);Ke.fetchers.set(nt,Kr),Oi({fetchers:new Map(Ke.fetchers)});return}else{lo.add(nt),await ni(Ke,hr);return}if(Is(hr)){let Kr=Nt(Ke.matches,He);Ke.fetchers.delete(nt),Oi({fetchers:new Map(Ke.fetchers),errors:{[Kr.route.id]:hr.error}});return}l(!$i(hr),"Unhandled fetcher deferred data");let li=St(hr.data);Ke.fetchers.set(nt,li),Oi({fetchers:new Map(Ke.fetchers)})}async function ni(nt,He,Tt){let{submission:rn,replace:Rn,isFetchActionRedirect:gn}=Tt===void 0?{}:Tt;He.revalidate&&(Os=!0);let Mn=v(nt.location,He.location,e({_isRedirect:!0},gn?{_isFetchActionRedirect:!0}:{}));if(l(Mn,"Expected a location on the redirect navigation"),X){let nr=!1;if(He.reloadDocument)nr=!0;else if(Ir.test(He.location)){const _i=L.history.createURL(He.location);nr=_i.origin!==q.location.origin||it(_i.pathname,tt)==null}if(nr){Rn?q.location.replace(He.location):q.location.assign(He.location);return}}an=null;let xn=Rn===!0?t.Replace:t.Push,dn=rn||vt(nt.navigation);if(Nr.has(He.status)&&dn&&ne(dn.formMethod))await Ys(xn,Mn,{submission:e({},dn,{formAction:He.location}),preventScrollReset:Qr});else if(gn)await Ys(xn,Mn,{overrideNavigation:qt(Mn),fetcherSubmission:dn,preventScrollReset:Qr});else{let nr=qt(Mn,dn);await Ys(xn,Mn,{overrideNavigation:nr,preventScrollReset:Qr})}}async function Fa(nt,He,Tt,rn,Rn){let gn=await Promise.all([...Tt.map(dn=>Hi("loader",Rn,dn,He,Ee,se,tt)),...rn.map(dn=>dn.matches&&dn.match&&dn.controller?Hi("loader",lr(L.history,dn.path,dn.controller.signal),dn.match,dn.matches,Ee,se,tt):{type:T.error,error:Br(404,{pathname:dn.path})})]),Mn=gn.slice(0,Tt.length),xn=gn.slice(Tt.length);return await Promise.all([ye(nt,Tt,Mn,Mn.map(()=>Rn.signal),!1,Ke.loaderData),ye(nt,rn.map(dn=>dn.match),xn,rn.map(dn=>dn.controller?dn.controller.signal:null),!0)]),{results:gn,loaderResults:Mn,fetcherResults:xn}}function uo(){Os=!0,Ns.push(..._u()),La.forEach((nt,He)=>{An.has(He)&&(Ia.push(He),Fr(He))})}function Ar(nt,He,Tt){let rn=Nt(Ke.matches,He);Fi(nt),Oi({errors:{[rn.route.id]:Tt},fetchers:new Map(Ke.fetchers)})}function Fi(nt){let He=Ke.fetchers.get(nt);An.has(nt)&&!(He&&He.state==="loading"&&ur.has(nt))&&Fr(nt),La.delete(nt),ur.delete(nt),lo.delete(nt),Ke.fetchers.delete(nt)}function Fr(nt){let He=An.get(nt);l(He,"Expected fetch controller: "+nt),He.abort(),An.delete(nt)}function _l(nt){for(let He of nt){let Tt=$c(He),rn=St(Tt.data);Ke.fetchers.set(He,rn)}}function Ls(){let nt=[],He=!1;for(let Tt of lo){let rn=Ke.fetchers.get(Tt);l(rn,"Expected fetcher: "+Tt),rn.state==="loading"&&(lo.delete(Tt),nt.push(Tt),He=!0)}return _l(nt),He}function yu(nt){let He=[];for(let[Tt,rn]of ur)if(rn<nt){let Rn=Ke.fetchers.get(Tt);l(Rn,"Expected fetcher: "+Tt),Rn.state==="loading"&&(Fr(Tt),ur.delete(Tt),He.push(Tt))}return _l(He),He.length>0}function Qs(nt,He){let Tt=Ke.blockers.get(nt)||yr;return Oo.get(nt)!==He&&Oo.set(nt,He),Tt}function ja(nt){Ke.blockers.delete(nt),Oo.delete(nt)}function Ks(nt,He){let Tt=Ke.blockers.get(nt)||yr;l(Tt.state==="unblocked"&&He.state==="blocked"||Tt.state==="blocked"&&He.state==="blocked"||Tt.state==="blocked"&&He.state==="proceeding"||Tt.state==="blocked"&&He.state==="unblocked"||Tt.state==="proceeding"&&He.state==="unblocked","Invalid blocker state transition: "+Tt.state+" -> "+He.state);let rn=new Map(Ke.blockers);rn.set(nt,He),Oi({blockers:rn})}function ts(nt){let{currentLocation:He,nextLocation:Tt,historyAction:rn}=nt;if(Oo.size===0)return;Oo.size>1&&u(!1,"A router only supports one blocker at a time");let Rn=Array.from(Oo.entries()),[gn,Mn]=Rn[Rn.length-1],xn=Ke.blockers.get(gn);if(!(xn&&xn.state==="proceeding")&&Mn({currentLocation:He,nextLocation:Tt,historyAction:rn}))return gn}function _u(nt){let He=[];return da.forEach((Tt,rn)=>{(!nt||nt(rn))&&(Tt.cancel(),He.push(rn),da.delete(rn))}),He}function qr(nt,He,Tt){if(Gt=nt,kt=He,Dt=Tt||null,!Ht&&Ke.navigation===Ln){Ht=!0;let rn=Fs(Ke.location,Ke.matches);rn!=null&&Oi({restoreScrollPosition:rn})}return()=>{Gt=null,kt=null,Dt=null}}function Ah(nt,He){return Dt&&Dt(nt,He.map(rn=>te(rn,Ke.loaderData)))||nt.key}function qc(nt,He){if(Gt&&kt){let Tt=Ah(nt,He);Gt[Tt]=kt()}}function Fs(nt,He){if(Gt){let Tt=Ah(nt,He),rn=Gt[Tt];if(typeof rn=="number")return rn}return null}function Wc(nt){Ee={},Ve=C(nt,se,void 0,Ee)}return Cn={get basename(){return tt},get state(){return Ke},get routes(){return Me},initialize:mu,subscribe:vu,enableScrollRestoration:qr,navigate:Lr,fetch:vl,revalidate:Yd,createHref:nt=>L.history.createHref(nt),encodeLocation:nt=>L.history.encodeLocation(nt),getFetcher:$c,deleteFetcher:Fi,dispose:gu,getBlocker:Qs,deleteBlocker:ja,_internalFetchControllers:An,_internalActiveDeferreds:da,_internalSetRoutes:Wc},Cn}const ci=Symbol("deferred");function ls(L,q){l(L.length>0,"You must provide a non-empty routes array to createStaticHandler");let X={},re=(q?q.basename:null)||"/",se;if(q!=null&&q.mapRouteProperties)se=q.mapRouteProperties;else if(q!=null&&q.detectErrorBoundary){let Ft=q.detectErrorBoundary;se=Gt=>({hasErrorBoundary:Ft(Gt)})}else se=ki;let Ee=C(L,se,void 0,X);async function Me(Ft,Gt){let{requestContext:Dt}=Gt===void 0?{}:Gt,kt=new URL(Ft.url),Ht=Ft.method,_t=v("",b(kt),null,"default"),nn=R(Ee,_t,re);if(!Li(Ht)&&Ht!=="HEAD"){let Cn=Br(405,{method:Ht}),{matches:Ke,route:Fn}=br(Ee);return{basename:re,location:_t,matches:Ke,loaderData:{},actionData:null,errors:{[Fn.id]:Cn},statusCode:Cn.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}else if(!nn){let Cn=Br(404,{pathname:_t.pathname}),{matches:Ke,route:Fn}=br(Ee);return{basename:re,location:_t,matches:Ke,loaderData:{},actionData:null,errors:{[Fn.id]:Cn},statusCode:Cn.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}let Un=await tt(Ft,_t,nn,Dt);return fn(Un)?Un:e({location:_t,basename:re},Un)}async function Ve(Ft,Gt){let{routeId:Dt,requestContext:kt}=Gt===void 0?{}:Gt,Ht=new URL(Ft.url),_t=Ft.method,nn=v("",b(Ht),null,"default"),Un=R(Ee,nn,re);if(!Li(_t)&&_t!=="HEAD"&&_t!=="OPTIONS")throw Br(405,{method:_t});if(!Un)throw Br(404,{pathname:nn.pathname});let Cn=Dt?Un.find(an=>an.route.id===Dt):ht(Un,nn);if(Dt&&!Cn)throw Br(403,{pathname:nn.pathname,routeId:Dt});if(!Cn)throw Br(404,{pathname:nn.pathname});let Ke=await tt(Ft,nn,Un,kt,Cn);if(fn(Ke))return Ke;let Fn=Ke.errors?Object.values(Ke.errors)[0]:void 0;if(Fn!==void 0)throw Fn;if(Ke.actionData)return Object.values(Ke.actionData)[0];if(Ke.loaderData){var Qr;let an=Object.values(Ke.loaderData)[0];return(Qr=Ke.activeDeferreds)!=null&&Qr[Cn.route.id]&&(an[ci]=Ke.activeDeferreds[Cn.route.id]),an}}async function tt(Ft,Gt,Dt,kt,Ht){l(Ft.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(ne(Ft.method.toLowerCase()))return await lt(Ft,Dt,Ht||ht(Dt,Gt),kt,Ht!=null);let _t=await Ct(Ft,Dt,kt,Ht);return fn(_t)?_t:e({},_t,{actionData:null,actionHeaders:{}})}catch(_t){if(_r(_t)){if(_t.type===T.error)throw _t.response;return _t.response}if($r(_t))return _t;throw _t}}async function lt(Ft,Gt,Dt,kt,Ht){let _t;if(!Dt.route.action&&!Dt.route.lazy){let Cn=Br(405,{method:Ft.method,pathname:new URL(Ft.url).pathname,routeId:Dt.route.id});if(Ht)throw Cn;_t={type:T.error,error:Cn}}else if(_t=await Hi("action",Ft,Dt,Gt,X,se,re,{isStaticRequest:!0,isRouteRequest:Ht,requestContext:kt}),Ft.signal.aborted){let Cn=Ht?"queryRoute":"query";throw new Error(Cn+"() call aborted")}if(Gn(_t))throw new Response(null,{status:_t.status,headers:{Location:_t.location}});if($i(_t)){let Cn=Br(400,{type:"defer-action"});if(Ht)throw Cn;_t={type:T.error,error:Cn}}if(Ht){if(Is(_t))throw _t.error;return{matches:[Dt],loaderData:{},actionData:{[Dt.route.id]:_t.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}if(Is(_t)){let Cn=Nt(Gt,Dt.route.id),Ke=await Ct(Ft,Gt,kt,void 0,{[Cn.route.id]:_t.error});return e({},Ke,{statusCode:Vt(_t.error)?_t.error.status:500,actionData:null,actionHeaders:e({},_t.headers?{[Dt.route.id]:_t.headers}:{})})}let nn=new Request(Ft.url,{headers:Ft.headers,redirect:Ft.redirect,signal:Ft.signal}),Un=await Ct(nn,Gt,kt);return e({},Un,_t.statusCode?{statusCode:_t.statusCode}:{},{actionData:{[Dt.route.id]:_t.data},actionHeaders:e({},_t.headers?{[Dt.route.id]:_t.headers}:{})})}async function Ct(Ft,Gt,Dt,kt,Ht){let _t=kt!=null;if(_t&&!(kt!=null&&kt.route.loader)&&!(kt!=null&&kt.route.lazy))throw Br(400,{method:Ft.method,pathname:new URL(Ft.url).pathname,routeId:kt==null?void 0:kt.route.id});let Un=(kt?[kt]:Hn(Gt,Object.keys(Ht||{})[0])).filter(an=>an.route.loader||an.route.lazy);if(Un.length===0)return{matches:Gt,loaderData:Gt.reduce((an,ks)=>Object.assign(an,{[ks.route.id]:null}),{}),errors:Ht||null,statusCode:200,loaderHeaders:{},activeDeferreds:null};let Cn=await Promise.all([...Un.map(an=>Hi("loader",Ft,an,Gt,X,se,re,{isStaticRequest:!0,isRouteRequest:_t,requestContext:Dt}))]);if(Ft.signal.aborted){let an=_t?"queryRoute":"query";throw new Error(an+"() call aborted")}let Ke=new Map,Fn=ha(Gt,Un,Cn,Ht,Ke),Qr=new Set(Un.map(an=>an.route.id));return Gt.forEach(an=>{Qr.has(an.route.id)||(Fn.loaderData[an.route.id]=null)}),e({},Fn,{matches:Gt,activeDeferreds:Ke.size>0?Object.fromEntries(Ke.entries()):null})}return{dataRoutes:Ee,query:Me,queryRoute:Ve}}function Zn(L,q,X){return e({},q,{statusCode:500,errors:{[q._deepestRenderedBoundaryId||L[0].id]:X}})}function us(L){return L!=null&&("formData"in L&&L.formData!=null||"body"in L&&L.body!==void 0)}function Ur(L,q,X,re,se,Ee,Me){let Ve,tt;if(Ee!=null&&Me!=="path"){Ve=[];for(let Ct of q)if(Ve.push(Ct),Ct.route.id===Ee){tt=Ct;break}}else Ve=q,tt=q[q.length-1];let lt=Kt(se||".",rt(Ve).map(Ct=>Ct.pathnameBase),it(L.pathname,X)||L.pathname,Me==="path");return se==null&&(lt.search=L.search,lt.hash=L.hash),(se==null||se===""||se===".")&&tt&&tt.route.index&&!Ze(lt.search)&&(lt.search=lt.search?lt.search.replace(/^\?/,"?index&"):"?index"),re&&X!=="/"&&(lt.pathname=lt.pathname==="/"?X:ae([X,lt.pathname])),b(lt)}function di(L,q,X,re){if(!re||!us(re))return{path:X};if(re.formMethod&&!Li(re.formMethod))return{path:X,error:Br(405,{method:re.formMethod})};let se=()=>({path:X,error:Br(400,{type:"invalid-body"})}),Ee=re.formMethod||"get",Me=L?Ee.toUpperCase():Ee.toLowerCase(),Ve=co(X);if(re.body!==void 0){if(re.formEncType==="text/plain"){if(!ne(Me))return se();let Gt=typeof re.body=="string"?re.body:re.body instanceof FormData||re.body instanceof URLSearchParams?Array.from(re.body.entries()).reduce((Dt,kt)=>{let[Ht,_t]=kt;return""+Dt+Ht+"="+_t+`
`},""):String(re.body);return{path:X,submission:{formMethod:Me,formAction:Ve,formEncType:re.formEncType,formData:void 0,json:void 0,text:Gt}}}else if(re.formEncType==="application/json"){if(!ne(Me))return se();try{let Gt=typeof re.body=="string"?JSON.parse(re.body):re.body;return{path:X,submission:{formMethod:Me,formAction:Ve,formEncType:re.formEncType,formData:void 0,json:Gt,text:void 0}}}catch{return se()}}}l(typeof FormData=="function","FormData is not available in this environment");let tt,lt;if(re.formData)tt=Gr(re.formData),lt=re.formData;else if(re.body instanceof FormData)tt=Gr(re.body),lt=re.body;else if(re.body instanceof URLSearchParams)tt=re.body,lt=Gs(tt);else if(re.body==null)tt=new URLSearchParams,lt=new FormData;else try{tt=new URLSearchParams(re.body),lt=Gs(tt)}catch{return se()}let Ct={formMethod:Me,formAction:Ve,formEncType:re&&re.formEncType||"application/x-www-form-urlencoded",formData:lt,json:void 0,text:void 0};if(ne(Ct.formMethod))return{path:X,submission:Ct};let Ft=x(X);return q&&Ft.search&&Ze(Ft.search)&&tt.append("index",""),Ft.search="?"+tt,{path:b(Ft),submission:Ct}}function Hn(L,q){let X=L;if(q){let re=L.findIndex(se=>se.route.id===q);re>=0&&(X=L.slice(0,re))}return X}function Es(L,q,X,re,se,Ee,Me,Ve,tt,lt,Ct,Ft,Gt,Dt){let kt=Dt?Object.values(Dt)[0]:Gt?Object.values(Gt)[0]:void 0,Ht=L.createURL(q.location),_t=L.createURL(se),nn=Dt?Object.keys(Dt)[0]:void 0,Cn=Hn(X,nn).filter((Fn,Qr)=>{if(Fn.route.lazy)return!0;if(Fn.route.loader==null)return!1;if(ao(q.loaderData,q.matches[Qr],Fn)||Me.some(Os=>Os===Fn.route.id))return!0;let an=q.matches[Qr],ks=Fn;return zi(Fn,e({currentUrl:Ht,currentParams:an.params,nextUrl:_t,nextParams:ks.params},re,{actionResult:kt,defaultShouldRevalidate:Ee||Ht.pathname+Ht.search===_t.pathname+_t.search||Ht.search!==_t.search||yi(an,ks)}))}),Ke=[];return tt.forEach((Fn,Qr)=>{if(!X.some(Ia=>Ia.route.id===Fn.routeId))return;let an=R(Ct,Fn.path,Ft);if(!an){Ke.push({key:Qr,routeId:Fn.routeId,path:Fn.path,matches:null,match:null,controller:null});return}let ks=q.fetchers.get(Qr),Os=ht(an,Fn.path),Ns=!1;lt.has(Qr)?Ns=!1:Ve.includes(Qr)?Ns=!0:ks&&ks.state!=="idle"&&ks.data===void 0?Ns=Ee:Ns=zi(Os,e({currentUrl:Ht,currentParams:q.matches[q.matches.length-1].params,nextUrl:_t,nextParams:X[X.length-1].params},re,{actionResult:kt,defaultShouldRevalidate:Ee})),Ns&&Ke.push({key:Qr,routeId:Fn.routeId,path:Fn.path,matches:an,match:Os,controller:new AbortController})}),[Cn,Ke]}function ao(L,q,X){let re=!q||X.route.id!==q.route.id,se=L[X.route.id]===void 0;return re||se}function yi(L,q){let X=L.route.path;return L.pathname!==q.pathname||X!=null&&X.endsWith("*")&&L.params["*"]!==q.params["*"]}function zi(L,q){if(L.route.shouldRevalidate){let X=L.route.shouldRevalidate(q);if(typeof X=="boolean")return X}return q.defaultShouldRevalidate}async function Cs(L,q,X){if(!L.lazy)return;let re=await L.lazy();if(!L.lazy)return;let se=X[L.id];l(se,"No route found in manifest");let Ee={};for(let Me in re){let tt=se[Me]!==void 0&&Me!=="hasErrorBoundary";u(!tt,'Route "'+se.id+'" has a static property "'+Me+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+Me+'" will be ignored.')),!tt&&!D.has(Me)&&(Ee[Me]=re[Me])}Object.assign(se,Ee),Object.assign(se,e({},q(se),{lazy:void 0}))}async function Hi(L,q,X,re,se,Ee,Me,Ve){Ve===void 0&&(Ve={});let tt,lt,Ct,Ft=kt=>{let Ht,_t=new Promise((nn,Un)=>Ht=Un);return Ct=()=>Ht(),q.signal.addEventListener("abort",Ct),Promise.race([kt({request:q,params:X.params,context:Ve.requestContext}),_t])};try{let kt=X.route[L];if(X.route.lazy)if(kt)lt=(await Promise.all([Ft(kt),Cs(X.route,Ee,se)]))[0];else if(await Cs(X.route,Ee,se),kt=X.route[L],kt)lt=await Ft(kt);else if(L==="action"){let Ht=new URL(q.url),_t=Ht.pathname+Ht.search;throw Br(405,{method:q.method,pathname:_t,routeId:X.route.id})}else return{type:T.data,data:void 0};else if(kt)lt=await Ft(kt);else{let Ht=new URL(q.url),_t=Ht.pathname+Ht.search;throw Br(404,{pathname:_t})}l(lt!==void 0,"You defined "+(L==="action"?"an action":"a loader")+" for route "+('"'+X.route.id+"\" but didn't return anything from your `"+L+"` ")+"function. Please return a value or `null`.")}catch(kt){tt=T.error,lt=kt}finally{Ct&&q.signal.removeEventListener("abort",Ct)}if(fn(lt)){let kt=lt.status;if(mr.has(kt)){let nn=lt.headers.get("Location");if(l(nn,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ir.test(nn))nn=Ur(new URL(q.url),re.slice(0,re.indexOf(X)+1),Me,!0,nn);else if(!Ve.isStaticRequest){let Un=new URL(q.url),Cn=nn.startsWith("//")?new URL(Un.protocol+nn):new URL(nn),Ke=it(Cn.pathname,Me)!=null;Cn.origin===Un.origin&&Ke&&(nn=Cn.pathname+Cn.search+Cn.hash)}if(Ve.isStaticRequest)throw lt.headers.set("Location",nn),lt;return{type:T.redirect,status:kt,location:nn,revalidate:lt.headers.get("X-Remix-Revalidate")!==null,reloadDocument:lt.headers.get("X-Remix-Reload-Document")!==null}}if(Ve.isRouteRequest)throw{type:tt===T.error?T.error:T.data,response:lt};let Ht,_t=lt.headers.get("Content-Type");return _t&&/\bapplication\/json\b/.test(_t)?Ht=await lt.json():Ht=await lt.text(),tt===T.error?{type:tt,error:new It(kt,lt.statusText,Ht),headers:lt.headers}:{type:T.data,data:Ht,statusCode:lt.status,headers:lt.headers}}if(tt===T.error)return{type:tt,error:lt};if(Vr(lt)){var Gt,Dt;return{type:T.deferred,deferredData:lt,statusCode:(Gt=lt.init)==null?void 0:Gt.status,headers:((Dt=lt.init)==null?void 0:Dt.headers)&&new Headers(lt.init.headers)}}return{type:T.data,data:lt}}function lr(L,q,X,re){let se=L.createURL(co(q)).toString(),Ee={signal:X};if(re&&ne(re.formMethod)){let{formMethod:Me,formEncType:Ve}=re;Ee.method=Me.toUpperCase(),Ve==="application/json"?(Ee.headers=new Headers({"Content-Type":Ve}),Ee.body=JSON.stringify(re.json)):Ve==="text/plain"?Ee.body=re.text:Ve==="application/x-www-form-urlencoded"&&re.formData?Ee.body=Gr(re.formData):Ee.body=re.formData}return new Request(se,Ee)}function Gr(L){let q=new URLSearchParams;for(let[X,re]of L.entries())q.append(X,typeof re=="string"?re:re.name);return q}function Gs(L){let q=new FormData;for(let[X,re]of L.entries())q.append(X,re);return q}function ha(L,q,X,re,se){let Ee={},Me=null,Ve,tt=!1,lt={};return X.forEach((Ct,Ft)=>{let Gt=q[Ft].route.id;if(l(!Gn(Ct),"Cannot handle redirect results in processLoaderData"),Is(Ct)){let Dt=Nt(L,Gt),kt=Ct.error;re&&(kt=Object.values(re)[0],re=void 0),Me=Me||{},Me[Dt.route.id]==null&&(Me[Dt.route.id]=kt),Ee[Gt]=void 0,tt||(tt=!0,Ve=Vt(Ct.error)?Ct.error.status:500),Ct.headers&&(lt[Gt]=Ct.headers)}else $i(Ct)?(se.set(Gt,Ct.deferredData),Ee[Gt]=Ct.deferredData.data):Ee[Gt]=Ct.data,Ct.statusCode!=null&&Ct.statusCode!==200&&!tt&&(Ve=Ct.statusCode),Ct.headers&&(lt[Gt]=Ct.headers)}),re&&(Me=re,Ee[Object.keys(re)[0]]=void 0),{loaderData:Ee,errors:Me,statusCode:Ve||200,loaderHeaders:lt}}function es(L,q,X,re,se,Ee,Me,Ve){let{loaderData:tt,errors:lt}=ha(q,X,re,se,Ve);for(let Ct=0;Ct<Ee.length;Ct++){let{key:Ft,match:Gt,controller:Dt}=Ee[Ct];l(Me!==void 0&&Me[Ct]!==void 0,"Did not find corresponding fetcher result");let kt=Me[Ct];if(!(Dt&&Dt.signal.aborted))if(Is(kt)){let Ht=Nt(L.matches,Gt==null?void 0:Gt.route.id);lt&&lt[Ht.route.id]||(lt=e({},lt,{[Ht.route.id]:kt.error})),L.fetchers.delete(Ft)}else if(Gn(kt))l(!1,"Unhandled fetcher revalidation redirect");else if($i(kt))l(!1,"Unhandled fetcher deferred data");else{let Ht=St(kt.data);L.fetchers.set(Ft,Ht)}}return{loaderData:tt,errors:lt}}function hs(L,q,X,re){let se=e({},q);for(let Ee of X){let Me=Ee.route.id;if(q.hasOwnProperty(Me)?q[Me]!==void 0&&(se[Me]=q[Me]):L[Me]!==void 0&&Ee.route.loader&&(se[Me]=L[Me]),re&&re.hasOwnProperty(Me))break}return se}function Nt(L,q){return(q?L.slice(0,L.findIndex(re=>re.route.id===q)+1):[...L]).reverse().find(re=>re.route.hasErrorBoundary===!0)||L[0]}function br(L){let q=L.find(X=>X.index||!X.path||X.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:q}],route:q}}function Br(L,q){let{pathname:X,routeId:re,method:se,type:Ee}=q===void 0?{}:q,Me="Unknown Server Error",Ve="Unknown @remix-run/router error";return L===400?(Me="Bad Request",se&&X&&re?Ve="You made a "+se+' request to "'+X+'" but '+('did not provide a `loader` for route "'+re+'", ')+"so there is no way to handle the request.":Ee==="defer-action"?Ve="defer() is not supported in actions":Ee==="invalid-body"&&(Ve="Unable to encode submission body")):L===403?(Me="Forbidden",Ve='Route "'+re+'" does not match URL "'+X+'"'):L===404?(Me="Not Found",Ve='No route matches URL "'+X+'"'):L===405&&(Me="Method Not Allowed",se&&X&&re?Ve="You made a "+se.toUpperCase()+' request to "'+X+'" but '+('did not provide an `action` for route "'+re+'", ')+"so there is no way to handle the request.":se&&(Ve='Invalid request method "'+se.toUpperCase()+'"')),new It(L||500,Me,new Error(Ve),!0)}function $n(L){for(let q=L.length-1;q>=0;q--){let X=L[q];if(Gn(X))return{result:X,idx:q}}}function co(L){let q=typeof L=="string"?x(L):L;return b(e({},q,{hash:""}))}function sr(L,q){return L.pathname!==q.pathname||L.search!==q.search?!1:L.hash===""?q.hash!=="":L.hash===q.hash?!0:q.hash!==""}function $i(L){return L.type===T.deferred}function Is(L){return L.type===T.error}function Gn(L){return(L&&L.type)===T.redirect}function Vr(L){let q=L;return q&&typeof q=="object"&&typeof q.data=="object"&&typeof q.subscribe=="function"&&typeof q.cancel=="function"&&typeof q.resolveData=="function"}function fn(L){return L!=null&&typeof L.status=="number"&&typeof L.statusText=="string"&&typeof L.headers=="object"&&typeof L.body<"u"}function $r(L){if(!fn(L))return!1;let q=L.status,X=L.headers.get("Location");return q>=300&&q<=399&&X!=null}function _r(L){return L&&fn(L.response)&&(L.type===T.data||L.type===T.error)}function Li(L){return un.has(L.toLowerCase())}function ne(L){return mn.has(L.toLowerCase())}async function ye(L,q,X,re,se,Ee){for(let Me=0;Me<X.length;Me++){let Ve=X[Me],tt=q[Me];if(!tt)continue;let lt=L.find(Ft=>Ft.route.id===tt.route.id),Ct=lt!=null&&!yi(lt,tt)&&(Ee&&Ee[tt.route.id])!==void 0;if($i(Ve)&&(se||Ct)){let Ft=re[Me];l(Ft,"Expected an AbortSignal for revalidating fetcher deferred result"),await Ne(Ve,Ft,se).then(Gt=>{Gt&&(X[Me]=Gt||X[Me])})}}}async function Ne(L,q,X){if(X===void 0&&(X=!1),!await L.deferredData.resolveData(q)){if(X)try{return{type:T.data,data:L.deferredData.unwrappedData}}catch(se){return{type:T.error,error:se}}return{type:T.data,data:L.deferredData.data}}}function Ze(L){return new URLSearchParams(L).getAll("index").some(q=>q==="")}function te(L,q){let{route:X,pathname:re,params:se}=L;return{id:X.id,pathname:re,params:se,data:q[X.id],handle:X.handle}}function ht(L,q){let X=typeof q=="string"?x(q).search:q.search;if(L[L.length-1].route.index&&Ze(X||""))return L[L.length-1];let re=rt(L);return re[re.length-1]}function vt(L){let{formMethod:q,formAction:X,formEncType:re,text:se,formData:Ee,json:Me}=L;if(!(!q||!X||!re)){if(se!=null)return{formMethod:q,formAction:X,formEncType:re,formData:void 0,json:void 0,text:se};if(Ee!=null)return{formMethod:q,formAction:X,formEncType:re,formData:Ee,json:void 0,text:void 0};if(Me!==void 0)return{formMethod:q,formAction:X,formEncType:re,formData:void 0,json:Me,text:void 0}}}function qt(L,q){return q?{state:"loading",location:L,formMethod:q.formMethod,formAction:q.formAction,formEncType:q.formEncType,formData:q.formData,json:q.json,text:q.text}:{state:"loading",location:L,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Xt(L,q){return{state:"submitting",location:L,formMethod:q.formMethod,formAction:q.formAction,formEncType:q.formEncType,formData:q.formData,json:q.json,text:q.text}}function jt(L,q){return L?{state:"loading",formMethod:L.formMethod,formAction:L.formAction,formEncType:L.formEncType,formData:L.formData,json:L.json,text:L.text,data:q," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:q," _hasFetcherDoneAnything ":!0}}function gt(L,q){return{state:"submitting",formMethod:L.formMethod,formAction:L.formAction,formEncType:L.formEncType,formData:L.formData,json:L.json,text:L.text,data:q?q.data:void 0," _hasFetcherDoneAnything ":!0}}function St(L){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:L," _hasFetcherDoneAnything ":!0}}return vr.AbortedDeferredError=z,vr.Action=t,vr.ErrorResponse=It,vr.IDLE_BLOCKER=yr,vr.IDLE_FETCHER=Jt,vr.IDLE_NAVIGATION=Ln,vr.UNSAFE_DEFERRED_SYMBOL=ci,vr.UNSAFE_DeferredData=K,vr.UNSAFE_convertRoutesToDataRoutes=C,vr.UNSAFE_getPathContributingMatches=rt,vr.UNSAFE_invariant=l,vr.UNSAFE_warning=u,vr.createBrowserHistory=s,vr.createHashHistory=o,vr.createMemoryHistory=r,vr.createPath=b,vr.createRouter=ei,vr.createStaticHandler=ls,vr.defer=fe,vr.generatePath=We,vr.getStaticContextFromError=Zn,vr.getToPathname=Ue,vr.isDeferredData=Vr,vr.isRouteErrorResponse=Vt,vr.joinPaths=ae,vr.json=le,vr.matchPath=Ae,vr.matchRoutes=R,vr.normalizePathname=we,vr.parsePath=x,vr.redirect=$e,vr.redirectDocument=mt,vr.resolvePath=Qe,vr.resolveTo=Kt,vr.stripBasename=it,vr}/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var h5;function i9(){return h5||(h5=1,function(e,t){(function(n,r){r(t,he,WO())})(hi,function(n,r,s){function o(W){if(W&&W.__esModule)return W;var le=Object.create(null);return W&&Object.keys(W).forEach(function(z){if(z!=="default"){var K=Object.getOwnPropertyDescriptor(W,z);Object.defineProperty(le,z,K.get?K:{enumerable:!0,get:function(){return W[z]}})}}),le.default=W,Object.freeze(le)}var l=o(r);function u(){return u=Object.assign?Object.assign.bind():function(W){for(var le=1;le<arguments.length;le++){var z=arguments[le];for(var K in z)Object.prototype.hasOwnProperty.call(z,K)&&(W[K]=z[K])}return W},u.apply(this,arguments)}const f=l.createContext(null),m=l.createContext(null),v=l.createContext(null),b=l.createContext(null),x=l.createContext(null),O=l.createContext({outlet:null,matches:[],isDataRoute:!1}),T=l.createContext(null);function D(){return l.useContext(x)!=null}function M(){return D()||s.UNSAFE_invariant(!1),l.useContext(x).location}function C(W){l.useContext(b).static||l.useLayoutEffect(W)}function R(){let{isDataRoute:W}=l.useContext(O);return W?function(){let{router:le}=Ge(et.UseNavigateStable),z=Ae(ut.UseNavigateStable),K=l.useRef(!1);return C(()=>{K.current=!0}),l.useCallback(function(de,Ce){Ce===void 0&&(Ce={}),K.current&&(typeof de=="number"?le.navigate(de):le.navigate(de,u({fromRouteId:z},Ce)))},[le,z])}():function(){D()||s.UNSAFE_invariant(!1);let le=l.useContext(f),{basename:z,navigator:K}=l.useContext(b),{matches:de}=l.useContext(O),{pathname:Ce}=M(),fe=JSON.stringify(s.UNSAFE_getPathContributingMatches(de).map(mt=>mt.pathnameBase)),$e=l.useRef(!1);return C(()=>{$e.current=!0}),l.useCallback(function(mt,It){if(It===void 0&&(It={}),!$e.current)return;if(typeof mt=="number")return void K.go(mt);let Vt=s.resolveTo(mt,JSON.parse(fe),Ce,It.relative==="path");le==null&&z!=="/"&&(Vt.pathname=Vt.pathname==="/"?z:s.joinPaths([z,Vt.pathname])),(It.replace?K.replace:K.push)(Vt,It.state,It)},[z,K,fe,Ce,le])}()}const j=l.createContext(null);function H(W){let le=l.useContext(O).outlet;return le&&l.createElement(j.Provider,{value:W},le)}function F(W,le){let{relative:z}=le===void 0?{}:le,{matches:K}=l.useContext(O),{pathname:de}=M(),Ce=JSON.stringify(s.UNSAFE_getPathContributingMatches(K).map(fe=>fe.pathnameBase));return l.useMemo(()=>s.resolveTo(W,JSON.parse(Ce),de,z==="path"),[W,Ce,de,z])}function ie(W,le){return ee(W,le)}function ee(W,le,z){D()||s.UNSAFE_invariant(!1);let{navigator:K}=l.useContext(b),{matches:de}=l.useContext(O),Ce=de[de.length-1],fe=Ce?Ce.params:{};!Ce||Ce.pathname;let $e=Ce?Ce.pathnameBase:"/";Ce&&Ce.route;let mt,It=M();if(le){var Vt;let mr=typeof le=="string"?s.parsePath(le):le;$e==="/"||(Vt=mr.pathname)!=null&&Vt.startsWith($e)||s.UNSAFE_invariant(!1),mt=mr}else mt=It;let Pt=mt.pathname||"/",mn=$e==="/"?Pt:Pt.slice($e.length)||"/",Sn=s.matchRoutes(W,{pathname:mn}),un=je(Sn&&Sn.map(mr=>Object.assign({},mr,{params:Object.assign({},fe,mr.params),pathname:s.joinPaths([$e,K.encodeLocation?K.encodeLocation(mr.pathname).pathname:mr.pathname]),pathnameBase:mr.pathnameBase==="/"?$e:s.joinPaths([$e,K.encodeLocation?K.encodeLocation(mr.pathnameBase).pathname:mr.pathnameBase])})),de,z);return le&&un?l.createElement(x.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},mt),navigationType:s.Action.Pop}},un):un}function _e(){let W=pe(),le=s.isRouteErrorResponse(W)?W.status+" "+W.statusText:W instanceof Error?W.message:JSON.stringify(W),z=W instanceof Error?W.stack:null,K={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},le),z?l.createElement("pre",{style:K},z):null,null)}const Xe=l.createElement(_e,null);class Te extends l.Component{constructor(le){super(le),this.state={location:le.location,revalidation:le.revalidation,error:le.error}}static getDerivedStateFromError(le){return{error:le}}static getDerivedStateFromProps(le,z){return z.location!==le.location||z.revalidation!=="idle"&&le.revalidation==="idle"?{error:le.error,location:le.location,revalidation:le.revalidation}:{error:le.error||z.error,location:z.location,revalidation:le.revalidation||z.revalidation}}componentDidCatch(le,z){console.error("React Router caught the following error during render",le,z)}render(){return this.state.error?l.createElement(O.Provider,{value:this.props.routeContext},l.createElement(T.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fe(W){let{routeContext:le,match:z,children:K}=W,de=l.useContext(f);return de&&de.static&&de.staticContext&&(z.route.errorElement||z.route.ErrorBoundary)&&(de.staticContext._deepestRenderedBoundaryId=z.route.id),l.createElement(O.Provider,{value:le},K)}function je(W,le,z){var K;if(le===void 0&&(le=[]),z===void 0&&(z=null),W==null){var de;if((de=z)==null||!de.errors)return null;W=z.matches}let Ce=W,fe=(K=z)==null?void 0:K.errors;if(fe!=null){let $e=Ce.findIndex(mt=>mt.route.id&&(fe==null?void 0:fe[mt.route.id]));$e>=0||s.UNSAFE_invariant(!1),Ce=Ce.slice(0,Math.min(Ce.length,$e+1))}return Ce.reduceRight(($e,mt,It)=>{let Vt=mt.route.id?fe==null?void 0:fe[mt.route.id]:null,Pt=null;z&&(Pt=mt.route.errorElement||Xe);let mn=le.concat(Ce.slice(0,It+1)),Sn=()=>{let un;return un=Vt?Pt:mt.route.Component?l.createElement(mt.route.Component,null):mt.route.element?mt.route.element:$e,l.createElement(Fe,{match:mt,routeContext:{outlet:$e,matches:mn,isDataRoute:z!=null},children:un})};return z&&(mt.route.ErrorBoundary||mt.route.errorElement||It===0)?l.createElement(Te,{location:z.location,revalidation:z.revalidation,component:Pt,error:Vt,children:Sn(),routeContext:{outlet:null,matches:mn,isDataRoute:!0}}):Sn()},null)}var et=function(W){return W.UseBlocker="useBlocker",W.UseRevalidator="useRevalidator",W.UseNavigateStable="useNavigate",W}(et||{}),ut=function(W){return W.UseBlocker="useBlocker",W.UseLoaderData="useLoaderData",W.UseActionData="useActionData",W.UseRouteError="useRouteError",W.UseNavigation="useNavigation",W.UseRouteLoaderData="useRouteLoaderData",W.UseMatches="useMatches",W.UseRevalidator="useRevalidator",W.UseNavigateStable="useNavigate",W.UseRouteId="useRouteId",W}(ut||{});function Ge(W){let le=l.useContext(f);return le||s.UNSAFE_invariant(!1),le}function We(W){let le=l.useContext(m);return le||s.UNSAFE_invariant(!1),le}function Ae(W){let le=function(K){let de=l.useContext(O);return de||s.UNSAFE_invariant(!1),de}(),z=le.matches[le.matches.length-1];return z.route.id||s.UNSAFE_invariant(!1),z.route.id}function pe(){var W;let le=l.useContext(T),z=We(ut.UseRouteError),K=Ae(ut.UseRouteError);return le||((W=z.errors)==null?void 0:W[K])}function Pe(){let W=l.useContext(v);return W==null?void 0:W._data}let Ye=0;const it=l.startTransition;function Qe(W){let{routes:le,state:z}=W;return ee(le,void 0,z)}function bt(W){s.UNSAFE_invariant(!1)}function Mt(W){let{basename:le="/",children:z=null,location:K,navigationType:de=s.Action.Pop,navigator:Ce,static:fe=!1}=W;D()&&s.UNSAFE_invariant(!1);let $e=le.replace(/^\/*/,"/"),mt=l.useMemo(()=>({basename:$e,navigator:Ce,static:fe}),[$e,Ce,fe]);typeof K=="string"&&(K=s.parsePath(K));let{pathname:It="/",search:Vt="",hash:Pt="",state:mn=null,key:Sn="default"}=K,un=l.useMemo(()=>{let mr=s.stripBasename(It,$e);return mr==null?null:{location:{pathname:mr,search:Vt,hash:Pt,state:mn,key:Sn},navigationType:de}},[$e,It,Vt,Pt,mn,Sn,de]);return un==null?null:l.createElement(b.Provider,{value:mt},l.createElement(x.Provider,{children:z,value:un}))}var rt=function(W){return W[W.pending=0]="pending",W[W.success=1]="success",W[W.error=2]="error",W}(rt||{});const Kt=new Promise(()=>{});class Ue extends l.Component{constructor(le){super(le),this.state={error:null}}static getDerivedStateFromError(le){return{error:le}}componentDidCatch(le,z){console.error("<Await> caught the following error during render",le,z)}render(){let{children:le,errorElement:z,resolve:K}=this.props,de=null,Ce=rt.pending;if(K instanceof Promise)if(this.state.error){Ce=rt.error;let fe=this.state.error;de=Promise.reject().catch(()=>{}),Object.defineProperty(de,"_tracked",{get:()=>!0}),Object.defineProperty(de,"_error",{get:()=>fe})}else K._tracked?(de=K,Ce=de._error!==void 0?rt.error:de._data!==void 0?rt.success:rt.pending):(Ce=rt.pending,Object.defineProperty(K,"_tracked",{get:()=>!0}),de=K.then(fe=>Object.defineProperty(K,"_data",{get:()=>fe}),fe=>Object.defineProperty(K,"_error",{get:()=>fe})));else Ce=rt.success,de=Promise.resolve(),Object.defineProperty(de,"_tracked",{get:()=>!0}),Object.defineProperty(de,"_data",{get:()=>K});if(Ce===rt.error&&de._error instanceof s.AbortedDeferredError)throw Kt;if(Ce===rt.error&&!z)throw de._error;if(Ce===rt.error)return l.createElement(v.Provider,{value:de,children:z});if(Ce===rt.success)return l.createElement(v.Provider,{value:de,children:le});throw de}}function ae(W){let{children:le}=W,z=Pe(),K=typeof le=="function"?le(z):le;return l.createElement(l.Fragment,null,K)}function we(W,le){le===void 0&&(le=[]);let z=[];return l.Children.forEach(W,(K,de)=>{if(!l.isValidElement(K))return;let Ce=[...le,de];if(K.type===l.Fragment)return void z.push.apply(z,we(K.props.children,Ce));K.type!==bt&&s.UNSAFE_invariant(!1),K.props.index&&K.props.children&&s.UNSAFE_invariant(!1);let fe={id:K.props.id||Ce.join("-"),caseSensitive:K.props.caseSensitive,element:K.props.element,Component:K.props.Component,index:K.props.index,path:K.props.path,loader:K.props.loader,action:K.props.action,errorElement:K.props.errorElement,ErrorBoundary:K.props.ErrorBoundary,hasErrorBoundary:K.props.ErrorBoundary!=null||K.props.errorElement!=null,shouldRevalidate:K.props.shouldRevalidate,handle:K.props.handle,lazy:K.props.lazy};K.props.children&&(fe.children=we(K.props.children,Ce)),z.push(fe)}),z}function be(W){let le={hasErrorBoundary:W.ErrorBoundary!=null||W.errorElement!=null};return W.Component&&Object.assign(le,{element:l.createElement(W.Component),Component:void 0}),W.ErrorBoundary&&Object.assign(le,{errorElement:l.createElement(W.ErrorBoundary),ErrorBoundary:void 0}),le}Object.defineProperty(n,"AbortedDeferredError",{enumerable:!0,get:function(){return s.AbortedDeferredError}}),Object.defineProperty(n,"NavigationType",{enumerable:!0,get:function(){return s.Action}}),Object.defineProperty(n,"createPath",{enumerable:!0,get:function(){return s.createPath}}),Object.defineProperty(n,"defer",{enumerable:!0,get:function(){return s.defer}}),Object.defineProperty(n,"generatePath",{enumerable:!0,get:function(){return s.generatePath}}),Object.defineProperty(n,"isRouteErrorResponse",{enumerable:!0,get:function(){return s.isRouteErrorResponse}}),Object.defineProperty(n,"json",{enumerable:!0,get:function(){return s.json}}),Object.defineProperty(n,"matchPath",{enumerable:!0,get:function(){return s.matchPath}}),Object.defineProperty(n,"matchRoutes",{enumerable:!0,get:function(){return s.matchRoutes}}),Object.defineProperty(n,"parsePath",{enumerable:!0,get:function(){return s.parsePath}}),Object.defineProperty(n,"redirect",{enumerable:!0,get:function(){return s.redirect}}),Object.defineProperty(n,"redirectDocument",{enumerable:!0,get:function(){return s.redirectDocument}}),Object.defineProperty(n,"resolvePath",{enumerable:!0,get:function(){return s.resolvePath}}),n.Await=function(W){let{children:le,errorElement:z,resolve:K}=W;return l.createElement(Ue,{resolve:K,errorElement:z},l.createElement(ae,null,le))},n.MemoryRouter=function(W){let{basename:le,children:z,initialEntries:K,initialIndex:de,future:Ce}=W,fe=l.useRef();fe.current==null&&(fe.current=s.createMemoryHistory({initialEntries:K,initialIndex:de,v5Compat:!0}));let $e=fe.current,[mt,It]=l.useState({action:$e.action,location:$e.location}),{v7_startTransition:Vt}=Ce||{},Pt=l.useCallback(mn=>{Vt&&it?it(()=>It(mn)):It(mn)},[It,Vt]);return l.useLayoutEffect(()=>$e.listen(Pt),[$e,Pt]),l.createElement(Mt,{basename:le,children:z,location:mt.location,navigationType:mt.action,navigator:$e})},n.Navigate=function(W){let{to:le,replace:z,state:K,relative:de}=W;D()||s.UNSAFE_invariant(!1);let{matches:Ce}=l.useContext(O),{pathname:fe}=M(),$e=R(),mt=s.resolveTo(le,s.UNSAFE_getPathContributingMatches(Ce).map(Vt=>Vt.pathnameBase),fe,de==="path"),It=JSON.stringify(mt);return l.useEffect(()=>$e(JSON.parse(It),{replace:z,state:K,relative:de}),[$e,It,de,z,K]),null},n.Outlet=function(W){return H(W.context)},n.Route=bt,n.Router=Mt,n.RouterProvider=function(W){let{fallbackElement:le,router:z,future:K}=W,[de,Ce]=l.useState(z.state),{v7_startTransition:fe}=K||{},$e=l.useCallback(Pt=>{fe&&it?it(()=>Ce(Pt)):Ce(Pt)},[Ce,fe]);l.useLayoutEffect(()=>z.subscribe($e),[z,$e]);let mt=l.useMemo(()=>({createHref:z.createHref,encodeLocation:z.encodeLocation,go:Pt=>z.navigate(Pt),push:(Pt,mn,Sn)=>z.navigate(Pt,{state:mn,preventScrollReset:Sn==null?void 0:Sn.preventScrollReset}),replace:(Pt,mn,Sn)=>z.navigate(Pt,{replace:!0,state:mn,preventScrollReset:Sn==null?void 0:Sn.preventScrollReset})}),[z]),It=z.basename||"/",Vt=l.useMemo(()=>({router:z,navigator:mt,static:!1,basename:It}),[z,mt,It]);return l.createElement(l.Fragment,null,l.createElement(f.Provider,{value:Vt},l.createElement(m.Provider,{value:de},l.createElement(Mt,{basename:It,location:de.location,navigationType:de.historyAction,navigator:mt},de.initialized?l.createElement(Qe,{routes:z.routes,state:de}):le))),null)},n.Routes=function(W){let{children:le,location:z}=W;return ie(we(le),z)},n.UNSAFE_DataRouterContext=f,n.UNSAFE_DataRouterStateContext=m,n.UNSAFE_LocationContext=x,n.UNSAFE_NavigationContext=b,n.UNSAFE_RouteContext=O,n.UNSAFE_mapRouteProperties=be,n.UNSAFE_useRouteId=function(){return Ae(ut.UseRouteId)},n.UNSAFE_useRoutesImpl=ee,n.createMemoryRouter=function(W,le){return s.createRouter({basename:le==null?void 0:le.basename,future:u({},le==null?void 0:le.future,{v7_prependBasename:!0}),history:s.createMemoryHistory({initialEntries:le==null?void 0:le.initialEntries,initialIndex:le==null?void 0:le.initialIndex}),hydrationData:le==null?void 0:le.hydrationData,routes:W,mapRouteProperties:be}).initialize()},n.createRoutesFromChildren=we,n.createRoutesFromElements=we,n.renderMatches=function(W){return je(W)},n.unstable_useBlocker=function(W){let{router:le,basename:z}=Ge(et.UseBlocker),K=We(ut.UseBlocker),[de,Ce]=l.useState(""),fe=l.useCallback($e=>{if(typeof W!="function")return!!W;if(z==="/")return W($e);let{currentLocation:mt,nextLocation:It,historyAction:Vt}=$e;return W({currentLocation:u({},mt,{pathname:s.stripBasename(mt.pathname,z)||mt.pathname}),nextLocation:u({},It,{pathname:s.stripBasename(It.pathname,z)||It.pathname}),historyAction:Vt})},[z,W]);return l.useEffect(()=>{let $e=String(++Ye);return Ce($e),()=>le.deleteBlocker($e)},[le]),l.useEffect(()=>{de!==""&&le.getBlocker(de,fe)},[le,de,fe]),de&&K.blockers.has(de)?K.blockers.get(de):s.IDLE_BLOCKER},n.useActionData=function(){let W=We(ut.UseActionData);return l.useContext(O)||s.UNSAFE_invariant(!1),Object.values((W==null?void 0:W.actionData)||{})[0]},n.useAsyncError=function(){let W=l.useContext(v);return W==null?void 0:W._error},n.useAsyncValue=Pe,n.useHref=function(W,le){let{relative:z}=le===void 0?{}:le;D()||s.UNSAFE_invariant(!1);let{basename:K,navigator:de}=l.useContext(b),{hash:Ce,pathname:fe,search:$e}=F(W,{relative:z}),mt=fe;return K!=="/"&&(mt=fe==="/"?K:s.joinPaths([K,fe])),de.createHref({pathname:mt,search:$e,hash:Ce})},n.useInRouterContext=D,n.useLoaderData=function(){let W=We(ut.UseLoaderData),le=Ae(ut.UseLoaderData);if(!W.errors||W.errors[le]==null)return W.loaderData[le];console.error("You cannot `useLoaderData` in an errorElement (routeId: "+le+")")},n.useLocation=M,n.useMatch=function(W){D()||s.UNSAFE_invariant(!1);let{pathname:le}=M();return l.useMemo(()=>s.matchPath(W,le),[le,W])},n.useMatches=function(){let{matches:W,loaderData:le}=We(ut.UseMatches);return l.useMemo(()=>W.map(z=>{let{pathname:K,params:de}=z;return{id:z.route.id,pathname:K,params:de,data:le[z.route.id],handle:z.route.handle}}),[W,le])},n.useNavigate=R,n.useNavigation=function(){return We(ut.UseNavigation).navigation},n.useNavigationType=function(){return l.useContext(x).navigationType},n.useOutlet=H,n.useOutletContext=function(){return l.useContext(j)},n.useParams=function(){let{matches:W}=l.useContext(O),le=W[W.length-1];return le?le.params:{}},n.useResolvedPath=F,n.useRevalidator=function(){let W=Ge(et.UseRevalidator),le=We(ut.UseRevalidator);return l.useMemo(()=>({revalidate:W.router.revalidate,state:le.revalidation}),[W.router.revalidate,le.revalidation])},n.useRouteError=pe,n.useRouteLoaderData=function(W){return We(ut.UseRouteLoaderData).loaderData[W]},n.useRoutes=ie,Object.defineProperty(n,"__esModule",{value:!0})})}(Hv,Hv.exports)),Hv.exports}/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d5;function s9(){return d5||(d5=1,xw.exports=i9()),xw.exports}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */(function(e,t){(function(n,r){r(t,he,s9(),WO())})(hi,function(n,r,s,o){function l(Ue){if(Ue&&Ue.__esModule)return Ue;var ae=Object.create(null);return Ue&&Object.keys(Ue).forEach(function(we){if(we!=="default"){var be=Object.getOwnPropertyDescriptor(Ue,we);Object.defineProperty(ae,we,be.get?be:{enumerable:!0,get:function(){return Ue[we]}})}}),ae.default=Ue,Object.freeze(ae)}var u=l(r);function f(){return f=Object.assign?Object.assign.bind():function(Ue){for(var ae=1;ae<arguments.length;ae++){var we=arguments[ae];for(var be in we)Object.prototype.hasOwnProperty.call(we,be)&&(Ue[be]=we[be])}return Ue},f.apply(this,arguments)}function m(Ue,ae){if(Ue==null)return{};var we,be,W={},le=Object.keys(Ue);for(be=0;be<le.length;be++)we=le[be],ae.indexOf(we)>=0||(W[we]=Ue[we]);return W}const v="get",b="application/x-www-form-urlencoded";function x(Ue){return Ue!=null&&typeof Ue.tagName=="string"}function O(Ue){return Ue===void 0&&(Ue=""),new URLSearchParams(typeof Ue=="string"||Array.isArray(Ue)||Ue instanceof URLSearchParams?Ue:Object.keys(Ue).reduce((ae,we)=>{let be=Ue[we];return ae.concat(Array.isArray(be)?be.map(W=>[we,W]):[[we,be]])},[]))}let T=null;const D=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function M(Ue){return Ue==null||D.has(Ue)?Ue:null}function C(Ue,ae){let we,be,W,le,z;if(x(K=Ue)&&K.tagName.toLowerCase()==="form"){let de=Ue.getAttribute("action");be=de?o.stripBasename(de,ae):null,we=Ue.getAttribute("method")||v,W=M(Ue.getAttribute("enctype"))||b,le=new FormData(Ue)}else if(function(de){return x(de)&&de.tagName.toLowerCase()==="button"}(Ue)||function(de){return x(de)&&de.tagName.toLowerCase()==="input"}(Ue)&&(Ue.type==="submit"||Ue.type==="image")){let de=Ue.form;if(de==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Ce=Ue.getAttribute("formaction")||de.getAttribute("action");if(be=Ce?o.stripBasename(Ce,ae):null,we=Ue.getAttribute("formmethod")||de.getAttribute("method")||v,W=M(Ue.getAttribute("formenctype"))||M(de.getAttribute("enctype"))||b,le=new FormData(de,Ue),!function(){if(T===null)try{new FormData(document.createElement("form"),0),T=!1}catch{T=!0}return T}()){let{name:fe,type:$e,value:mt}=Ue;if($e==="image"){let It=fe?fe+".":"";le.append(It+"x","0"),le.append(It+"y","0")}else fe&&le.append(fe,mt)}}else{if(x(Ue))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');we=v,be=null,W=b,z=Ue}var K;return le&&W==="text/plain"&&(z=le,le=void 0),{action:be,method:we.toLowerCase(),encType:W,formData:le,body:z}}const R=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],j=["aria-current","caseSensitive","className","end","style","to","children"],H=["reloadDocument","replace","state","method","action","onSubmit","submit","relative","preventScrollReset"];function F(){var Ue;let ae=(Ue=window)==null?void 0:Ue.__staticRouterHydrationData;return ae&&ae.errors&&(ae=f({},ae,{errors:ie(ae.errors)})),ae}function ie(Ue){if(!Ue)return null;let ae=Object.entries(Ue),we={};for(let[be,W]of ae)if(W&&W.__type==="RouteErrorResponse")we[be]=new o.ErrorResponse(W.status,W.statusText,W.data,W.internal===!0);else if(W&&W.__type==="Error"){if(W.__subType){let le=window[W.__subType];if(typeof le=="function")try{let z=new le(W.message);z.stack="",we[be]=z}catch{}}if(we[be]==null){let le=new Error(W.message);le.stack="",we[be]=le}}else we[be]=W;return we}const ee=u.startTransition,_e=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=u.forwardRef(function(Ue,ae){let we,{onClick:be,relative:W,reloadDocument:le,replace:z,state:K,target:de,to:Ce,preventScrollReset:fe}=Ue,$e=m(Ue,R),{basename:mt}=u.useContext(s.UNSAFE_NavigationContext),It=!1;if(typeof Ce=="string"&&Xe.test(Ce)&&(we=Ce,_e))try{let mn=new URL(window.location.href),Sn=Ce.startsWith("//")?new URL(mn.protocol+Ce):new URL(Ce),un=o.stripBasename(Sn.pathname,mt);Sn.origin===mn.origin&&un!=null?Ce=un+Sn.search+Sn.hash:It=!0}catch{}let Vt=s.useHref(Ce,{relative:W}),Pt=pe(Ce,{replace:z,state:K,target:de,preventScrollReset:fe,relative:W});return u.createElement("a",f({},$e,{href:we||Vt,onClick:It||le?be:function(mn){be&&be(mn),mn.defaultPrevented||Pt(mn)},ref:ae,target:de}))}),Fe=u.forwardRef(function(Ue,ae){let{"aria-current":we="page",caseSensitive:be=!1,className:W="",end:le=!1,style:z,to:K,children:de}=Ue,Ce=m(Ue,j),fe=s.useResolvedPath(K,{relative:Ce.relative}),$e=s.useLocation(),mt=u.useContext(s.UNSAFE_DataRouterStateContext),{navigator:It}=u.useContext(s.UNSAFE_NavigationContext),Vt=It.encodeLocation?It.encodeLocation(fe).pathname:fe.pathname,Pt=$e.pathname,mn=mt&&mt.navigation&&mt.navigation.location?mt.navigation.location.pathname:null;be||(Pt=Pt.toLowerCase(),mn=mn?mn.toLowerCase():null,Vt=Vt.toLowerCase());let Sn,un=Pt===Vt||!le&&Pt.startsWith(Vt)&&Pt.charAt(Vt.length)==="/",mr=mn!=null&&(mn===Vt||!le&&mn.startsWith(Vt)&&mn.charAt(Vt.length)==="/"),Nr=un?we:void 0;Sn=typeof W=="function"?W({isActive:un,isPending:mr}):[W,un?"active":null,mr?"pending":null].filter(Boolean).join(" ");let Ln=typeof z=="function"?z({isActive:un,isPending:mr}):z;return u.createElement(Te,f({},Ce,{"aria-current":Nr,className:Sn,ref:ae,style:Ln,to:K}),typeof de=="function"?de({isActive:un,isPending:mr}):de)}),je=u.forwardRef((Ue,ae)=>{let we=Ye();return u.createElement(et,f({},Ue,{submit:we,ref:ae}))}),et=u.forwardRef((Ue,ae)=>{let{reloadDocument:we,replace:be,state:W,method:le=v,action:z,onSubmit:K,submit:de,relative:Ce,preventScrollReset:fe}=Ue,$e=m(Ue,H),mt=le.toLowerCase()==="get"?"get":"post",It=Qe(z,{relative:Ce});return u.createElement("form",f({ref:ae,method:mt,action:It,onSubmit:we?K:Vt=>{if(K&&K(Vt),Vt.defaultPrevented)return;Vt.preventDefault();let Pt=Vt.nativeEvent.submitter,mn=(Pt==null?void 0:Pt.getAttribute("formmethod"))||le;de(Pt||Vt.currentTarget,{method:mn,replace:be,state:W,relative:Ce,preventScrollReset:fe})}},$e))});var ut=function(Ue){return Ue.UseScrollRestoration="useScrollRestoration",Ue.UseSubmit="useSubmit",Ue.UseSubmitFetcher="useSubmitFetcher",Ue.UseFetcher="useFetcher",Ue}(ut||{}),Ge=function(Ue){return Ue.UseFetchers="useFetchers",Ue.UseScrollRestoration="useScrollRestoration",Ue}(Ge||{});function We(Ue){let ae=u.useContext(s.UNSAFE_DataRouterContext);return ae||o.UNSAFE_invariant(!1),ae}function Ae(Ue){let ae=u.useContext(s.UNSAFE_DataRouterStateContext);return ae||o.UNSAFE_invariant(!1),ae}function pe(Ue,ae){let{target:we,replace:be,state:W,preventScrollReset:le,relative:z}=ae===void 0?{}:ae,K=s.useNavigate(),de=s.useLocation(),Ce=s.useResolvedPath(Ue,{relative:z});return u.useCallback(fe=>{if(function($e,mt){return!($e.button!==0||mt&&mt!=="_self"||function(It){return!!(It.metaKey||It.altKey||It.ctrlKey||It.shiftKey)}($e))}(fe,we)){fe.preventDefault();let $e=be!==void 0?be:s.createPath(de)===s.createPath(Ce);K(Ue,{replace:$e,state:W,preventScrollReset:le,relative:z})}},[de,K,Ce,be,W,we,Ue,le,z])}function Pe(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}function Ye(){let{router:Ue}=We(ut.UseSubmit),{basename:ae}=u.useContext(s.UNSAFE_NavigationContext),we=s.UNSAFE_useRouteId();return u.useCallback(function(be,W){W===void 0&&(W={}),Pe();let{action:le,method:z,encType:K,formData:de,body:Ce}=C(be,ae);Ue.navigate(W.action||le,{preventScrollReset:W.preventScrollReset,formData:de,body:Ce,formMethod:W.method||z,formEncType:W.encType||K,replace:W.replace,state:W.state,fromRouteId:we})},[Ue,ae,we])}function it(Ue,ae){let{router:we}=We(ut.UseSubmitFetcher),{basename:be}=u.useContext(s.UNSAFE_NavigationContext);return u.useCallback(function(W,le){le===void 0&&(le={}),Pe();let{action:z,method:K,encType:de,formData:Ce,body:fe}=C(W,be);ae==null&&o.UNSAFE_invariant(!1),we.fetch(Ue,ae,le.action||z,{preventScrollReset:le.preventScrollReset,formData:Ce,body:fe,formMethod:le.method||K,formEncType:le.encType||de})},[we,be,Ue,ae])}function Qe(Ue,ae){let{relative:we}=ae===void 0?{}:ae,{basename:be}=u.useContext(s.UNSAFE_NavigationContext),W=u.useContext(s.UNSAFE_RouteContext);W||o.UNSAFE_invariant(!1);let[le]=W.matches.slice(-1),z=f({},s.useResolvedPath(Ue||".",{relative:we})),K=s.useLocation();if(Ue==null&&(z.search=K.search,le.route.index)){let de=new URLSearchParams(z.search);de.delete("index"),z.search=de.toString()?"?"+de.toString():""}return Ue&&Ue!=="."||!le.route.index||(z.search=z.search?z.search.replace(/^\?/,"?index&"):"?index"),be!=="/"&&(z.pathname=z.pathname==="/"?be:o.joinPaths([be,z.pathname])),s.createPath(z)}let bt=0;const Mt="react-router-scroll-positions";let rt={};function Kt(Ue){let{getKey:ae,storageKey:we}=Ue===void 0?{}:Ue,{router:be}=We(ut.UseScrollRestoration),{restoreScrollPosition:W,preventScrollReset:le}=Ae(Ge.UseScrollRestoration),{basename:z}=u.useContext(s.UNSAFE_NavigationContext),K=s.useLocation(),de=s.useMatches(),Ce=s.useNavigation();u.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),function(fe,$e){let{capture:mt}=$e||{};u.useEffect(()=>{let It=mt!=null?{capture:mt}:void 0;return window.addEventListener("pagehide",fe,It),()=>{window.removeEventListener("pagehide",fe,It)}},[fe,mt])}(u.useCallback(()=>{if(Ce.state==="idle"){let fe=(ae?ae(K,de):null)||K.key;rt[fe]=window.scrollY}sessionStorage.setItem(we||Mt,JSON.stringify(rt)),window.history.scrollRestoration="auto"},[we,ae,Ce.state,K,de])),typeof document<"u"&&(u.useLayoutEffect(()=>{try{let fe=sessionStorage.getItem(we||Mt);fe&&(rt=JSON.parse(fe))}catch{}},[we]),u.useLayoutEffect(()=>{let fe=ae&&z!=="/"?(mt,It)=>ae(f({},mt,{pathname:o.stripBasename(mt.pathname,z)||mt.pathname}),It):ae,$e=be==null?void 0:be.enableScrollRestoration(rt,()=>window.scrollY,fe);return()=>$e&&$e()},[be,z,ae]),u.useLayoutEffect(()=>{if(W!==!1)if(typeof W!="number"){if(K.hash){let fe=document.getElementById(decodeURIComponent(K.hash.slice(1)));if(fe)return void fe.scrollIntoView()}le!==!0&&window.scrollTo(0,0)}else window.scrollTo(0,W)},[K,W,le]))}Object.defineProperty(n,"AbortedDeferredError",{enumerable:!0,get:function(){return s.AbortedDeferredError}}),Object.defineProperty(n,"Await",{enumerable:!0,get:function(){return s.Await}}),Object.defineProperty(n,"MemoryRouter",{enumerable:!0,get:function(){return s.MemoryRouter}}),Object.defineProperty(n,"Navigate",{enumerable:!0,get:function(){return s.Navigate}}),Object.defineProperty(n,"NavigationType",{enumerable:!0,get:function(){return s.NavigationType}}),Object.defineProperty(n,"Outlet",{enumerable:!0,get:function(){return s.Outlet}}),Object.defineProperty(n,"Route",{enumerable:!0,get:function(){return s.Route}}),Object.defineProperty(n,"Router",{enumerable:!0,get:function(){return s.Router}}),Object.defineProperty(n,"RouterProvider",{enumerable:!0,get:function(){return s.RouterProvider}}),Object.defineProperty(n,"Routes",{enumerable:!0,get:function(){return s.Routes}}),Object.defineProperty(n,"UNSAFE_DataRouterContext",{enumerable:!0,get:function(){return s.UNSAFE_DataRouterContext}}),Object.defineProperty(n,"UNSAFE_DataRouterStateContext",{enumerable:!0,get:function(){return s.UNSAFE_DataRouterStateContext}}),Object.defineProperty(n,"UNSAFE_LocationContext",{enumerable:!0,get:function(){return s.UNSAFE_LocationContext}}),Object.defineProperty(n,"UNSAFE_NavigationContext",{enumerable:!0,get:function(){return s.UNSAFE_NavigationContext}}),Object.defineProperty(n,"UNSAFE_RouteContext",{enumerable:!0,get:function(){return s.UNSAFE_RouteContext}}),Object.defineProperty(n,"UNSAFE_useRouteId",{enumerable:!0,get:function(){return s.UNSAFE_useRouteId}}),Object.defineProperty(n,"createMemoryRouter",{enumerable:!0,get:function(){return s.createMemoryRouter}}),Object.defineProperty(n,"createPath",{enumerable:!0,get:function(){return s.createPath}}),Object.defineProperty(n,"createRoutesFromChildren",{enumerable:!0,get:function(){return s.createRoutesFromChildren}}),Object.defineProperty(n,"createRoutesFromElements",{enumerable:!0,get:function(){return s.createRoutesFromElements}}),Object.defineProperty(n,"defer",{enumerable:!0,get:function(){return s.defer}}),Object.defineProperty(n,"generatePath",{enumerable:!0,get:function(){return s.generatePath}}),Object.defineProperty(n,"isRouteErrorResponse",{enumerable:!0,get:function(){return s.isRouteErrorResponse}}),Object.defineProperty(n,"json",{enumerable:!0,get:function(){return s.json}}),Object.defineProperty(n,"matchPath",{enumerable:!0,get:function(){return s.matchPath}}),Object.defineProperty(n,"matchRoutes",{enumerable:!0,get:function(){return s.matchRoutes}}),Object.defineProperty(n,"parsePath",{enumerable:!0,get:function(){return s.parsePath}}),Object.defineProperty(n,"redirect",{enumerable:!0,get:function(){return s.redirect}}),Object.defineProperty(n,"redirectDocument",{enumerable:!0,get:function(){return s.redirectDocument}}),Object.defineProperty(n,"renderMatches",{enumerable:!0,get:function(){return s.renderMatches}}),Object.defineProperty(n,"resolvePath",{enumerable:!0,get:function(){return s.resolvePath}}),Object.defineProperty(n,"unstable_useBlocker",{enumerable:!0,get:function(){return s.unstable_useBlocker}}),Object.defineProperty(n,"useActionData",{enumerable:!0,get:function(){return s.useActionData}}),Object.defineProperty(n,"useAsyncError",{enumerable:!0,get:function(){return s.useAsyncError}}),Object.defineProperty(n,"useAsyncValue",{enumerable:!0,get:function(){return s.useAsyncValue}}),Object.defineProperty(n,"useHref",{enumerable:!0,get:function(){return s.useHref}}),Object.defineProperty(n,"useInRouterContext",{enumerable:!0,get:function(){return s.useInRouterContext}}),Object.defineProperty(n,"useLoaderData",{enumerable:!0,get:function(){return s.useLoaderData}}),Object.defineProperty(n,"useLocation",{enumerable:!0,get:function(){return s.useLocation}}),Object.defineProperty(n,"useMatch",{enumerable:!0,get:function(){return s.useMatch}}),Object.defineProperty(n,"useMatches",{enumerable:!0,get:function(){return s.useMatches}}),Object.defineProperty(n,"useNavigate",{enumerable:!0,get:function(){return s.useNavigate}}),Object.defineProperty(n,"useNavigation",{enumerable:!0,get:function(){return s.useNavigation}}),Object.defineProperty(n,"useNavigationType",{enumerable:!0,get:function(){return s.useNavigationType}}),Object.defineProperty(n,"useOutlet",{enumerable:!0,get:function(){return s.useOutlet}}),Object.defineProperty(n,"useOutletContext",{enumerable:!0,get:function(){return s.useOutletContext}}),Object.defineProperty(n,"useParams",{enumerable:!0,get:function(){return s.useParams}}),Object.defineProperty(n,"useResolvedPath",{enumerable:!0,get:function(){return s.useResolvedPath}}),Object.defineProperty(n,"useRevalidator",{enumerable:!0,get:function(){return s.useRevalidator}}),Object.defineProperty(n,"useRouteError",{enumerable:!0,get:function(){return s.useRouteError}}),Object.defineProperty(n,"useRouteLoaderData",{enumerable:!0,get:function(){return s.useRouteLoaderData}}),Object.defineProperty(n,"useRoutes",{enumerable:!0,get:function(){return s.useRoutes}}),n.BrowserRouter=function(Ue){let{basename:ae,children:we,future:be,window:W}=Ue,le=u.useRef();le.current==null&&(le.current=o.createBrowserHistory({window:W,v5Compat:!0}));let z=le.current,[K,de]=u.useState({action:z.action,location:z.location}),{v7_startTransition:Ce}=be||{},fe=u.useCallback($e=>{Ce&&ee?ee(()=>de($e)):de($e)},[de,Ce]);return u.useLayoutEffect(()=>z.listen(fe),[z,fe]),u.createElement(s.Router,{basename:ae,children:we,location:K.location,navigationType:K.action,navigator:z})},n.Form=je,n.HashRouter=function(Ue){let{basename:ae,children:we,future:be,window:W}=Ue,le=u.useRef();le.current==null&&(le.current=o.createHashHistory({window:W,v5Compat:!0}));let z=le.current,[K,de]=u.useState({action:z.action,location:z.location}),{v7_startTransition:Ce}=be||{},fe=u.useCallback($e=>{Ce&&ee?ee(()=>de($e)):de($e)},[de,Ce]);return u.useLayoutEffect(()=>z.listen(fe),[z,fe]),u.createElement(s.Router,{basename:ae,children:we,location:K.location,navigationType:K.action,navigator:z})},n.Link=Te,n.NavLink=Fe,n.ScrollRestoration=function(Ue){let{getKey:ae,storageKey:we}=Ue;return Kt({getKey:ae,storageKey:we}),null},n.UNSAFE_useScrollRestoration=Kt,n.createBrowserRouter=function(Ue,ae){return o.createRouter({basename:ae==null?void 0:ae.basename,future:f({},ae==null?void 0:ae.future,{v7_prependBasename:!0}),history:o.createBrowserHistory({window:ae==null?void 0:ae.window}),hydrationData:(ae==null?void 0:ae.hydrationData)||F(),routes:Ue,mapRouteProperties:s.UNSAFE_mapRouteProperties}).initialize()},n.createHashRouter=function(Ue,ae){return o.createRouter({basename:ae==null?void 0:ae.basename,future:f({},ae==null?void 0:ae.future,{v7_prependBasename:!0}),history:o.createHashHistory({window:ae==null?void 0:ae.window}),hydrationData:(ae==null?void 0:ae.hydrationData)||F(),routes:Ue,mapRouteProperties:s.UNSAFE_mapRouteProperties}).initialize()},n.createSearchParams=O,n.unstable_HistoryRouter=function(Ue){let{basename:ae,children:we,future:be,history:W}=Ue,[le,z]=u.useState({action:W.action,location:W.location}),{v7_startTransition:K}=be||{},de=u.useCallback(Ce=>{K&&ee?ee(()=>z(Ce)):z(Ce)},[z,K]);return u.useLayoutEffect(()=>W.listen(de),[W,de]),u.createElement(s.Router,{basename:ae,children:we,location:le.location,navigationType:le.action,navigator:W})},n.unstable_usePrompt=function(Ue){let{when:ae,message:we}=Ue,be=s.unstable_useBlocker(ae);u.useEffect(()=>{be.state==="blocked"&&(window.confirm(we)?setTimeout(be.proceed,0):be.reset())},[be,we]),u.useEffect(()=>{be.state!=="blocked"||ae||be.reset()},[be,ae])},n.useBeforeUnload=function(Ue,ae){let{capture:we}=ae||{};u.useEffect(()=>{let be=we!=null?{capture:we}:void 0;return window.addEventListener("beforeunload",Ue,be),()=>{window.removeEventListener("beforeunload",Ue,be)}},[Ue,we])},n.useFetcher=function(){var Ue;let{router:ae}=We(ut.UseFetcher),we=u.useContext(s.UNSAFE_RouteContext);we||o.UNSAFE_invariant(!1);let be=(Ue=we.matches[we.matches.length-1])==null?void 0:Ue.route.id;be==null&&o.UNSAFE_invariant(!1);let[W]=u.useState(()=>String(++bt)),[le]=u.useState(()=>(be||o.UNSAFE_invariant(!1),function(fe,$e){return u.forwardRef((mt,It)=>{let Vt=it(fe,$e);return u.createElement(et,f({},mt,{ref:It,submit:Vt}))})}(W,be))),[z]=u.useState(()=>fe=>{ae||o.UNSAFE_invariant(!1),be||o.UNSAFE_invariant(!1),ae.fetch(W,be,fe)}),K=it(W,be),de=ae.getFetcher(W),Ce=u.useMemo(()=>f({Form:le,submit:K,load:z},de),[de,le,K,z]);return u.useEffect(()=>()=>{ae?ae.deleteFetcher(W):console.warn("No router available to clean up from useFetcher()")},[ae,W]),Ce},n.useFetchers=function(){return[...Ae(Ge.UseFetchers).fetchers.values()]},n.useFormAction=Qe,n.useLinkClickHandler=pe,n.useSearchParams=function(Ue){let ae=u.useRef(O(Ue)),we=u.useRef(!1),be=s.useLocation(),W=u.useMemo(()=>function(K,de){let Ce=O(K);return de&&de.forEach((fe,$e)=>{Ce.has($e)||de.getAll($e).forEach(mt=>{Ce.append($e,mt)})}),Ce}(be.search,we.current?null:ae.current),[be.search]),le=s.useNavigate(),z=u.useCallback((K,de)=>{const Ce=O(typeof K=="function"?K(W):K);we.current=!0,le("?"+Ce,de)},[le,W]);return[W,z]},n.useSubmit=Ye,Object.defineProperty(n,"__esModule",{value:!0})})})(Xb,Xb.exports);var o9=Xb.exports;/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */qO.exports=o9;var Jl=qO.exports,GO={exports:{}},YO={},QO={exports:{}},Ui={};function io(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function iu(e){return!!e&&!!e[tr]}function fl(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===h9}(e)||Array.isArray(e)||!!e[bm]||!!(!((t=e.constructor)===null||t===void 0)&&t[bm])||k1(e)||O1(e))}function fh(e,t,n){n===void 0&&(n=!1),Rd(e)===0?(n?Object.keys:Sm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,s){return t(s,r,e)})}function Rd(e){var t=e[tr];return t?t.t>3?t.t-4:t.t:Array.isArray(e)?1:k1(e)?2:O1(e)?3:0}function Td(e,t){return Rd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function dy(e,t){return Rd(e)===2?e.get(t):e[t]}function KO(e,t,n){var r=Rd(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function XO(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function k1(e){return l9&&e instanceof Map}function O1(e){return u9&&e instanceof Set}function no(e){return e.i||e.u}function O2(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=JO(e);delete t[tr];for(var n=Sm(t),r=0;r<n.length;r++){var s=n[r],o=t[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Object.getPrototypeOf(e),t)}function N1(e,t){return t===void 0&&(t=!1),N2(e)||iu(e)||!fl(e)||(Rd(e)>1&&(e.set=e.add=e.clear=e.delete=a9),Object.freeze(e),t&&fh(e,function(n,r){return N1(r,!0)},!0)),e}function a9(){io(2)}function N2(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function nu(e){var t=Jb[e];return t||io(18,e),t}function A2(e,t){Jb[e]||(Jb[e]=t)}function g0(){return y0}function Tw(e,t){t&&(nu("Patches"),e.o=[],e.v=[],e.s=t)}function Uy(e){Zb(e),e.p.forEach(c9),e.p=null}function Zb(e){e===y0&&(y0=e.l)}function f5(e){return y0={p:[],l:y0,h:e,_:!0,m:0}}function c9(e){var t=e[tr];t.t===0||t.t===1?t.j():t.O=!0}function Ew(e,t){t.m=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.S||nu("ES5").P(t,e,r),r?(n[tr].M&&(Uy(t),io(4)),fl(e)&&(e=By(t,e),t.l||Vy(t,e)),t.o&&nu("Patches").g(n[tr].u,e,t.o,t.v)):e=By(t,n,[]),Uy(t),t.o&&t.s(t.o,t.v),e!==A1?e:void 0}function By(e,t,n){if(N2(t))return t;var r=t[tr];if(!r)return fh(t,function(u,f){return p5(e,r,t,u,f,n)},!0),t;if(r.A!==e)return t;if(!r.M)return Vy(e,r.u,!0),r.u;if(!r.R){r.R=!0,r.A.m--;var s=r.t===4||r.t===5?r.i=O2(r.k):r.i,o=s,l=!1;r.t===3&&(o=new Set(s),s.clear(),l=!0),fh(o,function(u,f){return p5(e,r,s,u,f,n,l)}),Vy(e,s,!1),n&&e.o&&nu("Patches").F(r,n,e.o,e.v)}return r.i}function p5(e,t,n,r,s,o,l){if(iu(s)){var u=By(e,s,o&&t&&t.t!==3&&!Td(t.N,r)?o.concat(r):void 0);if(KO(n,r,u),!iu(u))return;e._=!1}else l&&n.add(s);if(fl(s)&&!N2(s)){if(!e.h.D&&e.m<1)return;By(e,s),t&&t.A.l||Vy(e,s)}}function Vy(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e._&&N1(t,n)}function Cw(e,t){var n=e[tr];return(n?no(n):e)[t]}function m5(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ea(e){e.M||(e.M=!0,e.l&&Ea(e.l))}function kw(e){e.i||(e.i=O2(e.u))}function v0(e,t,n){var r=k1(t)?nu("MapSet").K(t,n):O1(t)?nu("MapSet").$(t,n):e.S?function(s,o){var l=Array.isArray(s),u={t:l?1:0,A:o?o.A:g0(),M:!1,R:!1,N:{},l:o,u:s,k:null,i:null,j:null,C:!1},f=u,m=_0;l&&(f=[u],m=Rg);var v=Proxy.revocable(f,m),b=v.revoke,x=v.proxy;return u.k=x,u.j=b,x}(t,n):nu("ES5").I(t,n);return(n?n.A:g0()).p.push(r),r}function ZO(e){return iu(e)||io(22,e),function t(n){if(!fl(n))return n;var r,s=n[tr],o=Rd(n);if(s){if(!s.M&&(s.t<4||!nu("ES5").J(s)))return s.u;s.R=!0,r=g5(n,o),s.R=!1}else r=g5(n,o);return fh(r,function(l,u){s&&dy(s.u,l)===u||KO(r,l,t(u))}),o===3?new Set(r):r}(e)}function g5(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return O2(e)}function v5(){function e(o,l){var u=s[o];return u?u.enumerable=l:s[o]=u={configurable:!0,enumerable:l,get:function(){return _0.get(this[tr],o)},set:function(f){_0.set(this[tr],o,f)}},u}function t(o){for(var l=o.length-1;l>=0;l--){var u=o[l][tr];if(!u.M)switch(u.t){case 5:r(u)&&Ea(u);break;case 4:n(u)&&Ea(u)}}}function n(o){for(var l=o.u,u=o.k,f=Sm(u),m=f.length-1;m>=0;m--){var v=f[m];if(v!==tr){var b=l[v];if(b===void 0&&!Td(l,v))return!0;var x=u[v],O=x&&x[tr];if(O?O.u!==b:!XO(x,b))return!0}}var T=!!l[tr];return f.length!==Sm(l).length+(T?0:1)}function r(o){var l=o.k;if(l.length!==o.u.length)return!0;var u=Object.getOwnPropertyDescriptor(l,l.length-1);if(u&&!u.get)return!0;for(var f=0;f<l.length;f++)if(!l.hasOwnProperty(f))return!0;return!1}var s={};A2("ES5",{I:function(o,l){var u=Array.isArray(o),f=function(v,b){if(v){for(var x=Array(b.length),O=0;O<b.length;O++)Object.defineProperty(x,""+O,e(O,!0));return x}var T=JO(b);delete T[tr];for(var D=Sm(T),M=0;M<D.length;M++){var C=D[M];T[C]=e(C,v||!!T[C].enumerable)}return Object.create(Object.getPrototypeOf(b),T)}(u,o),m={t:u?5:4,A:l?l.A:g0(),M:!1,R:!1,N:{},l,u:o,k:f,i:null,O:!1,C:!1};return Object.defineProperty(f,tr,{value:m,writable:!0}),f},P:function(o,l,u){u?iu(l)&&l[tr].A===o&&t(o.p):(o.o&&function f(m){if(m&&typeof m=="object"){var v=m[tr];if(v){var b=v.u,x=v.k,O=v.N,T=v.t;if(T===4)fh(x,function(j){j!==tr&&(b[j]!==void 0||Td(b,j)?O[j]||f(x[j]):(O[j]=!0,Ea(v)))}),fh(b,function(j){x[j]!==void 0||Td(x,j)||(O[j]=!1,Ea(v))});else if(T===5){if(r(v)&&(Ea(v),O.length=!0),x.length<b.length)for(var D=x.length;D<b.length;D++)O[D]=!1;else for(var M=b.length;M<x.length;M++)O[M]=!0;for(var C=Math.min(x.length,b.length),R=0;R<C;R++)x.hasOwnProperty(R)||(O[R]=!0),O[R]===void 0&&f(x[R])}}}}(o.p[0]),t(o.p))},J:function(o){return o.t===4?n(o):r(o)}})}function y5(){function e(r){if(!fl(r))return r;if(Array.isArray(r))return r.map(e);if(k1(r))return new Map(Array.from(r.entries()).map(function(l){return[l[0],e(l[1])]}));if(O1(r))return new Set(Array.from(r).map(e));var s=Object.create(Object.getPrototypeOf(r));for(var o in r)s[o]=e(r[o]);return Td(r,bm)&&(s[bm]=r[bm]),s}function t(r){return iu(r)?e(r):r}var n="add";A2("Patches",{W:function(r,s){return s.forEach(function(o){for(var l=o.path,u=o.op,f=r,m=0;m<l.length-1;m++){var v=Rd(f),b=""+l[m];v!==0&&v!==1||b!=="__proto__"&&b!=="constructor"||io(24),typeof f=="function"&&b==="prototype"&&io(24),typeof(f=dy(f,b))!="object"&&io(15,l.join("/"))}var x=Rd(f),O=e(o.value),T=l[l.length-1];switch(u){case"replace":switch(x){case 2:return f.set(T,O);case 3:io(16);default:return f[T]=O}case n:switch(x){case 1:return T==="-"?f.push(O):f.splice(T,0,O);case 2:return f.set(T,O);case 3:return f.add(O);default:return f[T]=O}case"remove":switch(x){case 1:return f.splice(T,1);case 2:return f.delete(T);case 3:return f.delete(o.value);default:return delete f[T]}default:io(17,u)}}),r},F:function(r,s,o,l){switch(r.t){case 0:case 4:case 2:return function(u,f,m,v){var b=u.u,x=u.i;fh(u.N,function(O,T){var D=dy(b,O),M=dy(x,O),C=T?Td(b,O)?"replace":n:"remove";if(D!==M||C!=="replace"){var R=f.concat(O);m.push(C==="remove"?{op:C,path:R}:{op:C,path:R,value:M}),v.push(C===n?{op:"remove",path:R}:C==="remove"?{op:n,path:R,value:t(D)}:{op:"replace",path:R,value:t(D)})}})}(r,s,o,l);case 5:case 1:return function(u,f,m,v){var b=u.u,x=u.N,O=u.i;if(O.length<b.length){var T=[O,b];b=T[0],O=T[1];var D=[v,m];m=D[0],v=D[1]}for(var M=0;M<b.length;M++)if(x[M]&&O[M]!==b[M]){var C=f.concat([M]);m.push({op:"replace",path:C,value:t(O[M])}),v.push({op:"replace",path:C,value:t(b[M])})}for(var R=b.length;R<O.length;R++){var j=f.concat([R]);m.push({op:n,path:j,value:t(O[R])})}b.length<O.length&&v.push({op:"replace",path:f.concat(["length"]),value:b.length})}(r,s,o,l);case 3:return function(u,f,m,v){var b=u.u,x=u.i,O=0;b.forEach(function(T){if(!x.has(T)){var D=f.concat([O]);m.push({op:"remove",path:D,value:T}),v.unshift({op:n,path:D,value:T})}O++}),O=0,x.forEach(function(T){if(!b.has(T)){var D=f.concat([O]);m.push({op:n,path:D,value:T}),v.unshift({op:"remove",path:D,value:T})}O++})}(r,s,o,l)}},g:function(r,s,o,l){o.push({op:"replace",path:[],value:s===A1?void 0:s}),l.push({op:"replace",path:[],value:r})}})}function _5(){function e(u,f){function m(){this.constructor=u}s(u,f),u.prototype=(m.prototype=f.prototype,new m)}function t(u){u.i||(u.N=new Map,u.i=new Map(u.u))}function n(u){u.i||(u.i=new Set,u.u.forEach(function(f){if(fl(f)){var m=v0(u.A.h,f,u);u.p.set(f,m),u.i.add(m)}else u.i.add(f)}))}function r(u){u.O&&io(3,JSON.stringify(no(u)))}var s=function(u,f){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)v.hasOwnProperty(b)&&(m[b]=v[b])})(u,f)},o=function(){function u(m,v){return this[tr]={t:2,l:v,A:v?v.A:g0(),M:!1,R:!1,i:void 0,N:void 0,u:m,k:this,C:!1,O:!1},this}e(u,Map);var f=u.prototype;return Object.defineProperty(f,"size",{get:function(){return no(this[tr]).size}}),f.has=function(m){return no(this[tr]).has(m)},f.set=function(m,v){var b=this[tr];return r(b),no(b).has(m)&&no(b).get(m)===v||(t(b),Ea(b),b.N.set(m,!0),b.i.set(m,v),b.N.set(m,!0)),this},f.delete=function(m){if(!this.has(m))return!1;var v=this[tr];return r(v),t(v),Ea(v),v.u.has(m)?v.N.set(m,!1):v.N.delete(m),v.i.delete(m),!0},f.clear=function(){var m=this[tr];r(m),no(m).size&&(t(m),Ea(m),m.N=new Map,fh(m.u,function(v){m.N.set(v,!1)}),m.i.clear())},f.forEach=function(m,v){var b=this;no(this[tr]).forEach(function(x,O){m.call(v,b.get(O),O,b)})},f.get=function(m){var v=this[tr];r(v);var b=no(v).get(m);if(v.R||!fl(b)||b!==v.u.get(m))return b;var x=v0(v.A.h,b,v);return t(v),v.i.set(m,x),x},f.keys=function(){return no(this[tr]).keys()},f.values=function(){var m,v=this,b=this.keys();return(m={})[$v]=function(){return v.values()},m.next=function(){var x=b.next();return x.done?x:{done:!1,value:v.get(x.value)}},m},f.entries=function(){var m,v=this,b=this.keys();return(m={})[$v]=function(){return v.entries()},m.next=function(){var x=b.next();if(x.done)return x;var O=v.get(x.value);return{done:!1,value:[x.value,O]}},m},f[$v]=function(){return this.entries()},u}(),l=function(){function u(m,v){return this[tr]={t:3,l:v,A:v?v.A:g0(),M:!1,R:!1,i:void 0,u:m,k:this,p:new Map,O:!1,C:!1},this}e(u,Set);var f=u.prototype;return Object.defineProperty(f,"size",{get:function(){return no(this[tr]).size}}),f.has=function(m){var v=this[tr];return r(v),v.i?!!v.i.has(m)||!(!v.p.has(m)||!v.i.has(v.p.get(m))):v.u.has(m)},f.add=function(m){var v=this[tr];return r(v),this.has(m)||(n(v),Ea(v),v.i.add(m)),this},f.delete=function(m){if(!this.has(m))return!1;var v=this[tr];return r(v),n(v),Ea(v),v.i.delete(m)||!!v.p.has(m)&&v.i.delete(v.p.get(m))},f.clear=function(){var m=this[tr];r(m),no(m).size&&(n(m),Ea(m),m.i.clear())},f.values=function(){var m=this[tr];return r(m),n(m),m.i.values()},f.entries=function(){var m=this[tr];return r(m),n(m),m.i.entries()},f.keys=function(){return this.values()},f[$v]=function(){return this.values()},f.forEach=function(m,v){for(var b=this.values(),x=b.next();!x.done;)m.call(v,x.value,x.value,this),x=b.next()},u}();A2("MapSet",{K:function(u,f){return new o(u,f)},$:function(u,f){return new l(u,f)}})}var w5;Object.defineProperty(Ui,"__esModule",{value:!0});var y0,M2=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",l9=typeof Map<"u",u9=typeof Set<"u",b5=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",A1=M2?Symbol.for("immer-nothing"):((w5={})["immer-nothing"]=!0,w5),bm=M2?Symbol.for("immer-draftable"):"__$immer_draftable",tr=M2?Symbol.for("immer-state"):"__$immer_state",$v=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",h9=""+Object.prototype.constructor,Sm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,JO=Object.getOwnPropertyDescriptors||function(e){var t={};return Sm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Jb={},_0={get:function(e,t){if(t===tr)return e;var n=no(e);if(!Td(n,t))return function(s,o,l){var u,f=m5(o,l);return f?"value"in f?f.value:(u=f.get)===null||u===void 0?void 0:u.call(s.k):void 0}(e,n,t);var r=n[t];return e.R||!fl(r)?r:r===Cw(e.u,t)?(kw(e),e.i[t]=v0(e.A.h,r,e)):r},has:function(e,t){return t in no(e)},ownKeys:function(e){return Reflect.ownKeys(no(e))},set:function(e,t,n){var r=m5(no(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.M){var s=Cw(no(e),t),o=s==null?void 0:s[tr];if(o&&o.u===n)return e.i[t]=n,e.N[t]=!1,!0;if(XO(n,s)&&(n!==void 0||Td(e.u,t)))return!0;kw(e),Ea(e)}return e.i[t]===n&&(n!==void 0||t in e.i)||Number.isNaN(n)&&Number.isNaN(e.i[t])||(e.i[t]=n,e.N[t]=!0),!0},deleteProperty:function(e,t){return Cw(e.u,t)!==void 0||t in e.u?(e.N[t]=!1,kw(e),Ea(e)):delete e.N[t],e.i&&delete e.i[t],!0},getOwnPropertyDescriptor:function(e,t){var n=no(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.t!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){io(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.u)},setPrototypeOf:function(){io(12)}},Rg={};fh(_0,function(e,t){Rg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Rg.deleteProperty=function(e,t){return Rg.set.call(this,e,t,void 0)},Rg.set=function(e,t,n){return _0.set.call(this,e[0],t,n,e[0])};var eN=function(){function e(n){var r=this;this.S=b5,this.D=!0,this.produce=function(s,o,l){if(typeof s=="function"&&typeof o!="function"){var u=o;o=s;var f=r;return function(D){var M=this;D===void 0&&(D=u);for(var C=arguments.length,R=Array(C>1?C-1:0),j=1;j<C;j++)R[j-1]=arguments[j];return f.produce(D,function(H){var F;return(F=o).call.apply(F,[M,H].concat(R))})}}var m;if(typeof o!="function"&&io(6),l!==void 0&&typeof l!="function"&&io(7),fl(s)){var v=f5(r),b=v0(r,s,void 0),x=!0;try{m=o(b),x=!1}finally{x?Uy(v):Zb(v)}return typeof Promise<"u"&&m instanceof Promise?m.then(function(D){return Tw(v,l),Ew(D,v)},function(D){throw Uy(v),D}):(Tw(v,l),Ew(m,v))}if(!s||typeof s!="object"){if((m=o(s))===void 0&&(m=s),m===A1&&(m=void 0),r.D&&N1(m,!0),l){var O=[],T=[];nu("Patches").g(s,m,O,T),l(O,T)}return m}io(21,s)},this.produceWithPatches=function(s,o){if(typeof s=="function")return function(m){for(var v=arguments.length,b=Array(v>1?v-1:0),x=1;x<v;x++)b[x-1]=arguments[x];return r.produceWithPatches(m,function(O){return s.apply(void 0,[O].concat(b))})};var l,u,f=r.produce(s,o,function(m,v){l=m,u=v});return typeof Promise<"u"&&f instanceof Promise?f.then(function(m){return[m,l,u]}):[f,l,u]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){fl(n)||io(8),iu(n)&&(n=ZO(n));var r=f5(this),s=v0(this,n,void 0);return s[tr].C=!0,Zb(r),s},t.finishDraft=function(n,r){var s=(n&&n[tr]).A;return Tw(s,r),Ew(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!b5&&io(20),this.S=n},t.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var o=r[s];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}s>-1&&(r=r.slice(s+1));var l=nu("Patches").W;return iu(n)?l(n,r):this.produce(n,function(u){return l(u,r)})},e}(),rc=new eN,S5=rc.produce,d9=rc.produceWithPatches.bind(rc),f9=rc.setAutoFreeze.bind(rc),p9=rc.setUseProxies.bind(rc),m9=rc.applyPatches.bind(rc),g9=rc.createDraft.bind(rc),v9=rc.finishDraft.bind(rc);Ui.Immer=eN,Ui.applyPatches=m9,Ui.castDraft=function(e){return e},Ui.castImmutable=function(e){return e},Ui.createDraft=g9,Ui.current=ZO,Ui.default=S5,Ui.enableAllPlugins=function(){v5(),_5(),y5()},Ui.enableES5=v5,Ui.enableMapSet=_5,Ui.enablePatches=y5,Ui.finishDraft=v9,Ui.freeze=N1,Ui.immerable=bm,Ui.isDraft=iu,Ui.isDraftable=fl,Ui.nothing=A1,Ui.original=function(e){return iu(e)||io(23,e),e[tr].u},Ui.produce=S5,Ui.produceWithPatches=d9,Ui.setAutoFreeze=f9,Ui.setUseProxies=p9;QO.exports=Ui;var Yp=QO.exports,Eo={},Hm={};Object.defineProperty(Hm,"__esModule",{value:!0});Hm.createCacheKeyComparator=nN;Hm.defaultEqualityCheck=void 0;Hm.defaultMemoize=w9;var zy="NOT_FOUND";function y9(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:zy},put:function(r,s){t={key:r,value:s}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function _9(e,t){var n=[];function r(u){var f=n.findIndex(function(v){return t(u,v.key)});if(f>-1){var m=n[f];return f>0&&(n.splice(f,1),n.unshift(m)),m.value}return zy}function s(u,f){r(u)===zy&&(n.unshift({key:u,value:f}),n.length>e&&n.pop())}function o(){return n}function l(){n=[]}return{get:r,put:s,getEntries:o,clear:l}}var tN=function(t,n){return t===n};Hm.defaultEqualityCheck=tN;function nN(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var s=n.length,o=0;o<s;o++)if(!e(n[o],r[o]))return!1;return!0}}function w9(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,s=r===void 0?tN:r,o=n.maxSize,l=o===void 0?1:o,u=n.resultEqualityCheck,f=nN(s),m=l===1?y9(f):_9(l,f);function v(){var b=m.get(arguments);if(b===zy){if(b=e.apply(null,arguments),u){var x=m.getEntries(),O=x.find(function(T){return u(T.value,b)});O&&(b=O.value)}m.put(arguments,b)}return b}return v.clearCache=function(){return m.clear()},v}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createSelector=void 0,e.createSelectorCreator=r,e.createStructuredSelector=void 0,Object.defineProperty(e,"defaultEqualityCheck",{enumerable:!0,get:function(){return t.defaultEqualityCheck}}),Object.defineProperty(e,"defaultMemoize",{enumerable:!0,get:function(){return t.defaultMemoize}});var t=Hm;function n(l){var u=Array.isArray(l[0])?l[0]:l;if(!u.every(function(m){return typeof m=="function"})){var f=u.map(function(m){return typeof m=="function"?"function "+(m.name||"unnamed")+"()":typeof m}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+f+"]")}return u}function r(l){for(var u=arguments.length,f=new Array(u>1?u-1:0),m=1;m<u;m++)f[m-1]=arguments[m];var v=function(){for(var x=arguments.length,O=new Array(x),T=0;T<x;T++)O[T]=arguments[T];var D=0,M,C={memoizeOptions:void 0},R=O.pop();if(typeof R=="object"&&(C=R,R=O.pop()),typeof R!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof R+"]");var j=C,H=j.memoizeOptions,F=H===void 0?f:H,ie=Array.isArray(F)?F:[F],ee=n(O),_e=l.apply(void 0,[function(){return D++,R.apply(null,arguments)}].concat(ie)),Xe=l(function(){for(var Fe=[],je=ee.length,et=0;et<je;et++)Fe.push(ee[et].apply(null,arguments));return M=_e.apply(null,Fe),M});return Object.assign(Xe,{resultFunc:R,memoizedResultFunc:_e,dependencies:ee,lastResult:function(){return M},recomputations:function(){return D},resetRecomputations:function(){return D=0}}),Xe};return v}var s=r(t.defaultMemoize);e.createSelector=s;var o=function(u,f){if(f===void 0&&(f=s),typeof u!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof u));var m=Object.keys(u),v=f(m.map(function(b){return u[b]}),function(){for(var b=arguments.length,x=new Array(b),O=0;O<b;O++)x[O]=arguments[O];return x.reduce(function(T,D,M){return T[m[M]]=D,T},{})});return v};e.createStructuredSelector=o})(Eo);var M1={};Object.defineProperty(M1,"__esModule",{value:!0});M1.default=void 0;function rN(e){var t=function(r){var s=r.dispatch,o=r.getState;return function(l){return function(u){return typeof u=="function"?u(s,o,e):l(u)}}};return t}var iN=rN();iN.withExtraArgument=rN;var b9=iN;M1.default=b9;(function(e){var t,n=hi&&hi.__extends||(t=function(ne,ye){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ne,Ze){Ne.__proto__=Ze}||function(Ne,Ze){for(var te in Ze)Object.prototype.hasOwnProperty.call(Ze,te)&&(Ne[te]=Ze[te])},t(ne,ye)},function(ne,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");function Ne(){this.constructor=ne}t(ne,ye),ne.prototype=ye===null?Object.create(ye):(Ne.prototype=ye.prototype,new Ne)}),r=hi&&hi.__generator||function(ne,ye){var Ne,Ze,te,ht,vt={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return ht={next:qt(0),throw:qt(1),return:qt(2)},typeof Symbol=="function"&&(ht[Symbol.iterator]=function(){return this}),ht;function qt(Xt){return function(jt){return function(gt){if(Ne)throw new TypeError("Generator is already executing.");for(;vt;)try{if(Ne=1,Ze&&(te=2&gt[0]?Ze.return:gt[0]?Ze.throw||((te=Ze.return)&&te.call(Ze),0):Ze.next)&&!(te=te.call(Ze,gt[1])).done)return te;switch(Ze=0,te&&(gt=[2&gt[0],te.value]),gt[0]){case 0:case 1:te=gt;break;case 4:return vt.label++,{value:gt[1],done:!1};case 5:vt.label++,Ze=gt[1],gt=[0];continue;case 7:gt=vt.ops.pop(),vt.trys.pop();continue;default:if(!((te=(te=vt.trys).length>0&&te[te.length-1])||gt[0]!==6&&gt[0]!==2)){vt=0;continue}if(gt[0]===3&&(!te||gt[1]>te[0]&&gt[1]<te[3])){vt.label=gt[1];break}if(gt[0]===6&&vt.label<te[1]){vt.label=te[1],te=gt;break}if(te&&vt.label<te[2]){vt.label=te[2],vt.ops.push(gt);break}te[2]&&vt.ops.pop(),vt.trys.pop();continue}gt=ye.call(ne,vt)}catch(St){gt=[6,St],Ze=0}finally{Ne=te=0}if(5&gt[0])throw gt[1];return{value:gt[0]?gt[1]:void 0,done:!0}}([Xt,jt])}}},s=hi&&hi.__spreadArray||function(ne,ye){for(var Ne=0,Ze=ye.length,te=ne.length;Ne<Ze;Ne++,te++)ne[te]=ye[Ne];return ne},o=Object.create,l=Object.defineProperty,u=Object.defineProperties,f=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,D=function(ne,ye,Ne){return ye in ne?l(ne,ye,{enumerable:!0,configurable:!0,writable:!0,value:Ne}):ne[ye]=Ne},M=function(ne,ye){for(var Ne in ye||(ye={}))O.call(ye,Ne)&&D(ne,Ne,ye[Ne]);if(b)for(var Ze=0,te=b(ye);Ze<te.length;Ze++)T.call(ye,Ne=te[Ze])&&D(ne,Ne,ye[Ne]);return ne},C=function(ne,ye){return u(ne,m(ye))},R=function(ne){return l(ne,"__esModule",{value:!0})},j=function(ne,ye,Ne){if(ye&&typeof ye=="object"||typeof ye=="function")for(var Ze=function(vt){O.call(ne,vt)||vt==="default"||l(ne,vt,{get:function(){return ye[vt]},enumerable:!(Ne=f(ye,vt))||Ne.enumerable})},te=0,ht=v(ye);te<ht.length;te++)Ze(ht[te]);return ne},H=function(ne){return j(R(l(ne!=null?o(x(ne)):{},"default",ne&&ne.__esModule&&"default"in ne?{get:function(){return ne.default},enumerable:!0}:{value:ne,enumerable:!0})),ne)},F=function(ne,ye,Ne){return new Promise(function(Ze,te){var ht=function(Xt){try{qt(Ne.next(Xt))}catch(jt){te(jt)}},vt=function(Xt){try{qt(Ne.throw(Xt))}catch(jt){te(jt)}},qt=function(Xt){return Xt.done?Ze(Xt.value):Promise.resolve(Xt.value).then(ht,vt)};qt((Ne=Ne.apply(ne,ye)).next())})};R(e),function(ne,ye){for(var Ne in ye)l(ne,Ne,{get:ye[Ne],enumerable:!0})}(e,{MiddlewareArray:function(){return pe},SHOULD_AUTOBATCH:function(){return Gn},TaskAbortError:function(){return zi},addListener:function(){return Br},autoBatchEnhancer:function(){return Li},clearAllListeners:function(){return $n},configureStore:function(){return Ue},createAction:function(){return ae},createAsyncThunk:function(){return Nr},createDraftSafeSelector:function(){return Fe},createEntityAdapter:function(){return Vt},createImmutableStateInvariantMiddleware:function(){return it},createListenerMiddleware:function(){return $i},createNextState:function(){return ee.default},createReducer:function(){return z},createSelector:function(){return _e.createSelector},createSerializableStateInvariantMiddleware:function(){return rt},createSlice:function(){return K},current:function(){return ee.current},findNonSerializableValue:function(){return bt},freeze:function(){return ee.freeze},getDefaultMiddleware:function(){return Kt},getType:function(){return be},isAllOf:function(){return Ir},isAnyOf:function(){return yr},isAsyncThunkAction:function(){return Ur},isDraft:function(){return ee.isDraft},isFulfilled:function(){return us},isImmutableDefault:function(){return Ye},isPending:function(){return ci},isPlain:function(){return Qe},isPlainObject:function(){return Ge},isRejected:function(){return ls},isRejectedWithValue:function(){return Zn},miniSerializeError:function(){return mr},nanoid:function(){return Pt},original:function(){return ee.original},prepareAutoBatched:function(){return Vr},removeListener:function(){return co},unwrapResult:function(){return Ln}});var ie=H(Yp);j(e,H(ul));var ee=H(Yp),_e=H(Eo),Xe=H(Yp),Te=H(Eo),Fe=function(){for(var ne=[],ye=0;ye<arguments.length;ye++)ne[ye]=arguments[ye];var Ne=Te.createSelector.apply(void 0,ne),Ze=function(te){for(var ht=[],vt=1;vt<arguments.length;vt++)ht[vt-1]=arguments[vt];return Ne.apply(void 0,s([(0,Xe.isDraft)(te)?(0,Xe.current)(te):te],ht))};return Ze},je=H(ul),et=H(ul),ut=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?et.compose:et.compose.apply(null,arguments)};function Ge(ne){if(typeof ne!="object"||ne===null)return!1;var ye=Object.getPrototypeOf(ne);if(ye===null)return!0;for(var Ne=ye;Object.getPrototypeOf(Ne)!==null;)Ne=Object.getPrototypeOf(Ne);return ye===Ne}var We=H(M1),Ae=H(Yp),pe=function(ne){function ye(){for(var Ne=[],Ze=0;Ze<arguments.length;Ze++)Ne[Ze]=arguments[Ze];var te=ne.apply(this,Ne)||this;return Object.setPrototypeOf(te,ye.prototype),te}return n(ye,ne),Object.defineProperty(ye,Symbol.species,{get:function(){return ye},enumerable:!1,configurable:!0}),ye.prototype.concat=function(){for(var Ne=[],Ze=0;Ze<arguments.length;Ze++)Ne[Ze]=arguments[Ze];return ne.prototype.concat.apply(this,Ne)},ye.prototype.prepend=function(){for(var Ne=[],Ze=0;Ze<arguments.length;Ze++)Ne[Ze]=arguments[Ze];return Ne.length===1&&Array.isArray(Ne[0])?new(ye.bind.apply(ye,s([void 0],Ne[0].concat(this)))):new(ye.bind.apply(ye,s([void 0],Ne.concat(this))))},ye}(Array);function Pe(ne){return(0,Ae.isDraftable)(ne)?(0,Ae.default)(ne,function(){}):ne}function Ye(ne){return typeof ne!="object"||ne==null||Object.isFrozen(ne)}function it(ne){return function(){return function(ye){return function(Ne){return ye(Ne)}}}}function Qe(ne){var ye=typeof ne;return ne==null||ye==="string"||ye==="boolean"||ye==="number"||Array.isArray(ne)||Ge(ne)}function bt(ne,ye,Ne,Ze,te,ht){var vt;if(ye===void 0&&(ye=""),Ne===void 0&&(Ne=Qe),te===void 0&&(te=[]),!Ne(ne))return{keyPath:ye||"<root>",value:ne};if(typeof ne!="object"||ne===null||ht!=null&&ht.has(ne))return!1;for(var qt=Ze!=null?Ze(ne):Object.entries(ne),Xt=te.length>0,jt=function(X,re){var se=ye?ye+"."+X:X;return Xt&&te.some(function(Ee){return Ee instanceof RegExp?Ee.test(se):se===Ee})?"continue":Ne(re)?typeof re=="object"&&(vt=bt(re,se,Ne,Ze,te,ht))?{value:vt}:void 0:{value:{keyPath:se,value:re}}},gt=0,St=qt;gt<St.length;gt++){var L=St[gt],q=jt(L[0],L[1]);if(typeof q=="object")return q.value}return ht&&Mt(ne)&&ht.add(ne),!1}function Mt(ne){if(!Object.isFrozen(ne))return!1;for(var ye=0,Ne=Object.values(ne);ye<Ne.length;ye++){var Ze=Ne[ye];if(typeof Ze=="object"&&Ze!==null&&!Mt(Ze))return!1}return!0}function rt(ne){return function(){return function(ye){return function(Ne){return ye(Ne)}}}}function Kt(ne){ne===void 0&&(ne={});var ye=ne.thunk,Ne=ye===void 0||ye,Ze=new pe;return Ne&&Ze.push(typeof Ne=="boolean"?We.default:We.default.withExtraArgument(Ne.extraArgument)),Ze}function Ue(ne){var ye,Ne=function(Ve){return Kt(Ve)},Ze=ne||{},te=Ze.reducer,ht=te===void 0?void 0:te,vt=Ze.middleware,qt=vt===void 0?Ne():vt,Xt=Ze.devTools,jt=Xt===void 0||Xt,gt=Ze.preloadedState,St=gt===void 0?void 0:gt,L=Ze.enhancers,q=L===void 0?void 0:L;if(typeof ht=="function")ye=ht;else{if(!Ge(ht))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');ye=(0,je.combineReducers)(ht)}var X=qt;typeof X=="function"&&(X=X(Ne));var re=je.applyMiddleware.apply(void 0,X),se=je.compose;jt&&(se=ut(M({trace:!1},typeof jt=="object"&&jt)));var Ee=[re];Array.isArray(q)?Ee=s([re],q):typeof q=="function"&&(Ee=q(Ee));var Me=se.apply(void 0,Ee);return(0,je.createStore)(ye,St,Me)}function ae(ne,ye){function Ne(){for(var Ze=[],te=0;te<arguments.length;te++)Ze[te]=arguments[te];if(ye){var ht=ye.apply(void 0,Ze);if(!ht)throw new Error("prepareAction did not return an object");return M(M({type:ne,payload:ht.payload},"meta"in ht&&{meta:ht.meta}),"error"in ht&&{error:ht.error})}return{type:ne,payload:Ze[0]}}return Ne.toString=function(){return""+ne},Ne.type=ne,Ne.match=function(Ze){return Ze.type===ne},Ne}function we(ne){return["type","payload","error","meta"].indexOf(ne)>-1}function be(ne){return""+ne}var W=H(Yp);function le(ne){var ye,Ne={},Ze=[],te={addCase:function(ht,vt){var qt=typeof ht=="string"?ht:ht.type;if(qt in Ne)throw new Error("addCase cannot be called with two reducers for the same action type");return Ne[qt]=vt,te},addMatcher:function(ht,vt){return Ze.push({matcher:ht,reducer:vt}),te},addDefaultCase:function(ht){return ye=ht,te}};return ne(te),[Ne,Ze,ye]}function z(ne,ye,Ne,Ze){Ne===void 0&&(Ne=[]);var te,ht=typeof ye=="function"?le(ye):[ye,Ne,Ze],vt=ht[0],qt=ht[1],Xt=ht[2];if(typeof ne=="function")te=function(){return Pe(ne())};else{var jt=Pe(ne);te=function(){return jt}}function gt(St,L){St===void 0&&(St=te());var q=s([vt[L.type]],qt.filter(function(X){return(0,X.matcher)(L)}).map(function(X){return X.reducer}));return q.filter(function(X){return!!X}).length===0&&(q=[Xt]),q.reduce(function(X,re){if(re){var se;if((0,W.isDraft)(X))return(se=re(X,L))===void 0?X:se;if((0,W.isDraftable)(X))return(0,W.default)(X,function(Ee){return re(Ee,L)});if((se=re(X,L))===void 0){if(X===null)return X;throw Error("A case reducer on a non-draftable value must not return undefined")}return se}return X},St)}return gt.getInitialState=te,gt}function K(ne){var ye=ne.name;if(!ye)throw new Error("`name` is a required option for createSlice");var Ne,Ze=typeof ne.initialState=="function"?ne.initialState:Pe(ne.initialState),te=ne.reducers||{},ht=Object.keys(te),vt={},qt={},Xt={};function jt(){var gt=typeof ne.extraReducers=="function"?le(ne.extraReducers):[ne.extraReducers],St=gt[0],L=gt[1],q=L===void 0?[]:L,X=gt[2],re=X===void 0?void 0:X,se=M(M({},St===void 0?{}:St),qt);return z(Ze,function(Ee){for(var Me in se)Ee.addCase(Me,se[Me]);for(var Ve=0,tt=q;Ve<tt.length;Ve++){var lt=tt[Ve];Ee.addMatcher(lt.matcher,lt.reducer)}re&&Ee.addDefaultCase(re)})}return ht.forEach(function(gt){var St,L,q=te[gt],X=ye+"/"+gt;"reducer"in q?(St=q.reducer,L=q.prepare):St=q,vt[gt]=St,qt[X]=St,Xt[gt]=L?ae(X,L):ae(X)}),{name:ye,reducer:function(gt,St){return Ne||(Ne=jt()),Ne(gt,St)},actions:Xt,caseReducers:vt,getInitialState:function(){return Ne||(Ne=jt()),Ne.getInitialState()}}}var de=H(Yp);function Ce(ne){return function(ye,Ne){var Ze=function(te){var ht;Ge(ht=Ne)&&typeof ht.type=="string"&&Object.keys(ht).every(we)?ne(Ne.payload,te):ne(Ne,te)};return(0,de.isDraft)(ye)?(Ze(ye),ye):(0,de.default)(ye,Ze)}}function fe(ne,ye){return ye(ne)}function $e(ne){return Array.isArray(ne)||(ne=Object.values(ne)),ne}function mt(ne,ye,Ne){for(var Ze=[],te=[],ht=0,vt=ne=$e(ne);ht<vt.length;ht++){var qt=vt[ht],Xt=fe(qt,ye);Xt in Ne.entities?te.push({id:Xt,changes:qt}):Ze.push(qt)}return[Ze,te]}function It(ne){function ye(jt,gt){var St=fe(jt,ne);St in gt.entities||(gt.ids.push(St),gt.entities[St]=jt)}function Ne(jt,gt){for(var St=0,L=jt=$e(jt);St<L.length;St++)ye(L[St],gt)}function Ze(jt,gt){var St=fe(jt,ne);St in gt.entities||gt.ids.push(St),gt.entities[St]=jt}function te(jt,gt){var St=!1;jt.forEach(function(L){L in gt.entities&&(delete gt.entities[L],St=!0)}),St&&(gt.ids=gt.ids.filter(function(L){return L in gt.entities}))}function ht(jt,gt){var St={},L={};if(jt.forEach(function(X){X.id in gt.entities&&(L[X.id]={id:X.id,changes:M(M({},L[X.id]?L[X.id].changes:null),X.changes)})}),(jt=Object.values(L)).length>0){var q=jt.filter(function(X){return function(re,se,Ee){var Me=Object.assign({},Ee.entities[se.id],se.changes),Ve=fe(Me,ne),tt=Ve!==se.id;return tt&&(re[se.id]=Ve,delete Ee.entities[se.id]),Ee.entities[Ve]=Me,tt}(St,X,gt)}).length>0;q&&(gt.ids=Object.keys(gt.entities))}}function vt(jt,gt){var St=mt(jt,ne,gt),L=St[0];ht(St[1],gt),Ne(L,gt)}return{removeAll:(qt=function(jt){Object.assign(jt,{ids:[],entities:{}})},Xt=Ce(function(jt,gt){return qt(gt)}),function(jt){return Xt(jt,void 0)}),addOne:Ce(ye),addMany:Ce(Ne),setOne:Ce(Ze),setMany:Ce(function(jt,gt){for(var St=0,L=jt=$e(jt);St<L.length;St++)Ze(L[St],gt)}),setAll:Ce(function(jt,gt){jt=$e(jt),gt.ids=[],gt.entities={},Ne(jt,gt)}),updateOne:Ce(function(jt,gt){return ht([jt],gt)}),updateMany:Ce(ht),upsertOne:Ce(function(jt,gt){return vt([jt],gt)}),upsertMany:Ce(vt),removeOne:Ce(function(jt,gt){return te([jt],gt)}),removeMany:Ce(te)};var qt,Xt}function Vt(ne){ne===void 0&&(ne={});var ye=M({sortComparer:!1,selectId:function(qt){return qt.id}},ne),Ne=ye.selectId,Ze=ye.sortComparer,te={getInitialState:function(qt){return qt===void 0&&(qt={}),Object.assign({ids:[],entities:{}},qt)}},ht={getSelectors:function(qt){var Xt=function(re){return re.ids},jt=function(re){return re.entities},gt=Fe(Xt,jt,function(re,se){return re.map(function(Ee){return se[Ee]})}),St=function(re,se){return se},L=function(re,se){return re[se]},q=Fe(Xt,function(re){return re.length});if(!qt)return{selectIds:Xt,selectEntities:jt,selectAll:gt,selectTotal:q,selectById:Fe(jt,St,L)};var X=Fe(qt,jt);return{selectIds:Fe(qt,Xt),selectEntities:X,selectAll:Fe(qt,gt),selectTotal:Fe(qt,q),selectById:Fe(X,St,L)}}},vt=Ze?function(qt,Xt){var jt=It(qt);function gt(se,Ee){var Me=(se=$e(se)).filter(function(Ve){return!(fe(Ve,qt)in Ee.entities)});Me.length!==0&&X(Me,Ee)}function St(se,Ee){(se=$e(se)).length!==0&&X(se,Ee)}function L(se,Ee){for(var Me=!1,Ve=0,tt=se;Ve<tt.length;Ve++){var lt=tt[Ve],Ct=Ee.entities[lt.id];if(Ct){Me=!0,Object.assign(Ct,lt.changes);var Ft=qt(Ct);lt.id!==Ft&&(delete Ee.entities[lt.id],Ee.entities[Ft]=Ct)}}Me&&re(Ee)}function q(se,Ee){var Me=mt(se,qt,Ee),Ve=Me[0];L(Me[1],Ee),gt(Ve,Ee)}function X(se,Ee){se.forEach(function(Me){Ee.entities[qt(Me)]=Me}),re(Ee)}function re(se){var Ee=Object.values(se.entities);Ee.sort(Xt);var Me=Ee.map(qt);(function(Ve,tt){if(Ve.length!==tt.length)return!1;for(var lt=0;lt<Ve.length&&lt<tt.length;lt++)if(Ve[lt]!==tt[lt])return!1;return!0})(se.ids,Me)||(se.ids=Me)}return{removeOne:jt.removeOne,removeMany:jt.removeMany,removeAll:jt.removeAll,addOne:Ce(function(se,Ee){return gt([se],Ee)}),updateOne:Ce(function(se,Ee){return L([se],Ee)}),upsertOne:Ce(function(se,Ee){return q([se],Ee)}),setOne:Ce(function(se,Ee){return St([se],Ee)}),setMany:Ce(St),setAll:Ce(function(se,Ee){se=$e(se),Ee.entities={},Ee.ids=[],gt(se,Ee)}),addMany:Ce(gt),updateMany:Ce(L),upsertMany:Ce(q)}}(Ne,Ze):It(Ne);return M(M(M({selectId:Ne,sortComparer:Ze},te),ht),vt)}var Pt=function(ne){ne===void 0&&(ne=21);for(var ye="",Ne=ne;Ne--;)ye+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return ye},mn=["name","message","stack","code"],Sn=function(ne,ye){this.payload=ne,this.meta=ye},un=function(ne,ye){this.payload=ne,this.meta=ye},mr=function(ne){if(typeof ne=="object"&&ne!==null){for(var ye={},Ne=0,Ze=mn;Ne<Ze.length;Ne++){var te=Ze[Ne];typeof ne[te]=="string"&&(ye[te]=ne[te])}return ye}return{message:String(ne)}},Nr=function(){function ne(ye,Ne,Ze){var te=ae(ye+"/fulfilled",function(Xt,jt,gt,St){return{payload:Xt,meta:C(M({},St||{}),{arg:gt,requestId:jt,requestStatus:"fulfilled"})}}),ht=ae(ye+"/pending",function(Xt,jt,gt){return{payload:void 0,meta:C(M({},gt||{}),{arg:jt,requestId:Xt,requestStatus:"pending"})}}),vt=ae(ye+"/rejected",function(Xt,jt,gt,St,L){return{payload:St,error:(Ze&&Ze.serializeError||mr)(Xt||"Rejected"),meta:C(M({},L||{}),{arg:gt,requestId:jt,rejectedWithValue:!!St,requestStatus:"rejected",aborted:(Xt==null?void 0:Xt.name)==="AbortError",condition:(Xt==null?void 0:Xt.name)==="ConditionError"})}}),qt=typeof AbortController<"u"?AbortController:function(){function Xt(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return Xt.prototype.abort=function(){},Xt}();return Object.assign(function(Xt){return function(jt,gt,St){var L,q=Ze!=null&&Ze.idGenerator?Ze.idGenerator(Xt):Pt(),X=new qt;function re(Ee){L=Ee,X.abort()}var se=function(){return F(this,null,function(){var Ee,Me,Ve,tt,lt,Ct;return r(this,function(Ft){switch(Ft.label){case 0:return Ft.trys.push([0,4,,5]),(Gt=tt=(Ee=Ze==null?void 0:Ze.condition)==null?void 0:Ee.call(Ze,Xt,{getState:gt,extra:St}))===null||typeof Gt!="object"||typeof Gt.then!="function"?[3,2]:[4,tt];case 1:tt=Ft.sent(),Ft.label=2;case 2:if(tt===!1||X.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return lt=new Promise(function(Dt,kt){return X.signal.addEventListener("abort",function(){return kt({name:"AbortError",message:L||"Aborted"})})}),jt(ht(q,Xt,(Me=Ze==null?void 0:Ze.getPendingMeta)==null?void 0:Me.call(Ze,{requestId:q,arg:Xt},{getState:gt,extra:St}))),[4,Promise.race([lt,Promise.resolve(Ne(Xt,{dispatch:jt,getState:gt,extra:St,requestId:q,signal:X.signal,abort:re,rejectWithValue:function(Dt,kt){return new Sn(Dt,kt)},fulfillWithValue:function(Dt,kt){return new un(Dt,kt)}})).then(function(Dt){if(Dt instanceof Sn)throw Dt;return Dt instanceof un?te(Dt.payload,q,Xt,Dt.meta):te(Dt,q,Xt)})])];case 3:return Ve=Ft.sent(),[3,5];case 4:return Ct=Ft.sent(),Ve=Ct instanceof Sn?vt(null,q,Xt,Ct.payload,Ct.meta):vt(Ct,q,Xt),[3,5];case 5:return Ze&&!Ze.dispatchConditionRejection&&vt.match(Ve)&&Ve.meta.condition||jt(Ve),[2,Ve]}var Gt})})}();return Object.assign(se,{abort:re,requestId:q,arg:Xt,unwrap:function(){return se.then(Ln)}})}},{pending:ht,rejected:vt,fulfilled:te,typePrefix:ye})}return ne.withTypes=function(){return ne},ne}();function Ln(ne){if(ne.meta&&ne.meta.rejectedWithValue)throw ne.payload;if(ne.error)throw ne.error;return ne.payload}var Jt=function(ne,ye){return(Ne=ne)&&typeof Ne.match=="function"?ne.match(ye):ne(ye);var Ne};function yr(){for(var ne=[],ye=0;ye<arguments.length;ye++)ne[ye]=arguments[ye];return function(Ne){return ne.some(function(Ze){return Jt(Ze,Ne)})}}function Ir(){for(var ne=[],ye=0;ye<arguments.length;ye++)ne[ye]=arguments[ye];return function(Ne){return ne.every(function(Ze){return Jt(Ze,Ne)})}}function ki(ne,ye){if(!ne||!ne.meta)return!1;var Ne=typeof ne.meta.requestId=="string",Ze=ye.indexOf(ne.meta.requestStatus)>-1;return Ne&&Ze}function ei(ne){return typeof ne[0]=="function"&&"pending"in ne[0]&&"fulfilled"in ne[0]&&"rejected"in ne[0]}function ci(){for(var ne=[],ye=0;ye<arguments.length;ye++)ne[ye]=arguments[ye];return ne.length===0?function(Ne){return ki(Ne,["pending"])}:ei(ne)?function(Ne){var Ze=ne.map(function(te){return te.pending});return yr.apply(void 0,Ze)(Ne)}:ci()(ne[0])}function ls(){for(var ne=[],ye=0;ye<arguments.length;ye++)ne[ye]=arguments[ye];return ne.length===0?function(Ne){return ki(Ne,["rejected"])}:ei(ne)?function(Ne){var Ze=ne.map(function(te){return te.rejected});return yr.apply(void 0,Ze)(Ne)}:ls()(ne[0])}function Zn(){for(var ne=[],ye=0;ye<arguments.length;ye++)ne[ye]=arguments[ye];var Ne=function(Ze){return Ze&&Ze.meta&&Ze.meta.rejectedWithValue};return ne.length===0||ei(ne)?function(Ze){return Ir(ls.apply(void 0,ne),Ne)(Ze)}:Zn()(ne[0])}function us(){for(var ne=[],ye=0;ye<arguments.length;ye++)ne[ye]=arguments[ye];return ne.length===0?function(Ne){return ki(Ne,["fulfilled"])}:ei(ne)?function(Ne){var Ze=ne.map(function(te){return te.fulfilled});return yr.apply(void 0,Ze)(Ne)}:us()(ne[0])}function Ur(){for(var ne=[],ye=0;ye<arguments.length;ye++)ne[ye]=arguments[ye];return ne.length===0?function(Ne){return ki(Ne,["pending","fulfilled","rejected"])}:ei(ne)?function(Ne){for(var Ze=[],te=0,ht=ne;te<ht.length;te++){var vt=ht[te];Ze.push(vt.pending,vt.rejected,vt.fulfilled)}return yr.apply(void 0,Ze)(Ne)}:Ur()(ne[0])}var di=function(ne,ye){if(typeof ne!="function")throw new TypeError(ye+" is not a function")},Hn=function(){},Es=function(ne,ye){return ye===void 0&&(ye=Hn),ne.catch(ye),ne},ao=function(ne,ye){return ne.addEventListener("abort",ye,{once:!0}),function(){return ne.removeEventListener("abort",ye)}},yi=function(ne,ye){var Ne=ne.signal;Ne.aborted||("reason"in Ne||Object.defineProperty(Ne,"reason",{enumerable:!0,value:ye,configurable:!0,writable:!0}),ne.abort(ye))},zi=function(ne){this.code=ne,this.name="TaskAbortError",this.message="task cancelled (reason: "+ne+")"},Cs=function(ne){if(ne.aborted)throw new zi(ne.reason)};function Hi(ne,ye){var Ne=Hn;return new Promise(function(Ze,te){var ht=function(){return te(new zi(ne.reason))};ne.aborted?ht():(Ne=ao(ne,ht),ye.finally(function(){return Ne()}).then(Ze,te))}).finally(function(){Ne=Hn})}var lr=function(ne){return function(ye){return Es(Hi(ne,ye).then(function(Ne){return Cs(ne),Ne}))}},Gr=function(ne){var ye=lr(ne);return function(Ne){return ye(new Promise(function(Ze){return setTimeout(Ze,Ne)}))}},Gs=Object.assign,ha={},es="listenerMiddleware",hs=function(ne){var ye=ne.type,Ne=ne.actionCreator,Ze=ne.matcher,te=ne.predicate,ht=ne.effect;if(ye)te=ae(ye).match;else if(Ne)ye=Ne.type,te=Ne.match;else if(Ze)te=Ze;else if(!te)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return di(ht,"options.listener"),{predicate:te,type:ye,effect:ht}},Nt=function(ne){ne.pending.forEach(function(ye){yi(ye,"listener-cancelled")})},br=function(ne,ye,Ne){try{ne(ye,Ne)}catch(Ze){setTimeout(function(){throw Ze},0)}},Br=ae(es+"/add"),$n=ae(es+"/removeAll"),co=ae(es+"/remove"),sr=function(){for(var ne=[],ye=0;ye<arguments.length;ye++)ne[ye]=arguments[ye];console.error.apply(console,s([es+"/error"],ne))};function $i(ne){var ye=this;ne===void 0&&(ne={});var Ne=new Map,Ze=ne.extra,te=ne.onError,ht=te===void 0?sr:te;di(ht,"onError");var vt=function(St){for(var L=0,q=Array.from(Ne.values());L<q.length;L++){var X=q[L];if(St(X))return X}},qt=function(St){var L=vt(function(q){return q.effect===St.effect});return L||(L=function(q){var X=hs(q),re=X.type,se=X.predicate,Ee=X.effect;return{id:Pt(),effect:Ee,type:re,predicate:se,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}}(St)),function(q){return q.unsubscribe=function(){return Ne.delete(q.id)},Ne.set(q.id,q),function(X){q.unsubscribe(),X!=null&&X.cancelActive&&Nt(q)}}(L)},Xt=function(St){var L=hs(St),q=L.type,X=L.effect,re=L.predicate,se=vt(function(Ee){return(typeof q=="string"?Ee.type===q:Ee.predicate===re)&&Ee.effect===X});return se&&(se.unsubscribe(),St.cancelActive&&Nt(se)),!!se},jt=function(St,L,q,X){return F(ye,null,function(){var re,se,Ee;return r(this,function(Me){switch(Me.label){case 0:re=new AbortController,se=function(tt,lt){return function(Ct,Ft){return Es(function(Gt,Dt){return F(void 0,null,function(){var kt,Ht,_t,nn;return r(this,function(Un){switch(Un.label){case 0:Cs(lt),kt=function(){},Ht=new Promise(function(Cn,Ke){var Fn=tt({predicate:Gt,effect:function(Qr,an){an.unsubscribe(),Cn([Qr,an.getState(),an.getOriginalState()])}});kt=function(){Fn(),Ke()}}),_t=[Ht],Dt!=null&&_t.push(new Promise(function(Cn){return setTimeout(Cn,Dt,null)})),Un.label=1;case 1:return Un.trys.push([1,,3,4]),[4,Hi(lt,Promise.race(_t))];case 2:return nn=Un.sent(),Cs(lt),[2,nn];case 3:return kt(),[7];case 4:return[2]}})})}(Ct,Ft))}}(qt,re.signal),Me.label=1;case 1:return Me.trys.push([1,3,4,5]),St.pending.add(re),[4,Promise.resolve(St.effect(L,Gs({},q,{getOriginalState:X,condition:function(tt,lt){return se(tt,lt).then(Boolean)},take:se,delay:Gr(re.signal),pause:lr(re.signal),extra:Ze,signal:re.signal,fork:(Ve=re.signal,function(tt){di(tt,"taskExecutor");var lt,Ct=new AbortController;lt=Ct,ao(Ve,function(){return yi(lt,Ve.reason)});var Ft,Gt,Dt=(Ft=function(){return F(void 0,null,function(){var kt;return r(this,function(Ht){switch(Ht.label){case 0:return Cs(Ve),Cs(Ct.signal),[4,tt({pause:lr(Ct.signal),delay:Gr(Ct.signal),signal:Ct.signal})];case 1:return kt=Ht.sent(),Cs(Ct.signal),[2,kt]}})})},Gt=function(){return yi(Ct,"task-completed")},F(void 0,null,function(){var kt;return r(this,function(Ht){switch(Ht.label){case 0:return Ht.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return Ht.sent(),[4,Ft()];case 2:return[2,{status:"ok",value:Ht.sent()}];case 3:return[2,{status:(kt=Ht.sent())instanceof zi?"cancelled":"rejected",error:kt}];case 4:return Gt==null||Gt(),[7];case 5:return[2]}})}));return{result:lr(Ve)(Dt),cancel:function(){yi(Ct,"task-cancelled")}}}),unsubscribe:St.unsubscribe,subscribe:function(){Ne.set(St.id,St)},cancelActiveListeners:function(){St.pending.forEach(function(tt,lt,Ct){tt!==re&&(yi(tt,"listener-cancelled"),Ct.delete(tt))})}})))];case 2:return Me.sent(),[3,5];case 3:return(Ee=Me.sent())instanceof zi||br(ht,Ee,{raisedBy:"effect"}),[3,5];case 4:return yi(re,"listener-completed"),St.pending.delete(re),[7];case 5:return[2]}var Ve})})},gt=function(St){return function(){St.forEach(Nt),St.clear()}}(Ne);return{middleware:function(St){return function(L){return function(q){if(Br.match(q))return qt(q.payload);if(!$n.match(q)){if(co.match(q))return Xt(q.payload);var X,re=St.getState(),se=function(){if(re===ha)throw new Error(es+": getOriginalState can only be called synchronously");return re};try{if(X=L(q),Ne.size>0)for(var Ee=St.getState(),Me=Array.from(Ne.values()),Ve=0,tt=Me;Ve<tt.length;Ve++){var lt=tt[Ve],Ct=!1;try{Ct=lt.predicate(q,Ee,re)}catch(Ft){Ct=!1,br(ht,Ft,{raisedBy:"predicate"})}Ct&&jt(lt,q,St,se)}}finally{re=ha}return X}gt()}}},startListening:qt,stopListening:Xt,clearListeners:gt}}var Is,Gn="RTK_autoBatch",Vr=function(){return function(ne){var ye;return{payload:ne,meta:(ye={},ye[Gn]=!0,ye)}}},fn=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof hi<"u"?hi:globalThis):function(ne){return(Is||(Is=Promise.resolve())).then(ne).catch(function(ye){return setTimeout(function(){throw ye},0)})},$r=function(ne){return function(ye){setTimeout(ye,ne)}},_r=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$r(10),Li=function(ne){return ne===void 0&&(ne={type:"raf"}),function(ye){return function(){for(var Ne=[],Ze=0;Ze<arguments.length;Ze++)Ne[Ze]=arguments[Ze];var te=ye.apply(void 0,Ne),ht=!0,vt=!1,qt=!1,Xt=new Set,jt=ne.type==="tick"?fn:ne.type==="raf"?_r:ne.type==="callback"?ne.queueNotification:$r(ne.timeout),gt=function(){qt=!1,vt&&(vt=!1,Xt.forEach(function(St){return St()}))};return Object.assign({},te,{subscribe:function(St){var L=te.subscribe(function(){return ht&&St()});return Xt.add(St),function(){L(),Xt.delete(St)}},dispatch:function(St){var L;try{return ht=!((L=St==null?void 0:St.meta)!=null&&L[Gn]),(vt=!ht)&&(qt||(qt=!0,jt(gt))),te.dispatch(St)}finally{ht=!0}}})}}};(0,ie.enableES5)()})(YO);GO.exports=YO;var vi=GO.exports,Hy={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Hy.exports;(function(e,t){(function(){var n,r="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",m=500,v="__lodash_placeholder__",b=1,x=2,O=4,T=1,D=2,M=1,C=2,R=4,j=8,H=16,F=32,ie=64,ee=128,_e=256,Xe=512,Te=30,Fe="...",je=800,et=16,ut=1,Ge=2,We=3,Ae=1/0,pe=9007199254740991,Pe=17976931348623157e292,Ye=0/0,it=4294967295,Qe=it-1,bt=it>>>1,Mt=[["ary",ee],["bind",M],["bindKey",C],["curry",j],["curryRight",H],["flip",Xe],["partial",F],["partialRight",ie],["rearg",_e]],rt="[object Arguments]",Kt="[object Array]",Ue="[object AsyncFunction]",ae="[object Boolean]",we="[object Date]",be="[object DOMException]",W="[object Error]",le="[object Function]",z="[object GeneratorFunction]",K="[object Map]",de="[object Number]",Ce="[object Null]",fe="[object Object]",$e="[object Promise]",mt="[object Proxy]",It="[object RegExp]",Vt="[object Set]",Pt="[object String]",mn="[object Symbol]",Sn="[object Undefined]",un="[object WeakMap]",mr="[object WeakSet]",Nr="[object ArrayBuffer]",Ln="[object DataView]",Jt="[object Float32Array]",yr="[object Float64Array]",Ir="[object Int8Array]",ki="[object Int16Array]",ei="[object Int32Array]",ci="[object Uint8Array]",ls="[object Uint8ClampedArray]",Zn="[object Uint16Array]",us="[object Uint32Array]",Ur=/\b__p \+= '';/g,di=/\b(__p \+=) '' \+/g,Hn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Es=/&(?:amp|lt|gt|quot|#39);/g,ao=/[&<>"']/g,yi=RegExp(Es.source),zi=RegExp(ao.source),Cs=/<%-([\s\S]+?)%>/g,Hi=/<%([\s\S]+?)%>/g,lr=/<%=([\s\S]+?)%>/g,Gr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gs=/^\w*$/,ha=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,es=/[\\^$.*+?()[\]{}|]/g,hs=RegExp(es.source),Nt=/^\s+/,br=/\s/,Br=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$n=/\{\n\/\* \[wrapped with (.+)\] \*/,co=/,? & /,sr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$i=/[()=,{}\[\]\/\s]/,Is=/\\(\\)?/g,Gn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vr=/\w*$/,fn=/^[-+]0x[0-9a-f]+$/i,$r=/^0b[01]+$/i,_r=/^\[object .+?Constructor\]$/,Li=/^0o[0-7]+$/i,ne=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ne=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,te="\\ud800-\\udfff",ht="\\u0300-\\u036f",vt="\\ufe20-\\ufe2f",qt="\\u20d0-\\u20ff",Xt=ht+vt+qt,jt="\\u2700-\\u27bf",gt="a-z\\xdf-\\xf6\\xf8-\\xff",St="\\xac\\xb1\\xd7\\xf7",L="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",q="\\u2000-\\u206f",X=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",re="A-Z\\xc0-\\xd6\\xd8-\\xde",se="\\ufe0e\\ufe0f",Ee=St+L+q+X,Me="['’]",Ve="["+te+"]",tt="["+Ee+"]",lt="["+Xt+"]",Ct="\\d+",Ft="["+jt+"]",Gt="["+gt+"]",Dt="[^"+te+Ee+Ct+jt+gt+re+"]",kt="\\ud83c[\\udffb-\\udfff]",Ht="(?:"+lt+"|"+kt+")",_t="[^"+te+"]",nn="(?:\\ud83c[\\udde6-\\uddff]){2}",Un="[\\ud800-\\udbff][\\udc00-\\udfff]",Cn="["+re+"]",Ke="\\u200d",Fn="(?:"+Gt+"|"+Dt+")",Qr="(?:"+Cn+"|"+Dt+")",an="(?:"+Me+"(?:d|ll|m|re|s|t|ve))?",ks="(?:"+Me+"(?:D|LL|M|RE|S|T|VE))?",Os=Ht+"?",Ns="["+se+"]?",Ia="(?:"+Ke+"(?:"+[_t,nn,Un].join("|")+")"+Ns+Os+")*",An="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ti=Ns+Os+Ia,ur="(?:"+[Ft,nn,Un].join("|")+")"+ti,lo="(?:"+[_t+lt+"?",lt,nn,Un,Ve].join("|")+")",La=RegExp(Me,"g"),da=RegExp(lt,"g"),Oo=RegExp(kt+"(?="+kt+")|"+lo+ti,"g"),No=RegExp([Cn+"?"+Gt+"+"+an+"(?="+[tt,Cn,"$"].join("|")+")",Qr+"+"+ks+"(?="+[tt,Cn+Fn,"$"].join("|")+")",Cn+"?"+Fn+"+"+an,Cn+"+"+ks,Hc,An,Ct,ur].join("|"),"g"),mu=RegExp("["+Ke+te+Xt+se+"]"),gu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Oi=-1,kn={};kn[Jt]=kn[yr]=kn[Ir]=kn[ki]=kn[ei]=kn[ci]=kn[ls]=kn[Zn]=kn[us]=!0,kn[rt]=kn[Kt]=kn[Nr]=kn[ae]=kn[Ln]=kn[we]=kn[W]=kn[le]=kn[K]=kn[de]=kn[fe]=kn[It]=kn[Vt]=kn[Pt]=kn[un]=!1;var Lr={};Lr[rt]=Lr[Kt]=Lr[Nr]=Lr[Ln]=Lr[ae]=Lr[we]=Lr[Jt]=Lr[yr]=Lr[Ir]=Lr[ki]=Lr[ei]=Lr[K]=Lr[de]=Lr[fe]=Lr[It]=Lr[Vt]=Lr[Pt]=Lr[mn]=Lr[ci]=Lr[ls]=Lr[Zn]=Lr[us]=!0,Lr[W]=Lr[le]=Lr[un]=!1;var Yd={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ys={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Nh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$c=parseFloat,vl=parseInt,yl=typeof hi=="object"&&hi&&hi.Object===Object&&hi,Qd=typeof self=="object"&&self&&self.Object===Object&&self,ni=yl||Qd||Function("return this")(),Fa=t&&!t.nodeType&&t,uo=Fa&&!0&&e&&!e.nodeType&&e,Ar=uo&&uo.exports===Fa,Fi=Ar&&yl.process,Fr=function(){try{var De=uo&&uo.require&&uo.require("util").types;return De||Fi&&Fi.binding&&Fi.binding("util")}catch{}}(),_l=Fr&&Fr.isArrayBuffer,Ls=Fr&&Fr.isDate,yu=Fr&&Fr.isMap,Qs=Fr&&Fr.isRegExp,ja=Fr&&Fr.isSet,Ks=Fr&&Fr.isTypedArray;function ts(De,pt,ot){switch(ot.length){case 0:return De.call(pt);case 1:return De.call(pt,ot[0]);case 2:return De.call(pt,ot[0],ot[1]);case 3:return De.call(pt,ot[0],ot[1],ot[2])}return De.apply(pt,ot)}function _u(De,pt,ot,sn){for(var jn=-1,Mr=De==null?0:De.length;++jn<Mr;){var Ai=De[jn];pt(sn,Ai,ot(Ai),De)}return sn}function qr(De,pt){for(var ot=-1,sn=De==null?0:De.length;++ot<sn&&pt(De[ot],ot,De)!==!1;);return De}function Ah(De,pt){for(var ot=De==null?0:De.length;ot--&&pt(De[ot],ot,De)!==!1;);return De}function qc(De,pt){for(var ot=-1,sn=De==null?0:De.length;++ot<sn;)if(!pt(De[ot],ot,De))return!1;return!0}function Fs(De,pt){for(var ot=-1,sn=De==null?0:De.length,jn=0,Mr=[];++ot<sn;){var Ai=De[ot];pt(Ai,ot,De)&&(Mr[jn++]=Ai)}return Mr}function Wc(De,pt){var ot=De==null?0:De.length;return!!ot&&hr(De,pt,0)>-1}function nt(De,pt,ot){for(var sn=-1,jn=De==null?0:De.length;++sn<jn;)if(ot(pt,De[sn]))return!0;return!1}function He(De,pt){for(var ot=-1,sn=De==null?0:De.length,jn=Array(sn);++ot<sn;)jn[ot]=pt(De[ot],ot,De);return jn}function Tt(De,pt){for(var ot=-1,sn=pt.length,jn=De.length;++ot<sn;)De[jn+ot]=pt[ot];return De}function rn(De,pt,ot,sn){var jn=-1,Mr=De==null?0:De.length;for(sn&&Mr&&(ot=De[++jn]);++jn<Mr;)ot=pt(ot,De[jn],jn,De);return ot}function Rn(De,pt,ot,sn){var jn=De==null?0:De.length;for(sn&&jn&&(ot=De[--jn]);jn--;)ot=pt(ot,De[jn],jn,De);return ot}function gn(De,pt){for(var ot=-1,sn=De==null?0:De.length;++ot<sn;)if(pt(De[ot],ot,De))return!0;return!1}var Mn=Ao("length");function xn(De){return De.split("")}function dn(De){return De.match(sr)||[]}function nr(De,pt,ot){var sn;return ot(De,function(jn,Mr,Ai){if(pt(jn,Mr,Ai))return sn=Mr,!1}),sn}function _i(De,pt,ot,sn){for(var jn=De.length,Mr=ot+(sn?1:-1);sn?Mr--:++Mr<jn;)if(pt(De[Mr],Mr,De))return Mr;return-1}function hr(De,pt,ot){return pt===pt?Zd(De,pt,ot):_i(De,Kr,ot)}function li(De,pt,ot,sn){for(var jn=ot-1,Mr=De.length;++jn<Mr;)if(sn(De[jn],pt))return jn;return-1}function Kr(De){return De!==De}function js(De,pt){var ot=De==null?0:De.length;return ot?Us(De,pt)/ot:Ye}function Ao(De){return function(pt){return pt==null?n:pt[De]}}function Zo(De){return function(pt){return De==null?n:De[pt]}}function wl(De,pt,ot,sn,jn){return jn(De,function(Mr,Ai,Jn){ot=sn?(sn=!1,Mr):pt(ot,Mr,Ai,Jn)}),ot}function Xs(De,pt){var ot=De.length;for(De.sort(pt);ot--;)De[ot]=De[ot].value;return De}function Us(De,pt){for(var ot,sn=-1,jn=De.length;++sn<jn;){var Mr=pt(De[sn]);Mr!==n&&(ot=ot===n?Mr:ot+Mr)}return ot}function uc(De,pt){for(var ot=-1,sn=Array(De);++ot<De;)sn[ot]=pt(ot);return sn}function wu(De,pt){return He(pt,function(ot){return[ot,De[ot]]})}function bl(De){return De&&De.slice(0,Su(De)+1).replace(Nt,"")}function Ni(De){return function(pt){return De(pt)}}function Sr(De,pt){return He(pt,function(ot){return De[ot]})}function qi(De,pt){return De.has(pt)}function dr(De,pt){for(var ot=-1,sn=De.length;++ot<sn&&hr(pt,De[ot],0)>-1;);return ot}function Sl(De,pt){for(var ot=De.length;ot--&&hr(pt,De[ot],0)>-1;);return ot}function wi(De,pt){for(var ot=De.length,sn=0;ot--;)De[ot]===pt&&++sn;return sn}var hc=Zo(Yd),bu=Zo(Ys);function Kd(De){return"\\"+Nh[De]}function dp(De,pt){return De==null?n:De[pt]}function Jo(De){return mu.test(De)}function Km(De){return gu.test(De)}function Mh(De){for(var pt,ot=[];!(pt=De.next()).done;)ot.push(pt.value);return ot}function Xd(De){var pt=-1,ot=Array(De.size);return De.forEach(function(sn,jn){ot[++pt]=[jn,sn]}),ot}function xl(De,pt){return function(ot){return De(pt(ot))}}function Mo(De,pt){for(var ot=-1,sn=De.length,jn=0,Mr=[];++ot<sn;){var Ai=De[ot];(Ai===pt||Ai===v)&&(De[ot]=v,Mr[jn++]=ot)}return Mr}function Tl(De){var pt=-1,ot=Array(De.size);return De.forEach(function(sn){ot[++pt]=sn}),ot}function Xm(De){var pt=-1,ot=Array(De.size);return De.forEach(function(sn){ot[++pt]=[sn,sn]}),ot}function Zd(De,pt,ot){for(var sn=ot-1,jn=De.length;++sn<jn;)if(De[sn]===pt)return sn;return-1}function Zm(De,pt,ot){for(var sn=ot+1;sn--;)if(De[sn]===pt)return sn;return sn}function dc(De){return Jo(De)?fp(De):Mn(De)}function ho(De){return Jo(De)?Jm(De):xn(De)}function Su(De){for(var pt=De.length;pt--&&br.test(De.charAt(pt)););return pt}var Jd=Zo(gl);function fp(De){for(var pt=Oo.lastIndex=0;Oo.test(De);)++pt;return pt}function Jm(De){return De.match(Oo)||[]}function Dh(De){return De.match(No)||[]}var eg=function De(pt){pt=pt==null?ni:El.defaults(ni.Object(),pt,El.pick(ni,vu));var ot=pt.Array,sn=pt.Date,jn=pt.Error,Mr=pt.Function,Ai=pt.Math,Jn=pt.Object,Ua=pt.RegExp,ef=pt.String,fo=pt.TypeError,xu=ot.prototype,tf=Mr.prototype,Gc=Jn.prototype,Rh=pt["__core-js_shared__"],Tu=tf.toString,zr=Gc.hasOwnProperty,tg=0,pp=function(){var a=/[^.]+$/.exec(Rh&&Rh.keys&&Rh.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Ph=Gc.toString,mp=Tu.call(Jn),ng=ni._,rg=Ua("^"+Tu.call(zr).replace(es,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ih=Ar?pt.Buffer:n,fc=pt.Symbol,Lh=pt.Uint8Array,nf=Ih?Ih.allocUnsafe:n,Eu=xl(Jn.getPrototypeOf,Jn),gp=Jn.create,rf=Gc.propertyIsEnumerable,pc=xu.splice,vp=fc?fc.isConcatSpreadable:n,Cu=fc?fc.iterator:n,on=fc?fc.toStringTag:n,ji=function(){try{var a=Cc(Jn,"defineProperty");return a({},"",{}),a}catch{}}(),sf=pt.clearTimeout!==ni.clearTimeout&&pt.clearTimeout,of=sn&&sn.now!==ni.Date.now&&sn.now,ig=pt.setTimeout!==ni.setTimeout&&pt.setTimeout,ku=Ai.ceil,Ba=Ai.floor,ds=Jn.getOwnPropertySymbols,Bn=Ih?Ih.isBuffer:n,Cl=pt.isFinite,ns=xu.join,Do=xl(Jn.keys,Jn),bi=Ai.max,rr=Ai.min,po=sn.now,kl=pt.parseInt,fa=Ai.random,sg=xu.reverse,mo=Cc(pt,"DataView"),Dr=Cc(pt,"Map"),af=Cc(pt,"Promise"),Ro=Cc(pt,"Set"),Po=Cc(pt,"WeakMap"),mc=Cc(Jn,"create"),Va=Po&&new Po,Yc={},og=Yu(mo),Io=Yu(Dr),Se=Yu(af),Lo=Yu(Ro),fs=Yu(Po),Fo=fc?fc.prototype:n,gc=Fo?Fo.valueOf:n,Fh=Fo?Fo.toString:n;function Y(a){if(as(a)&&!Xn(a)&&!(a instanceof Qn)){if(a instanceof Si)return a;if(zr.call(a,"__wrapped__"))return i(a)}return new Si(a)}var As=function(){function a(){}return function(h){if(!Yi(h))return{};if(gp)return gp(h);a.prototype=h;var y=new a;return a.prototype=n,y}}();function Ou(){}function Si(a,h){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}Y.templateSettings={escape:Cs,evaluate:Hi,interpolate:lr,variable:"",imports:{_:Y}},Y.prototype=Ou.prototype,Y.prototype.constructor=Y,Si.prototype=As(Ou.prototype),Si.prototype.constructor=Si;function Qn(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}function jh(){var a=new Qn(this.__wrapped__);return a.__actions__=_o(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=_o(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=_o(this.__views__),a}function yp(){if(this.__filtered__){var a=new Qn(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Uh(){var a=this.__wrapped__.value(),h=this.__dir__,y=Xn(a),k=h<0,U=y?a.length:0,J=Dp(0,U,this.__views__),me=J.start,ke=J.end,Le=ke-me,xt=k?ke:me-1,Et=this.__iteratees__,Rt=Et.length,en=0,_n=rr(Le,this.__takeCount__);if(!y||!k&&U==Le&&_n==Le)return ju(a,this.__actions__);var Pn=[];e:for(;Le--&&en<_n;){xt+=h;for(var cr=-1,In=a[xt];++cr<Rt;){var wr=Et[cr],Pr=wr.iteratee,Ka=wr.type,ra=Pr(In);if(Ka==Ge)In=ra;else if(!ra){if(Ka==ut)continue e;break e}}Pn[en++]=In}return Pn}Qn.prototype=As(Ou.prototype),Qn.prototype.constructor=Qn;function Zs(a){var h=-1,y=a==null?0:a.length;for(this.clear();++h<y;){var k=a[h];this.set(k[0],k[1])}}function Ol(){this.__data__=mc?mc(null):{},this.size=0}function Nl(a){var h=this.has(a)&&delete this.__data__[a];return this.size-=h?1:0,h}function vn(a){var h=this.__data__;if(mc){var y=h[a];return y===f?n:y}return zr.call(h,a)?h[a]:n}function Nu(a){var h=this.__data__;return mc?h[a]!==n:zr.call(h,a)}function er(a,h){var y=this.__data__;return this.size+=this.has(a)?0:1,y[a]=mc&&h===n?f:h,this}Zs.prototype.clear=Ol,Zs.prototype.delete=Nl,Zs.prototype.get=vn,Zs.prototype.has=Nu,Zs.prototype.set=er;function Vn(a){var h=-1,y=a==null?0:a.length;for(this.clear();++h<y;){var k=a[h];this.set(k[0],k[1])}}function Al(){this.__data__=[],this.size=0}function cf(a){var h=this.__data__,y=ui(h,a);if(y<0)return!1;var k=h.length-1;return y==k?h.pop():pc.call(h,y,1),--this.size,!0}function Bh(a){var h=this.__data__,y=ui(h,a);return y<0?n:h[y][1]}function ri(a){return ui(this.__data__,a)>-1}function Au(a,h){var y=this.__data__,k=ui(y,a);return k<0?(++this.size,y.push([a,h])):y[k][1]=h,this}Vn.prototype.clear=Al,Vn.prototype.delete=cf,Vn.prototype.get=Bh,Vn.prototype.has=ri,Vn.prototype.set=Au;function za(a){var h=-1,y=a==null?0:a.length;for(this.clear();++h<y;){var k=a[h];this.set(k[0],k[1])}}function Ml(){this.size=0,this.__data__={hash:new Zs,map:new(Dr||Vn),string:new Zs}}function Mu(a){var h=zl(this,a).delete(a);return this.size-=h?1:0,h}function go(a){return zl(this,a).get(a)}function Du(a){return zl(this,a).has(a)}function vc(a,h){var y=zl(this,a),k=y.size;return y.set(a,h),this.size+=y.size==k?0:1,this}za.prototype.clear=Ml,za.prototype.delete=Mu,za.prototype.get=go,za.prototype.has=Du,za.prototype.set=vc;function yc(a){var h=-1,y=a==null?0:a.length;for(this.__data__=new za;++h<y;)this.add(a[h])}function lf(a){return this.__data__.set(a,f),this}function Lt(a){return this.__data__.has(a)}yc.prototype.add=yc.prototype.push=lf,yc.prototype.has=Lt;function fi(a){var h=this.__data__=new Vn(a);this.size=h.size}function ag(){this.__data__=new Vn,this.size=0}function Ms(a){var h=this.__data__,y=h.delete(a);return this.size=h.size,y}function xr(a){return this.__data__.get(a)}function Vh(a){return this.__data__.has(a)}function _p(a,h){var y=this.__data__;if(y instanceof Vn){var k=y.__data__;if(!Dr||k.length<s-1)return k.push([a,h]),this.size=++y.size,this;y=this.__data__=new za(k)}return y.set(a,h),this.size=y.size,this}fi.prototype.clear=ag,fi.prototype.delete=Ms,fi.prototype.get=xr,fi.prototype.has=Vh,fi.prototype.set=_p;function pi(a,h){var y=Xn(a),k=!y&&kf(a),U=!y&&!k&&id(a),J=!y&&!k&&!U&&Bp(a),me=y||k||U||J,ke=me?uc(a.length,ef):[],Le=ke.length;for(var xt in a)(h||zr.call(a,xt))&&!(me&&(xt=="length"||U&&(xt=="offset"||xt=="parent")||J&&(xt=="buffer"||xt=="byteLength"||xt=="byteOffset")||zo(xt,Le)))&&ke.push(xt);return ke}function wp(a){var h=a.length;return h?a[zh(0,h-1)]:n}function rs(a,h){return Up(_o(a),hn(h,0,a.length))}function Dl(a){return Up(_o(a))}function On(a,h,y){(y!==n&&!tl(a[h],y)||y===n&&!(h in a))&&eo(a,h,y)}function At(a,h,y){var k=a[h];(!(zr.call(a,h)&&tl(k,y))||y===n&&!(h in a))&&eo(a,h,y)}function ui(a,h){for(var y=a.length;y--;)if(tl(a[y][0],h))return y;return-1}function Js(a,h,y,k){return Mi(a,function(U,J,me){h(k,U,y(U),me)}),k}function Ru(a,h){return a&&Sc(h,to(h),a)}function cn(a,h){return a&&Sc(h,Sa(h),a)}function eo(a,h,y){h=="__proto__"&&ji?ji(a,h,{configurable:!0,enumerable:!0,value:y,writable:!0}):a[h]=y}function _c(a,h){for(var y=-1,k=h.length,U=ot(k),J=a==null;++y<k;)U[y]=J?n:N_(a,h[y]);return U}function hn(a,h,y){return a===a&&(y!==n&&(a=a<=y?a:y),h!==n&&(a=a>=h?a:h)),a}function ps(a,h,y,k,U,J){var me,ke=h&b,Le=h&x,xt=h&O;if(y&&(me=U?y(a,k,U,J):y(a)),me!==n)return me;if(!Yi(a))return a;var Et=Xn(a);if(Et){if(me=Ip(a),!ke)return _o(a,me)}else{var Rt=Di(a),en=Rt==le||Rt==z;if(id(a))return mf(a,ke);if(Rt==fe||Rt==rt||en&&!U){if(me=Le||en?{}:Ri(a),!ke)return Le?g_(a,cn(me,a)):m_(a,Ru(me,a))}else{if(!Lr[Rt])return U?a:{};me=Sf(a,Rt,ke)}}J||(J=new fi);var _n=J.get(a);if(_n)return _n;J.set(a,me),Gx(a)?a.forEach(function(In){me.add(ps(In,h,y,In,a,J))}):qx(a)&&a.forEach(function(In,wr){me.set(wr,ps(In,h,y,wr,a,J))});var Pn=xt?Le?ed:Np:Le?Sa:to,cr=Et?n:Pn(a);return qr(cr||a,function(In,wr){cr&&(wr=In,In=a[wr]),At(me,wr,ps(In,h,y,wr,a,J))}),me}function Rl(a){var h=to(a);return function(y){return Pu(y,a,h)}}function Pu(a,h,y){var k=y.length;if(a==null)return!k;for(a=Jn(a);k--;){var U=y[k],J=h[U],me=a[U];if(me===n&&!(U in a)||!J(me))return!1}return!0}function Iu(a,h,y){if(typeof a!="function")throw new fo(l);return Cf(function(){a.apply(n,y)},h)}function Wi(a,h,y,k){var U=-1,J=Wc,me=!0,ke=a.length,Le=[],xt=h.length;if(!ke)return Le;y&&(h=He(h,Ni(y))),k?(J=nt,me=!1):h.length>=s&&(J=qi,me=!1,h=new yc(h));e:for(;++U<ke;){var Et=a[U],Rt=y==null?Et:y(Et);if(Et=k||Et!==0?Et:0,me&&Rt===Rt){for(var en=xt;en--;)if(h[en]===Rt)continue e;Le.push(Et)}else J(h,Rt,k)||Le.push(Et)}return Le}var Mi=vf(pa),bp=vf(jo,!0);function Pl(a,h){var y=!0;return Mi(a,function(k,U,J){return y=!!h(k,U,J),y}),y}function Ha(a,h,y){for(var k=-1,U=a.length;++k<U;){var J=a[k],me=h(J);if(me!=null&&(ke===n?me===me&&!Qa(me):y(me,ke)))var ke=me,Le=J}return Le}function cg(a,h,y,k){var U=a.length;for(y=ir(y),y<0&&(y=-y>U?0:U+y),k=k===n||k>U?U:ir(k),k<0&&(k+=U),k=y>k?0:Qx(k);y<k;)a[y++]=h;return a}function Wr(a,h){var y=[];return Mi(a,function(k,U,J){h(k,U,J)&&y.push(k)}),y}function ms(a,h,y,k,U){var J=-1,me=a.length;for(y||(y=pg),U||(U=[]);++J<me;){var ke=a[J];h>0&&y(ke)?h>1?ms(ke,h-1,y,k,U):Tt(U,ke):k||(U[U.length]=ke)}return U}var uf=Vl(),hf=Vl(!0);function pa(a,h){return a&&uf(a,h,to)}function jo(a,h){return a&&hf(a,h,to)}function vo(a,h){return Fs(h,function(y){return Qu(a[y])})}function Qc(a,h){h=bc(h,a);for(var y=0,k=h.length;a!=null&&y<k;)a=a[kc(h[y++])];return y&&y==k?a:n}function $a(a,h,y){var k=h(a);return Xn(a)?k:Tt(k,y(a))}function gs(a){return a==null?a===n?Sn:Ce:on&&on in Jn(a)?Mp(a):b_(a)}function Kc(a,h){return a>h}function xi(a,h){return a!=null&&zr.call(a,h)}function qa(a,h){return a!=null&&h in Jn(a)}function Wa(a,h,y){return a>=rr(h,y)&&a<bi(h,y)}function ea(a,h,y){for(var k=y?nt:Wc,U=a[0].length,J=a.length,me=J,ke=ot(J),Le=1/0,xt=[];me--;){var Et=a[me];me&&h&&(Et=He(Et,Ni(h))),Le=rr(Et.length,Le),ke[me]=!y&&(h||U>=120&&Et.length>=120)?new yc(me&&Et):n}Et=a[0];var Rt=-1,en=ke[0];e:for(;++Rt<U&&xt.length<Le;){var _n=Et[Rt],Pn=h?h(_n):_n;if(_n=y||_n!==0?_n:0,!(en?qi(en,Pn):k(xt,Pn,y))){for(me=J;--me;){var cr=ke[me];if(!(cr?qi(cr,Pn):k(a[me],Pn,y)))continue e}en&&en.push(Pn),xt.push(_n)}}return xt}function ma(a,h,y,k){return pa(a,function(U,J,me){h(k,y(U),J,me)}),k}function Bs(a,h,y){h=bc(h,a),a=ev(a,h);var k=a==null?a:a[kc(ft(h))];return k==null?n:ts(k,a,y)}function wc(a){return as(a)&&gs(a)==rt}function Il(a){return as(a)&&gs(a)==Nr}function ii(a){return as(a)&&gs(a)==we}function vs(a,h,y,k,U){return a===h?!0:a==null||h==null||!as(a)&&!as(h)?a!==a&&h!==h:Uo(a,h,y,k,vs,U)}function Uo(a,h,y,k,U,J){var me=Xn(a),ke=Xn(h),Le=me?Kt:Di(a),xt=ke?Kt:Di(h);Le=Le==rt?fe:Le,xt=xt==rt?fe:xt;var Et=Le==fe,Rt=xt==fe,en=Le==xt;if(en&&id(a)){if(!id(h))return!1;me=!0,Et=!1}if(en&&!Et)return J||(J=new fi),me||Bp(a)?fg(a,h,y,k,U,J):v_(a,h,Le,y,k,U,J);if(!(y&T)){var _n=Et&&zr.call(a,"__wrapped__"),Pn=Rt&&zr.call(h,"__wrapped__");if(_n||Pn){var cr=_n?a.value():a,In=Pn?h.value():h;return J||(J=new fi),U(cr,In,y,k,J)}}return en?(J||(J=new fi),y_(a,h,y,k,U,J)):!1}function Ll(a){return as(a)&&Di(a)==K}function Tr(a,h,y,k){var U=y.length,J=U,me=!k;if(a==null)return!J;for(a=Jn(a);U--;){var ke=y[U];if(me&&ke[2]?ke[1]!==a[ke[0]]:!(ke[0]in a))return!1}for(;++U<J;){ke=y[U];var Le=ke[0],xt=a[Le],Et=ke[1];if(me&&ke[2]){if(xt===n&&!(Le in a))return!1}else{var Rt=new fi;if(k)var en=k(xt,Et,Le,a,h,Rt);if(!(en===n?vs(Et,xt,T|D,k,Rt):en))return!1}}return!0}function ga(a){if(!Yi(a)||Lp(a))return!1;var h=Qu(a)?rg:_r;return h.test(Yu(a))}function Yn(a){return as(a)&&gs(a)==It}function p(a){return as(a)&&Di(a)==Vt}function w(a){return as(a)&&dv(a.length)&&!!kn[gs(a)]}function N(a){return typeof a=="function"?a:a==null?xa:typeof a=="object"?Xn(a)?yn(a[0],a[1]):pn(a):oT(a)}function P(a){if(!$l(a))return Do(a);var h=[];for(var y in Jn(a))zr.call(a,y)&&y!="constructor"&&h.push(y);return h}function $(a){if(!Yi(a))return w_(a);var h=$l(a),y=[];for(var k in a)k=="constructor"&&(h||!zr.call(a,k))||y.push(k);return y}function xe(a,h){return a<h}function at(a,h){var y=-1,k=ba(a)?ot(a.length):[];return Mi(a,function(U,J,me){k[++y]=h(U,J,me)}),k}function pn(a){var h=Ap(a);return h.length==1&&h[0][2]?Ef(h[0][0],h[0][1]):function(y){return y===a||Tr(y,a,h)}}function yn(a,h){return rd(a)&&Tf(h)?Ef(kc(a),h):function(y){var k=N_(y,a);return k===n&&k===h?A_(y,a):vs(h,k,T|D)}}function Er(a,h,y,k,U){a!==h&&uf(h,function(J,me){if(U||(U=new fi),Yi(J))mi(a,h,me,y,Er,k,U);else{var ke=k?k(mg(a,me),J,me+"",a,h,U):n;ke===n&&(ke=J),On(a,me,ke)}},Sa)}function mi(a,h,y,k,U,J,me){var ke=mg(a,y),Le=mg(h,y),xt=me.get(Le);if(xt){On(a,y,xt);return}var Et=J?J(ke,Le,y+"",a,h,me):n,Rt=Et===n;if(Rt){var en=Xn(Le),_n=!en&&id(Le),Pn=!en&&!_n&&Bp(Le);Et=Le,en||_n||Pn?Xn(ke)?Et=ke:ws(ke)?Et=_o(ke):_n?(Rt=!1,Et=mf(Le,!0)):Pn?(Rt=!1,Et=Bu(Le,!0)):Et=[]:vg(Le)||kf(Le)?(Et=ke,kf(ke)?Et=Kx(ke):(!Yi(ke)||Qu(ke))&&(Et=Ri(Le))):Rt=!1}Rt&&(me.set(Le,Et),U(Et,Le,k,J,me),me.delete(Le)),On(a,y,Et)}function Ds(a,h){var y=a.length;if(y)return h+=h<0?y:0,zo(h,y)?a[h]:n}function Bo(a,h,y){h.length?h=He(h,function(J){return Xn(J)?function(me){return Qc(me,J.length===1?J[0]:J)}:J}):h=[xa];var k=-1;h=He(h,Ni(En()));var U=at(a,function(J,me,ke){var Le=He(h,function(xt){return xt(J)});return{criteria:Le,index:++k,value:J}});return Xs(U,function(J,me){return p_(J,me,y)})}function Sp(a,h){return lg(a,h,function(y,k){return A_(a,k)})}function lg(a,h,y){for(var k=-1,U=h.length,J={};++k<U;){var me=h[k],ke=Qc(a,me);y(ke,me)&&Ul(J,bc(me,a),ke)}return J}function K0(a){return function(h){return Qc(h,a)}}function df(a,h,y,k){var U=k?li:hr,J=-1,me=h.length,ke=a;for(a===h&&(h=_o(h)),y&&(ke=He(a,Ni(y)));++J<me;)for(var Le=0,xt=h[J],Et=y?y(xt):xt;(Le=U(ke,Et,Le,k))>-1;)ke!==a&&pc.call(ke,Le,1),pc.call(a,Le,1);return a}function Fl(a,h){for(var y=a?h.length:0,k=y-1;y--;){var U=h[y];if(y==k||U!==J){var J=U;zo(U)?pc.call(a,U,1):Wh(a,U)}}return a}function zh(a,h){return a+Ba(fa()*(h-a+1))}function ff(a,h,y,k){for(var U=-1,J=bi(ku((h-a)/(y||1)),0),me=ot(J);J--;)me[k?J:++U]=a,a+=y;return me}function jl(a,h){var y="";if(!a||h<1||h>pe)return y;do h%2&&(y+=a),h=Ba(h/2),h&&(a+=a);while(h);return y}function Wn(a,h){return gg(J0(a,h,xa),a+"")}function f_(a){return wp(Vp(a))}function Rs(a,h){var y=Vp(a);return Up(y,hn(h,0,y.length))}function Ul(a,h,y,k){if(!Yi(a))return a;h=bc(h,a);for(var U=-1,J=h.length,me=J-1,ke=a;ke!=null&&++U<J;){var Le=kc(h[U]),xt=y;if(Le==="__proto__"||Le==="constructor"||Le==="prototype")return a;if(U!=me){var Et=ke[Le];xt=k?k(Et,Le,ke):n,xt===n&&(xt=Yi(Et)?Et:zo(h[U+1])?[]:{})}At(ke,Le,xt),ke=ke[Le]}return a}var Vo=Va?function(a,h){return Va.set(a,h),a}:xa,Vs=ji?function(a,h){return ji(a,"toString",{configurable:!0,enumerable:!1,value:D_(h),writable:!0})}:xa;function Hh(a){return Up(Vp(a))}function is(a,h,y){var k=-1,U=a.length;h<0&&(h=-h>U?0:U+h),y=y>U?U:y,y<0&&(y+=U),U=h>y?0:y-h>>>0,h>>>=0;for(var J=ot(U);++k<U;)J[k]=a[k+h];return J}function $h(a,h){var y;return Mi(a,function(k,U,J){return y=h(k,U,J),!y}),!!y}function qh(a,h,y){var k=0,U=a==null?k:a.length;if(typeof h=="number"&&h===h&&U<=bt){for(;k<U;){var J=k+U>>>1,me=a[J];me!==null&&!Qa(me)&&(y?me<=h:me<h)?k=J+1:U=J}return U}return Bl(a,h,xa,y)}function Bl(a,h,y,k){var U=0,J=a==null?0:a.length;if(J===0)return 0;h=y(h);for(var me=h!==h,ke=h===null,Le=Qa(h),xt=h===n;U<J;){var Et=Ba((U+J)/2),Rt=y(a[Et]),en=Rt!==n,_n=Rt===null,Pn=Rt===Rt,cr=Qa(Rt);if(me)var In=k||Pn;else xt?In=Pn&&(k||en):ke?In=Pn&&en&&(k||!_n):Le?In=Pn&&en&&!_n&&(k||!cr):_n||cr?In=!1:In=k?Rt<=h:Rt<h;In?U=Et+1:J=Et}return rr(J,Qe)}function yo(a,h){for(var y=-1,k=a.length,U=0,J=[];++y<k;){var me=a[y],ke=h?h(me):me;if(!y||!tl(ke,Le)){var Le=ke;J[U++]=me===0?0:me}}return J}function Lu(a){return typeof a=="number"?a:Qa(a)?Ye:+a}function ss(a){if(typeof a=="string")return a;if(Xn(a))return He(a,ss)+"";if(Qa(a))return Fh?Fh.call(a):"";var h=a+"";return h=="0"&&1/a==-Ae?"-0":h}function Ga(a,h,y){var k=-1,U=Wc,J=a.length,me=!0,ke=[],Le=ke;if(y)me=!1,U=nt;else if(J>=s){var xt=h?null:kp(a);if(xt)return Tl(xt);me=!1,U=qi,Le=new yc}else Le=h?[]:ke;e:for(;++k<J;){var Et=a[k],Rt=h?h(Et):Et;if(Et=y||Et!==0?Et:0,me&&Rt===Rt){for(var en=Le.length;en--;)if(Le[en]===Rt)continue e;h&&Le.push(Rt),ke.push(Et)}else U(Le,Rt,y)||(Le!==ke&&Le.push(Rt),ke.push(Et))}return ke}function Wh(a,h){return h=bc(h,a),a=ev(a,h),a==null||delete a[kc(ft(h))]}function ug(a,h,y,k){return Ul(a,h,y(Qc(a,h)),k)}function Fu(a,h,y,k){for(var U=a.length,J=k?U:-1;(k?J--:++J<U)&&h(a[J],J,a););return y?is(a,k?0:J,k?J+1:U):is(a,k?J+1:0,k?U:J)}function ju(a,h){var y=a;return y instanceof Qn&&(y=y.value()),rn(h,function(k,U){return U.func.apply(U.thisArg,Tt([k],U.args))},y)}function Gh(a,h,y){var k=a.length;if(k<2)return k?Ga(a[0]):[];for(var U=-1,J=ot(k);++U<k;)for(var me=a[U],ke=-1;++ke<k;)ke!=U&&(J[U]=Wi(J[U]||me,a[ke],h,y));return Ga(ms(J,1),h,y)}function xp(a,h,y){for(var k=-1,U=a.length,J=h.length,me={};++k<U;){var ke=k<J?h[k]:n;y(me,a[k],ke)}return me}function pf(a){return ws(a)?a:[]}function Tp(a){return typeof a=="function"?a:xa}function bc(a,h){return Xn(a)?a:rd(a,h)?[a]:iv(Xr(a))}var Yh=Wn;function ta(a,h,y){var k=a.length;return y=y===n?k:y,!h&&y>=k?a:is(a,h,y)}var Uu=sf||function(a){return ni.clearTimeout(a)};function mf(a,h){if(h)return a.slice();var y=a.length,k=nf?nf(y):new a.constructor(y);return a.copy(k),k}function Qh(a){var h=new a.constructor(a.byteLength);return new Lh(h).set(new Lh(a)),h}function Kh(a,h){var y=h?Qh(a.buffer):a.buffer;return new a.constructor(y,a.byteOffset,a.byteLength)}function Ya(a){var h=new a.constructor(a.source,Vr.exec(a));return h.lastIndex=a.lastIndex,h}function Xh(a){return gc?Jn(gc.call(a)):{}}function Bu(a,h){var y=h?Qh(a.buffer):a.buffer;return new a.constructor(y,a.byteOffset,a.length)}function X0(a,h){if(a!==h){var y=a!==n,k=a===null,U=a===a,J=Qa(a),me=h!==n,ke=h===null,Le=h===h,xt=Qa(h);if(!ke&&!xt&&!J&&a>h||J&&me&&Le&&!ke&&!xt||k&&me&&Le||!y&&Le||!U)return 1;if(!k&&!J&&!xt&&a<h||xt&&y&&U&&!k&&!J||ke&&y&&U||!me&&U||!Le)return-1}return 0}function p_(a,h,y){for(var k=-1,U=a.criteria,J=h.criteria,me=U.length,ke=y.length;++k<me;){var Le=X0(U[k],J[k]);if(Le){if(k>=ke)return Le;var xt=y[k];return Le*(xt=="desc"?-1:1)}}return a.index-h.index}function Zh(a,h,y,k){for(var U=-1,J=a.length,me=y.length,ke=-1,Le=h.length,xt=bi(J-me,0),Et=ot(Le+xt),Rt=!k;++ke<Le;)Et[ke]=h[ke];for(;++U<me;)(Rt||U<J)&&(Et[y[U]]=a[U]);for(;xt--;)Et[ke++]=a[U++];return Et}function Vu(a,h,y,k){for(var U=-1,J=a.length,me=-1,ke=y.length,Le=-1,xt=h.length,Et=bi(J-ke,0),Rt=ot(Et+xt),en=!k;++U<Et;)Rt[U]=a[U];for(var _n=U;++Le<xt;)Rt[_n+Le]=h[Le];for(;++me<ke;)(en||U<J)&&(Rt[_n+y[me]]=a[U++]);return Rt}function _o(a,h){var y=-1,k=a.length;for(h||(h=ot(k));++y<k;)h[y]=a[y];return h}function Sc(a,h,y,k){var U=!y;y||(y={});for(var J=-1,me=h.length;++J<me;){var ke=h[J],Le=k?k(y[ke],a[ke],ke,y,a):n;Le===n&&(Le=a[ke]),U?eo(y,ke,Le):At(y,ke,Le)}return y}function m_(a,h){return Sc(a,nd(a),h)}function g_(a,h){return Sc(a,Gu(a),h)}function gf(a,h){return function(y,k){var U=Xn(y)?_u:Js,J=h?h():{};return U(y,a,En(k,2),J)}}function Xc(a){return Wn(function(h,y){var k=-1,U=y.length,J=U>1?y[U-1]:n,me=U>2?y[2]:n;for(J=a.length>3&&typeof J=="function"?(U--,J):n,me&&wo(y[0],y[1],me)&&(J=U<3?n:J,U=1),h=Jn(h);++k<U;){var ke=y[k];ke&&a(h,ke,k,J)}return h})}function vf(a,h){return function(y,k){if(y==null)return y;if(!ba(y))return a(y,k);for(var U=y.length,J=h?U:-1,me=Jn(y);(h?J--:++J<U)&&k(me[J],J,me)!==!1;);return y}}function Vl(a){return function(h,y,k){for(var U=-1,J=Jn(h),me=k(h),ke=me.length;ke--;){var Le=me[a?ke:++U];if(y(J[Le],Le,J)===!1)break}return h}}function ys(a,h,y){var k=h&M,U=xc(a);function J(){var me=this&&this!==ni&&this instanceof J?U:a;return me.apply(k?y:this,arguments)}return J}function yf(a){return function(h){h=Xr(h);var y=Jo(h)?ho(h):n,k=y?y[0]:h.charAt(0),U=y?ta(y,1).join(""):h.slice(1);return k[a]()+U}}function Zc(a){return function(h){return rn(iT(rT(h).replace(La,"")),a,"")}}function xc(a){return function(){var h=arguments;switch(h.length){case 0:return new a;case 1:return new a(h[0]);case 2:return new a(h[0],h[1]);case 3:return new a(h[0],h[1],h[2]);case 4:return new a(h[0],h[1],h[2],h[3]);case 5:return new a(h[0],h[1],h[2],h[3],h[4]);case 6:return new a(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new a(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var y=As(a.prototype),k=a.apply(y,h);return Yi(k)?k:y}}function Ep(a,h,y){var k=xc(a);function U(){for(var J=arguments.length,me=ot(J),ke=J,Le=Jc(U);ke--;)me[ke]=arguments[ke];var xt=J<3&&me[0]!==Le&&me[J-1]!==Le?[]:Mo(me,Le);if(J-=xt.length,J<y)return bf(a,h,Hu,U.placeholder,n,me,xt,n,n,y-J);var Et=this&&this!==ni&&this instanceof U?k:a;return ts(Et,this,me)}return U}function zu(a){return function(h,y,k){var U=Jn(h);if(!ba(h)){var J=En(y,3);h=to(h),y=function(ke){return J(U[ke],ke,U)}}var me=a(h,y,k);return me>-1?U[J?h[me]:me]:n}}function _f(a){return _a(function(h){var y=h.length,k=y,U=Si.prototype.thru;for(a&&h.reverse();k--;){var J=h[k];if(typeof J!="function")throw new fo(l);if(U&&!me&&Wu(J)=="wrapper")var me=new Si([],!0)}for(k=me?k:y;++k<y;){J=h[k];var ke=Wu(J),Le=ke=="wrapper"?td(J):n;Le&&wa(Le[0])&&Le[1]==(ee|j|F|_e)&&!Le[4].length&&Le[9]==1?me=me[Wu(Le[0])].apply(me,Le[3]):me=J.length==1&&wa(J)?me[ke]():me.thru(J)}return function(){var xt=arguments,Et=xt[0];if(me&&xt.length==1&&Xn(Et))return me.plant(Et).value();for(var Rt=0,en=y?h[Rt].apply(this,xt):Et;++Rt<y;)en=h[Rt].call(this,en);return en}})}function Hu(a,h,y,k,U,J,me,ke,Le,xt){var Et=h&ee,Rt=h&M,en=h&C,_n=h&(j|H),Pn=h&Xe,cr=en?n:xc(a);function In(){for(var wr=arguments.length,Pr=ot(wr),Ka=wr;Ka--;)Pr[Ka]=arguments[Ka];if(_n)var ra=Jc(In),Xa=wi(Pr,ra);if(k&&(Pr=Zh(Pr,k,U,_n)),J&&(Pr=Vu(Pr,J,me,_n)),wr-=Xa,_n&&wr<xt){var bs=Mo(Pr,ra);return bf(a,h,Hu,In.placeholder,y,Pr,bs,ke,Le,xt-wr)}var nl=Rt?y:this,Xu=en?nl[a]:a;return wr=Pr.length,ke?Pr=S_(Pr,ke):Pn&&wr>1&&Pr.reverse(),Et&&Le<wr&&(Pr.length=Le),this&&this!==ni&&this instanceof In&&(Xu=cr||xc(Xu)),Xu.apply(nl,Pr)}return In}function wf(a,h){return function(y,k){return ma(y,a,h(k),{})}}function $u(a,h){return function(y,k){var U;if(y===n&&k===n)return h;if(y!==n&&(U=y),k!==n){if(U===n)return k;typeof y=="string"||typeof k=="string"?(y=ss(y),k=ss(k)):(y=Lu(y),k=Lu(k)),U=a(y,k)}return U}}function Tc(a){return _a(function(h){return h=He(h,Ni(En())),Wn(function(y){var k=this;return a(h,function(U){return ts(U,k,y)})})})}function va(a,h){h=h===n?" ":ss(h);var y=h.length;if(y<2)return y?jl(h,a):h;var k=jl(h,ku(a/dc(h)));return Jo(h)?ta(ho(k),0,a).join(""):k.slice(0,a)}function Ec(a,h,y,k){var U=h&M,J=xc(a);function me(){for(var ke=-1,Le=arguments.length,xt=-1,Et=k.length,Rt=ot(Et+Le),en=this&&this!==ni&&this instanceof me?J:a;++xt<Et;)Rt[xt]=k[xt];for(;Le--;)Rt[xt++]=arguments[++ke];return ts(en,U?y:this,Rt)}return me}function Cp(a){return function(h,y,k){return k&&typeof k!="number"&&wo(h,y,k)&&(y=k=n),h=Ku(h),y===n?(y=h,h=0):y=Ku(y),k=k===n?h<y?1:-1:Ku(k),ff(h,y,k,a)}}function qu(a){return function(h,y){return typeof h=="string"&&typeof y=="string"||(h=Nc(h),y=Nc(y)),a(h,y)}}function bf(a,h,y,k,U,J,me,ke,Le,xt){var Et=h&j,Rt=Et?me:n,en=Et?n:me,_n=Et?J:n,Pn=Et?n:J;h|=Et?F:ie,h&=~(Et?ie:F),h&R||(h&=~(M|C));var cr=[a,h,U,_n,Rt,Pn,en,ke,Le,xt],In=y.apply(n,cr);return wa(a)&&tv(In,cr),In.placeholder=k,nv(In,a,h)}function Jh(a){var h=Ai[a];return function(y,k){if(y=Nc(y),k=k==null?0:rr(ir(k),292),k&&Cl(y)){var U=(Xr(y)+"e").split("e"),J=h(U[0]+"e"+(+U[1]+k));return U=(Xr(J)+"e").split("e"),+(U[0]+"e"+(+U[1]-k))}return h(y)}}var kp=Ro&&1/Tl(new Ro([,-0]))[1]==Ae?function(a){return new Ro(a)}:I_;function Z0(a){return function(h){var y=Di(h);return y==K?Xd(h):y==Vt?Xm(h):wu(h,a(h))}}function ya(a,h,y,k,U,J,me,ke){var Le=h&C;if(!Le&&typeof a!="function")throw new fo(l);var xt=k?k.length:0;if(xt||(h&=~(F|ie),k=U=n),me=me===n?me:bi(ir(me),0),ke=ke===n?ke:ir(ke),xt-=U?U.length:0,h&ie){var Et=k,Rt=U;k=U=n}var en=Le?n:td(a),_n=[a,h,y,k,U,Et,Rt,J,me,ke];if(en&&__(_n,en),a=_n[0],h=_n[1],y=_n[2],k=_n[3],U=_n[4],ke=_n[9]=_n[9]===n?Le?0:a.length:bi(_n[9]-xt,0),!ke&&h&(j|H)&&(h&=~(j|H)),!h||h==M)var Pn=ys(a,h,y);else h==j||h==H?Pn=Ep(a,h,ke):(h==F||h==(M|F))&&!U.length?Pn=Ec(a,h,y,k):Pn=Hu.apply(n,_n);var cr=en?Vo:tv;return nv(cr(Pn,_n),a,h)}function hg(a,h,y,k){return a===n||tl(a,Gc[y])&&!zr.call(k,y)?h:a}function dg(a,h,y,k,U,J){return Yi(a)&&Yi(h)&&(J.set(h,a),Er(a,h,n,dg,J),J.delete(h)),a}function Op(a){return vg(a)?n:a}function fg(a,h,y,k,U,J){var me=y&T,ke=a.length,Le=h.length;if(ke!=Le&&!(me&&Le>ke))return!1;var xt=J.get(a),Et=J.get(h);if(xt&&Et)return xt==h&&Et==a;var Rt=-1,en=!0,_n=y&D?new yc:n;for(J.set(a,h),J.set(h,a);++Rt<ke;){var Pn=a[Rt],cr=h[Rt];if(k)var In=me?k(cr,Pn,Rt,h,a,J):k(Pn,cr,Rt,a,h,J);if(In!==n){if(In)continue;en=!1;break}if(_n){if(!gn(h,function(wr,Pr){if(!qi(_n,Pr)&&(Pn===wr||U(Pn,wr,y,k,J)))return _n.push(Pr)})){en=!1;break}}else if(!(Pn===cr||U(Pn,cr,y,k,J))){en=!1;break}}return J.delete(a),J.delete(h),en}function v_(a,h,y,k,U,J,me){switch(y){case Ln:if(a.byteLength!=h.byteLength||a.byteOffset!=h.byteOffset)return!1;a=a.buffer,h=h.buffer;case Nr:return!(a.byteLength!=h.byteLength||!J(new Lh(a),new Lh(h)));case ae:case we:case de:return tl(+a,+h);case W:return a.name==h.name&&a.message==h.message;case It:case Pt:return a==h+"";case K:var ke=Xd;case Vt:var Le=k&T;if(ke||(ke=Tl),a.size!=h.size&&!Le)return!1;var xt=me.get(a);if(xt)return xt==h;k|=D,me.set(a,h);var Et=fg(ke(a),ke(h),k,U,J,me);return me.delete(a),Et;case mn:if(gc)return gc.call(a)==gc.call(h)}return!1}function y_(a,h,y,k,U,J){var me=y&T,ke=Np(a),Le=ke.length,xt=Np(h),Et=xt.length;if(Le!=Et&&!me)return!1;for(var Rt=Le;Rt--;){var en=ke[Rt];if(!(me?en in h:zr.call(h,en)))return!1}var _n=J.get(a),Pn=J.get(h);if(_n&&Pn)return _n==h&&Pn==a;var cr=!0;J.set(a,h),J.set(h,a);for(var In=me;++Rt<Le;){en=ke[Rt];var wr=a[en],Pr=h[en];if(k)var Ka=me?k(Pr,wr,en,h,a,J):k(wr,Pr,en,a,h,J);if(!(Ka===n?wr===Pr||U(wr,Pr,y,k,J):Ka)){cr=!1;break}In||(In=en=="constructor")}if(cr&&!In){var ra=a.constructor,Xa=h.constructor;ra!=Xa&&"constructor"in a&&"constructor"in h&&!(typeof ra=="function"&&ra instanceof ra&&typeof Xa=="function"&&Xa instanceof Xa)&&(cr=!1)}return J.delete(a),J.delete(h),cr}function _a(a){return gg(J0(a,n,ve),a+"")}function Np(a){return $a(a,to,nd)}function ed(a){return $a(a,Sa,Gu)}var td=Va?function(a){return Va.get(a)}:I_;function Wu(a){for(var h=a.name+"",y=Yc[h],k=zr.call(Yc,h)?y.length:0;k--;){var U=y[k],J=U.func;if(J==null||J==a)return U.name}return h}function Jc(a){var h=zr.call(Y,"placeholder")?Y:a;return h.placeholder}function En(){var a=Y.iteratee||R_;return a=a===R_?N:a,arguments.length?a(arguments[0],arguments[1]):a}function zl(a,h){var y=a.__data__;return xf(h)?y[typeof h=="string"?"string":"hash"]:y.map}function Ap(a){for(var h=to(a),y=h.length;y--;){var k=h[y],U=a[k];h[y]=[k,U,Tf(U)]}return h}function Cc(a,h){var y=dp(a,h);return ga(y)?y:n}function Mp(a){var h=zr.call(a,on),y=a[on];try{a[on]=n;var k=!0}catch{}var U=Ph.call(a);return k&&(h?a[on]=y:delete a[on]),U}var nd=ds?function(a){return a==null?[]:(a=Jn(a),Fs(ds(a),function(h){return rf.call(a,h)}))}:L_,Gu=ds?function(a){for(var h=[];a;)Tt(h,nd(a)),a=Eu(a);return h}:L_,Di=gs;(mo&&Di(new mo(new ArrayBuffer(1)))!=Ln||Dr&&Di(new Dr)!=K||af&&Di(af.resolve())!=$e||Ro&&Di(new Ro)!=Vt||Po&&Di(new Po)!=un)&&(Di=function(a){var h=gs(a),y=h==fe?a.constructor:n,k=y?Yu(y):"";if(k)switch(k){case og:return Ln;case Io:return K;case Se:return $e;case Lo:return Vt;case fs:return un}return h});function Dp(a,h,y){for(var k=-1,U=y.length;++k<U;){var J=y[k],me=J.size;switch(J.type){case"drop":a+=me;break;case"dropRight":h-=me;break;case"take":h=rr(h,a+me);break;case"takeRight":a=bi(a,h-me);break}}return{start:a,end:h}}function Rp(a){var h=a.match($n);return h?h[1].split(co):[]}function Pp(a,h,y){h=bc(h,a);for(var k=-1,U=h.length,J=!1;++k<U;){var me=kc(h[k]);if(!(J=a!=null&&y(a,me)))break;a=a[me]}return J||++k!=U?J:(U=a==null?0:a.length,!!U&&dv(U)&&zo(me,U)&&(Xn(a)||kf(a)))}function Ip(a){var h=a.length,y=new a.constructor(h);return h&&typeof a[0]=="string"&&zr.call(a,"index")&&(y.index=a.index,y.input=a.input),y}function Ri(a){return typeof a.constructor=="function"&&!$l(a)?As(Eu(a)):{}}function Sf(a,h,y){var k=a.constructor;switch(h){case Nr:return Qh(a);case ae:case we:return new k(+a);case Ln:return Kh(a,y);case Jt:case yr:case Ir:case ki:case ei:case ci:case ls:case Zn:case us:return Bu(a,y);case K:return new k;case de:case Pt:return new k(a);case It:return Ya(a);case Vt:return new k;case mn:return Xh(a)}}function Hl(a,h){var y=h.length;if(!y)return a;var k=y-1;return h[k]=(y>1?"& ":"")+h[k],h=h.join(y>2?", ":" "),a.replace(Br,`{
/* [wrapped with `+h+`] */
`)}function pg(a){return Xn(a)||kf(a)||!!(vp&&a&&a[vp])}function zo(a,h){var y=typeof a;return h=h??pe,!!h&&(y=="number"||y!="symbol"&&ne.test(a))&&a>-1&&a%1==0&&a<h}function wo(a,h,y){if(!Yi(y))return!1;var k=typeof h;return(k=="number"?ba(y)&&zo(h,y.length):k=="string"&&h in y)?tl(y[h],a):!1}function rd(a,h){if(Xn(a))return!1;var y=typeof a;return y=="number"||y=="symbol"||y=="boolean"||a==null||Qa(a)?!0:Gs.test(a)||!Gr.test(a)||h!=null&&a in Jn(h)}function xf(a){var h=typeof a;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?a!=="__proto__":a===null}function wa(a){var h=Wu(a),y=Y[h];if(typeof y!="function"||!(h in Qn.prototype))return!1;if(a===y)return!0;var k=td(y);return!!k&&a===k[0]}function Lp(a){return!!pp&&pp in a}var Fp=Rh?Qu:F_;function $l(a){var h=a&&a.constructor,y=typeof h=="function"&&h.prototype||Gc;return a===y}function Tf(a){return a===a&&!Yi(a)}function Ef(a,h){return function(y){return y==null?!1:y[a]===h&&(h!==n||a in Jn(y))}}function jp(a){var h=uv(a,function(k){return y.size===m&&y.clear(),k}),y=h.cache;return h}function __(a,h){var y=a[1],k=h[1],U=y|k,J=U<(M|C|ee),me=k==ee&&y==j||k==ee&&y==_e&&a[7].length<=h[8]||k==(ee|_e)&&h[7].length<=h[8]&&y==j;if(!(J||me))return a;k&M&&(a[2]=h[2],U|=y&M?0:R);var ke=h[3];if(ke){var Le=a[3];a[3]=Le?Zh(Le,ke,h[4]):ke,a[4]=Le?Mo(a[3],v):h[4]}return ke=h[5],ke&&(Le=a[5],a[5]=Le?Vu(Le,ke,h[6]):ke,a[6]=Le?Mo(a[5],v):h[6]),ke=h[7],ke&&(a[7]=ke),k&ee&&(a[8]=a[8]==null?h[8]:rr(a[8],h[8])),a[9]==null&&(a[9]=h[9]),a[0]=h[0],a[1]=U,a}function w_(a){var h=[];if(a!=null)for(var y in Jn(a))h.push(y);return h}function b_(a){return Ph.call(a)}function J0(a,h,y){return h=bi(h===n?a.length-1:h,0),function(){for(var k=arguments,U=-1,J=bi(k.length-h,0),me=ot(J);++U<J;)me[U]=k[h+U];U=-1;for(var ke=ot(h+1);++U<h;)ke[U]=k[U];return ke[h]=y(me),ts(a,this,ke)}}function ev(a,h){return h.length<2?a:Qc(a,is(h,0,-1))}function S_(a,h){for(var y=a.length,k=rr(h.length,y),U=_o(a);k--;){var J=h[k];a[k]=zo(J,y)?U[J]:n}return a}function mg(a,h){if(!(h==="constructor"&&typeof a[h]=="function")&&h!="__proto__")return a[h]}var tv=rv(Vo),Cf=ig||function(a,h){return ni.setTimeout(a,h)},gg=rv(Vs);function nv(a,h,y){var k=h+"";return gg(a,Hl(k,g(Rp(k),y)))}function rv(a){var h=0,y=0;return function(){var k=po(),U=et-(k-y);if(y=k,U>0){if(++h>=je)return arguments[0]}else h=0;return a.apply(n,arguments)}}function Up(a,h){var y=-1,k=a.length,U=k-1;for(h=h===n?k:h;++y<h;){var J=zh(y,U),me=a[J];a[J]=a[y],a[y]=me}return a.length=h,a}var iv=jp(function(a){var h=[];return a.charCodeAt(0)===46&&h.push(""),a.replace(ha,function(y,k,U,J){h.push(U?J.replace(Is,"$1"):k||y)}),h});function kc(a){if(typeof a=="string"||Qa(a))return a;var h=a+"";return h=="0"&&1/a==-Ae?"-0":h}function Yu(a){if(a!=null){try{return Tu.call(a)}catch{}try{return a+""}catch{}}return""}function g(a,h){return qr(Mt,function(y){var k="_."+y[0];h&y[1]&&!Wc(a,k)&&a.push(k)}),a.sort()}function i(a){if(a instanceof Qn)return a.clone();var h=new Si(a.__wrapped__,a.__chain__);return h.__actions__=_o(a.__actions__),h.__index__=a.__index__,h.__values__=a.__values__,h}function c(a,h,y){(y?wo(a,h,y):h===n)?h=1:h=bi(ir(h),0);var k=a==null?0:a.length;if(!k||h<1)return[];for(var U=0,J=0,me=ot(ku(k/h));U<k;)me[J++]=is(a,U,U+=h);return me}function d(a){for(var h=-1,y=a==null?0:a.length,k=0,U=[];++h<y;){var J=a[h];J&&(U[k++]=J)}return U}function _(){var a=arguments.length;if(!a)return[];for(var h=ot(a-1),y=arguments[0],k=a;k--;)h[k-1]=arguments[k];return Tt(Xn(y)?_o(y):[y],ms(h,1))}var E=Wn(function(a,h){return ws(a)?Wi(a,ms(h,1,ws,!0)):[]}),A=Wn(function(a,h){var y=ft(h);return ws(y)&&(y=n),ws(a)?Wi(a,ms(h,1,ws,!0),En(y,2)):[]}),I=Wn(function(a,h){var y=ft(h);return ws(y)&&(y=n),ws(a)?Wi(a,ms(h,1,ws,!0),n,y):[]});function B(a,h,y){var k=a==null?0:a.length;return k?(h=y||h===n?1:ir(h),is(a,h<0?0:h,k)):[]}function G(a,h,y){var k=a==null?0:a.length;return k?(h=y||h===n?1:ir(h),h=k-h,is(a,0,h<0?0:h)):[]}function oe(a,h){return a&&a.length?Fu(a,En(h,3),!0,!0):[]}function Q(a,h){return a&&a.length?Fu(a,En(h,3),!0):[]}function ue(a,h,y,k){var U=a==null?0:a.length;return U?(y&&typeof y!="number"&&wo(a,h,y)&&(y=0,k=U),cg(a,h,y,k)):[]}function Z(a,h,y){var k=a==null?0:a.length;if(!k)return-1;var U=y==null?0:ir(y);return U<0&&(U=bi(k+U,0)),_i(a,En(h,3),U)}function Ie(a,h,y){var k=a==null?0:a.length;if(!k)return-1;var U=k-1;return y!==n&&(U=ir(y),U=y<0?bi(k+U,0):rr(U,k-1)),_i(a,En(h,3),U,!0)}function ve(a){var h=a==null?0:a.length;return h?ms(a,1):[]}function ge(a){var h=a==null?0:a.length;return h?ms(a,Ae):[]}function Oe(a,h){var y=a==null?0:a.length;return y?(h=h===n?1:ir(h),ms(a,h)):[]}function ze(a){for(var h=-1,y=a==null?0:a.length,k={};++h<y;){var U=a[h];k[U[0]]=U[1]}return k}function Be(a){return a&&a.length?a[0]:n}function qe(a,h,y){var k=a==null?0:a.length;if(!k)return-1;var U=y==null?0:ir(y);return U<0&&(U=bi(k+U,0)),hr(a,h,U)}function st(a){var h=a==null?0:a.length;return h?is(a,0,-1):[]}var Je=Wn(function(a){var h=He(a,pf);return h.length&&h[0]===a[0]?ea(h):[]}),ct=Wn(function(a){var h=ft(a),y=He(a,pf);return h===ft(y)?h=n:y.pop(),y.length&&y[0]===a[0]?ea(y,En(h,2)):[]}),Ut=Wn(function(a){var h=ft(a),y=He(a,pf);return h=typeof h=="function"?h:n,h&&y.pop(),y.length&&y[0]===a[0]?ea(y,n,h):[]});function dt(a,h){return a==null?"":ns.call(a,h)}function ft(a){var h=a==null?0:a.length;return h?a[h-1]:n}function Ot(a,h,y){var k=a==null?0:a.length;if(!k)return-1;var U=k;return y!==n&&(U=ir(y),U=U<0?bi(k+U,0):rr(U,k-1)),h===h?Zm(a,h,U):_i(a,Kr,U,!0)}function Zt(a,h){return a&&a.length?Ds(a,ir(h)):n}var Tn=Wn(gr);function gr(a,h){return a&&a.length&&h&&h.length?df(a,h):a}function wn(a,h,y){return a&&a.length&&h&&h.length?df(a,h,En(y,2)):a}function qn(a,h,y){return a&&a.length&&h&&h.length?df(a,h,n,y):a}var or=_a(function(a,h){var y=a==null?0:a.length,k=_c(a,h);return Fl(a,He(h,function(U){return zo(U,y)?+U:U}).sort(X0)),k});function Dn(a,h){var y=[];if(!(a&&a.length))return y;var k=-1,U=[],J=a.length;for(h=En(h,3);++k<J;){var me=a[k];h(me,k,a)&&(y.push(me),U.push(k))}return Fl(a,U),y}function Kn(a){return a==null?a:sg.call(a)}function Cr(a,h,y){var k=a==null?0:a.length;return k?(y&&typeof y!="number"&&wo(a,h,y)?(h=0,y=k):(h=h==null?0:ir(h),y=y===n?k:ir(y)),is(a,h,y)):[]}function Gi(a,h){return qh(a,h)}function _s(a,h,y){return Bl(a,h,En(y,2))}function ar(a,h){var y=a==null?0:a.length;if(y){var k=qh(a,h);if(k<y&&tl(a[k],h))return k}return-1}function bn(a,h){return qh(a,h,!0)}function zs(a,h,y){return Bl(a,h,En(y,2),!0)}function Oc(a,h){var y=a==null?0:a.length;if(y){var k=qh(a,h,!0)-1;if(tl(a[k],h))return k}return-1}function na(a){return a&&a.length?yo(a):[]}function ql(a,h){return a&&a.length?yo(a,En(h,2)):[]}function Wl(a){var h=a==null?0:a.length;return h?is(a,1,h):[]}function os(a,h,y){return a&&a.length?(h=y||h===n?1:ir(h),is(a,0,h<0?0:h)):[]}function Ho(a,h,y){var k=a==null?0:a.length;return k?(h=y||h===n?1:ir(h),h=k-h,is(a,h<0?0:h,k)):[]}function sv(a,h){return a&&a.length?Fu(a,En(h,3),!1,!0):[]}function ov(a,h){return a&&a.length?Fu(a,En(h,3)):[]}var zt=Wn(function(a){return Ga(ms(a,1,ws,!0))}),Rr=Wn(function(a){var h=ft(a);return ws(h)&&(h=n),Ga(ms(a,1,ws,!0),En(h,2))}),Hs=Wn(function(a){var h=ft(a);return h=typeof h=="function"?h:n,Ga(ms(a,1,ws,!0),n,h)});function Ti(a){return a&&a.length?Ga(a):[]}function kr(a,h){return a&&a.length?Ga(a,En(h,2)):[]}function gi(a,h){return h=typeof h=="function"?h:n,a&&a.length?Ga(a,n,h):[]}function $o(a){if(!(a&&a.length))return[];var h=0;return a=Fs(a,function(y){if(ws(y))return h=bi(y.length,h),!0}),uc(h,function(y){return He(a,Ao(y))})}function el(a,h){if(!(a&&a.length))return[];var y=$o(a);return h==null?y:He(y,function(k){return ts(h,n,k)})}var Gl=Wn(function(a,h){return ws(a)?Wi(a,h):[]}),x_=Wn(function(a){return Gh(Fs(a,ws))}),T_=Wn(function(a){var h=ft(a);return ws(h)&&(h=n),Gh(Fs(a,ws),En(h,2))}),ZA=Wn(function(a){var h=ft(a);return h=typeof h=="function"?h:n,Gh(Fs(a,ws),n,h)}),JA=Wn($o);function e3(a,h){return xp(a||[],h||[],At)}function t3(a,h){return xp(a||[],h||[],Ul)}var n3=Wn(function(a){var h=a.length,y=h>1?a[h-1]:n;return y=typeof y=="function"?(a.pop(),y):n,el(a,y)});function Px(a){var h=Y(a);return h.__chain__=!0,h}function r3(a,h){return h(a),a}function av(a,h){return h(a)}var i3=_a(function(a){var h=a.length,y=h?a[0]:0,k=this.__wrapped__,U=function(J){return _c(J,a)};return h>1||this.__actions__.length||!(k instanceof Qn)||!zo(y)?this.thru(U):(k=k.slice(y,+y+(h?1:0)),k.__actions__.push({func:av,args:[U],thisArg:n}),new Si(k,this.__chain__).thru(function(J){return h&&!J.length&&J.push(n),J}))});function s3(){return Px(this)}function o3(){return new Si(this.value(),this.__chain__)}function a3(){this.__values__===n&&(this.__values__=Yx(this.value()));var a=this.__index__>=this.__values__.length,h=a?n:this.__values__[this.__index__++];return{done:a,value:h}}function c3(){return this}function l3(a){for(var h,y=this;y instanceof Ou;){var k=i(y);k.__index__=0,k.__values__=n,h?U.__wrapped__=k:h=k;var U=k;y=y.__wrapped__}return U.__wrapped__=a,h}function u3(){var a=this.__wrapped__;if(a instanceof Qn){var h=a;return this.__actions__.length&&(h=new Qn(this)),h=h.reverse(),h.__actions__.push({func:av,args:[Kn],thisArg:n}),new Si(h,this.__chain__)}return this.thru(Kn)}function h3(){return ju(this.__wrapped__,this.__actions__)}var d3=gf(function(a,h,y){zr.call(a,y)?++a[y]:eo(a,y,1)});function f3(a,h,y){var k=Xn(a)?qc:Pl;return y&&wo(a,h,y)&&(h=n),k(a,En(h,3))}function p3(a,h){var y=Xn(a)?Fs:Wr;return y(a,En(h,3))}var m3=zu(Z),g3=zu(Ie);function v3(a,h){return ms(cv(a,h),1)}function y3(a,h){return ms(cv(a,h),Ae)}function _3(a,h,y){return y=y===n?1:ir(y),ms(cv(a,h),y)}function Ix(a,h){var y=Xn(a)?qr:Mi;return y(a,En(h,3))}function Lx(a,h){var y=Xn(a)?Ah:bp;return y(a,En(h,3))}var w3=gf(function(a,h,y){zr.call(a,y)?a[y].push(h):eo(a,y,[h])});function b3(a,h,y,k){a=ba(a)?a:Vp(a),y=y&&!k?ir(y):0;var U=a.length;return y<0&&(y=bi(U+y,0)),fv(a)?y<=U&&a.indexOf(h,y)>-1:!!U&&hr(a,h,y)>-1}var S3=Wn(function(a,h,y){var k=-1,U=typeof h=="function",J=ba(a)?ot(a.length):[];return Mi(a,function(me){J[++k]=U?ts(h,me,y):Bs(me,h,y)}),J}),x3=gf(function(a,h,y){eo(a,y,h)});function cv(a,h){var y=Xn(a)?He:at;return y(a,En(h,3))}function T3(a,h,y,k){return a==null?[]:(Xn(h)||(h=h==null?[]:[h]),y=k?n:y,Xn(y)||(y=y==null?[]:[y]),Bo(a,h,y))}var E3=gf(function(a,h,y){a[y?0:1].push(h)},function(){return[[],[]]});function C3(a,h,y){var k=Xn(a)?rn:wl,U=arguments.length<3;return k(a,En(h,4),y,U,Mi)}function k3(a,h,y){var k=Xn(a)?Rn:wl,U=arguments.length<3;return k(a,En(h,4),y,U,bp)}function O3(a,h){var y=Xn(a)?Fs:Wr;return y(a,hv(En(h,3)))}function N3(a){var h=Xn(a)?wp:f_;return h(a)}function A3(a,h,y){(y?wo(a,h,y):h===n)?h=1:h=ir(h);var k=Xn(a)?rs:Rs;return k(a,h)}function M3(a){var h=Xn(a)?Dl:Hh;return h(a)}function D3(a){if(a==null)return 0;if(ba(a))return fv(a)?dc(a):a.length;var h=Di(a);return h==K||h==Vt?a.size:P(a).length}function R3(a,h,y){var k=Xn(a)?gn:$h;return y&&wo(a,h,y)&&(h=n),k(a,En(h,3))}var P3=Wn(function(a,h){if(a==null)return[];var y=h.length;return y>1&&wo(a,h[0],h[1])?h=[]:y>2&&wo(h[0],h[1],h[2])&&(h=[h[0]]),Bo(a,ms(h,1),[])}),lv=of||function(){return ni.Date.now()};function I3(a,h){if(typeof h!="function")throw new fo(l);return a=ir(a),function(){if(--a<1)return h.apply(this,arguments)}}function Fx(a,h,y){return h=y?n:h,h=a&&h==null?a.length:h,ya(a,ee,n,n,n,n,h)}function jx(a,h){var y;if(typeof h!="function")throw new fo(l);return a=ir(a),function(){return--a>0&&(y=h.apply(this,arguments)),a<=1&&(h=n),y}}var E_=Wn(function(a,h,y){var k=M;if(y.length){var U=Mo(y,Jc(E_));k|=F}return ya(a,k,h,y,U)}),Ux=Wn(function(a,h,y){var k=M|C;if(y.length){var U=Mo(y,Jc(Ux));k|=F}return ya(h,k,a,y,U)});function Bx(a,h,y){h=y?n:h;var k=ya(a,j,n,n,n,n,n,h);return k.placeholder=Bx.placeholder,k}function Vx(a,h,y){h=y?n:h;var k=ya(a,H,n,n,n,n,n,h);return k.placeholder=Vx.placeholder,k}function zx(a,h,y){var k,U,J,me,ke,Le,xt=0,Et=!1,Rt=!1,en=!0;if(typeof a!="function")throw new fo(l);h=Nc(h)||0,Yi(y)&&(Et=!!y.leading,Rt="maxWait"in y,J=Rt?bi(Nc(y.maxWait)||0,h):J,en="trailing"in y?!!y.trailing:en);function _n(bs){var nl=k,Xu=U;return k=U=n,xt=bs,me=a.apply(Xu,nl),me}function Pn(bs){return xt=bs,ke=Cf(wr,h),Et?_n(bs):me}function cr(bs){var nl=bs-Le,Xu=bs-xt,aT=h-nl;return Rt?rr(aT,J-Xu):aT}function In(bs){var nl=bs-Le,Xu=bs-xt;return Le===n||nl>=h||nl<0||Rt&&Xu>=J}function wr(){var bs=lv();if(In(bs))return Pr(bs);ke=Cf(wr,cr(bs))}function Pr(bs){return ke=n,en&&k?_n(bs):(k=U=n,me)}function Ka(){ke!==n&&Uu(ke),xt=0,k=Le=U=ke=n}function ra(){return ke===n?me:Pr(lv())}function Xa(){var bs=lv(),nl=In(bs);if(k=arguments,U=this,Le=bs,nl){if(ke===n)return Pn(Le);if(Rt)return Uu(ke),ke=Cf(wr,h),_n(Le)}return ke===n&&(ke=Cf(wr,h)),me}return Xa.cancel=Ka,Xa.flush=ra,Xa}var L3=Wn(function(a,h){return Iu(a,1,h)}),F3=Wn(function(a,h,y){return Iu(a,Nc(h)||0,y)});function j3(a){return ya(a,Xe)}function uv(a,h){if(typeof a!="function"||h!=null&&typeof h!="function")throw new fo(l);var y=function(){var k=arguments,U=h?h.apply(this,k):k[0],J=y.cache;if(J.has(U))return J.get(U);var me=a.apply(this,k);return y.cache=J.set(U,me)||J,me};return y.cache=new(uv.Cache||za),y}uv.Cache=za;function hv(a){if(typeof a!="function")throw new fo(l);return function(){var h=arguments;switch(h.length){case 0:return!a.call(this);case 1:return!a.call(this,h[0]);case 2:return!a.call(this,h[0],h[1]);case 3:return!a.call(this,h[0],h[1],h[2])}return!a.apply(this,h)}}function U3(a){return jx(2,a)}var B3=Yh(function(a,h){h=h.length==1&&Xn(h[0])?He(h[0],Ni(En())):He(ms(h,1),Ni(En()));var y=h.length;return Wn(function(k){for(var U=-1,J=rr(k.length,y);++U<J;)k[U]=h[U].call(this,k[U]);return ts(a,this,k)})}),C_=Wn(function(a,h){var y=Mo(h,Jc(C_));return ya(a,F,n,h,y)}),Hx=Wn(function(a,h){var y=Mo(h,Jc(Hx));return ya(a,ie,n,h,y)}),V3=_a(function(a,h){return ya(a,_e,n,n,n,h)});function z3(a,h){if(typeof a!="function")throw new fo(l);return h=h===n?h:ir(h),Wn(a,h)}function H3(a,h){if(typeof a!="function")throw new fo(l);return h=h==null?0:bi(ir(h),0),Wn(function(y){var k=y[h],U=ta(y,0,h);return k&&Tt(U,k),ts(a,this,U)})}function $3(a,h,y){var k=!0,U=!0;if(typeof a!="function")throw new fo(l);return Yi(y)&&(k="leading"in y?!!y.leading:k,U="trailing"in y?!!y.trailing:U),zx(a,h,{leading:k,maxWait:h,trailing:U})}function q3(a){return Fx(a,1)}function W3(a,h){return C_(Tp(h),a)}function G3(){if(!arguments.length)return[];var a=arguments[0];return Xn(a)?a:[a]}function Y3(a){return ps(a,O)}function Q3(a,h){return h=typeof h=="function"?h:n,ps(a,O,h)}function K3(a){return ps(a,b|O)}function X3(a,h){return h=typeof h=="function"?h:n,ps(a,b|O,h)}function Z3(a,h){return h==null||Pu(a,h,to(h))}function tl(a,h){return a===h||a!==a&&h!==h}var J3=qu(Kc),eM=qu(function(a,h){return a>=h}),kf=wc(function(){return arguments}())?wc:function(a){return as(a)&&zr.call(a,"callee")&&!rf.call(a,"callee")},Xn=ot.isArray,tM=_l?Ni(_l):Il;function ba(a){return a!=null&&dv(a.length)&&!Qu(a)}function ws(a){return as(a)&&ba(a)}function nM(a){return a===!0||a===!1||as(a)&&gs(a)==ae}var id=Bn||F_,rM=Ls?Ni(Ls):ii;function iM(a){return as(a)&&a.nodeType===1&&!vg(a)}function sM(a){if(a==null)return!0;if(ba(a)&&(Xn(a)||typeof a=="string"||typeof a.splice=="function"||id(a)||Bp(a)||kf(a)))return!a.length;var h=Di(a);if(h==K||h==Vt)return!a.size;if($l(a))return!P(a).length;for(var y in a)if(zr.call(a,y))return!1;return!0}function oM(a,h){return vs(a,h)}function aM(a,h,y){y=typeof y=="function"?y:n;var k=y?y(a,h):n;return k===n?vs(a,h,n,y):!!k}function k_(a){if(!as(a))return!1;var h=gs(a);return h==W||h==be||typeof a.message=="string"&&typeof a.name=="string"&&!vg(a)}function cM(a){return typeof a=="number"&&Cl(a)}function Qu(a){if(!Yi(a))return!1;var h=gs(a);return h==le||h==z||h==Ue||h==mt}function $x(a){return typeof a=="number"&&a==ir(a)}function dv(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=pe}function Yi(a){var h=typeof a;return a!=null&&(h=="object"||h=="function")}function as(a){return a!=null&&typeof a=="object"}var qx=yu?Ni(yu):Ll;function lM(a,h){return a===h||Tr(a,h,Ap(h))}function uM(a,h,y){return y=typeof y=="function"?y:n,Tr(a,h,Ap(h),y)}function hM(a){return Wx(a)&&a!=+a}function dM(a){if(Fp(a))throw new jn(o);return ga(a)}function fM(a){return a===null}function pM(a){return a==null}function Wx(a){return typeof a=="number"||as(a)&&gs(a)==de}function vg(a){if(!as(a)||gs(a)!=fe)return!1;var h=Eu(a);if(h===null)return!0;var y=zr.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&Tu.call(y)==mp}var O_=Qs?Ni(Qs):Yn;function mM(a){return $x(a)&&a>=-pe&&a<=pe}var Gx=ja?Ni(ja):p;function fv(a){return typeof a=="string"||!Xn(a)&&as(a)&&gs(a)==Pt}function Qa(a){return typeof a=="symbol"||as(a)&&gs(a)==mn}var Bp=Ks?Ni(Ks):w;function gM(a){return a===n}function vM(a){return as(a)&&Di(a)==un}function yM(a){return as(a)&&gs(a)==mr}var _M=qu(xe),wM=qu(function(a,h){return a<=h});function Yx(a){if(!a)return[];if(ba(a))return fv(a)?ho(a):_o(a);if(Cu&&a[Cu])return Mh(a[Cu]());var h=Di(a),y=h==K?Xd:h==Vt?Tl:Vp;return y(a)}function Ku(a){if(!a)return a===0?a:0;if(a=Nc(a),a===Ae||a===-Ae){var h=a<0?-1:1;return h*Pe}return a===a?a:0}function ir(a){var h=Ku(a),y=h%1;return h===h?y?h-y:h:0}function Qx(a){return a?hn(ir(a),0,it):0}function Nc(a){if(typeof a=="number")return a;if(Qa(a))return Ye;if(Yi(a)){var h=typeof a.valueOf=="function"?a.valueOf():a;a=Yi(h)?h+"":h}if(typeof a!="string")return a===0?a:+a;a=bl(a);var y=$r.test(a);return y||Li.test(a)?vl(a.slice(2),y?2:8):fn.test(a)?Ye:+a}function Kx(a){return Sc(a,Sa(a))}function bM(a){return a?hn(ir(a),-pe,pe):a===0?a:0}function Xr(a){return a==null?"":ss(a)}var SM=Xc(function(a,h){if($l(h)||ba(h)){Sc(h,to(h),a);return}for(var y in h)zr.call(h,y)&&At(a,y,h[y])}),Xx=Xc(function(a,h){Sc(h,Sa(h),a)}),pv=Xc(function(a,h,y,k){Sc(h,Sa(h),a,k)}),xM=Xc(function(a,h,y,k){Sc(h,to(h),a,k)}),TM=_a(_c);function EM(a,h){var y=As(a);return h==null?y:Ru(y,h)}var CM=Wn(function(a,h){a=Jn(a);var y=-1,k=h.length,U=k>2?h[2]:n;for(U&&wo(h[0],h[1],U)&&(k=1);++y<k;)for(var J=h[y],me=Sa(J),ke=-1,Le=me.length;++ke<Le;){var xt=me[ke],Et=a[xt];(Et===n||tl(Et,Gc[xt])&&!zr.call(a,xt))&&(a[xt]=J[xt])}return a}),kM=Wn(function(a){return a.push(n,dg),ts(Zx,n,a)});function OM(a,h){return nr(a,En(h,3),pa)}function NM(a,h){return nr(a,En(h,3),jo)}function AM(a,h){return a==null?a:uf(a,En(h,3),Sa)}function MM(a,h){return a==null?a:hf(a,En(h,3),Sa)}function DM(a,h){return a&&pa(a,En(h,3))}function RM(a,h){return a&&jo(a,En(h,3))}function PM(a){return a==null?[]:vo(a,to(a))}function IM(a){return a==null?[]:vo(a,Sa(a))}function N_(a,h,y){var k=a==null?n:Qc(a,h);return k===n?y:k}function LM(a,h){return a!=null&&Pp(a,h,xi)}function A_(a,h){return a!=null&&Pp(a,h,qa)}var FM=wf(function(a,h,y){h!=null&&typeof h.toString!="function"&&(h=Ph.call(h)),a[h]=y},D_(xa)),jM=wf(function(a,h,y){h!=null&&typeof h.toString!="function"&&(h=Ph.call(h)),zr.call(a,h)?a[h].push(y):a[h]=[y]},En),UM=Wn(Bs);function to(a){return ba(a)?pi(a):P(a)}function Sa(a){return ba(a)?pi(a,!0):$(a)}function BM(a,h){var y={};return h=En(h,3),pa(a,function(k,U,J){eo(y,h(k,U,J),k)}),y}function VM(a,h){var y={};return h=En(h,3),pa(a,function(k,U,J){eo(y,U,h(k,U,J))}),y}var zM=Xc(function(a,h,y){Er(a,h,y)}),Zx=Xc(function(a,h,y,k){Er(a,h,y,k)}),HM=_a(function(a,h){var y={};if(a==null)return y;var k=!1;h=He(h,function(J){return J=bc(J,a),k||(k=J.length>1),J}),Sc(a,ed(a),y),k&&(y=ps(y,b|x|O,Op));for(var U=h.length;U--;)Wh(y,h[U]);return y});function $M(a,h){return Jx(a,hv(En(h)))}var qM=_a(function(a,h){return a==null?{}:Sp(a,h)});function Jx(a,h){if(a==null)return{};var y=He(ed(a),function(k){return[k]});return h=En(h),lg(a,y,function(k,U){return h(k,U[0])})}function WM(a,h,y){h=bc(h,a);var k=-1,U=h.length;for(U||(U=1,a=n);++k<U;){var J=a==null?n:a[kc(h[k])];J===n&&(k=U,J=y),a=Qu(J)?J.call(a):J}return a}function GM(a,h,y){return a==null?a:Ul(a,h,y)}function YM(a,h,y,k){return k=typeof k=="function"?k:n,a==null?a:Ul(a,h,y,k)}var eT=Z0(to),tT=Z0(Sa);function QM(a,h,y){var k=Xn(a),U=k||id(a)||Bp(a);if(h=En(h,4),y==null){var J=a&&a.constructor;U?y=k?new J:[]:Yi(a)?y=Qu(J)?As(Eu(a)):{}:y={}}return(U?qr:pa)(a,function(me,ke,Le){return h(y,me,ke,Le)}),y}function KM(a,h){return a==null?!0:Wh(a,h)}function XM(a,h,y){return a==null?a:ug(a,h,Tp(y))}function ZM(a,h,y,k){return k=typeof k=="function"?k:n,a==null?a:ug(a,h,Tp(y),k)}function Vp(a){return a==null?[]:Sr(a,to(a))}function JM(a){return a==null?[]:Sr(a,Sa(a))}function eD(a,h,y){return y===n&&(y=h,h=n),y!==n&&(y=Nc(y),y=y===y?y:0),h!==n&&(h=Nc(h),h=h===h?h:0),hn(Nc(a),h,y)}function tD(a,h,y){return h=Ku(h),y===n?(y=h,h=0):y=Ku(y),a=Nc(a),Wa(a,h,y)}function nD(a,h,y){if(y&&typeof y!="boolean"&&wo(a,h,y)&&(h=y=n),y===n&&(typeof h=="boolean"?(y=h,h=n):typeof a=="boolean"&&(y=a,a=n)),a===n&&h===n?(a=0,h=1):(a=Ku(a),h===n?(h=a,a=0):h=Ku(h)),a>h){var k=a;a=h,h=k}if(y||a%1||h%1){var U=fa();return rr(a+U*(h-a+$c("1e-"+((U+"").length-1))),h)}return zh(a,h)}var rD=Zc(function(a,h,y){return h=h.toLowerCase(),a+(y?nT(h):h)});function nT(a){return M_(Xr(a).toLowerCase())}function rT(a){return a=Xr(a),a&&a.replace(ye,hc).replace(da,"")}function iD(a,h,y){a=Xr(a),h=ss(h);var k=a.length;y=y===n?k:hn(ir(y),0,k);var U=y;return y-=h.length,y>=0&&a.slice(y,U)==h}function sD(a){return a=Xr(a),a&&zi.test(a)?a.replace(ao,bu):a}function oD(a){return a=Xr(a),a&&hs.test(a)?a.replace(es,"\\$&"):a}var aD=Zc(function(a,h,y){return a+(y?"-":"")+h.toLowerCase()}),cD=Zc(function(a,h,y){return a+(y?" ":"")+h.toLowerCase()}),lD=yf("toLowerCase");function uD(a,h,y){a=Xr(a),h=ir(h);var k=h?dc(a):0;if(!h||k>=h)return a;var U=(h-k)/2;return va(Ba(U),y)+a+va(ku(U),y)}function hD(a,h,y){a=Xr(a),h=ir(h);var k=h?dc(a):0;return h&&k<h?a+va(h-k,y):a}function dD(a,h,y){a=Xr(a),h=ir(h);var k=h?dc(a):0;return h&&k<h?va(h-k,y)+a:a}function fD(a,h,y){return y||h==null?h=0:h&&(h=+h),kl(Xr(a).replace(Nt,""),h||0)}function pD(a,h,y){return(y?wo(a,h,y):h===n)?h=1:h=ir(h),jl(Xr(a),h)}function mD(){var a=arguments,h=Xr(a[0]);return a.length<3?h:h.replace(a[1],a[2])}var gD=Zc(function(a,h,y){return a+(y?"_":"")+h.toLowerCase()});function vD(a,h,y){return y&&typeof y!="number"&&wo(a,h,y)&&(h=y=n),y=y===n?it:y>>>0,y?(a=Xr(a),a&&(typeof h=="string"||h!=null&&!O_(h))&&(h=ss(h),!h&&Jo(a))?ta(ho(a),0,y):a.split(h,y)):[]}var yD=Zc(function(a,h,y){return a+(y?" ":"")+M_(h)});function _D(a,h,y){return a=Xr(a),y=y==null?0:hn(ir(y),0,a.length),h=ss(h),a.slice(y,y+h.length)==h}function wD(a,h,y){var k=Y.templateSettings;y&&wo(a,h,y)&&(h=n),a=Xr(a),h=pv({},h,k,hg);var U=pv({},h.imports,k.imports,hg),J=to(U),me=Sr(U,J),ke,Le,xt=0,Et=h.interpolate||Ne,Rt="__p += '",en=Ua((h.escape||Ne).source+"|"+Et.source+"|"+(Et===lr?Gn:Ne).source+"|"+(h.evaluate||Ne).source+"|$","g"),_n="//# sourceURL="+(zr.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Oi+"]")+`
`;a.replace(en,function(In,wr,Pr,Ka,ra,Xa){return Pr||(Pr=Ka),Rt+=a.slice(xt,Xa).replace(Ze,Kd),wr&&(ke=!0,Rt+=`' +
__e(`+wr+`) +
'`),ra&&(Le=!0,Rt+=`';
`+ra+`;
__p += '`),Pr&&(Rt+=`' +
((__t = (`+Pr+`)) == null ? '' : __t) +
'`),xt=Xa+In.length,In}),Rt+=`';
`;var Pn=zr.call(h,"variable")&&h.variable;if(!Pn)Rt=`with (obj) {
`+Rt+`
}
`;else if($i.test(Pn))throw new jn(u);Rt=(Le?Rt.replace(Ur,""):Rt).replace(di,"$1").replace(Hn,"$1;"),Rt="function("+(Pn||"obj")+`) {
`+(Pn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ke?", __e = _.escape":"")+(Le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Rt+`return __p
}`;var cr=sT(function(){return Mr(J,_n+"return "+Rt).apply(n,me)});if(cr.source=Rt,k_(cr))throw cr;return cr}function bD(a){return Xr(a).toLowerCase()}function SD(a){return Xr(a).toUpperCase()}function xD(a,h,y){if(a=Xr(a),a&&(y||h===n))return bl(a);if(!a||!(h=ss(h)))return a;var k=ho(a),U=ho(h),J=dr(k,U),me=Sl(k,U)+1;return ta(k,J,me).join("")}function TD(a,h,y){if(a=Xr(a),a&&(y||h===n))return a.slice(0,Su(a)+1);if(!a||!(h=ss(h)))return a;var k=ho(a),U=Sl(k,ho(h))+1;return ta(k,0,U).join("")}function ED(a,h,y){if(a=Xr(a),a&&(y||h===n))return a.replace(Nt,"");if(!a||!(h=ss(h)))return a;var k=ho(a),U=dr(k,ho(h));return ta(k,U).join("")}function CD(a,h){var y=Te,k=Fe;if(Yi(h)){var U="separator"in h?h.separator:U;y="length"in h?ir(h.length):y,k="omission"in h?ss(h.omission):k}a=Xr(a);var J=a.length;if(Jo(a)){var me=ho(a);J=me.length}if(y>=J)return a;var ke=y-dc(k);if(ke<1)return k;var Le=me?ta(me,0,ke).join(""):a.slice(0,ke);if(U===n)return Le+k;if(me&&(ke+=Le.length-ke),O_(U)){if(a.slice(ke).search(U)){var xt,Et=Le;for(U.global||(U=Ua(U.source,Xr(Vr.exec(U))+"g")),U.lastIndex=0;xt=U.exec(Et);)var Rt=xt.index;Le=Le.slice(0,Rt===n?ke:Rt)}}else if(a.indexOf(ss(U),ke)!=ke){var en=Le.lastIndexOf(U);en>-1&&(Le=Le.slice(0,en))}return Le+k}function kD(a){return a=Xr(a),a&&yi.test(a)?a.replace(Es,Jd):a}var OD=Zc(function(a,h,y){return a+(y?" ":"")+h.toUpperCase()}),M_=yf("toUpperCase");function iT(a,h,y){return a=Xr(a),h=y?n:h,h===n?Km(a)?Dh(a):dn(a):a.match(h)||[]}var sT=Wn(function(a,h){try{return ts(a,n,h)}catch(y){return k_(y)?y:new jn(y)}}),ND=_a(function(a,h){return qr(h,function(y){y=kc(y),eo(a,y,E_(a[y],a))}),a});function AD(a){var h=a==null?0:a.length,y=En();return a=h?He(a,function(k){if(typeof k[1]!="function")throw new fo(l);return[y(k[0]),k[1]]}):[],Wn(function(k){for(var U=-1;++U<h;){var J=a[U];if(ts(J[0],this,k))return ts(J[1],this,k)}})}function MD(a){return Rl(ps(a,b))}function D_(a){return function(){return a}}function DD(a,h){return a==null||a!==a?h:a}var RD=_f(),PD=_f(!0);function xa(a){return a}function R_(a){return N(typeof a=="function"?a:ps(a,b))}function ID(a){return pn(ps(a,b))}function LD(a,h){return yn(a,ps(h,b))}var FD=Wn(function(a,h){return function(y){return Bs(y,a,h)}}),jD=Wn(function(a,h){return function(y){return Bs(a,y,h)}});function P_(a,h,y){var k=to(h),U=vo(h,k);y==null&&!(Yi(h)&&(U.length||!k.length))&&(y=h,h=a,a=this,U=vo(h,to(h)));var J=!(Yi(y)&&"chain"in y)||!!y.chain,me=Qu(a);return qr(U,function(ke){var Le=h[ke];a[ke]=Le,me&&(a.prototype[ke]=function(){var xt=this.__chain__;if(J||xt){var Et=a(this.__wrapped__),Rt=Et.__actions__=_o(this.__actions__);return Rt.push({func:Le,args:arguments,thisArg:a}),Et.__chain__=xt,Et}return Le.apply(a,Tt([this.value()],arguments))})}),a}function UD(){return ni._===this&&(ni._=ng),this}function I_(){}function BD(a){return a=ir(a),Wn(function(h){return Ds(h,a)})}var VD=Tc(He),zD=Tc(qc),HD=Tc(gn);function oT(a){return rd(a)?Ao(kc(a)):K0(a)}function $D(a){return function(h){return a==null?n:Qc(a,h)}}var qD=Cp(),WD=Cp(!0);function L_(){return[]}function F_(){return!1}function GD(){return{}}function YD(){return""}function QD(){return!0}function KD(a,h){if(a=ir(a),a<1||a>pe)return[];var y=it,k=rr(a,it);h=En(h),a-=it;for(var U=uc(k,h);++y<a;)h(y);return U}function XD(a){return Xn(a)?He(a,kc):Qa(a)?[a]:_o(iv(Xr(a)))}function ZD(a){var h=++tg;return Xr(a)+h}var JD=$u(function(a,h){return a+h},0),eR=Jh("ceil"),tR=$u(function(a,h){return a/h},1),nR=Jh("floor");function rR(a){return a&&a.length?Ha(a,xa,Kc):n}function iR(a,h){return a&&a.length?Ha(a,En(h,2),Kc):n}function sR(a){return js(a,xa)}function oR(a,h){return js(a,En(h,2))}function aR(a){return a&&a.length?Ha(a,xa,xe):n}function cR(a,h){return a&&a.length?Ha(a,En(h,2),xe):n}var lR=$u(function(a,h){return a*h},1),uR=Jh("round"),hR=$u(function(a,h){return a-h},0);function dR(a){return a&&a.length?Us(a,xa):0}function fR(a,h){return a&&a.length?Us(a,En(h,2)):0}return Y.after=I3,Y.ary=Fx,Y.assign=SM,Y.assignIn=Xx,Y.assignInWith=pv,Y.assignWith=xM,Y.at=TM,Y.before=jx,Y.bind=E_,Y.bindAll=ND,Y.bindKey=Ux,Y.castArray=G3,Y.chain=Px,Y.chunk=c,Y.compact=d,Y.concat=_,Y.cond=AD,Y.conforms=MD,Y.constant=D_,Y.countBy=d3,Y.create=EM,Y.curry=Bx,Y.curryRight=Vx,Y.debounce=zx,Y.defaults=CM,Y.defaultsDeep=kM,Y.defer=L3,Y.delay=F3,Y.difference=E,Y.differenceBy=A,Y.differenceWith=I,Y.drop=B,Y.dropRight=G,Y.dropRightWhile=oe,Y.dropWhile=Q,Y.fill=ue,Y.filter=p3,Y.flatMap=v3,Y.flatMapDeep=y3,Y.flatMapDepth=_3,Y.flatten=ve,Y.flattenDeep=ge,Y.flattenDepth=Oe,Y.flip=j3,Y.flow=RD,Y.flowRight=PD,Y.fromPairs=ze,Y.functions=PM,Y.functionsIn=IM,Y.groupBy=w3,Y.initial=st,Y.intersection=Je,Y.intersectionBy=ct,Y.intersectionWith=Ut,Y.invert=FM,Y.invertBy=jM,Y.invokeMap=S3,Y.iteratee=R_,Y.keyBy=x3,Y.keys=to,Y.keysIn=Sa,Y.map=cv,Y.mapKeys=BM,Y.mapValues=VM,Y.matches=ID,Y.matchesProperty=LD,Y.memoize=uv,Y.merge=zM,Y.mergeWith=Zx,Y.method=FD,Y.methodOf=jD,Y.mixin=P_,Y.negate=hv,Y.nthArg=BD,Y.omit=HM,Y.omitBy=$M,Y.once=U3,Y.orderBy=T3,Y.over=VD,Y.overArgs=B3,Y.overEvery=zD,Y.overSome=HD,Y.partial=C_,Y.partialRight=Hx,Y.partition=E3,Y.pick=qM,Y.pickBy=Jx,Y.property=oT,Y.propertyOf=$D,Y.pull=Tn,Y.pullAll=gr,Y.pullAllBy=wn,Y.pullAllWith=qn,Y.pullAt=or,Y.range=qD,Y.rangeRight=WD,Y.rearg=V3,Y.reject=O3,Y.remove=Dn,Y.rest=z3,Y.reverse=Kn,Y.sampleSize=A3,Y.set=GM,Y.setWith=YM,Y.shuffle=M3,Y.slice=Cr,Y.sortBy=P3,Y.sortedUniq=na,Y.sortedUniqBy=ql,Y.split=vD,Y.spread=H3,Y.tail=Wl,Y.take=os,Y.takeRight=Ho,Y.takeRightWhile=sv,Y.takeWhile=ov,Y.tap=r3,Y.throttle=$3,Y.thru=av,Y.toArray=Yx,Y.toPairs=eT,Y.toPairsIn=tT,Y.toPath=XD,Y.toPlainObject=Kx,Y.transform=QM,Y.unary=q3,Y.union=zt,Y.unionBy=Rr,Y.unionWith=Hs,Y.uniq=Ti,Y.uniqBy=kr,Y.uniqWith=gi,Y.unset=KM,Y.unzip=$o,Y.unzipWith=el,Y.update=XM,Y.updateWith=ZM,Y.values=Vp,Y.valuesIn=JM,Y.without=Gl,Y.words=iT,Y.wrap=W3,Y.xor=x_,Y.xorBy=T_,Y.xorWith=ZA,Y.zip=JA,Y.zipObject=e3,Y.zipObjectDeep=t3,Y.zipWith=n3,Y.entries=eT,Y.entriesIn=tT,Y.extend=Xx,Y.extendWith=pv,P_(Y,Y),Y.add=JD,Y.attempt=sT,Y.camelCase=rD,Y.capitalize=nT,Y.ceil=eR,Y.clamp=eD,Y.clone=Y3,Y.cloneDeep=K3,Y.cloneDeepWith=X3,Y.cloneWith=Q3,Y.conformsTo=Z3,Y.deburr=rT,Y.defaultTo=DD,Y.divide=tR,Y.endsWith=iD,Y.eq=tl,Y.escape=sD,Y.escapeRegExp=oD,Y.every=f3,Y.find=m3,Y.findIndex=Z,Y.findKey=OM,Y.findLast=g3,Y.findLastIndex=Ie,Y.findLastKey=NM,Y.floor=nR,Y.forEach=Ix,Y.forEachRight=Lx,Y.forIn=AM,Y.forInRight=MM,Y.forOwn=DM,Y.forOwnRight=RM,Y.get=N_,Y.gt=J3,Y.gte=eM,Y.has=LM,Y.hasIn=A_,Y.head=Be,Y.identity=xa,Y.includes=b3,Y.indexOf=qe,Y.inRange=tD,Y.invoke=UM,Y.isArguments=kf,Y.isArray=Xn,Y.isArrayBuffer=tM,Y.isArrayLike=ba,Y.isArrayLikeObject=ws,Y.isBoolean=nM,Y.isBuffer=id,Y.isDate=rM,Y.isElement=iM,Y.isEmpty=sM,Y.isEqual=oM,Y.isEqualWith=aM,Y.isError=k_,Y.isFinite=cM,Y.isFunction=Qu,Y.isInteger=$x,Y.isLength=dv,Y.isMap=qx,Y.isMatch=lM,Y.isMatchWith=uM,Y.isNaN=hM,Y.isNative=dM,Y.isNil=pM,Y.isNull=fM,Y.isNumber=Wx,Y.isObject=Yi,Y.isObjectLike=as,Y.isPlainObject=vg,Y.isRegExp=O_,Y.isSafeInteger=mM,Y.isSet=Gx,Y.isString=fv,Y.isSymbol=Qa,Y.isTypedArray=Bp,Y.isUndefined=gM,Y.isWeakMap=vM,Y.isWeakSet=yM,Y.join=dt,Y.kebabCase=aD,Y.last=ft,Y.lastIndexOf=Ot,Y.lowerCase=cD,Y.lowerFirst=lD,Y.lt=_M,Y.lte=wM,Y.max=rR,Y.maxBy=iR,Y.mean=sR,Y.meanBy=oR,Y.min=aR,Y.minBy=cR,Y.stubArray=L_,Y.stubFalse=F_,Y.stubObject=GD,Y.stubString=YD,Y.stubTrue=QD,Y.multiply=lR,Y.nth=Zt,Y.noConflict=UD,Y.noop=I_,Y.now=lv,Y.pad=uD,Y.padEnd=hD,Y.padStart=dD,Y.parseInt=fD,Y.random=nD,Y.reduce=C3,Y.reduceRight=k3,Y.repeat=pD,Y.replace=mD,Y.result=WM,Y.round=uR,Y.runInContext=De,Y.sample=N3,Y.size=D3,Y.snakeCase=gD,Y.some=R3,Y.sortedIndex=Gi,Y.sortedIndexBy=_s,Y.sortedIndexOf=ar,Y.sortedLastIndex=bn,Y.sortedLastIndexBy=zs,Y.sortedLastIndexOf=Oc,Y.startCase=yD,Y.startsWith=_D,Y.subtract=hR,Y.sum=dR,Y.sumBy=fR,Y.template=wD,Y.times=KD,Y.toFinite=Ku,Y.toInteger=ir,Y.toLength=Qx,Y.toLower=bD,Y.toNumber=Nc,Y.toSafeInteger=bM,Y.toString=Xr,Y.toUpper=SD,Y.trim=xD,Y.trimEnd=TD,Y.trimStart=ED,Y.truncate=CD,Y.unescape=kD,Y.uniqueId=ZD,Y.upperCase=OD,Y.upperFirst=M_,Y.each=Ix,Y.eachRight=Lx,Y.first=Be,P_(Y,function(){var a={};return pa(Y,function(h,y){zr.call(Y.prototype,y)||(a[y]=h)}),a}(),{chain:!1}),Y.VERSION=r,qr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){Y[a].placeholder=Y}),qr(["drop","take"],function(a,h){Qn.prototype[a]=function(y){y=y===n?1:bi(ir(y),0);var k=this.__filtered__&&!h?new Qn(this):this.clone();return k.__filtered__?k.__takeCount__=rr(y,k.__takeCount__):k.__views__.push({size:rr(y,it),type:a+(k.__dir__<0?"Right":"")}),k},Qn.prototype[a+"Right"]=function(y){return this.reverse()[a](y).reverse()}}),qr(["filter","map","takeWhile"],function(a,h){var y=h+1,k=y==ut||y==We;Qn.prototype[a]=function(U){var J=this.clone();return J.__iteratees__.push({iteratee:En(U,3),type:y}),J.__filtered__=J.__filtered__||k,J}}),qr(["head","last"],function(a,h){var y="take"+(h?"Right":"");Qn.prototype[a]=function(){return this[y](1).value()[0]}}),qr(["initial","tail"],function(a,h){var y="drop"+(h?"":"Right");Qn.prototype[a]=function(){return this.__filtered__?new Qn(this):this[y](1)}}),Qn.prototype.compact=function(){return this.filter(xa)},Qn.prototype.find=function(a){return this.filter(a).head()},Qn.prototype.findLast=function(a){return this.reverse().find(a)},Qn.prototype.invokeMap=Wn(function(a,h){return typeof a=="function"?new Qn(this):this.map(function(y){return Bs(y,a,h)})}),Qn.prototype.reject=function(a){return this.filter(hv(En(a)))},Qn.prototype.slice=function(a,h){a=ir(a);var y=this;return y.__filtered__&&(a>0||h<0)?new Qn(y):(a<0?y=y.takeRight(-a):a&&(y=y.drop(a)),h!==n&&(h=ir(h),y=h<0?y.dropRight(-h):y.take(h-a)),y)},Qn.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Qn.prototype.toArray=function(){return this.take(it)},pa(Qn.prototype,function(a,h){var y=/^(?:filter|find|map|reject)|While$/.test(h),k=/^(?:head|last)$/.test(h),U=Y[k?"take"+(h=="last"?"Right":""):h],J=k||/^find/.test(h);U&&(Y.prototype[h]=function(){var me=this.__wrapped__,ke=k?[1]:arguments,Le=me instanceof Qn,xt=ke[0],Et=Le||Xn(me),Rt=function(wr){var Pr=U.apply(Y,Tt([wr],ke));return k&&en?Pr[0]:Pr};Et&&y&&typeof xt=="function"&&xt.length!=1&&(Le=Et=!1);var en=this.__chain__,_n=!!this.__actions__.length,Pn=J&&!en,cr=Le&&!_n;if(!J&&Et){me=cr?me:new Qn(this);var In=a.apply(me,ke);return In.__actions__.push({func:av,args:[Rt],thisArg:n}),new Si(In,en)}return Pn&&cr?a.apply(this,ke):(In=this.thru(Rt),Pn?k?In.value()[0]:In.value():In)})}),qr(["pop","push","shift","sort","splice","unshift"],function(a){var h=xu[a],y=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",k=/^(?:pop|shift)$/.test(a);Y.prototype[a]=function(){var U=arguments;if(k&&!this.__chain__){var J=this.value();return h.apply(Xn(J)?J:[],U)}return this[y](function(me){return h.apply(Xn(me)?me:[],U)})}}),pa(Qn.prototype,function(a,h){var y=Y[h];if(y){var k=y.name+"";zr.call(Yc,k)||(Yc[k]=[]),Yc[k].push({name:h,func:y})}}),Yc[Hu(n,C).name]=[{name:"wrapper",func:n}],Qn.prototype.clone=jh,Qn.prototype.reverse=yp,Qn.prototype.value=Uh,Y.prototype.at=i3,Y.prototype.chain=s3,Y.prototype.commit=o3,Y.prototype.next=a3,Y.prototype.plant=l3,Y.prototype.reverse=u3,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=h3,Y.prototype.first=Y.prototype.head,Cu&&(Y.prototype[Cu]=c3),Y},El=eg();uo?((uo.exports=El)._=El,Fa._=El):ni._=El}).call(hi)})(Hy,Hy.exports);var Qt=Hy.exports;const F0=e=>e.reduce((t,n)=>(t[n.id]=n,t),{}),Qp=e=>{const t=e;return(t==null?void 0:t.byId)!==void 0&&(t==null?void 0:t.allIds)!==void 0},Vd=e=>{if(!e)return{byId:{},allIds:[]};const t=e.map(r=>r.id)??[];return{byId:F0(e),allIds:t}},Ts=(e,t)=>t!==void 0?e[t]:void 0,ua=(e,t)=>t.map(n=>Ts(e,n)).filter(Boolean),RZ=e=>Array.isArray(e)?e.flatMap(t=>Object.keys(t)):Object.keys(e),PZ=e=>Object.keys(e).length>0,S9=(e,t)=>t,x9=(e,t)=>t??[],oi=(e,t)=>Array.isArray(e)?e.map(t).join(","):t(e),D2="$$$$$_track_scale_$$$$$",IZ=(e=Dm)=>({...Dm,...e,id:vi.nanoid()}),sN=Qt.range(60,72),ph={id:"chromatic-scale",name:"Chromatic Scale",notes:sN};({...ph});const T9=Qt.range(12).map(e=>({degree:e,offset:0})),Dm={id:"nested-chromatic-scale",name:"Chromatic Scale",notes:T9},E9={...Dm,id:"default-nested-scale"},Ra=e=>{const t=e;return j0(t)||R2(t)},R2=e=>{const t=e;return(t==null?void 0:t.id)!==void 0&&(t==null?void 0:t.name)!==void 0&&(t==null?void 0:t.notes)!==void 0},j0=e=>{const t=e;return Array.isArray(t)&&t.every(n=>typeof n=="number")},oN=e=>{const t=e;return(t==null?void 0:t.degree)!==void 0&&(t==null?void 0:t.offset)!==void 0},P2=e=>{const t=e;return zd(t)||C9(t)},zd=e=>{const t=e;return Array.isArray(t)&&t.every(oN)},C9=e=>{const t=e;return(t==null?void 0:t.id)!==void 0&&(t==null?void 0:t.name)!==void 0&&zd(t.notes)};var aN={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:hi,function(){return function(n){var r={};function s(o){if(r[o])return r[o].exports;var l=r[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,s),l.l=!0,l.exports}return s.m=n,s.c=r,s.d=function(o,l,u){s.o(o,l)||Object.defineProperty(o,l,{enumerable:!0,get:u})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,l){if(1&l&&(o=s(o)),8&l||4&l&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),2&l&&typeof o!="string")for(var f in o)s.d(u,f,(function(m){return o[m]}).bind(null,f));return u},s.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(l,"a",l),l},s.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},s.p="",s(s.s=9)}([function(n,r,s){(function(o,l,u,f){function m(Ae){return Ae&&typeof Ae=="object"&&"default"in Ae?Ae:{default:Ae}}var v=m(l),b=m(u),x=m(f),O=function(Ae,pe,Pe){return{endTime:pe,insertTime:Pe,type:"exponentialRampToValue",value:Ae}},T=function(Ae,pe,Pe){return{endTime:pe,insertTime:Pe,type:"linearRampToValue",value:Ae}},D=function(Ae,pe){return{startTime:pe,type:"setValue",value:Ae}},M=function(Ae,pe,Pe){return{duration:Pe,startTime:pe,type:"setValueCurve",values:Ae}},C=function(Ae,pe,Pe){var Ye=Pe.startTime,it=Pe.target,Qe=Pe.timeConstant;return it+(pe-it)*Math.exp((Ye-Ae)/Qe)},R=function(Ae){return Ae.type==="exponentialRampToValue"},j=function(Ae){return Ae.type==="linearRampToValue"},H=function(Ae){return R(Ae)||j(Ae)},F=function(Ae){return Ae.type==="setValue"},ie=function(Ae){return Ae.type==="setValueCurve"},ee=function Ae(pe,Pe,Ye,it){var Qe=pe[Pe];return Qe===void 0?it:H(Qe)||F(Qe)?Qe.value:ie(Qe)?Qe.values[Qe.values.length-1]:C(Ye,Ae(pe,Pe-1,Qe.startTime,it),Qe)},_e=function(Ae,pe,Pe,Ye,it){return Pe===void 0?[Ye.insertTime,it]:H(Pe)?[Pe.endTime,Pe.value]:F(Pe)?[Pe.startTime,Pe.value]:ie(Pe)?[Pe.startTime+Pe.duration,Pe.values[Pe.values.length-1]]:[Pe.startTime,ee(Ae,pe-1,Pe.startTime,it)]},Xe=function(Ae){return Ae.type==="cancelAndHold"},Te=function(Ae){return Ae.type==="cancelScheduledValues"},Fe=function(Ae){return Xe(Ae)||Te(Ae)?Ae.cancelTime:R(Ae)||j(Ae)?Ae.endTime:Ae.startTime},je=function(Ae,pe,Pe,Ye){var it=Ye.endTime,Qe=Ye.value;return Pe===Qe?Qe:0<Pe&&0<Qe||Pe<0&&Qe<0?Pe*Math.pow(Qe/Pe,(Ae-pe)/(it-pe)):0},et=function(Ae,pe,Pe,Ye){return Pe+(Ae-pe)/(Ye.endTime-pe)*(Ye.value-Pe)},ut=function(Ae,pe){var Pe=pe.duration,Ye=pe.startTime,it=pe.values;return function(Qe,bt){var Mt=Math.floor(bt),rt=Math.ceil(bt);return Mt===rt?Qe[Mt]:(1-(bt-Mt))*Qe[Mt]+(1-(rt-bt))*Qe[rt]}(it,(Ae-Ye)/Pe*(it.length-1))},Ge=function(Ae){return Ae.type==="setTarget"},We=function(){function Ae(pe){b.default(this,Ae),this._automationEvents=[],this._currenTime=0,this._defaultValue=pe}return x.default(Ae,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(pe){var Pe=Fe(pe);if(Xe(pe)||Te(pe)){var Ye=this._automationEvents.findIndex(function(be){return Te(pe)&&ie(be)?be.startTime+be.duration>=Pe:Fe(be)>=Pe}),it=this._automationEvents[Ye];if(Ye!==-1&&(this._automationEvents=this._automationEvents.slice(0,Ye)),Xe(pe)){var Qe=this._automationEvents[this._automationEvents.length-1];if(it!==void 0&&H(it)){if(Ge(Qe))throw new Error("The internal list is malformed.");var bt=ie(Qe)?Qe.startTime+Qe.duration:Fe(Qe),Mt=ie(Qe)?Qe.values[Qe.values.length-1]:Qe.value,rt=R(it)?je(Pe,bt,Mt,it):et(Pe,bt,Mt,it),Kt=R(it)?O(rt,Pe,this._currenTime):T(rt,Pe,this._currenTime);this._automationEvents.push(Kt)}Qe!==void 0&&Ge(Qe)&&this._automationEvents.push(D(this.getValue(Pe),Pe)),Qe!==void 0&&ie(Qe)&&Qe.startTime+Qe.duration>Pe&&(this._automationEvents[this._automationEvents.length-1]=M(new Float32Array([6,7]),Qe.startTime,Pe-Qe.startTime))}}else{var Ue=this._automationEvents.findIndex(function(be){return Fe(be)>Pe}),ae=Ue===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[Ue-1];if(ae!==void 0&&ie(ae)&&Fe(ae)+ae.duration>Pe)return!1;var we=R(pe)?O(pe.value,pe.endTime,this._currenTime):j(pe)?T(pe.value,Pe,this._currenTime):pe;if(Ue===-1)this._automationEvents.push(we);else{if(ie(pe)&&Pe+pe.duration>Fe(this._automationEvents[Ue]))return!1;this._automationEvents.splice(Ue,0,we)}}return!0}},{key:"flush",value:function(pe){var Pe=this._automationEvents.findIndex(function(Qe){return Fe(Qe)>pe});if(Pe>1){var Ye=this._automationEvents.slice(Pe-1),it=Ye[0];Ge(it)&&Ye.unshift(D(ee(this._automationEvents,Pe-2,it.startTime,this._defaultValue),it.startTime)),this._automationEvents=Ye}}},{key:"getValue",value:function(pe){if(this._automationEvents.length===0)return this._defaultValue;var Pe=this._automationEvents[this._automationEvents.length-1],Ye=this._automationEvents.findIndex(function(W){return Fe(W)>pe}),it=this._automationEvents[Ye],Qe=Fe(Pe)<=pe?Pe:this._automationEvents[Ye-1];if(Qe!==void 0&&Ge(Qe)&&(it===void 0||!H(it)||it.insertTime>pe))return C(pe,ee(this._automationEvents,Ye-2,Qe.startTime,this._defaultValue),Qe);if(Qe!==void 0&&F(Qe)&&(it===void 0||!H(it)))return Qe.value;if(Qe!==void 0&&ie(Qe)&&(it===void 0||!H(it)||Qe.startTime+Qe.duration>pe))return pe<Qe.startTime+Qe.duration?ut(pe,Qe):Qe.values[Qe.values.length-1];if(Qe!==void 0&&H(Qe)&&(it===void 0||!H(it)))return Qe.value;if(it!==void 0&&R(it)){var bt=_e(this._automationEvents,Ye-1,Qe,it,this._defaultValue),Mt=v.default(bt,2),rt=Mt[0],Kt=Mt[1];return je(pe,rt,Kt,it)}if(it!==void 0&&j(it)){var Ue=_e(this._automationEvents,Ye-1,Qe,it,this._defaultValue),ae=v.default(Ue,2),we=ae[0],be=ae[1];return et(pe,we,be,it)}return this._defaultValue}}]),Ae}();o.AutomationEventList=We,o.createCancelAndHoldAutomationEvent=function(Ae){return{cancelTime:Ae,type:"cancelAndHold"}},o.createCancelScheduledValuesAutomationEvent=function(Ae){return{cancelTime:Ae,type:"cancelScheduledValues"}},o.createExponentialRampToValueAutomationEvent=function(Ae,pe){return{endTime:pe,type:"exponentialRampToValue",value:Ae}},o.createLinearRampToValueAutomationEvent=function(Ae,pe){return{endTime:pe,type:"linearRampToValue",value:Ae}},o.createSetTargetAutomationEvent=function(Ae,pe,Pe){return{startTime:pe,target:Ae,timeConstant:Pe,type:"setTarget"}},o.createSetValueAutomationEvent=D,o.createSetValueCurveAutomationEvent=M,Object.defineProperty(o,"__esModule",{value:!0})})(r,s(1),s(7),s(8))},function(n,r,s){var o=s(2),l=s(3),u=s(4),f=s(6);n.exports=function(m,v){return o(m)||l(m,v)||u(m,v)||f()}},function(n,r){n.exports=function(s){if(Array.isArray(s))return s}},function(n,r){n.exports=function(s,o){if(typeof Symbol<"u"&&Symbol.iterator in Object(s)){var l=[],u=!0,f=!1,m=void 0;try{for(var v,b=s[Symbol.iterator]();!(u=(v=b.next()).done)&&(l.push(v.value),!o||l.length!==o);u=!0);}catch(x){f=!0,m=x}finally{try{u||b.return==null||b.return()}finally{if(f)throw m}}return l}}},function(n,r,s){var o=s(5);n.exports=function(l,u){if(l){if(typeof l=="string")return o(l,u);var f=Object.prototype.toString.call(l).slice(8,-1);return f==="Object"&&l.constructor&&(f=l.constructor.name),f==="Map"||f==="Set"?Array.from(l):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?o(l,u):void 0}}},function(n,r){n.exports=function(s,o){(o==null||o>s.length)&&(o=s.length);for(var l=0,u=new Array(o);l<o;l++)u[l]=s[l];return u}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r){n.exports=function(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r){function s(o,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}n.exports=function(o,l,u){return l&&s(o.prototype,l),u&&s(o,u),o}},function(n,r,s){s.r(r),s.d(r,"getContext",function(){return ri}),s.d(r,"setContext",function(){return Au}),s.d(r,"Clock",function(){return Wi}),s.d(r,"Context",function(){return Nl}),s.d(r,"BaseContext",function(){return Ol}),s.d(r,"Delay",function(){return Mi}),s.d(r,"Gain",function(){return cn}),s.d(r,"Offline",function(){return bp}),s.d(r,"OfflineContext",function(){return Al}),s.d(r,"Param",function(){return On}),s.d(r,"ToneAudioBuffer",function(){return Vn}),s.d(r,"ToneAudioBuffers",function(){return Pl}),s.d(r,"ToneAudioNode",function(){return At}),s.d(r,"connectSeries",function(){return ui}),s.d(r,"connect",function(){return Js}),s.d(r,"disconnect",function(){return Ru}),s.d(r,"FrequencyClass",function(){return Ms}),s.d(r,"Frequency",function(){return _p}),s.d(r,"MidiClass",function(){return Ha}),s.d(r,"Midi",function(){return cg}),s.d(r,"TimeClass",function(){return fi}),s.d(r,"Time",function(){return ag}),s.d(r,"TicksClass",function(){return Wr}),s.d(r,"Ticks",function(){return ms}),s.d(r,"TransportTimeClass",function(){return pi}),s.d(r,"TransportTime",function(){return wp}),s.d(r,"Emitter",function(){return Zs}),s.d(r,"IntervalTimeline",function(){return hf}),s.d(r,"StateTimeline",function(){return Dl}),s.d(r,"Timeline",function(){return Si}),s.d(r,"isUndef",function(){return ds}),s.d(r,"isDefined",function(){return Bn}),s.d(r,"isFunction",function(){return Cl}),s.d(r,"isNumber",function(){return ns}),s.d(r,"isObject",function(){return Do}),s.d(r,"isBoolean",function(){return bi}),s.d(r,"isArray",function(){return rr}),s.d(r,"isString",function(){return po}),s.d(r,"isNote",function(){return kl}),s.d(r,"dbToGain",function(){return Ml}),s.d(r,"gainToDb",function(){return Mu}),s.d(r,"intervalToFrequencyRatio",function(){return go}),s.d(r,"ftom",function(){return vc}),s.d(r,"mtof",function(){return lf}),s.d(r,"optionsFromArguments",function(){return Se}),s.d(r,"defaultArg",function(){return Lo}),s.d(r,"Unit",function(){return l}),s.d(r,"debug",function(){return o}),s.d(r,"Noise",function(){return Wa}),s.d(r,"UserMedia",function(){return Bs}),s.d(r,"Oscillator",function(){return ii}),s.d(r,"AMOscillator",function(){return ga}),s.d(r,"FMOscillator",function(){return Yn}),s.d(r,"PulseOscillator",function(){return p}),s.d(r,"FatOscillator",function(){return w}),s.d(r,"PWMOscillator",function(){return N}),s.d(r,"OmniOscillator",function(){return $}),s.d(r,"ToneOscillatorNode",function(){return Il}),s.d(r,"LFO",function(){return yn}),s.d(r,"ToneBufferSource",function(){return qa}),s.d(r,"Player",function(){return Ds}),s.d(r,"Players",function(){return Bo}),s.d(r,"GrainPlayer",function(){return Sp}),s.d(r,"Add",function(){return xe}),s.d(r,"Abs",function(){return lg}),s.d(r,"AudioToGain",function(){return Ll}),s.d(r,"GainToAudio",function(){return K0}),s.d(r,"GreaterThan",function(){return ff}),s.d(r,"GreaterThanZero",function(){return zh}),s.d(r,"Multiply",function(){return Tr}),s.d(r,"Negate",function(){return df}),s.d(r,"Pow",function(){return jl}),s.d(r,"Signal",function(){return hn}),s.d(r,"connectSignal",function(){return ps}),s.d(r,"Scale",function(){return at}),s.d(r,"ScaleExp",function(){return Wn}),s.d(r,"Subtract",function(){return Fl}),s.d(r,"SyncedSignal",function(){return f_}),s.d(r,"WaveShaper",function(){return Uo}),s.d(r,"Zero",function(){return pn}),s.d(r,"AMSynth",function(){return qh}),s.d(r,"DuoSynth",function(){return Ga}),s.d(r,"FMSynth",function(){return Wh}),s.d(r,"MetalSynth",function(){return Fu}),s.d(r,"MembraneSynth",function(){return ju}),s.d(r,"MonoSynth",function(){return ss}),s.d(r,"NoiseSynth",function(){return Gh}),s.d(r,"PluckSynth",function(){return mf}),s.d(r,"PolySynth",function(){return Qh}),s.d(r,"Sampler",function(){return Kh}),s.d(r,"Synth",function(){return is}),s.d(r,"Loop",function(){return Xh}),s.d(r,"Part",function(){return Bu}),s.d(r,"Pattern",function(){return Xc}),s.d(r,"Sequence",function(){return vf}),s.d(r,"ToneEvent",function(){return Ya}),s.d(r,"AutoFilter",function(){return Zc}),s.d(r,"AutoPanner",function(){return Ep}),s.d(r,"AutoWah",function(){return _f}),s.d(r,"BitCrusher",function(){return Hu}),s.d(r,"Chebyshev",function(){return $u}),s.d(r,"Chorus",function(){return qu}),s.d(r,"Distortion",function(){return bf}),s.d(r,"FeedbackDelay",function(){return kp}),s.d(r,"FrequencyShifter",function(){return ya}),s.d(r,"Freeverb",function(){return Op}),s.d(r,"JCReverb",function(){return _a}),s.d(r,"PingPongDelay",function(){return ed}),s.d(r,"PitchShift",function(){return td}),s.d(r,"Phaser",function(){return Wu}),s.d(r,"Reverb",function(){return Jc}),s.d(r,"StereoWidener",function(){return Cc}),s.d(r,"Tremolo",function(){return Mp}),s.d(r,"Vibrato",function(){return nd}),s.d(r,"Analyser",function(){return Gu}),s.d(r,"Meter",function(){return Dp}),s.d(r,"FFT",function(){return Rp}),s.d(r,"DCMeter",function(){return Pp}),s.d(r,"Waveform",function(){return Ip}),s.d(r,"Follower",function(){return zu}),s.d(r,"Channel",function(){return Hl}),s.d(r,"CrossFade",function(){return Vl}),s.d(r,"Merge",function(){return va}),s.d(r,"MidSideMerge",function(){return zl}),s.d(r,"MidSideSplit",function(){return En}),s.d(r,"Mono",function(){return pg}),s.d(r,"MultibandSplit",function(){return zo}),s.d(r,"Panner",function(){return xc}),s.d(r,"Panner3D",function(){return rd}),s.d(r,"PanVol",function(){return Sf}),s.d(r,"Recorder",function(){return xf}),s.d(r,"Solo",function(){return Ri}),s.d(r,"Split",function(){return Tc}),s.d(r,"Volume",function(){return jo}),s.d(r,"Compressor",function(){return wa}),s.d(r,"Gate",function(){return Lp}),s.d(r,"Limiter",function(){return Fp}),s.d(r,"MidSideCompressor",function(){return $l}),s.d(r,"MultibandCompressor",function(){return Tf}),s.d(r,"AmplitudeEnvelope",function(){return Hh}),s.d(r,"Envelope",function(){return Rs}),s.d(r,"FrequencyEnvelope",function(){return Lu}),s.d(r,"EQ3",function(){return Ef}),s.d(r,"Filter",function(){return yo}),s.d(r,"OnePoleFilter",function(){return ta}),s.d(r,"FeedbackCombFilter",function(){return Yh}),s.d(r,"LowpassCombFilter",function(){return Uu}),s.d(r,"Convolver",function(){return jp}),s.d(r,"BiquadFilter",function(){return Bl}),s.d(r,"version",function(){return u}),s.d(r,"start",function(){return za}),s.d(r,"supported",function(){return Cu}),s.d(r,"now",function(){return __}),s.d(r,"immediate",function(){return w_}),s.d(r,"Transport",function(){return b_}),s.d(r,"getTransport",function(){return J0}),s.d(r,"Destination",function(){return ev}),s.d(r,"Master",function(){return S_}),s.d(r,"getDestination",function(){return mg}),s.d(r,"Listener",function(){return tv}),s.d(r,"getListener",function(){return Cf}),s.d(r,"Draw",function(){return gg}),s.d(r,"getDraw",function(){return nv}),s.d(r,"context",function(){return rv}),s.d(r,"loaded",function(){return Up}),s.d(r,"Buffer",function(){return iv}),s.d(r,"Buffers",function(){return kc}),s.d(r,"BufferSource",function(){return Yu});var o={};s.r(o),s.d(o,"assert",function(){return on}),s.d(o,"assertRange",function(){return ji}),s.d(o,"assertContextRunning",function(){return sf}),s.d(o,"setLogger",function(){return ig}),s.d(o,"log",function(){return ku}),s.d(o,"warn",function(){return Ba});var l={};s.r(l);const u="14.7.77";var f=s(0);const m=new WeakSet,v=new WeakMap,b=new WeakMap,x=new WeakMap,O=new WeakMap,T=new WeakMap,D=new WeakMap,M=new WeakMap,C=new WeakMap,R=new WeakMap,j={construct:()=>j},H=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,F=(g,i)=>{const c=[];let d=g.replace(/^[\s]+/,""),_=d.match(H);for(;_!==null;){const E=_[1].slice(1,-1),A=_[0].replace(/([\s]+)?;?$/,"").replace(E,new URL(E,i).toString());c.push(A),d=d.slice(_[0].length).replace(/^[\s]+/,""),_=d.match(H)}return[c.join(";"),d]},ie=g=>{if(g!==void 0&&!Array.isArray(g))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},ee=g=>{if(!(i=>{try{new new Proxy(i,j)}catch{return!1}return!0})(g))throw new TypeError("The given value for processorCtor should be a constructor.");if(g.prototype===null||typeof g.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},_e=(g,i)=>{const c=g.get(i);if(c===void 0)throw new Error("A value with the given key could not be found.");return c},Xe=(g,i)=>{const c=Array.from(g).filter(i);if(c.length>1)throw Error("More than one element was found.");if(c.length===0)throw Error("No element was found.");const[d]=c;return g.delete(d),d},Te=(g,i,c,d)=>{const _=_e(g,i),E=Xe(_,A=>A[0]===c&&A[1]===d);return _.size===0&&g.delete(i),E},Fe=g=>_e(D,g),je=g=>{if(m.has(g))throw new Error("The AudioNode is already stored.");m.add(g),Fe(g).forEach(i=>i(!0))},et=g=>"port"in g,ut=g=>{if(!m.has(g))throw new Error("The AudioNode is not stored.");m.delete(g),Fe(g).forEach(i=>i(!1))},Ge=(g,i)=>{!et(g)&&i.every(c=>c.size===0)&&ut(g)},We={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Ae=(g,i)=>g.context===i,pe=g=>{try{g.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Pe=()=>new DOMException("","IndexSizeError"),Ye=g=>{var i;g.getChannelData=(i=g.getChannelData,c=>{try{return i.call(g,c)}catch(d){throw d.code===12?Pe():d}})},it={numberOfChannels:1},Qe=-34028234663852886e22,bt=-Qe,Mt=g=>m.has(g),rt={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Kt=g=>_e(v,g),Ue=g=>_e(x,g),ae=(g,i)=>{const{activeInputs:c}=Kt(g);c.forEach(_=>_.forEach(([E])=>{i.includes(g)||ae(E,[...i,g])}));const d=(_=>"playbackRate"in _)(g)?[g.playbackRate]:et(g)?Array.from(g.parameters.values()):(_=>"frequency"in _&&"gain"in _)(g)?[g.Q,g.detune,g.frequency,g.gain]:(_=>"offset"in _)(g)?[g.offset]:(_=>!("frequency"in _)&&"gain"in _)(g)?[g.gain]:(_=>"detune"in _&&"frequency"in _)(g)?[g.detune,g.frequency]:(_=>"pan"in _)(g)?[g.pan]:[];for(const _ of d){const E=Ue(_);E!==void 0&&E.activeInputs.forEach(([A])=>ae(A,i))}Mt(g)&&ut(g)},we=g=>{ae(g.destination,[])},be=g=>g===void 0||typeof g=="number"||typeof g=="string"&&(g==="balanced"||g==="interactive"||g==="playback"),W=g=>"context"in g,le=g=>W(g[0]),z=(g,i,c,d)=>{for(const _ of g)if(c(_)){if(d)return!1;throw Error("The set contains at least one similar element.")}return g.add(i),!0},K=(g,i,[c,d],_)=>{z(g,[i,c,d],E=>E[0]===i&&E[1]===c,_)},de=(g,[i,c,d],_)=>{const E=g.get(i);E===void 0?g.set(i,new Set([[c,d]])):z(E,[c,d],A=>A[0]===c,_)},Ce=g=>"inputs"in g,fe=(g,i,c,d)=>{if(Ce(i)){const _=i.inputs[d];return g.connect(_,c,0),[_,c,0]}return g.connect(i,c,d),[i,c,d]},$e=(g,i,c)=>{for(const d of g)if(d[0]===i&&d[1]===c)return g.delete(d),d;return null},mt=(g,i)=>{if(!Fe(g).delete(i))throw new Error("Missing the expected event listener.")},It=(g,i,c)=>{const d=_e(g,i),_=Xe(d,E=>E[0]===c);return d.size===0&&g.delete(i),_},Vt=(g,i,c,d)=>{Ce(i)?g.disconnect(i.inputs[d],c,0):g.disconnect(i,c,d)},Pt=g=>_e(b,g),mn=g=>_e(O,g),Sn=g=>M.has(g),un=g=>!m.has(g),mr=g=>new Promise(i=>{const c=g.createScriptProcessor(256,1,1),d=g.createGain(),_=g.createBuffer(1,2,44100),E=_.getChannelData(0);E[0]=1,E[1]=1;const A=g.createBufferSource();A.buffer=_,A.loop=!0,A.connect(c).connect(g.destination),A.connect(d),A.disconnect(d),c.onaudioprocess=I=>{const B=I.inputBuffer.getChannelData(0);Array.prototype.some.call(B,G=>G===1)?i(!0):i(!1),A.stop(),c.onaudioprocess=null,A.disconnect(c),c.disconnect(g.destination)},A.start()}),Nr=(g,i)=>{const c=new Map;for(const d of g)for(const _ of d){const E=c.get(_);c.set(_,E===void 0?1:E+1)}c.forEach((d,_)=>i(_,d))},Ln=g=>"context"in g,Jt=(g,i,c,d)=>{const{activeInputs:_,passiveInputs:E}=Ue(i),{outputs:A}=Kt(g),I=Fe(g),B=G=>{const oe=Pt(g),Q=mn(i);if(G){const ue=It(E,g,c);K(_,g,ue,!1),d||Sn(g)||oe.connect(Q,c)}else{const ue=((Z,Ie,ve)=>Xe(Z,ge=>ge[0]===Ie&&ge[1]===ve))(_,g,c);de(E,ue,!1),d||Sn(g)||oe.disconnect(Q,c)}};return!!z(A,[i,c],G=>G[0]===i&&G[1]===c,!0)&&(I.add(B),Mt(g)?K(_,g,[c,B],!0):de(E,[g,c,B],!0),!0)},yr=(g,i,c,d,_)=>{const[E,A]=((I,B,G,oe)=>{const{activeInputs:Q,passiveInputs:ue}=Kt(B),Z=$e(Q[oe],I,G);return Z===null?[Te(ue,I,G,oe)[2],!1]:[Z[2],!0]})(g,c,d,_);if(E!==null&&(mt(g,E),!A||i||Sn(g)||Vt(Pt(g),Pt(c),d,_)),Mt(c)){const{activeInputs:I}=Kt(c);Ge(c,I)}},Ir=(g,i,c,d)=>{const[_,E]=((A,I,B)=>{const{activeInputs:G,passiveInputs:oe}=Ue(I),Q=$e(G,A,B);return Q===null?[It(oe,A,B)[1],!1]:[Q[2],!0]})(g,c,d);_!==null&&(mt(g,_),!E||i||Sn(g)||Pt(g).disconnect(mn(c),d))};class ki{constructor(i){this._map=new Map(i)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(i,c=null){return this._map.forEach((d,_)=>i.call(c,d,_,this))}get(i){return this._map.get(i)}has(i){return this._map.has(i)}keys(){return this._map.keys()}values(){return this._map.values()}}const ei={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function ci(g,i,c,d,_){if(typeof g.copyFromChannel=="function")i[c].byteLength===0&&(i[c]=new Float32Array(128)),g.copyFromChannel(i[c],d,_);else{const E=g.getChannelData(d);if(i[c].byteLength===0)i[c]=E.slice(_,_+128);else{const A=new Float32Array(E.buffer,_*Float32Array.BYTES_PER_ELEMENT,128);i[c].set(A)}}}const ls=(g,i,c,d,_)=>{typeof g.copyToChannel=="function"?i[c].byteLength!==0&&g.copyToChannel(i[c],d,_):i[c].byteLength!==0&&g.getChannelData(d).set(i[c],_)},Zn=(g,i)=>{const c=[];for(let d=0;d<g;d+=1){const _=[],E=typeof i=="number"?i:i[d];for(let A=0;A<E;A+=1)_.push(new Float32Array(128));c.push(_)}return c},us=async(g,i,c,d,_,E,A)=>{const I=i===null?128*Math.ceil(g.context.length/128):i.length,B=d.channelCount*d.numberOfInputs,G=_.reduce((ge,Oe)=>ge+Oe,0),oe=G===0?null:c.createBuffer(G,I,c.sampleRate);if(E===void 0)throw new Error("Missing the processor constructor.");const Q=Kt(g),ue=await((ge,Oe)=>{const ze=_e(R,ge),Be=Pt(Oe);return _e(ze,Be)})(c,g),Z=Zn(d.numberOfInputs,d.channelCount),Ie=Zn(d.numberOfOutputs,_),ve=Array.from(g.parameters.keys()).reduce((ge,Oe)=>({...ge,[Oe]:new Float32Array(128)}),{});for(let ge=0;ge<I;ge+=128){if(d.numberOfInputs>0&&i!==null)for(let Oe=0;Oe<d.numberOfInputs;Oe+=1)for(let ze=0;ze<d.channelCount;ze+=1)ci(i,Z[Oe],ze,ze,ge);E.parameterDescriptors!==void 0&&i!==null&&E.parameterDescriptors.forEach(({name:Oe},ze)=>{ci(i,ve,Oe,B+ze,ge)});for(let Oe=0;Oe<d.numberOfInputs;Oe+=1)for(let ze=0;ze<_[Oe];ze+=1)Ie[Oe][ze].byteLength===0&&(Ie[Oe][ze]=new Float32Array(128));try{const Oe=Z.map((Be,qe)=>Q.activeInputs[qe].size===0?[]:Be),ze=A(ge/c.sampleRate,c.sampleRate,()=>ue.process(Oe,Ie,ve));if(oe!==null)for(let Be=0,qe=0;Be<d.numberOfOutputs;Be+=1){for(let st=0;st<_[Be];st+=1)ls(oe,Ie[Be],st,qe+st,ge);qe+=_[Be]}if(!ze)break}catch(Oe){g.dispatchEvent(new ErrorEvent("processorerror",{colno:Oe.colno,filename:Oe.filename,lineno:Oe.lineno,message:Oe.message}));break}}return oe},Ur={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},di={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Hn={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Es={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ao={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},yi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},zi=(g,i,c)=>{const d=i[c];if(d===void 0)throw g();return d},Cs={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Hi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},lr=()=>new DOMException("","InvalidStateError"),Gr=()=>new DOMException("","InvalidAccessError"),Gs={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},ha=(g,i,c,d,_,E,A,I,B,G,oe)=>{const Q=G.length;let ue=I;for(let Z=0;Z<Q;Z+=1){let Ie=c[0]*G[Z];for(let ve=1;ve<_;ve+=1){const ge=ue-ve&B-1;Ie+=c[ve]*E[ge],Ie-=g[ve]*A[ge]}for(let ve=_;ve<d;ve+=1)Ie+=c[ve]*E[ue-ve&B-1];for(let ve=_;ve<i;ve+=1)Ie-=g[ve]*A[ue-ve&B-1];E[ue]=G[Z],A[ue]=Ie,ue=ue+1&B-1,oe[Z]=Ie}return ue},es={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},hs=g=>{const i=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const c=g.decodeAudioData(i.buffer,()=>{});return c!==void 0&&(c.catch(()=>{}),!0)}catch{}return!1},Nt=(g,i,c)=>{const d=i[c];d!==void 0&&d!==g[c]&&(g[c]=d)},br=(g,i)=>{Nt(g,i,"channelCount"),Nt(g,i,"channelCountMode"),Nt(g,i,"channelInterpretation")},Br=g=>typeof g.getFloatTimeDomainData=="function",$n=(g,i,c)=>{const d=i[c];d!==void 0&&d!==g[c].value&&(g[c].value=d)},co=g=>{var i;g.start=(i=g.start,(c=0,d=0,_)=>{if(typeof _=="number"&&_<0||d<0||c<0)throw new RangeError("The parameters can't be negative.");i.call(g,c,d,_)})},sr=g=>{var i;g.stop=(i=g.stop,(c=0)=>{if(c<0)throw new RangeError("The parameter can't be negative.");i.call(g,c)})},$i=(g,i)=>g===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(g*i))))),Is=async(g,i)=>new g(await(c=>new Promise((d,_)=>{const{port1:E,port2:A}=new MessageChannel;E.onmessage=({data:I})=>{E.close(),A.close(),d(I)},E.onmessageerror=({data:I})=>{E.close(),A.close(),_(I)},A.postMessage(c)}))(i)),Gn=(g,i)=>{const c=g.createBiquadFilter();return br(c,i),$n(c,i,"Q"),$n(c,i,"detune"),$n(c,i,"frequency"),$n(c,i,"gain"),Nt(c,i,"type"),c},Vr=(g,i)=>{const c=g.createChannelSplitter(i.numberOfOutputs);return br(c,i),(d=>{const _=d.numberOfOutputs;Object.defineProperty(d,"channelCount",{get:()=>_,set:E=>{if(E!==_)throw lr()}}),Object.defineProperty(d,"channelCountMode",{get:()=>"explicit",set:E=>{if(E!=="explicit")throw lr()}}),Object.defineProperty(d,"channelInterpretation",{get:()=>"discrete",set:E=>{if(E!=="discrete")throw lr()}})})(c),c},fn=(g,i)=>(g.connect=i.connect.bind(i),g.disconnect=i.disconnect.bind(i),g),$r=(g,i)=>{const c=g.createDelay(i.maxDelayTime);return br(c,i),$n(c,i,"delayTime"),c},_r=(g,i)=>{const c=g.createGain();return br(c,i),$n(c,i,"gain"),c};function Li(g,i){const c=i[0]*i[0]+i[1]*i[1];return[(g[0]*i[0]+g[1]*i[1])/c,(g[1]*i[0]-g[0]*i[1])/c]}function ne(g,i){let c=[0,0];for(let E=g.length-1;E>=0;E-=1)_=i,c=[(d=c)[0]*_[0]-d[1]*_[1],d[0]*_[1]+d[1]*_[0]],c[0]+=g[E];var d,_;return c}const ye=(g,i,c,d)=>g.createScriptProcessor(i,c,d),Ne=()=>new DOMException("","NotSupportedError"),Ze={numberOfChannels:1},te={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},ht={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},vt={disableNormalization:!1},qt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Xt=()=>new DOMException("","UnknownError"),jt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},gt=g=>{if(g===null)return!1;const i=g.length;return i%2!=0?g[Math.floor(i/2)]!==0:g[i/2-1]+g[i/2]!==0},St=(g,i,c,d)=>{let _=Object.getPrototypeOf(g);for(;!_.hasOwnProperty(i);)_=Object.getPrototypeOf(_);const{get:E,set:A}=Object.getOwnPropertyDescriptor(_,i);Object.defineProperty(g,i,{get:c(E),set:d(A)})},L=(g,i,c)=>{try{g.setValueAtTime(i,c)}catch(d){if(d.code!==9)throw d;L(g,i,c+1e-7)}},q=g=>{const i=g.createOscillator();try{i.start(-1)}catch(c){return c instanceof RangeError}return!1},X=g=>{const i=g.createBuffer(1,1,44100),c=g.createBufferSource();c.buffer=i,c.start(),c.stop();try{return c.stop(),!0}catch{return!1}},re=g=>{const i=g.createOscillator();try{i.stop(-1)}catch(c){return c instanceof RangeError}return!1},se=()=>{try{new DOMException}catch{return!1}return!0},Ee=()=>new Promise(g=>{const i=new ArrayBuffer(0),{port1:c,port2:d}=new MessageChannel;c.onmessage=({data:_})=>g(_!==null),d.postMessage(i,[i])}),Me=(g,i)=>{const c=i.createGain();g.connect(c);const d=(_=g.disconnect,()=>{_.call(g,c),g.removeEventListener("ended",d)});var _;g.addEventListener("ended",d),fn(g,c),g.stop=(E=>{let A=!1;return(I=0)=>{if(A)try{E.call(g,I)}catch{c.gain.setValueAtTime(0,I)}else E.call(g,I),A=!0}})(g.stop)},Ve=(g,i)=>c=>{const d={value:g};return Object.defineProperties(c,{currentTarget:d,target:d}),typeof i=="function"?i.call(g,c):i.handleEvent.call(g,c)},tt=(lt=z,(g,i,[c,d,_],E)=>{lt(g[d],[i,c,_],A=>A[0]===i&&A[1]===c,E)});var lt;const Ct=(g=>(i,c,[d,_,E],A)=>{const I=i.get(d);I===void 0?i.set(d,new Set([[_,c,E]])):g(I,[_,c,E],B=>B[0]===_&&B[1]===c,A)})(z),Ft=(g=>(i,c,d,_)=>g(i[_],E=>E[0]===c&&E[1]===d))(Xe),Gt=new WeakMap,Dt=(g=>i=>{var c;return(c=g.get(i))!==null&&c!==void 0?c:0})(Gt),kt=(Ht=new Map,_t=new WeakMap,(g,i)=>{const c=_t.get(g);if(c!==void 0)return c;const d=Ht.get(g);if(d!==void 0)return d;try{const _=i();return _ instanceof Promise?(Ht.set(g,_),_.catch(()=>!1).then(E=>(Ht.delete(g),_t.set(g,E),E))):(_t.set(g,_),_)}catch{return _t.set(g,!1),!1}});var Ht,_t;const nn=typeof window>"u"?null:window,Un=(Cn=kt,Ke=Pe,(g,i)=>{const c=g.createAnalyser();if(br(c,i),!(i.maxDecibels>i.minDecibels))throw Ke();return Nt(c,i,"fftSize"),Nt(c,i,"maxDecibels"),Nt(c,i,"minDecibels"),Nt(c,i,"smoothingTimeConstant"),Cn(Br,()=>Br(c))||(d=>{d.getFloatTimeDomainData=_=>{const E=new Uint8Array(_.length);d.getByteTimeDomainData(E);const A=Math.max(E.length,d.fftSize);for(let I=0;I<A;I+=1)_[I]=.0078125*(E[I]-128);return _}})(c),c});var Cn,Ke;const Fn=(Qr=Kt,g=>{const i=Qr(g);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return i.renderer});var Qr;const an=((g,i,c)=>async(d,_,E,A)=>{const I=g(d),B=[...A,d];await Promise.all(I.activeInputs.map((G,oe)=>Array.from(G).filter(([Q])=>!B.includes(Q)).map(async([Q,ue])=>{const Z=i(Q),Ie=await Z.render(Q,_,B),ve=d.context.destination;c(Q)||d===ve&&c(d)||Ie.connect(E,ue,oe)})).reduce((G,oe)=>[...G,...oe],[]))})(Kt,Fn,Sn),ks=(Os=Un,Ns=Pt,Ia=an,()=>{const g=new WeakMap;return{render(i,c,d){const _=g.get(c);return _!==void 0?Promise.resolve(_):(async(E,A,I)=>{let B=Ns(E);if(!Ae(B,A)){const G={channelCount:B.channelCount,channelCountMode:B.channelCountMode,channelInterpretation:B.channelInterpretation,fftSize:B.fftSize,maxDecibels:B.maxDecibels,minDecibels:B.minDecibels,smoothingTimeConstant:B.smoothingTimeConstant};B=Os(A,G)}return g.set(A,B),await Ia(E,A,B,I),B})(i,c,d)}}});var Os,Ns,Ia;const An=(Hc=T,g=>{const i=Hc.get(g);if(i===void 0)throw lr();return i});var Hc;const ti=(g=>g===null?null:g.hasOwnProperty("OfflineAudioContext")?g.OfflineAudioContext:g.hasOwnProperty("webkitOfflineAudioContext")?g.webkitOfflineAudioContext:null)(nn),ur=(lo=ti,g=>lo!==null&&g instanceof lo);var lo;const La=new WeakMap,da=(Oo=Ve,class{constructor(g){this._nativeEventTarget=g,this._listeners=new WeakMap}addEventListener(g,i,c){if(i!==null){let d=this._listeners.get(i);d===void 0&&(d=Oo(this,i),typeof i=="function"&&this._listeners.set(i,d)),this._nativeEventTarget.addEventListener(g,d,c)}}dispatchEvent(g){return this._nativeEventTarget.dispatchEvent(g)}removeEventListener(g,i,c){const d=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(g,d===void 0?null:d,c)}});var Oo;const No=(g=>g===null?null:g.hasOwnProperty("AudioContext")?g.AudioContext:g.hasOwnProperty("webkitAudioContext")?g.webkitAudioContext:null)(nn),mu=(gu=No,g=>gu!==null&&g instanceof gu);var gu;const vu=(g=>i=>g!==null&&typeof g.AudioNode=="function"&&i instanceof g.AudioNode)(nn),Oi=(g=>i=>g!==null&&typeof g.AudioParam=="function"&&i instanceof g.AudioParam)(nn),kn=((g,i,c,d,_,E,A,I,B,G,oe,Q,ue,Z,Ie)=>class extends G{constructor(ve,ge,Oe,ze){super(Oe),this._context=ve,this._nativeAudioNode=Oe;const Be=oe(ve);Q(Be)&&c(mr,()=>mr(Be))!==!0&&(qe=>{const st=new Map;var Je,ct;qe.connect=(Je=qe.connect.bind(qe),(Ut,dt=0,ft=0)=>{const Ot=Ln(Ut)?Je(Ut,dt,ft):Je(Ut,dt),Zt=st.get(Ut);return Zt===void 0?st.set(Ut,[{input:ft,output:dt}]):Zt.every(Tn=>Tn.input!==ft||Tn.output!==dt)&&Zt.push({input:ft,output:dt}),Ot}),qe.disconnect=(ct=qe.disconnect,(Ut,dt,ft)=>{if(ct.apply(qe),Ut===void 0)st.clear();else if(typeof Ut=="number")for(const[Ot,Zt]of st){const Tn=Zt.filter(gr=>gr.output!==Ut);Tn.length===0?st.delete(Ot):st.set(Ot,Tn)}else if(st.has(Ut))if(dt===void 0)st.delete(Ut);else{const Ot=st.get(Ut);if(Ot!==void 0){const Zt=Ot.filter(Tn=>Tn.output!==dt&&(Tn.input!==ft||ft===void 0));Zt.length===0?st.delete(Ut):st.set(Ut,Zt)}}for(const[Ot,Zt]of st)Zt.forEach(Tn=>{Ln(Ot)?qe.connect(Ot,Tn.output,Tn.input):qe.connect(Ot,Tn.output)})})})(Oe),b.set(this,Oe),D.set(this,new Set),ve.state!=="closed"&&ge&&je(this),g(this,ze,Oe)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(ve){this._nativeAudioNode.channelCount=ve}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(ve){this._nativeAudioNode.channelCountMode=ve}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(ve){this._nativeAudioNode.channelInterpretation=ve}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(ve,ge=0,Oe=0){if(ge<0||ge>=this._nativeAudioNode.numberOfOutputs)throw _();const ze=oe(this._context),Be=Ie(ze);if(ue(ve)||Z(ve))throw E();if(W(ve)){const st=Pt(ve);try{const Je=fe(this._nativeAudioNode,st,ge,Oe),ct=un(this);(Be||ct)&&this._nativeAudioNode.disconnect(...Je),this.context.state!=="closed"&&!ct&&un(ve)&&je(ve)}catch(Je){throw Je.code===12?E():Je}if(i(this,ve,ge,Oe,Be)){const Je=B([this],ve);Nr(Je,d(Be))}return ve}const qe=mn(ve);if(qe.name==="playbackRate")throw A();try{this._nativeAudioNode.connect(qe,ge),(Be||un(this))&&this._nativeAudioNode.disconnect(qe,ge)}catch(st){throw st.code===12?E():st}if(Jt(this,ve,ge,Be)){const st=B([this],ve);Nr(st,d(Be))}}disconnect(ve,ge,Oe){let ze;const Be=oe(this._context),qe=Ie(Be);if(ve===void 0)ze=((st,Je)=>{const ct=Kt(st),Ut=[];for(const dt of ct.outputs)le(dt)?yr(st,Je,...dt):Ir(st,Je,...dt),Ut.push(dt[0]);return ct.outputs.clear(),Ut})(this,qe);else if(typeof ve=="number"){if(ve<0||ve>=this.numberOfOutputs)throw _();ze=((st,Je,ct)=>{const Ut=Kt(st),dt=[];for(const ft of Ut.outputs)ft[1]===ct&&(le(ft)?yr(st,Je,...ft):Ir(st,Je,...ft),dt.push(ft[0]),Ut.outputs.delete(ft));return dt})(this,qe,ve)}else{if(ge!==void 0&&(ge<0||ge>=this.numberOfOutputs)||W(ve)&&Oe!==void 0&&(Oe<0||Oe>=ve.numberOfInputs))throw _();if(ze=((st,Je,ct,Ut,dt)=>{const ft=Kt(st);return Array.from(ft.outputs).filter(Ot=>!(Ot[0]!==ct||Ut!==void 0&&Ot[1]!==Ut||dt!==void 0&&Ot[2]!==dt)).map(Ot=>(le(Ot)?yr(st,Je,...Ot):Ir(st,Je,...Ot),ft.outputs.delete(Ot),Ot[0]))})(this,qe,ve,ge,Oe),ze.length===0)throw E()}for(const st of ze){const Je=B([this],st);Nr(Je,I)}}})((Lr=v,(g,i,c)=>{const d=[];for(let _=0;_<c.numberOfInputs;_+=1)d.push(new Set);Lr.set(g,{activeInputs:d,outputs:new Set,passiveInputs:new WeakMap,renderer:i})}),((g,i,c,d,_,E,A,I,B,G,oe,Q,ue)=>(Z,Ie,ve,ge,Oe)=>{const{activeInputs:ze,passiveInputs:Be}=E(Ie),{outputs:qe}=E(Z),st=I(Z),Je=ct=>{const Ut=B(Ie),dt=B(Z);if(ct){const ft=Te(Be,Z,ve,ge);g(ze,Z,ft,!1),Oe||Q(Z)||c(dt,Ut,ve,ge),ue(Ie)&&je(Ie)}else{const ft=d(ze,Z,ve,ge);i(Be,ge,ft,!1),Oe||Q(Z)||_(dt,Ut,ve,ge);const Ot=A(Ie);Ot===0?oe(Ie)&&Ge(Ie,ze):setTimeout(()=>{oe(Ie)&&Ge(Ie,ze)},1e3*Ot)}};return!!G(qe,[Ie,ve,ge],ct=>ct[0]===Ie&&ct[1]===ve&&ct[2]===ge,!0)&&(st.add(Je),oe(Z)?g(ze,Z,[ve,ge,Je],!0):i(Be,ge,[Z,ve,Je],!0),!0)})(tt,Ct,fe,Ft,Vt,Kt,Dt,Fe,Pt,z,Mt,Sn,un),kt,((g,i,c,d,_,E)=>A=>(I,B)=>{const G=g.get(I);if(G===void 0){if(!A&&E(I)){const oe=d(I),{outputs:Q}=c(I);for(const ue of Q)if(le(ue)){const Z=d(ue[0]);i(oe,Z,ue[1],ue[2])}else{const Z=_(ue[0]);oe.disconnect(Z,ue[1])}}g.set(I,B)}else g.set(I,G+B)})(M,Vt,Kt,Pt,mn,Mt),Pe,Gr,Ne,((g,i,c,d,_,E,A,I)=>(B,G)=>{const oe=i.get(B);if(oe===void 0)throw new Error("Missing the expected cycle count.");const Q=E(B.context),ue=I(Q);if(oe===G){if(i.delete(B),!ue&&A(B)){const Z=d(B),{outputs:Ie}=c(B);for(const ve of Ie)if(le(ve)){const ge=d(ve[0]);g(Z,ge,ve[1],ve[2])}else{const ge=_(ve[0]);Z.connect(ge,ve[1])}}}else i.set(B,oe-G)})(fe,M,Kt,Pt,mn,An,Mt,ur),((g,i,c)=>function d(_,E){const A=W(E)?E:c(g,E);if((B=>"delayTime"in B)(A))return[];if(_[0]===A)return[_];if(_.includes(A))return[];const{outputs:I}=i(A);return Array.from(I).map(B=>d([..._,A],B[0])).reduce((B,G)=>B.concat(G),[])})(La,Kt,_e),da,An,mu,vu,Oi,ur);var Lr;const Yd=((g,i,c,d,_,E)=>class extends g{constructor(A,I){const B=_(A),G={...We,...I},oe=d(B,G);super(A,!1,oe,E(B)?i():null),this._nativeAnalyserNode=oe}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(A){this._nativeAnalyserNode.fftSize=A}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(A){const I=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=A,!(A>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=I,c()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(A){const I=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=A,!(this._nativeAnalyserNode.maxDecibels>A))throw this._nativeAnalyserNode.minDecibels=I,c()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(A){this._nativeAnalyserNode.smoothingTimeConstant=A}getByteFrequencyData(A){this._nativeAnalyserNode.getByteFrequencyData(A)}getByteTimeDomainData(A){this._nativeAnalyserNode.getByteTimeDomainData(A)}getFloatFrequencyData(A){this._nativeAnalyserNode.getFloatFrequencyData(A)}getFloatTimeDomainData(A){this._nativeAnalyserNode.getFloatTimeDomainData(A)}})(kn,ks,Pe,Un,An,ur),Ys=new WeakSet,gl=(g=>g===null?null:g.hasOwnProperty("AudioBuffer")?g.AudioBuffer:null)(nn),Nh=($c=new Uint32Array(1),g=>($c[0]=g,$c[0]));var $c;const vl=((g,i)=>c=>{c.copyFromChannel=(d,_,E=0)=>{const A=g(E),I=g(_);if(I>=c.numberOfChannels)throw i();const B=c.length,G=c.getChannelData(I),oe=d.length;for(let Q=A<0?-A:0;Q+A<B&&Q<oe;Q+=1)d[Q]=G[Q+A]},c.copyToChannel=(d,_,E=0)=>{const A=g(E),I=g(_);if(I>=c.numberOfChannels)throw i();const B=c.length,G=c.getChannelData(I),oe=d.length;for(let Q=A<0?-A:0;Q+A<B&&Q<oe;Q+=1)G[Q+A]=d[Q]}})(Nh,Pe),yl=(g=>i=>{i.copyFromChannel=(c=>(d,_,E=0)=>{const A=g(E),I=g(_);if(A<i.length)return c.call(i,d,I,A)})(i.copyFromChannel),i.copyToChannel=(c=>(d,_,E=0)=>{const A=g(E),I=g(_);if(A<i.length)return c.call(i,d,I,A)})(i.copyToChannel)})(Nh),Qd=((g,i,c,d,_,E,A,I)=>{let B=null;return class cN{constructor(oe){if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:Q,numberOfChannels:ue,sampleRate:Z}={...it,...oe};B===null&&(B=new _(1,1,44100));const Ie=d!==null&&i(E,E)?new d({length:Q,numberOfChannels:ue,sampleRate:Z}):B.createBuffer(ue,Q,Z);if(Ie.numberOfChannels===0)throw c();return typeof Ie.copyFromChannel!="function"?(A(Ie),Ye(Ie)):i(pe,()=>pe(Ie))||I(Ie),g.add(Ie),Ie}static[Symbol.hasInstance](oe){return oe!==null&&typeof oe=="object"&&Object.getPrototypeOf(oe)===cN.prototype||g.has(oe)}}})(Ys,kt,Ne,gl,ti,(ni=gl,()=>{if(ni===null)return!1;try{new ni({length:1,sampleRate:44100})}catch{return!1}return!0}),vl,yl);var ni;const Fa=(uo=_r,(g,i)=>{const c=uo(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.connect(c).connect(g.destination);const d=()=>{i.removeEventListener("ended",d),i.disconnect(c),c.disconnect()};i.addEventListener("ended",d)});var uo;const Ar=((g,i,c)=>async(d,_,E,A)=>{const I=i(d);await Promise.all(Array.from(I.activeInputs).map(async([B,G])=>{const oe=g(B),Q=await oe.render(B,_,A);c(B)||Q.connect(E,G)}))})(Fn,Ue,Sn),Fi=(g=>(i,c,d,_)=>g(c,i,d,_))(Ar),Fr=((g,i,c,d,_,E,A,I,B,G,oe)=>(Q,ue)=>{const Z=Q.createBufferSource();return br(Z,ue),$n(Z,ue,"playbackRate"),Nt(Z,ue,"buffer"),Nt(Z,ue,"loop"),Nt(Z,ue,"loopEnd"),Nt(Z,ue,"loopStart"),i(c,()=>c(Q))||(Ie=>{Ie.start=(ve=>{let ge=!1;return(Oe=0,ze=0,Be)=>{if(ge)throw lr();ve.call(Ie,Oe,ze,Be),ge=!0}})(Ie.start)})(Z),i(d,()=>d(Q))||B(Z),i(_,()=>_(Q))||G(Z,Q),i(E,()=>E(Q))||co(Z),i(A,()=>A(Q))||oe(Z,Q),i(I,()=>I(Q))||sr(Z),g(Q,Z),Z})(Fa,kt,g=>{const i=g.createBufferSource();i.start();try{i.start()}catch{return!0}return!1},g=>{const i=g.createBufferSource(),c=g.createBuffer(1,1,44100);i.buffer=c;try{i.start(0,1)}catch{return!1}return!0},g=>{const i=g.createBufferSource();i.start();try{i.stop()}catch{return!1}return!0},q,X,re,g=>{var i;g.start=(i=g.start,(c=0,d=0,_)=>{const E=g.buffer,A=E===null?d:Math.min(E.duration,d);E!==null&&A>E.duration-.5/g.context.sampleRate?i.call(g,c,0,0):i.call(g,c,A,_)})},(_l=St,(g,i)=>{const c=i.createBuffer(1,1,44100);g.buffer===null&&(g.buffer=c),_l(g,"buffer",d=>()=>{const _=d.call(g);return _===c?null:_},d=>_=>d.call(g,_===null?c:_))}),Me);var _l;const Ls=((g,i)=>(c,d,_,E)=>(g(d).replay(_),i(d,c,_,E)))((g=>i=>{const c=g(i);if(c.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return c.renderer})(Ue),Ar),yu=((g,i,c,d,_)=>()=>{const E=new WeakMap;let A=null,I=null;return{set start(B){A=B},set stop(B){I=B},render(B,G,oe){const Q=E.get(G);return Q!==void 0?Promise.resolve(Q):(async(ue,Z,Ie)=>{let ve=c(ue);const ge=Ae(ve,Z);if(!ge){const Oe={buffer:ve.buffer,channelCount:ve.channelCount,channelCountMode:ve.channelCountMode,channelInterpretation:ve.channelInterpretation,loop:ve.loop,loopEnd:ve.loopEnd,loopStart:ve.loopStart,playbackRate:ve.playbackRate.value};ve=i(Z,Oe),A!==null&&ve.start(...A),I!==null&&ve.stop(I)}return E.set(Z,ve),ge?await g(Z,ue.playbackRate,ve.playbackRate,Ie):await d(Z,ue.playbackRate,ve.playbackRate,Ie),await _(ue,Z,ve,Ie),ve})(B,G,oe)}}})(Fi,Fr,Pt,Ls,an),Qs=((g,i,c,d,_,E,A,I,B,G,oe,Q,ue)=>(Z,Ie,ve,ge=null,Oe=null)=>{const ze=new f.AutomationEventList(ve.defaultValue),Be=Ie?d(ze):null,qe={get defaultValue(){return ve.defaultValue},get maxValue(){return ge===null?ve.maxValue:ge},get minValue(){return Oe===null?ve.minValue:Oe},get value(){return ve.value},set value(st){ve.value=st,qe.setValueAtTime(st,Z.context.currentTime)},cancelAndHoldAtTime(st){if(typeof ve.cancelAndHoldAtTime=="function")Be===null&&ze.flush(Z.context.currentTime),ze.add(_(st)),ve.cancelAndHoldAtTime(st);else{const Je=Array.from(ze).pop();Be===null&&ze.flush(Z.context.currentTime),ze.add(_(st));const ct=Array.from(ze).pop();ve.cancelScheduledValues(st),Je!==ct&&ct!==void 0&&(ct.type==="exponentialRampToValue"?ve.exponentialRampToValueAtTime(ct.value,ct.endTime):ct.type==="linearRampToValue"?ve.linearRampToValueAtTime(ct.value,ct.endTime):ct.type==="setValue"?ve.setValueAtTime(ct.value,ct.startTime):ct.type==="setValueCurve"&&ve.setValueCurveAtTime(ct.values,ct.startTime,ct.duration))}return qe},cancelScheduledValues:st=>(Be===null&&ze.flush(Z.context.currentTime),ze.add(E(st)),ve.cancelScheduledValues(st),qe),exponentialRampToValueAtTime(st,Je){if(st===0)throw new RangeError;if(!Number.isFinite(Je)||Je<0)throw new RangeError;return Be===null&&ze.flush(Z.context.currentTime),ze.add(A(st,Je)),ve.exponentialRampToValueAtTime(st,Je),qe},linearRampToValueAtTime:(st,Je)=>(Be===null&&ze.flush(Z.context.currentTime),ze.add(I(st,Je)),ve.linearRampToValueAtTime(st,Je),qe),setTargetAtTime:(st,Je,ct)=>(Be===null&&ze.flush(Z.context.currentTime),ze.add(B(st,Je,ct)),ve.setTargetAtTime(st,Je,ct),qe),setValueAtTime:(st,Je)=>(Be===null&&ze.flush(Z.context.currentTime),ze.add(G(st,Je)),ve.setValueAtTime(st,Je),qe),setValueCurveAtTime(st,Je,ct){const Ut=st instanceof Float32Array?st:new Float32Array(st);if(Q!==null&&Q.name==="webkitAudioContext"){const dt=Je+ct,ft=Z.context.sampleRate,Ot=Math.ceil(Je*ft),Zt=Math.floor(dt*ft),Tn=Zt-Ot,gr=new Float32Array(Tn);for(let qn=0;qn<Tn;qn+=1){const or=(Ut.length-1)/ct*((Ot+qn)/ft-Je),Dn=Math.floor(or),Kn=Math.ceil(or);gr[qn]=Dn===Kn?Ut[Dn]:(1-(or-Dn))*Ut[Dn]+(1-(Kn-or))*Ut[Kn]}Be===null&&ze.flush(Z.context.currentTime),ze.add(oe(gr,Je,ct)),ve.setValueCurveAtTime(gr,Je,ct);const wn=Zt/ft;wn<dt&&ue(qe,gr[gr.length-1],wn),ue(qe,Ut[Ut.length-1],dt)}else Be===null&&ze.flush(Z.context.currentTime),ze.add(oe(Ut,Je,ct)),ve.setValueCurveAtTime(Ut,Je,ct);return qe}};return c.set(qe,ve),i.set(qe,Z),g(qe,Be),qe})((ja=x,(g,i)=>{ja.set(g,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:i})}),La,O,g=>({replay(i){for(const c of g)if(c.type==="exponentialRampToValue"){const{endTime:d,value:_}=c;i.exponentialRampToValueAtTime(_,d)}else if(c.type==="linearRampToValue"){const{endTime:d,value:_}=c;i.linearRampToValueAtTime(_,d)}else if(c.type==="setTarget"){const{startTime:d,target:_,timeConstant:E}=c;i.setTargetAtTime(_,d,E)}else if(c.type==="setValue"){const{startTime:d,value:_}=c;i.setValueAtTime(_,d)}else{if(c.type!=="setValueCurve")throw new Error("Can't apply an unknown automation.");{const{duration:d,startTime:_,values:E}=c;i.setValueCurveAtTime(E,_,d)}}}}),f.createCancelAndHoldAutomationEvent,f.createCancelScheduledValuesAutomationEvent,f.createExponentialRampToValueAutomationEvent,f.createLinearRampToValueAutomationEvent,f.createSetTargetAutomationEvent,f.createSetValueAutomationEvent,f.createSetValueCurveAutomationEvent,No,L);var ja;const Ks=((g,i,c,d,_,E,A,I)=>class extends g{constructor(B,G){const oe=E(B),Q={...rt,...G},ue=_(oe,Q),Z=A(oe),Ie=Z?i():null;super(B,!1,ue,Ie),this._audioBufferSourceNodeRenderer=Ie,this._isBufferNullified=!1,this._isBufferSet=Q.buffer!==null,this._nativeAudioBufferSourceNode=ue,this._onended=null,this._playbackRate=c(this,Z,ue.playbackRate,bt,Qe)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(B){if(this._nativeAudioBufferSourceNode.buffer=B,B!==null){if(this._isBufferSet)throw d();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(B){this._nativeAudioBufferSourceNode.loop=B}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(B){this._nativeAudioBufferSourceNode.loopEnd=B}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(B){this._nativeAudioBufferSourceNode.loopStart=B}get onended(){return this._onended}set onended(B){const G=typeof B=="function"?I(this,B):null;this._nativeAudioBufferSourceNode.onended=G;const oe=this._nativeAudioBufferSourceNode.onended;this._onended=oe!==null&&oe===G?B:oe}get playbackRate(){return this._playbackRate}start(B=0,G=0,oe){if(this._nativeAudioBufferSourceNode.start(B,G,oe),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=oe===void 0?[B,G]:[B,G,oe]),this.context.state!=="closed"){je(this);const Q=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",Q),Mt(this)&&ut(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",Q)}}stop(B=0){this._nativeAudioBufferSourceNode.stop(B),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=B)}})(kn,yu,Qs,lr,Fr,An,ur,Ve),ts=((g,i,c,d,_,E,A,I)=>class extends g{constructor(B,G){const oe=E(B),Q=A(oe),ue=_(oe,G,Q);super(B,!1,ue,Q?i(I):null),this._isNodeOfNativeOfflineAudioContext=Q,this._nativeAudioDestinationNode=ue}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(B){if(this._isNodeOfNativeOfflineAudioContext)throw d();if(B>this._nativeAudioDestinationNode.maxChannelCount)throw c();this._nativeAudioDestinationNode.channelCount=B}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(B){if(this._isNodeOfNativeOfflineAudioContext)throw d();this._nativeAudioDestinationNode.channelCountMode=B}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(kn,g=>{let i=null;return{render:(c,d,_)=>(i===null&&(i=(async(E,A,I)=>{const B=A.destination;return await g(E,A,B,I),B})(c,d,_)),i)}},Pe,lr,((g,i)=>(c,d,_)=>{const E=c.destination;if(E.channelCount!==d)try{E.channelCount=d}catch{}_&&E.channelCountMode!=="explicit"&&(E.channelCountMode="explicit"),E.maxChannelCount===0&&Object.defineProperty(E,"maxChannelCount",{value:d});const A=g(c,{channelCount:d,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1});return i(A,"channelCount",I=>()=>I.call(A),I=>B=>{I.call(A,B);try{E.channelCount=B}catch(G){if(B>E.maxChannelCount)throw G}}),i(A,"channelCountMode",I=>()=>I.call(A),I=>B=>{I.call(A,B),E.channelCountMode=B}),i(A,"channelInterpretation",I=>()=>I.call(A),I=>B=>{I.call(A,B),E.channelInterpretation=B}),Object.defineProperty(A,"maxChannelCount",{get:()=>E.maxChannelCount}),A.connect(E),A})(_r,St),An,ur,an),_u=((g,i,c,d,_)=>()=>{const E=new WeakMap;return{render(A,I,B){const G=E.get(I);return G!==void 0?Promise.resolve(G):(async(oe,Q,ue)=>{let Z=c(oe);const Ie=Ae(Z,Q);if(!Ie){const ve={Q:Z.Q.value,channelCount:Z.channelCount,channelCountMode:Z.channelCountMode,channelInterpretation:Z.channelInterpretation,detune:Z.detune.value,frequency:Z.frequency.value,gain:Z.gain.value,type:Z.type};Z=i(Q,ve)}return E.set(Q,Z),Ie?(await g(Q,oe.Q,Z.Q,ue),await g(Q,oe.detune,Z.detune,ue),await g(Q,oe.frequency,Z.frequency,ue),await g(Q,oe.gain,Z.gain,ue)):(await d(Q,oe.Q,Z.Q,ue),await d(Q,oe.detune,Z.detune,ue),await d(Q,oe.frequency,Z.frequency,ue),await d(Q,oe.gain,Z.gain,ue)),await _(oe,Q,Z,ue),Z})(A,I,B)}}})(Fi,Gn,Pt,Ls,an),qr=(g=>(i,c)=>g.set(i,c))(Gt),Ah=(qc=kn,Fs=Qs,Wc=_u,nt=Gr,He=Gn,Tt=An,rn=ur,Rn=qr,class extends qc{constructor(g,i){const c=Tt(g),d={...Ur,...i},_=He(c,d),E=rn(c);super(g,!1,_,E?Wc():null),this._Q=Fs(this,E,_.Q,bt,Qe),this._detune=Fs(this,E,_.detune,1200*Math.log2(bt),-1200*Math.log2(bt)),this._frequency=Fs(this,E,_.frequency,g.sampleRate/2,0),this._gain=Fs(this,E,_.gain,40*Math.log10(bt),Qe),this._nativeBiquadFilterNode=_,Rn(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(g){this._nativeBiquadFilterNode.type=g}getFrequencyResponse(g,i,c){try{this._nativeBiquadFilterNode.getFrequencyResponse(g,i,c)}catch(d){throw d.code===11?nt():d}if(g.length!==i.length||i.length!==c.length)throw nt()}});var qc,Fs,Wc,nt,He,Tt,rn,Rn;const gn=((g,i)=>(c,d,_)=>{const E=new Set;var A,I;return c.connect=(A=c.connect,(B,G=0,oe=0)=>{const Q=E.size===0;if(i(B))return A.call(c,B,G,oe),g(E,[B,G,oe],ue=>ue[0]===B&&ue[1]===G&&ue[2]===oe,!0),Q&&d(),B;A.call(c,B,G),g(E,[B,G],ue=>ue[0]===B&&ue[1]===G,!0),Q&&d()}),c.disconnect=(I=c.disconnect,(B,G,oe)=>{const Q=E.size>0;if(B===void 0)I.apply(c),E.clear();else if(typeof B=="number"){I.call(c,B);for(const Z of E)Z[1]===B&&E.delete(Z)}else{i(B)?I.call(c,B,G,oe):I.call(c,B,G);for(const Z of E)Z[0]!==B||G!==void 0&&Z[1]!==G||oe!==void 0&&Z[2]!==oe||E.delete(Z)}const ue=E.size===0;Q&&ue&&_()}),c})(z,vu),Mn=(xn=lr,dn=gn,(g,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw xn()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw xn()}});const c=g.createBufferSource();dn(i,()=>{const d=i.numberOfInputs;for(let _=0;_<d;_+=1)c.connect(i,0,_)},()=>c.disconnect(i))});var xn,dn;const nr=((g,i)=>(c,d)=>{const _=c.createChannelMerger(d.numberOfInputs);return g!==null&&g.name==="webkitAudioContext"&&i(c,_),br(_,d),_})(No,Mn),_i=((g,i,c,d,_)=>class extends g{constructor(E,A){const I=d(E),B={...di,...A};super(E,!1,c(I,B),_(I)?i():null)}})(kn,((g,i,c)=>()=>{const d=new WeakMap;return{render(_,E,A){const I=d.get(E);return I!==void 0?Promise.resolve(I):(async(B,G,oe)=>{let Q=i(B);if(!Ae(Q,G)){const ue={channelCount:Q.channelCount,channelCountMode:Q.channelCountMode,channelInterpretation:Q.channelInterpretation,numberOfInputs:Q.numberOfInputs};Q=g(G,ue)}return d.set(G,Q),await c(B,G,Q,oe),Q})(_,E,A)}}})(nr,Pt,an),nr,An,ur),hr=((g,i,c,d,_,E)=>class extends g{constructor(A,I){const B=d(A),G=E({...Hn,...I});super(A,!1,c(B,G),_(B)?i():null)}})(kn,((g,i,c)=>()=>{const d=new WeakMap;return{render(_,E,A){const I=d.get(E);return I!==void 0?Promise.resolve(I):(async(B,G,oe)=>{let Q=i(B);if(!Ae(Q,G)){const ue={channelCount:Q.channelCount,channelCountMode:Q.channelCountMode,channelInterpretation:Q.channelInterpretation,numberOfOutputs:Q.numberOfOutputs};Q=g(G,ue)}return d.set(G,Q),await c(B,G,Q,oe),Q})(_,E,A)}}})(Vr,Pt,an),Vr,An,ur,g=>({...g,channelCount:g.numberOfOutputs})),li=((g,i,c,d)=>(_,{offset:E,...A})=>{const I=_.createBuffer(1,2,44100),B=i(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),G=c(_,{...A,gain:E}),oe=I.getChannelData(0);oe[0]=1,oe[1]=1,B.buffer=I,B.loop=!0;const Q={get bufferSize(){},get channelCount(){return G.channelCount},set channelCount(ue){G.channelCount=ue},get channelCountMode(){return G.channelCountMode},set channelCountMode(ue){G.channelCountMode=ue},get channelInterpretation(){return G.channelInterpretation},set channelInterpretation(ue){G.channelInterpretation=ue},get context(){return G.context},get inputs(){return[]},get numberOfInputs(){return B.numberOfInputs},get numberOfOutputs(){return G.numberOfOutputs},get offset(){return G.gain},get onended(){return B.onended},set onended(ue){B.onended=ue},addEventListener:(...ue)=>B.addEventListener(ue[0],ue[1],ue[2]),dispatchEvent:(...ue)=>B.dispatchEvent(ue[0]),removeEventListener:(...ue)=>B.removeEventListener(ue[0],ue[1],ue[2]),start(ue=0){B.start.call(B,ue)},stop(ue=0){B.stop.call(B,ue)}};return g(_,B),d(fn(Q,G),()=>B.connect(G),()=>B.disconnect(G))})(Fa,Fr,_r,gn),Kr=((g,i,c,d,_)=>(E,A)=>{if(E.createConstantSource===void 0)return c(E,A);const I=E.createConstantSource();return br(I,A),$n(I,A,"offset"),i(d,()=>d(E))||co(I),i(_,()=>_(E))||sr(I),g(E,I),I})(Fa,kt,li,q,re),js=((g,i,c,d,_,E,A)=>class extends g{constructor(I,B){const G=_(I),oe={...Es,...B},Q=d(G,oe),ue=E(G),Z=ue?c():null;super(I,!1,Q,Z),this._constantSourceNodeRenderer=Z,this._nativeConstantSourceNode=Q,this._offset=i(this,ue,Q.offset,bt,Qe),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(I){const B=typeof I=="function"?A(this,I):null;this._nativeConstantSourceNode.onended=B;const G=this._nativeConstantSourceNode.onended;this._onended=G!==null&&G===B?I:G}start(I=0){if(this._nativeConstantSourceNode.start(I),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=I),this.context.state!=="closed"){je(this);const B=()=>{this._nativeConstantSourceNode.removeEventListener("ended",B),Mt(this)&&ut(this)};this._nativeConstantSourceNode.addEventListener("ended",B)}}stop(I=0){this._nativeConstantSourceNode.stop(I),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=I)}})(kn,Qs,((g,i,c,d,_)=>()=>{const E=new WeakMap;let A=null,I=null;return{set start(B){A=B},set stop(B){I=B},render(B,G,oe){const Q=E.get(G);return Q!==void 0?Promise.resolve(Q):(async(ue,Z,Ie)=>{let ve=c(ue);const ge=Ae(ve,Z);if(!ge){const Oe={channelCount:ve.channelCount,channelCountMode:ve.channelCountMode,channelInterpretation:ve.channelInterpretation,offset:ve.offset.value};ve=i(Z,Oe),A!==null&&ve.start(A),I!==null&&ve.stop(I)}return E.set(Z,ve),ge?await g(Z,ue.offset,ve.offset,Ie):await d(Z,ue.offset,ve.offset,Ie),await _(ue,Z,ve,Ie),ve})(B,G,oe)}}})(Fi,Kr,Pt,Ls,an),Kr,An,ur,Ve),Ao=((g,i)=>(c,d)=>{const _=c.createConvolver();if(br(_,d),d.disableNormalization===_.normalize&&(_.normalize=!d.disableNormalization),Nt(_,d,"buffer"),d.channelCount>2||(i(_,"channelCount",E=>()=>E.call(_),E=>A=>{if(A>2)throw g();return E.call(_,A)}),d.channelCountMode==="max"))throw g();return i(_,"channelCountMode",E=>()=>E.call(_),E=>A=>{if(A==="max")throw g();return E.call(_,A)}),_})(Ne,St),Zo=((g,i,c,d,_,E)=>class extends g{constructor(A,I){const B=d(A),G={...ao,...I},oe=c(B,G);super(A,!1,oe,_(B)?i():null),this._isBufferNullified=!1,this._nativeConvolverNode=oe,G.buffer!==null&&E(this,G.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(A){if(this._nativeConvolverNode.buffer=A,A===null&&this._nativeConvolverNode.buffer!==null){const I=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=I.createBuffer(1,1,44100),this._isBufferNullified=!0,E(this,0)}else this._isBufferNullified=!1,E(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(A){this._nativeConvolverNode.normalize=A}})(kn,((g,i,c)=>()=>{const d=new WeakMap;return{render(_,E,A){const I=d.get(E);return I!==void 0?Promise.resolve(I):(async(B,G,oe)=>{let Q=i(B);if(!Ae(Q,G)){const ue={buffer:Q.buffer,channelCount:Q.channelCount,channelCountMode:Q.channelCountMode,channelInterpretation:Q.channelInterpretation,disableNormalization:!Q.normalize};Q=g(G,ue)}return d.set(G,Q),Ce(Q)?await c(B,G,Q.inputs[0],oe):await c(B,G,Q,oe),Q})(_,E,A)}}})(Ao,Pt,an),Ao,An,ur,qr),wl=((g,i,c,d,_,E,A)=>class extends g{constructor(I,B){const G=_(I),oe={...yi,...B},Q=d(G,oe),ue=E(G);super(I,!1,Q,ue?c(oe.maxDelayTime):null),this._delayTime=i(this,ue,Q.delayTime),A(this,oe.maxDelayTime)}get delayTime(){return this._delayTime}})(kn,Qs,((g,i,c,d,_)=>E=>{const A=new WeakMap;return{render(I,B,G){const oe=A.get(B);return oe!==void 0?Promise.resolve(oe):(async(Q,ue,Z)=>{let Ie=c(Q);const ve=Ae(Ie,ue);if(!ve){const ge={channelCount:Ie.channelCount,channelCountMode:Ie.channelCountMode,channelInterpretation:Ie.channelInterpretation,delayTime:Ie.delayTime.value,maxDelayTime:E};Ie=i(ue,ge)}return A.set(ue,Ie),ve?await g(ue,Q.delayTime,Ie.delayTime,Z):await d(ue,Q.delayTime,Ie.delayTime,Z),await _(Q,ue,Ie,Z),Ie})(I,B,G)}}})(Fi,$r,Pt,Ls,an),$r,An,ur,qr),Xs=(Us=Ne,(g,i)=>{const c=g.createDynamicsCompressor();if(br(c,i),i.channelCount>2||i.channelCountMode==="max")throw Us();return $n(c,i,"attack"),$n(c,i,"knee"),$n(c,i,"ratio"),$n(c,i,"release"),$n(c,i,"threshold"),c});var Us;const uc=((g,i,c,d,_,E,A,I)=>class extends g{constructor(B,G){const oe=E(B),Q={...Cs,...G},ue=d(oe,Q),Z=A(oe);super(B,!1,ue,Z?c():null),this._attack=i(this,Z,ue.attack),this._knee=i(this,Z,ue.knee),this._nativeDynamicsCompressorNode=ue,this._ratio=i(this,Z,ue.ratio),this._release=i(this,Z,ue.release),this._threshold=i(this,Z,ue.threshold),I(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(B){const G=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=B,B>2)throw this._nativeDynamicsCompressorNode.channelCount=G,_()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(B){const G=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=B,B==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=G,_()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(kn,Qs,((g,i,c,d,_)=>()=>{const E=new WeakMap;return{render(A,I,B){const G=E.get(I);return G!==void 0?Promise.resolve(G):(async(oe,Q,ue)=>{let Z=c(oe);const Ie=Ae(Z,Q);if(!Ie){const ve={attack:Z.attack.value,channelCount:Z.channelCount,channelCountMode:Z.channelCountMode,channelInterpretation:Z.channelInterpretation,knee:Z.knee.value,ratio:Z.ratio.value,release:Z.release.value,threshold:Z.threshold.value};Z=i(Q,ve)}return E.set(Q,Z),Ie?(await g(Q,oe.attack,Z.attack,ue),await g(Q,oe.knee,Z.knee,ue),await g(Q,oe.ratio,Z.ratio,ue),await g(Q,oe.release,Z.release,ue),await g(Q,oe.threshold,Z.threshold,ue)):(await d(Q,oe.attack,Z.attack,ue),await d(Q,oe.knee,Z.knee,ue),await d(Q,oe.ratio,Z.ratio,ue),await d(Q,oe.release,Z.release,ue),await d(Q,oe.threshold,Z.threshold,ue)),await _(oe,Q,Z,ue),Z})(A,I,B)}}})(Fi,Xs,Pt,Ls,an),Xs,Ne,An,ur,qr),wu=((g,i,c,d,_,E)=>class extends g{constructor(A,I){const B=_(A),G={...Hi,...I},oe=d(B,G),Q=E(B);super(A,!1,oe,Q?c():null),this._gain=i(this,Q,oe.gain,bt,Qe)}get gain(){return this._gain}})(kn,Qs,((g,i,c,d,_)=>()=>{const E=new WeakMap;return{render(A,I,B){const G=E.get(I);return G!==void 0?Promise.resolve(G):(async(oe,Q,ue)=>{let Z=c(oe);const Ie=Ae(Z,Q);if(!Ie){const ve={channelCount:Z.channelCount,channelCountMode:Z.channelCountMode,channelInterpretation:Z.channelInterpretation,gain:Z.gain.value};Z=i(Q,ve)}return E.set(Q,Z),Ie?await g(Q,oe.gain,Z.gain,ue):await d(Q,oe.gain,Z.gain,ue),await _(oe,Q,Z,ue),Z})(A,I,B)}}})(Fi,_r,Pt,Ls,an),_r,An,ur),bl=((g,i,c,d)=>(_,E,{channelCount:A,channelCountMode:I,channelInterpretation:B,feedback:G,feedforward:oe})=>{const Q=$i(E,_.sampleRate),ue=G instanceof Float64Array?G:new Float64Array(G),Z=oe instanceof Float64Array?oe:new Float64Array(oe),Ie=ue.length,ve=Z.length,ge=Math.min(Ie,ve);if(Ie===0||Ie>20)throw d();if(ue[0]===0)throw i();if(ve===0||ve>20)throw d();if(Z[0]===0)throw i();if(ue[0]!==1){for(let Je=0;Je<ve;Je+=1)Z[Je]/=ue[0];for(let Je=1;Je<Ie;Je+=1)ue[Je]/=ue[0]}const Oe=c(_,Q,A,A);Oe.channelCount=A,Oe.channelCountMode=I,Oe.channelInterpretation=B;const ze=[],Be=[],qe=[];for(let Je=0;Je<A;Je+=1){ze.push(0);const ct=new Float32Array(32),Ut=new Float32Array(32);ct.fill(0),Ut.fill(0),Be.push(ct),qe.push(Ut)}Oe.onaudioprocess=Je=>{const ct=Je.inputBuffer,Ut=Je.outputBuffer,dt=ct.numberOfChannels;for(let ft=0;ft<dt;ft+=1){const Ot=ct.getChannelData(ft),Zt=Ut.getChannelData(ft);ze[ft]=ha(ue,Ie,Z,ve,ge,Be[ft],qe[ft],ze[ft],32,Ot,Zt)}};const st=_.sampleRate/2;return fn({get bufferSize(){return Q},get channelCount(){return Oe.channelCount},set channelCount(Je){Oe.channelCount=Je},get channelCountMode(){return Oe.channelCountMode},set channelCountMode(Je){Oe.channelCountMode=Je},get channelInterpretation(){return Oe.channelInterpretation},set channelInterpretation(Je){Oe.channelInterpretation=Je},get context(){return Oe.context},get inputs(){return[Oe]},get numberOfInputs(){return Oe.numberOfInputs},get numberOfOutputs(){return Oe.numberOfOutputs},addEventListener:(...Je)=>Oe.addEventListener(Je[0],Je[1],Je[2]),dispatchEvent:(...Je)=>Oe.dispatchEvent(Je[0]),getFrequencyResponse(Je,ct,Ut){if(Je.length!==ct.length||ct.length!==Ut.length)throw g();const dt=Je.length;for(let ft=0;ft<dt;ft+=1){const Ot=-Math.PI*(Je[ft]/st),Zt=[Math.cos(Ot),Math.sin(Ot)],Tn=Li(ne(Z,Zt),ne(ue,Zt));ct[ft]=Math.sqrt(Tn[0]*Tn[0]+Tn[1]*Tn[1]),Ut[ft]=Math.atan2(Tn[1],Tn[0])}},removeEventListener:(...Je)=>Oe.removeEventListener(Je[0],Je[1],Je[2])},Oe)})(Gr,lr,ye,Ne),Ni=((g,i,c,d)=>_=>g(hs,()=>hs(_))?Promise.resolve(g(d,d)).then(E=>{if(!E){const A=c(_,512,0,1);_.oncomplete=()=>{A.onaudioprocess=null,A.disconnect()},A.onaudioprocess=()=>_.currentTime,A.connect(_.destination)}return _.startRendering()}):new Promise(E=>{const A=i(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});_.oncomplete=I=>{A.disconnect(),E(I.renderedBuffer)},A.connect(_.destination),_.startRendering()}))(kt,_r,ye,((g,i)=>()=>{if(i===null)return Promise.resolve(!1);const c=new i(1,1,44100),d=g(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(_=>{c.oncomplete=()=>{d.disconnect(),_(c.currentTime!==0)},c.startRendering()})})(_r,ti)),Sr=((g,i,c,d,_)=>(E,A)=>{const I=new WeakMap;let B=null;const G=async(oe,Q,ue)=>{let Z=null,Ie=i(oe);const ve=Ae(Ie,Q);if(Q.createIIRFilter===void 0?Z=g(Q,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):ve||(Ie=Q.createIIRFilter(A,E)),I.set(Q,Z===null?Ie:Z),Z!==null){if(B===null){if(c===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Oe=new c(oe.context.destination.channelCount,oe.context.length,Q.sampleRate);B=(async()=>(await d(oe,Oe,Oe.destination,ue),((ze,Be,qe,st)=>{const Je=qe instanceof Float64Array?qe:new Float64Array(qe),ct=st instanceof Float64Array?st:new Float64Array(st),Ut=Je.length,dt=ct.length,ft=Math.min(Ut,dt);if(Je[0]!==1){for(let wn=0;wn<Ut;wn+=1)ct[wn]/=Je[0];for(let wn=1;wn<dt;wn+=1)Je[wn]/=Je[0]}const Ot=new Float32Array(32),Zt=new Float32Array(32),Tn=Be.createBuffer(ze.numberOfChannels,ze.length,ze.sampleRate),gr=ze.numberOfChannels;for(let wn=0;wn<gr;wn+=1){const qn=ze.getChannelData(wn),or=Tn.getChannelData(wn);Ot.fill(0),Zt.fill(0),ha(Je,Ut,ct,dt,ft,Ot,Zt,0,32,qn,or)}return Tn})(await _(Oe),Q,E,A)))()}const ge=await B;return Z.buffer=ge,Z.start(0),Z}return await d(oe,Q,Ie,ue),Ie};return{render(oe,Q,ue){const Z=I.get(Q);return Z!==void 0?Promise.resolve(Z):G(oe,Q,ue)}}})(Fr,Pt,ti,an,Ni);var qi;const dr=((g,i,c,d,_,E)=>class extends g{constructor(A,I){const B=d(A),G=_(B),oe={...Gs,...I},Q=i(B,G?null:A.baseLatency,oe);super(A,!1,Q,G?c(oe.feedback,oe.feedforward):null),(ue=>{var Z;ue.getFrequencyResponse=(Z=ue.getFrequencyResponse,(Ie,ve,ge)=>{if(Ie.length!==ve.length||ve.length!==ge.length)throw Gr();return Z.call(ue,Ie,ve,ge)})})(Q),this._nativeIIRFilterNode=Q,E(this,1)}getFrequencyResponse(A,I,B){return this._nativeIIRFilterNode.getFrequencyResponse(A,I,B)}})(kn,(qi=bl,(g,i,c)=>{if(g.createIIRFilter===void 0)return qi(g,i,c);const d=g.createIIRFilter(c.feedforward,c.feedback);return br(d,c),d}),Sr,An,ur,qr),Sl=((g,i,c,d,_)=>(E,A)=>{const I=A.listener,{forwardX:B,forwardY:G,forwardZ:oe,positionX:Q,positionY:ue,positionZ:Z,upX:Ie,upY:ve,upZ:ge}=I.forwardX===void 0?(()=>{const Oe=i(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),ze=_(A),Be=d(A,256,9,0),qe=(ct,Ut)=>{const dt=c(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Ut});return dt.connect(Oe,0,ct),dt.start(),Object.defineProperty(dt.offset,"defaultValue",{get:()=>Ut}),g({context:E},ze,dt.offset,bt,Qe)};let st=[0,0,-1,0,1,0],Je=[0,0,0];return Be.onaudioprocess=({inputBuffer:ct})=>{const Ut=[ct.getChannelData(0)[0],ct.getChannelData(1)[0],ct.getChannelData(2)[0],ct.getChannelData(3)[0],ct.getChannelData(4)[0],ct.getChannelData(5)[0]];Ut.some((ft,Ot)=>ft!==st[Ot])&&(I.setOrientation(...Ut),st=Ut);const dt=[ct.getChannelData(6)[0],ct.getChannelData(7)[0],ct.getChannelData(8)[0]];dt.some((ft,Ot)=>ft!==Je[Ot])&&(I.setPosition(...dt),Je=dt)},Oe.connect(Be),{forwardX:qe(0,0),forwardY:qe(1,0),forwardZ:qe(2,-1),positionX:qe(6,0),positionY:qe(7,0),positionZ:qe(8,0),upX:qe(3,0),upY:qe(4,1),upZ:qe(5,0)}})():I;return{get forwardX(){return B},get forwardY(){return G},get forwardZ(){return oe},get positionX(){return Q},get positionY(){return ue},get positionZ(){return Z},get upX(){return Ie},get upY(){return ve},get upZ(){return ge}}})(Qs,nr,Kr,ye,ur),wi=new WeakMap,hc=((g,i,c,d,_,E)=>class extends c{constructor(A,I){super(A),this._nativeContext=A,T.set(this,A),d(A)&&_.set(A,new Set),this._destination=new g(this,I),this._listener=i(this,A),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(A){const I=typeof A=="function"?E(this,A):null;this._nativeContext.onstatechange=I;const B=this._nativeContext.onstatechange;this._onstatechange=B!==null&&B===I?A:B}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(ts,Sl,da,ur,wi,Ve),bu=((g,i,c,d,_,E)=>(A,I)=>{const B=A.createOscillator();return br(B,I),$n(B,I,"detune"),$n(B,I,"frequency"),I.periodicWave!==void 0?B.setPeriodicWave(I.periodicWave):Nt(B,I,"type"),i(c,()=>c(A))||co(B),i(d,()=>d(A))||E(B,A),i(_,()=>_(A))||sr(B),g(A,B),B})(Fa,kt,q,X,re,Me),Kd=((g,i,c,d,_,E,A)=>class extends g{constructor(I,B){const G=_(I),oe={...te,...B},Q=c(G,oe),ue=E(G),Z=ue?d():null,Ie=I.sampleRate/2;super(I,!1,Q,Z),this._detune=i(this,ue,Q.detune,153600,-153600),this._frequency=i(this,ue,Q.frequency,Ie,-Ie),this._nativeOscillatorNode=Q,this._onended=null,this._oscillatorNodeRenderer=Z,this._oscillatorNodeRenderer!==null&&oe.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=oe.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(I){const B=typeof I=="function"?A(this,I):null;this._nativeOscillatorNode.onended=B;const G=this._nativeOscillatorNode.onended;this._onended=G!==null&&G===B?I:G}get type(){return this._nativeOscillatorNode.type}set type(I){this._nativeOscillatorNode.type=I,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(I){this._nativeOscillatorNode.setPeriodicWave(I),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=I)}start(I=0){if(this._nativeOscillatorNode.start(I),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=I),this.context.state!=="closed"){je(this);const B=()=>{this._nativeOscillatorNode.removeEventListener("ended",B),Mt(this)&&ut(this)};this._nativeOscillatorNode.addEventListener("ended",B)}}stop(I=0){this._nativeOscillatorNode.stop(I),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=I)}})(kn,Qs,bu,((g,i,c,d,_)=>()=>{const E=new WeakMap;let A=null,I=null,B=null;return{set periodicWave(G){A=G},set start(G){I=G},set stop(G){B=G},render(G,oe,Q){const ue=E.get(oe);return ue!==void 0?Promise.resolve(ue):(async(Z,Ie,ve)=>{let ge=c(Z);const Oe=Ae(ge,Ie);if(!Oe){const ze={channelCount:ge.channelCount,channelCountMode:ge.channelCountMode,channelInterpretation:ge.channelInterpretation,detune:ge.detune.value,frequency:ge.frequency.value,periodicWave:A===null?void 0:A,type:ge.type};ge=i(Ie,ze),I!==null&&ge.start(I),B!==null&&ge.stop(B)}return E.set(Ie,ge),Oe?(await g(Ie,Z.detune,ge.detune,ve),await g(Ie,Z.frequency,ge.frequency,ve)):(await d(Ie,Z.detune,ge.detune,ve),await d(Ie,Z.frequency,ge.frequency,ve)),await _(Z,Ie,ge,ve),ge})(G,oe,Q)}}})(Fi,bu,Pt,Ls,an),An,ur,Ve),dp=(Jo=Fr,(g,i)=>{const c=Jo(g,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=g.createBuffer(1,2,44100);return c.buffer=d,c.loop=!0,c.connect(i),c.start(),()=>{c.stop(),c.disconnect(i)}});var Jo;const Km=((g,i,c,d,_)=>(E,{curve:A,oversample:I,...B})=>{const G=E.createWaveShaper(),oe=E.createWaveShaper();br(G,B),br(oe,B);const Q=c(E,{...B,gain:1}),ue=c(E,{...B,gain:-1}),Z=c(E,{...B,gain:1}),Ie=c(E,{...B,gain:-1});let ve=null,ge=!1,Oe=null;const ze={get bufferSize(){},get channelCount(){return G.channelCount},set channelCount(Be){Q.channelCount=Be,ue.channelCount=Be,G.channelCount=Be,Z.channelCount=Be,oe.channelCount=Be,Ie.channelCount=Be},get channelCountMode(){return G.channelCountMode},set channelCountMode(Be){Q.channelCountMode=Be,ue.channelCountMode=Be,G.channelCountMode=Be,Z.channelCountMode=Be,oe.channelCountMode=Be,Ie.channelCountMode=Be},get channelInterpretation(){return G.channelInterpretation},set channelInterpretation(Be){Q.channelInterpretation=Be,ue.channelInterpretation=Be,G.channelInterpretation=Be,Z.channelInterpretation=Be,oe.channelInterpretation=Be,Ie.channelInterpretation=Be},get context(){return G.context},get curve(){return Oe},set curve(Be){if(Be!==null&&Be.length<2)throw i();if(Be===null)G.curve=Be,oe.curve=Be;else{const qe=Be.length,st=new Float32Array(qe+2-qe%2),Je=new Float32Array(qe+2-qe%2);st[0]=Be[0],Je[0]=-Be[qe-1];const ct=Math.ceil((qe+1)/2),Ut=(qe+1)/2-1;for(let dt=1;dt<ct;dt+=1){const ft=dt/ct*Ut,Ot=Math.floor(ft),Zt=Math.ceil(ft);st[dt]=Ot===Zt?Be[Ot]:(1-(ft-Ot))*Be[Ot]+(1-(Zt-ft))*Be[Zt],Je[dt]=Ot===Zt?-Be[qe-1-Ot]:-(1-(ft-Ot))*Be[qe-1-Ot]-(1-(Zt-ft))*Be[qe-1-Zt]}st[ct]=qe%2==1?Be[ct-1]:(Be[ct-2]+Be[ct-1])/2,G.curve=st,oe.curve=Je}Oe=Be,ge&&(d(Oe)&&ve===null?ve=g(E,Q):ve!==null&&(ve(),ve=null))},get inputs(){return[Q]},get numberOfInputs(){return G.numberOfInputs},get numberOfOutputs(){return G.numberOfOutputs},get oversample(){return G.oversample},set oversample(Be){G.oversample=Be,oe.oversample=Be},addEventListener:(...Be)=>Q.addEventListener(Be[0],Be[1],Be[2]),dispatchEvent:(...Be)=>Q.dispatchEvent(Be[0]),removeEventListener:(...Be)=>Q.removeEventListener(Be[0],Be[1],Be[2])};return A!==null&&(ze.curve=A instanceof Float32Array?A:new Float32Array(A)),I!==ze.oversample&&(ze.oversample=I),_(fn(ze,Z),()=>{Q.connect(G).connect(Z),Q.connect(ue).connect(oe).connect(Ie).connect(Z),ge=!0,d(Oe)&&(ve=g(E,Q))},()=>{Q.disconnect(G),G.disconnect(Z),Q.disconnect(ue),ue.disconnect(oe),oe.disconnect(Ie),Ie.disconnect(Z),ge=!1,ve!==null&&(ve(),ve=null)})})(dp,lr,_r,gt,gn),Mh=((g,i,c,d,_,E,A)=>(I,B)=>{const G=I.createWaveShaper();if(E!==null&&E.name==="webkitAudioContext"&&I.createGain().gain.automationRate===void 0)return c(I,B);br(G,B);const oe=B.curve===null||B.curve instanceof Float32Array?B.curve:new Float32Array(B.curve);if(oe!==null&&oe.length<2)throw i();Nt(G,{curve:oe},"curve"),Nt(G,B,"oversample");let Q=null,ue=!1;return A(G,"curve",Z=>()=>Z.call(G),Z=>Ie=>(Z.call(G,Ie),ue&&(d(Ie)&&Q===null?Q=g(I,G):d(Ie)||Q===null||(Q(),Q=null)),Ie)),_(G,()=>{ue=!0,d(G.curve)&&(Q=g(I,G))},()=>{ue=!1,Q!==null&&(Q(),Q=null)})})(dp,lr,Km,gt,gn,No,St),Xd=((g,i,c,d,_,E,A,I,B)=>(G,{coneInnerAngle:oe,coneOuterAngle:Q,coneOuterGain:ue,distanceModel:Z,maxDistance:Ie,orientationX:ve,orientationY:ge,orientationZ:Oe,panningModel:ze,positionX:Be,positionY:qe,positionZ:st,refDistance:Je,rolloffFactor:ct,...Ut})=>{const dt=G.createPanner();if(Ut.channelCount>2||Ut.channelCountMode==="max")throw A();br(dt,Ut);const ft={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},Ot=c(G,{...ft,channelInterpretation:"speakers",numberOfInputs:6}),Zt=d(G,{...Ut,gain:1}),Tn=d(G,{...ft,gain:1}),gr=d(G,{...ft,gain:0}),wn=d(G,{...ft,gain:0}),qn=d(G,{...ft,gain:0}),or=d(G,{...ft,gain:0}),Dn=d(G,{...ft,gain:0}),Kn=_(G,256,6,1),Cr=E(G,{...ft,curve:new Float32Array([1,1]),oversample:"none"});let Gi=[ve,ge,Oe],_s=[Be,qe,st];Kn.onaudioprocess=({inputBuffer:bn})=>{const zs=[bn.getChannelData(0)[0],bn.getChannelData(1)[0],bn.getChannelData(2)[0]];zs.some((na,ql)=>na!==Gi[ql])&&(dt.setOrientation(...zs),Gi=zs);const Oc=[bn.getChannelData(3)[0],bn.getChannelData(4)[0],bn.getChannelData(5)[0]];Oc.some((na,ql)=>na!==_s[ql])&&(dt.setPosition(...Oc),_s=Oc)},Object.defineProperty(gr.gain,"defaultValue",{get:()=>0}),Object.defineProperty(wn.gain,"defaultValue",{get:()=>0}),Object.defineProperty(qn.gain,"defaultValue",{get:()=>0}),Object.defineProperty(or.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Dn.gain,"defaultValue",{get:()=>0});const ar={get bufferSize(){},get channelCount(){return dt.channelCount},set channelCount(bn){if(bn>2)throw A();Zt.channelCount=bn,dt.channelCount=bn},get channelCountMode(){return dt.channelCountMode},set channelCountMode(bn){if(bn==="max")throw A();Zt.channelCountMode=bn,dt.channelCountMode=bn},get channelInterpretation(){return dt.channelInterpretation},set channelInterpretation(bn){Zt.channelInterpretation=bn,dt.channelInterpretation=bn},get coneInnerAngle(){return dt.coneInnerAngle},set coneInnerAngle(bn){dt.coneInnerAngle=bn},get coneOuterAngle(){return dt.coneOuterAngle},set coneOuterAngle(bn){dt.coneOuterAngle=bn},get coneOuterGain(){return dt.coneOuterGain},set coneOuterGain(bn){if(bn<0||bn>1)throw i();dt.coneOuterGain=bn},get context(){return dt.context},get distanceModel(){return dt.distanceModel},set distanceModel(bn){dt.distanceModel=bn},get inputs(){return[Zt]},get maxDistance(){return dt.maxDistance},set maxDistance(bn){if(bn<0)throw new RangeError;dt.maxDistance=bn},get numberOfInputs(){return dt.numberOfInputs},get numberOfOutputs(){return dt.numberOfOutputs},get orientationX(){return Tn.gain},get orientationY(){return gr.gain},get orientationZ(){return wn.gain},get panningModel(){return dt.panningModel},set panningModel(bn){dt.panningModel=bn},get positionX(){return qn.gain},get positionY(){return or.gain},get positionZ(){return Dn.gain},get refDistance(){return dt.refDistance},set refDistance(bn){if(bn<0)throw new RangeError;dt.refDistance=bn},get rolloffFactor(){return dt.rolloffFactor},set rolloffFactor(bn){if(bn<0)throw new RangeError;dt.rolloffFactor=bn},addEventListener:(...bn)=>Zt.addEventListener(bn[0],bn[1],bn[2]),dispatchEvent:(...bn)=>Zt.dispatchEvent(bn[0]),removeEventListener:(...bn)=>Zt.removeEventListener(bn[0],bn[1],bn[2])};return oe!==ar.coneInnerAngle&&(ar.coneInnerAngle=oe),Q!==ar.coneOuterAngle&&(ar.coneOuterAngle=Q),ue!==ar.coneOuterGain&&(ar.coneOuterGain=ue),Z!==ar.distanceModel&&(ar.distanceModel=Z),Ie!==ar.maxDistance&&(ar.maxDistance=Ie),ve!==ar.orientationX.value&&(ar.orientationX.value=ve),ge!==ar.orientationY.value&&(ar.orientationY.value=ge),Oe!==ar.orientationZ.value&&(ar.orientationZ.value=Oe),ze!==ar.panningModel&&(ar.panningModel=ze),Be!==ar.positionX.value&&(ar.positionX.value=Be),qe!==ar.positionY.value&&(ar.positionY.value=qe),st!==ar.positionZ.value&&(ar.positionZ.value=st),Je!==ar.refDistance&&(ar.refDistance=Je),ct!==ar.rolloffFactor&&(ar.rolloffFactor=ct),Gi[0]===1&&Gi[1]===0&&Gi[2]===0||dt.setOrientation(...Gi),_s[0]===0&&_s[1]===0&&_s[2]===0||dt.setPosition(..._s),B(fn(ar,dt),()=>{Zt.connect(dt),g(Zt,Cr,0,0),Cr.connect(Tn).connect(Ot,0,0),Cr.connect(gr).connect(Ot,0,1),Cr.connect(wn).connect(Ot,0,2),Cr.connect(qn).connect(Ot,0,3),Cr.connect(or).connect(Ot,0,4),Cr.connect(Dn).connect(Ot,0,5),Ot.connect(Kn).connect(G.destination)},()=>{Zt.disconnect(dt),I(Zt,Cr,0,0),Cr.disconnect(Tn),Tn.disconnect(Ot),Cr.disconnect(gr),gr.disconnect(Ot),Cr.disconnect(wn),wn.disconnect(Ot),Cr.disconnect(qn),qn.disconnect(Ot),Cr.disconnect(or),or.disconnect(Ot),Cr.disconnect(Dn),Dn.disconnect(Ot),Ot.disconnect(Kn),Kn.disconnect(G.destination)})})(fe,lr,nr,_r,ye,Mh,Ne,Vt,gn),xl=(Mo=Xd,(g,i)=>{const c=g.createPanner();return c.orientationX===void 0?Mo(g,i):(br(c,i),$n(c,i,"orientationX"),$n(c,i,"orientationY"),$n(c,i,"orientationZ"),$n(c,i,"positionX"),$n(c,i,"positionY"),$n(c,i,"positionZ"),Nt(c,i,"coneInnerAngle"),Nt(c,i,"coneOuterAngle"),Nt(c,i,"coneOuterGain"),Nt(c,i,"distanceModel"),Nt(c,i,"maxDistance"),Nt(c,i,"panningModel"),Nt(c,i,"refDistance"),Nt(c,i,"rolloffFactor"),c)});var Mo;const Tl=((g,i,c,d,_,E,A)=>class extends g{constructor(I,B){const G=_(I),oe={...ht,...B},Q=c(G,oe),ue=E(G);super(I,!1,Q,ue?d():null),this._nativePannerNode=Q,this._orientationX=i(this,ue,Q.orientationX,bt,Qe),this._orientationY=i(this,ue,Q.orientationY,bt,Qe),this._orientationZ=i(this,ue,Q.orientationZ,bt,Qe),this._positionX=i(this,ue,Q.positionX,bt,Qe),this._positionY=i(this,ue,Q.positionY,bt,Qe),this._positionZ=i(this,ue,Q.positionZ,bt,Qe),A(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(I){this._nativePannerNode.coneInnerAngle=I}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(I){this._nativePannerNode.coneOuterAngle=I}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(I){this._nativePannerNode.coneOuterGain=I}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(I){this._nativePannerNode.distanceModel=I}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(I){this._nativePannerNode.maxDistance=I}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(I){this._nativePannerNode.panningModel=I}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(I){this._nativePannerNode.refDistance=I}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(I){this._nativePannerNode.rolloffFactor=I}})(kn,Qs,xl,((g,i,c,d,_,E,A,I,B,G)=>()=>{const oe=new WeakMap;let Q=null;return{render(ue,Z,Ie){const ve=oe.get(Z);return ve!==void 0?Promise.resolve(ve):(async(ge,Oe,ze)=>{let Be=null,qe=E(ge);const st={channelCount:qe.channelCount,channelCountMode:qe.channelCountMode,channelInterpretation:qe.channelInterpretation},Je={...st,coneInnerAngle:qe.coneInnerAngle,coneOuterAngle:qe.coneOuterAngle,coneOuterGain:qe.coneOuterGain,distanceModel:qe.distanceModel,maxDistance:qe.maxDistance,panningModel:qe.panningModel,refDistance:qe.refDistance,rolloffFactor:qe.rolloffFactor},ct=Ae(qe,Oe);if("bufferSize"in qe)Be=d(Oe,{...st,gain:1});else if(!ct){const Ut={...Je,orientationX:qe.orientationX.value,orientationY:qe.orientationY.value,orientationZ:qe.orientationZ.value,positionX:qe.positionX.value,positionY:qe.positionY.value,positionZ:qe.positionZ.value};qe=_(Oe,Ut)}if(oe.set(Oe,Be===null?qe:Be),Be!==null){if(Q===null){if(A===null)throw new Error("Missing the native OfflineAudioContext constructor.");const wn=new A(6,ge.context.length,Oe.sampleRate),qn=i(wn,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});qn.connect(wn.destination),Q=(async()=>{const or=await Promise.all([ge.orientationX,ge.orientationY,ge.orientationZ,ge.positionX,ge.positionY,ge.positionZ].map(async(Dn,Kn)=>{const Cr=c(wn,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Kn===0?1:0});return await I(wn,Dn,Cr.offset,ze),Cr}));for(let Dn=0;Dn<6;Dn+=1)or[Dn].connect(qn,0,Dn),or[Dn].start(0);return G(wn)})()}const Ut=await Q,dt=d(Oe,{...st,gain:1});await B(ge,Oe,dt,ze);const ft=[];for(let wn=0;wn<Ut.numberOfChannels;wn+=1)ft.push(Ut.getChannelData(wn));let Ot=[ft[0][0],ft[1][0],ft[2][0]],Zt=[ft[3][0],ft[4][0],ft[5][0]],Tn=d(Oe,{...st,gain:1}),gr=_(Oe,{...Je,orientationX:Ot[0],orientationY:Ot[1],orientationZ:Ot[2],positionX:Zt[0],positionY:Zt[1],positionZ:Zt[2]});dt.connect(Tn).connect(gr.inputs[0]),gr.connect(Be);for(let wn=128;wn<Ut.length;wn+=128){const qn=[ft[0][wn],ft[1][wn],ft[2][wn]],or=[ft[3][wn],ft[4][wn],ft[5][wn]];if(qn.some((Dn,Kn)=>Dn!==Ot[Kn])||or.some((Dn,Kn)=>Dn!==Zt[Kn])){Ot=qn,Zt=or;const Dn=wn/Oe.sampleRate;Tn.gain.setValueAtTime(0,Dn),Tn=d(Oe,{...st,gain:0}),gr=_(Oe,{...Je,orientationX:Ot[0],orientationY:Ot[1],orientationZ:Ot[2],positionX:Zt[0],positionY:Zt[1],positionZ:Zt[2]}),Tn.gain.setValueAtTime(1,Dn),dt.connect(Tn).connect(gr.inputs[0]),gr.connect(Be)}}return Be}return ct?(await g(Oe,ge.orientationX,qe.orientationX,ze),await g(Oe,ge.orientationY,qe.orientationY,ze),await g(Oe,ge.orientationZ,qe.orientationZ,ze),await g(Oe,ge.positionX,qe.positionX,ze),await g(Oe,ge.positionY,qe.positionY,ze),await g(Oe,ge.positionZ,qe.positionZ,ze)):(await I(Oe,ge.orientationX,qe.orientationX,ze),await I(Oe,ge.orientationY,qe.orientationY,ze),await I(Oe,ge.orientationZ,qe.orientationZ,ze),await I(Oe,ge.positionX,qe.positionX,ze),await I(Oe,ge.positionY,qe.positionY,ze),await I(Oe,ge.positionZ,qe.positionZ,ze)),Ce(qe)?await B(ge,Oe,qe.inputs[0],ze):await B(ge,Oe,qe,ze),qe})(ue,Z,Ie)}}})(Fi,nr,Kr,_r,xl,Pt,ti,Ls,an,Ni),An,ur,qr),Xm=((g,i,c,d)=>class lN{constructor(E,A){const I=i(E),B=d({...vt,...A}),G=g(I,B);return c.add(G),G}static[Symbol.hasInstance](E){return E!==null&&typeof E=="object"&&Object.getPrototypeOf(E)===lN.prototype||c.has(E)}})((g=>(i,{disableNormalization:c,imag:d,real:_})=>{const E=d instanceof Float32Array?d:new Float32Array(d),A=_ instanceof Float32Array?_:new Float32Array(_),I=i.createPeriodicWave(A,E,{disableNormalization:c});if(Array.from(d).length<2)throw g();return I})(Pe),An,new WeakSet,g=>{const{imag:i,real:c}=g;return i===void 0?c===void 0?{...g,imag:[0,0],real:[0,0]}:{...g,imag:Array.from(c,()=>0),real:c}:c===void 0?{...g,imag:i,real:Array.from(i,()=>0)}:{...g,imag:i,real:c}}),Zd=((g,i)=>(c,d)=>{const _=d.channelCountMode;if(_==="clamped-max")throw i();if(c.createStereoPanner===void 0)return g(c,d);const E=c.createStereoPanner();return br(E,d),$n(E,d,"pan"),Object.defineProperty(E,"channelCountMode",{get:()=>_,set:A=>{if(A!==_)throw i()}}),E})(((g,i,c,d,_,E)=>{const A=new Float32Array([1,1]),I=Math.PI/2,B={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},G={...B,oversample:"none"},oe=(Q,ue,Z,Ie,ve)=>{if(ue===1)return((ge,Oe,ze,Be)=>{const qe=new Float32Array(16385),st=new Float32Array(16385);for(let Ot=0;Ot<16385;Ot+=1){const Zt=Ot/16384*I;qe[Ot]=Math.cos(Zt),st[Ot]=Math.sin(Zt)}const Je=c(ge,{...B,gain:0}),ct=d(ge,{...G,curve:qe}),Ut=d(ge,{...G,curve:A}),dt=c(ge,{...B,gain:0}),ft=d(ge,{...G,curve:st});return{connectGraph(){Oe.connect(Je),Oe.connect(Ut.inputs===void 0?Ut:Ut.inputs[0]),Oe.connect(dt),Ut.connect(ze),ze.connect(ct.inputs===void 0?ct:ct.inputs[0]),ze.connect(ft.inputs===void 0?ft:ft.inputs[0]),ct.connect(Je.gain),ft.connect(dt.gain),Je.connect(Be,0,0),dt.connect(Be,0,1)},disconnectGraph(){Oe.disconnect(Je),Oe.disconnect(Ut.inputs===void 0?Ut:Ut.inputs[0]),Oe.disconnect(dt),Ut.disconnect(ze),ze.disconnect(ct.inputs===void 0?ct:ct.inputs[0]),ze.disconnect(ft.inputs===void 0?ft:ft.inputs[0]),ct.disconnect(Je.gain),ft.disconnect(dt.gain),Je.disconnect(Be,0,0),dt.disconnect(Be,0,1)}}})(Q,Z,Ie,ve);if(ue===2)return((ge,Oe,ze,Be)=>{const qe=new Float32Array(16385),st=new Float32Array(16385),Je=new Float32Array(16385),ct=new Float32Array(16385),Ut=Math.floor(8192.5);for(let Kn=0;Kn<16385;Kn+=1)if(Kn>Ut){const Cr=(Kn-Ut)/(16384-Ut)*I;qe[Kn]=Math.cos(Cr),st[Kn]=Math.sin(Cr),Je[Kn]=0,ct[Kn]=1}else{const Cr=Kn/(16384-Ut)*I;qe[Kn]=1,st[Kn]=0,Je[Kn]=Math.cos(Cr),ct[Kn]=Math.sin(Cr)}const dt=i(ge,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),ft=c(ge,{...B,gain:0}),Ot=d(ge,{...G,curve:qe}),Zt=c(ge,{...B,gain:0}),Tn=d(ge,{...G,curve:st}),gr=d(ge,{...G,curve:A}),wn=c(ge,{...B,gain:0}),qn=d(ge,{...G,curve:Je}),or=c(ge,{...B,gain:0}),Dn=d(ge,{...G,curve:ct});return{connectGraph(){Oe.connect(dt),Oe.connect(gr.inputs===void 0?gr:gr.inputs[0]),dt.connect(ft,0),dt.connect(Zt,0),dt.connect(wn,1),dt.connect(or,1),gr.connect(ze),ze.connect(Ot.inputs===void 0?Ot:Ot.inputs[0]),ze.connect(Tn.inputs===void 0?Tn:Tn.inputs[0]),ze.connect(qn.inputs===void 0?qn:qn.inputs[0]),ze.connect(Dn.inputs===void 0?Dn:Dn.inputs[0]),Ot.connect(ft.gain),Tn.connect(Zt.gain),qn.connect(wn.gain),Dn.connect(or.gain),ft.connect(Be,0,0),wn.connect(Be,0,0),Zt.connect(Be,0,1),or.connect(Be,0,1)},disconnectGraph(){Oe.disconnect(dt),Oe.disconnect(gr.inputs===void 0?gr:gr.inputs[0]),dt.disconnect(ft,0),dt.disconnect(Zt,0),dt.disconnect(wn,1),dt.disconnect(or,1),gr.disconnect(ze),ze.disconnect(Ot.inputs===void 0?Ot:Ot.inputs[0]),ze.disconnect(Tn.inputs===void 0?Tn:Tn.inputs[0]),ze.disconnect(qn.inputs===void 0?qn:qn.inputs[0]),ze.disconnect(Dn.inputs===void 0?Dn:Dn.inputs[0]),Ot.disconnect(ft.gain),Tn.disconnect(Zt.gain),qn.disconnect(wn.gain),Dn.disconnect(or.gain),ft.disconnect(Be,0,0),wn.disconnect(Be,0,0),Zt.disconnect(Be,0,1),or.disconnect(Be,0,1)}}})(Q,Z,Ie,ve);throw _()};return(Q,{channelCount:ue,channelCountMode:Z,pan:Ie,...ve})=>{if(Z==="max")throw _();const ge=g(Q,{...ve,channelCount:1,channelCountMode:Z,numberOfInputs:2}),Oe=c(Q,{...ve,channelCount:ue,channelCountMode:Z,gain:1}),ze=c(Q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:Ie});let{connectGraph:Be,disconnectGraph:qe}=oe(Q,ue,Oe,ze,ge);Object.defineProperty(ze.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ze.gain,"maxValue",{get:()=>1}),Object.defineProperty(ze.gain,"minValue",{get:()=>-1});const st={get bufferSize(){},get channelCount(){return Oe.channelCount},set channelCount(ct){Oe.channelCount!==ct&&(Je&&qe(),{connectGraph:Be,disconnectGraph:qe}=oe(Q,ct,Oe,ze,ge),Je&&Be()),Oe.channelCount=ct},get channelCountMode(){return Oe.channelCountMode},set channelCountMode(ct){if(ct==="clamped-max"||ct==="max")throw _();Oe.channelCountMode=ct},get channelInterpretation(){return Oe.channelInterpretation},set channelInterpretation(ct){Oe.channelInterpretation=ct},get context(){return Oe.context},get inputs(){return[Oe]},get numberOfInputs(){return Oe.numberOfInputs},get numberOfOutputs(){return Oe.numberOfOutputs},get pan(){return ze.gain},addEventListener:(...ct)=>Oe.addEventListener(ct[0],ct[1],ct[2]),dispatchEvent:(...ct)=>Oe.dispatchEvent(ct[0]),removeEventListener:(...ct)=>Oe.removeEventListener(ct[0],ct[1],ct[2])};let Je=!1;return E(fn(st,ge),()=>{Be(),Je=!0},()=>{qe(),Je=!1})}})(nr,Vr,_r,Mh,Ne,gn),Ne),Zm=((g,i,c,d,_,E)=>class extends g{constructor(A,I){const B=_(A),G={...qt,...I},oe=c(B,G),Q=E(B);super(A,!1,oe,Q?d():null),this._pan=i(this,Q,oe.pan)}get pan(){return this._pan}})(kn,Qs,Zd,((g,i,c,d,_)=>()=>{const E=new WeakMap;return{render(A,I,B){const G=E.get(I);return G!==void 0?Promise.resolve(G):(async(oe,Q,ue)=>{let Z=c(oe);const Ie=Ae(Z,Q);if(!Ie){const ve={channelCount:Z.channelCount,channelCountMode:Z.channelCountMode,channelInterpretation:Z.channelInterpretation,pan:Z.pan.value};Z=i(Q,ve)}return E.set(Q,Z),Ie?await g(Q,oe.pan,Z.pan,ue):await d(Q,oe.pan,Z.pan,ue),Ce(Z)?await _(oe,Q,Z.inputs[0],ue):await _(oe,Q,Z,ue),Z})(A,I,B)}}})(Fi,Zd,Pt,Ls,an),An,ur),dc=((g,i,c)=>()=>{const d=new WeakMap;return{render(_,E,A){const I=d.get(E);return I!==void 0?Promise.resolve(I):(async(B,G,oe)=>{let Q=i(B);if(!Ae(Q,G)){const ue={channelCount:Q.channelCount,channelCountMode:Q.channelCountMode,channelInterpretation:Q.channelInterpretation,curve:Q.curve,oversample:Q.oversample};Q=g(G,ue)}return d.set(G,Q),Ce(Q)?await c(B,G,Q.inputs[0],oe):await c(B,G,Q,oe),Q})(_,E,A)}}})(Mh,Pt,an),ho=((g,i,c,d,_,E,A)=>class extends g{constructor(I,B){const G=_(I),oe={...jt,...B},Q=c(G,oe);super(I,!0,Q,E(G)?d():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=Q,A(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(I){if(I===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(I.length<2)throw i();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=I}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(I){this._nativeWaveShaperNode.oversample=I}})(kn,lr,Mh,dc,An,ur,qr),Su=(g=>g!==null&&g.isSecureContext)(nn),Jd=(g=>(i,c,d)=>{Object.defineProperties(g,{currentFrame:{configurable:!0,get:()=>Math.round(i*c)},currentTime:{configurable:!0,get:()=>i}});try{return d()}finally{g!==null&&(delete g.currentFrame,delete g.currentTime)}})(nn),fp=new WeakMap,Jm=((g,i)=>c=>{let d=g.get(c);if(d!==void 0)return d;if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");return d=new i(1,1,8e3),g.set(c,d),d})(fp,ti),Dh=(g=>g===null?null:g.hasOwnProperty("AudioWorkletNode")?g.AudioWorkletNode:null)(nn),eg=Su?((g,i,c,d,_,E,A,I,B,G,oe,Q)=>(ue,Z,Ie={credentials:"omit"})=>{const ve=E(ue);if(ve.audioWorklet!==void 0)return Promise.all([_(Z),Promise.resolve(g(oe,oe))]).then(([[Be,qe],st])=>{const[Je,ct]=F(Be,qe),Ut=st?ct:ct.replace(/\s+extends\s+AudioWorkletProcessor\s*{/," extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}){"),dt=new Blob([`${Je};(registerProcessor=>{${Ut}
})((n,p)=>registerProcessor(n,class extends p{${st?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${st?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}))`],{type:"application/javascript; charset=utf-8"}),ft=URL.createObjectURL(dt);return ve.audioWorklet.addModule(ft,Ie).then(()=>{if(!I(ve))return A(ve).audioWorklet.addModule(ft,Ie)}).finally(()=>URL.revokeObjectURL(ft))});const ge=G.get(ue);if(ge!==void 0&&ge.has(Z))return Promise.resolve();const Oe=B.get(ue);if(Oe!==void 0){const Be=Oe.get(Z);if(Be!==void 0)return Be}const ze=_(Z).then(([Be,qe])=>{const[st,Je]=F(Be,qe);return c(`${st};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${Je}
})})(window,'_AWGS')`)}).then(()=>{const Be=Q._AWGS.pop();if(Be===void 0)throw new SyntaxError;d(ve.currentTime,ve.sampleRate,()=>Be(class{},void 0,(qe,st)=>{if(qe.trim()==="")throw i();const Je=C.get(ve);if(Je!==void 0){if(Je.has(qe))throw i();ee(st),ie(st.parameterDescriptors),Je.set(qe,st)}else ee(st),ie(st.parameterDescriptors),C.set(ve,new Map([[qe,st]]))},ve.sampleRate,void 0,void 0))});return Oe===void 0?B.set(ue,new Map([[Z,ze]])):Oe.set(Z,ze),ze.then(()=>{const Be=G.get(ue);Be===void 0?G.set(ue,new Set([Z])):Be.add(Z)}).finally(()=>{const Be=B.get(ue);Be!==void 0&&Be.delete(Z)}),ze})(kt,Ne,(g=>i=>new Promise((c,d)=>{if(g===null)return void d(new SyntaxError);const _=g.document.head;if(_===null)d(new SyntaxError);else{const E=g.document.createElement("script"),A=new Blob([i],{type:"application/javascript"}),I=URL.createObjectURL(A),B=g.onerror,G=()=>{g.onerror=B,URL.revokeObjectURL(I)};g.onerror=(oe,Q,ue,Z,Ie)=>Q===I||Q===g.location.href&&ue===1&&Z===1?(G(),d(Ie),!1):B!==null?B(oe,Q,ue,Z,Ie):void 0,E.onerror=()=>{G(),d(new SyntaxError)},E.onload=()=>{G(),c()},E.src=I,E.type="module",_.appendChild(E)}}))(nn),Jd,(g=>async i=>{try{const c=await fetch(i);if(c.ok)return[await c.text(),c.url]}catch{}throw g()})(()=>new DOMException("","AbortError")),An,Jm,ur,new WeakMap,new WeakMap,((g,i)=>async()=>{if(g===null)return!0;if(i===null)return!1;const c=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),d=new i(1,128,8e3),_=URL.createObjectURL(c);let E=!1,A=!1;try{await d.audioWorklet.addModule(_);const I=new g(d,"a",{numberOfOutputs:0}),B=d.createOscillator();I.port.onmessage=()=>E=!0,I.onprocessorerror=()=>A=!0,B.connect(I),await d.startRendering()}catch{}finally{URL.revokeObjectURL(_)}return E&&!A})(Dh,ti),nn):void 0,El=((g,i)=>c=>g(c)||i(c))(mu,ur),De=((g,i,c,d,_,E,A,I,B,G,oe,Q,ue,Z,Ie,ve,ge,Oe,ze,Be)=>class extends Ie{constructor(qe,st){super(qe,st),this._nativeContext=qe,this._audioWorklet=g===void 0?void 0:{addModule:(Je,ct)=>g(this,Je,ct)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new i(this)}createBiquadFilter(){return new _(this)}createBuffer(qe,st,Je){return new c({length:st,numberOfChannels:qe,sampleRate:Je})}createBufferSource(){return new d(this)}createChannelMerger(qe=6){return new E(this,{numberOfInputs:qe})}createChannelSplitter(qe=6){return new A(this,{numberOfOutputs:qe})}createConstantSource(){return new I(this)}createConvolver(){return new B(this)}createDelay(qe=1){return new oe(this,{maxDelayTime:qe})}createDynamicsCompressor(){return new Q(this)}createGain(){return new ue(this)}createIIRFilter(qe,st){return new Z(this,{feedback:st,feedforward:qe})}createOscillator(){return new ve(this)}createPanner(){return new ge(this)}createPeriodicWave(qe,st,Je={disableNormalization:!1}){return new Oe(this,{...Je,imag:st,real:qe})}createStereoPanner(){return new ze(this)}createWaveShaper(){return new Be(this)}decodeAudioData(qe,st,Je){return G(this._nativeContext,qe).then(ct=>(typeof st=="function"&&st(ct),ct)).catch(ct=>{throw typeof Je=="function"&&Je(ct),ct})}})(eg,Yd,Qd,Ks,Ah,_i,hr,js,Zo,((g,i,c,d,_,E,A,I,B,G,oe)=>(Q,ue)=>{const Z=A(Q)?Q:E(Q);if(_.has(ue)){const Ie=c();return Promise.reject(Ie)}try{_.add(ue)}catch{}return i(B,()=>B(Z))?Z.decodeAudioData(ue).then(Ie=>(i(I,()=>I(Ie))||oe(Ie),g.add(Ie),Ie)):new Promise((Ie,ve)=>{const ge=()=>{try{(ze=>{const{port1:Be}=new MessageChannel;Be.postMessage(ze,[ze])})(ue)}catch{}},Oe=ze=>{ve(ze),ge()};try{Z.decodeAudioData(ue,ze=>{typeof ze.copyFromChannel!="function"&&(G(ze),Ye(ze)),g.add(ze),ge(),Ie(ze)},ze=>{Oe(ze===null?d():ze)})}catch(ze){Oe(ze)}})})(Ys,kt,()=>new DOMException("","DataCloneError"),()=>new DOMException("","EncodingError"),new WeakSet,An,El,pe,hs,vl,yl),wl,uc,wu,dr,hc,Kd,Tl,Xm,Zm,ho),pt=((g,i,c,d)=>class extends g{constructor(_,E){const A=c(_),I=i(A,E);if(d(A))throw TypeError();super(_,!0,I,null),this._nativeMediaElementAudioSourceNode=I}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(kn,(g,i)=>g.createMediaElementSource(i.mediaElement),An,ur),ot=((g,i,c,d)=>class extends g{constructor(_,E){const A=c(_);if(d(A))throw new TypeError;const I={...es,...E},B=i(A,I);super(_,!1,B,null),this._nativeMediaStreamAudioDestinationNode=B}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(kn,(g,i)=>{const c=g.createMediaStreamDestination();return br(c,i),c.numberOfOutputs===1&&Object.defineProperty(c,"numberOfOutputs",{get:()=>0}),c},An,ur),sn=((g,i,c,d)=>class extends g{constructor(_,E){const A=c(_),I=i(A,E);if(d(A))throw new TypeError;super(_,!0,I,null),this._nativeMediaStreamAudioSourceNode=I}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(kn,(g,{mediaStream:i})=>{const c=i.getAudioTracks();c.sort((E,A)=>E.id<A.id?-1:E.id>A.id?1:0);const d=c.slice(0,1),_=g.createMediaStreamSource(new MediaStream(d));return Object.defineProperty(_,"mediaStream",{value:i}),_},An,ur),jn=((g,i,c)=>class extends g{constructor(d,_){const E=c(d);super(d,!0,i(E,_),null)}})(kn,((g,i)=>(c,{mediaStreamTrack:d})=>{if(typeof c.createMediaStreamTrackSource=="function")return c.createMediaStreamTrackSource(d);const _=new MediaStream([d]),E=c.createMediaStreamSource(_);if(d.kind!=="audio")throw g();if(i(c))throw new TypeError;return E})(lr,ur),An),Mr=((g,i,c,d,_,E,A,I,B)=>class extends g{constructor(G={}){if(B===null)throw new Error("Missing the native AudioContext constructor.");const oe=new B(G);if(oe===null)throw d();if(!be(G.latencyHint))throw new TypeError(`The provided value '${G.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(G.sampleRate!==void 0&&oe.sampleRate!==G.sampleRate)throw c();super(oe,2);const{latencyHint:Q}=G,{sampleRate:ue}=oe;if(this._baseLatency=typeof oe.baseLatency=="number"?oe.baseLatency:Q==="balanced"?512/ue:Q==="interactive"||Q===void 0?256/ue:Q==="playback"?1024/ue:128*Math.max(2,Math.min(128,Math.round(Q*ue/128)))/ue,this._nativeAudioContext=oe,B.name==="webkitAudioContext"?(this._nativeGainNode=oe.createGain(),this._nativeOscillatorNode=oe.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(oe.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,oe.state==="running"){this._state="suspended";const Z=()=>{this._state==="suspended"&&(this._state=null),oe.removeEventListener("statechange",Z)};oe.addEventListener("statechange",Z)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw i()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),we(this)}))}createMediaElementSource(G){return new _(this,{mediaElement:G})}createMediaStreamDestination(){return new E(this)}createMediaStreamSource(G){return new A(this,{mediaStream:G})}createMediaStreamTrackSource(G){return new I(this,{mediaStreamTrack:G})}resume(){return this._state==="suspended"?new Promise((G,oe)=>{const Q=()=>{this._nativeAudioContext.removeEventListener("statechange",Q),this._nativeAudioContext.state==="running"?G():this.resume().then(G,oe)};this._nativeAudioContext.addEventListener("statechange",Q)}):this._nativeAudioContext.resume().catch(G=>{throw G===void 0||G.code===15?i():G})}suspend(){return this._nativeAudioContext.suspend().catch(G=>{throw G===void 0?i():G})}})(De,lr,Ne,Xt,pt,ot,sn,jn,No),Ai=(Jn=wi,g=>{const i=Jn.get(g);if(i===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return i});var Jn;const Ua=(ef=Ai,(g,i)=>{ef(g).add(i)});var ef;const fo=(g=>(i,c,d=0,_=0)=>{const E=i[d];if(E===void 0)throw g();return Ln(c)?E.connect(c,0,_):E.connect(c,0)})(Pe),xu=(g=>(i,c)=>{g(i).delete(c)})(Ai),tf=(g=>(i,c,d,_=0)=>c===void 0?i.forEach(E=>E.disconnect()):typeof c=="number"?zi(g,i,c).disconnect():Ln(c)?d===void 0?i.forEach(E=>E.disconnect(c)):_===void 0?zi(g,i,d).disconnect(c,0):zi(g,i,d).disconnect(c,0,_):d===void 0?i.forEach(E=>E.disconnect(c)):zi(g,i,d).disconnect(c,0))(Pe),Gc=new WeakMap,Rh=((g,i)=>c=>i(g,c))(Gc,_e),Tu=((g,i,c,d,_,E,A,I,B,G,oe,Q,ue)=>(Z,Ie,ve,ge)=>{if(ge.numberOfInputs===0&&ge.numberOfOutputs===0)throw B();const Oe=Array.isArray(ge.outputChannelCount)?ge.outputChannelCount:Array.from(ge.outputChannelCount);if(Oe.some(zt=>zt<1))throw B();if(Oe.length!==ge.numberOfOutputs)throw i();if(ge.channelCountMode!=="explicit")throw B();const ze=ge.channelCount*ge.numberOfInputs,Be=Oe.reduce((zt,Rr)=>zt+Rr,0),qe=ve.parameterDescriptors===void 0?0:ve.parameterDescriptors.length;if(ze+qe>6||Be>6)throw B();const st=new MessageChannel,Je=[],ct=[];for(let zt=0;zt<ge.numberOfInputs;zt+=1)Je.push(A(Z,{channelCount:ge.channelCount,channelCountMode:ge.channelCountMode,channelInterpretation:ge.channelInterpretation,gain:1})),ct.push(_(Z,{channelCount:ge.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:ge.channelCount}));const Ut=[];if(ve.parameterDescriptors!==void 0)for(const{defaultValue:zt,maxValue:Rr,minValue:Hs,name:Ti}of ve.parameterDescriptors){const kr=E(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ge.parameterData[Ti]!==void 0?ge.parameterData[Ti]:zt===void 0?0:zt});Object.defineProperties(kr.offset,{defaultValue:{get:()=>zt===void 0?0:zt},maxValue:{get:()=>Rr===void 0?bt:Rr},minValue:{get:()=>Hs===void 0?Qe:Hs}}),Ut.push(kr)}const dt=d(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ze+qe)}),ft=$i(Ie,Z.sampleRate),Ot=I(Z,ft,ze+qe,Math.max(1,Be)),Zt=_(Z,{channelCount:Math.max(1,Be),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,Be)}),Tn=[];for(let zt=0;zt<ge.numberOfOutputs;zt+=1)Tn.push(d(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Oe[zt]}));for(let zt=0;zt<ge.numberOfInputs;zt+=1){Je[zt].connect(ct[zt]);for(let Rr=0;Rr<ge.channelCount;Rr+=1)ct[zt].connect(dt,Rr,zt*ge.channelCount+Rr)}const gr=new ki(ve.parameterDescriptors===void 0?[]:ve.parameterDescriptors.map(({name:zt},Rr)=>{const Hs=Ut[Rr];return Hs.connect(dt,0,ze+Rr),Hs.start(0),[zt,Hs.offset]}));dt.connect(Ot);let wn=ge.channelInterpretation,qn=null;const or=ge.numberOfOutputs===0?[Ot]:Tn,Dn={get bufferSize(){return ft},get channelCount(){return ge.channelCount},set channelCount(zt){throw c()},get channelCountMode(){return ge.channelCountMode},set channelCountMode(zt){throw c()},get channelInterpretation(){return wn},set channelInterpretation(zt){for(const Rr of Je)Rr.channelInterpretation=zt;wn=zt},get context(){return Ot.context},get inputs(){return Je},get numberOfInputs(){return ge.numberOfInputs},get numberOfOutputs(){return ge.numberOfOutputs},get onprocessorerror(){return qn},set onprocessorerror(zt){typeof qn=="function"&&Dn.removeEventListener("processorerror",qn),qn=typeof zt=="function"?zt:null,typeof qn=="function"&&Dn.addEventListener("processorerror",qn)},get parameters(){return gr},get port(){return st.port2},addEventListener:(...zt)=>Ot.addEventListener(zt[0],zt[1],zt[2]),connect:g.bind(null,or),disconnect:G.bind(null,or),dispatchEvent:(...zt)=>Ot.dispatchEvent(zt[0]),removeEventListener:(...zt)=>Ot.removeEventListener(zt[0],zt[1],zt[2])},Kn=new Map;var Cr,Gi;st.port1.addEventListener=(Cr=st.port1.addEventListener,(...zt)=>{if(zt[0]==="message"){const Rr=typeof zt[1]=="function"?zt[1]:typeof zt[1]=="object"&&zt[1]!==null&&typeof zt[1].handleEvent=="function"?zt[1].handleEvent:null;if(Rr!==null){const Hs=Kn.get(zt[1]);Hs!==void 0?zt[1]=Hs:(zt[1]=Ti=>{oe(Z.currentTime,Z.sampleRate,()=>Rr(Ti))},Kn.set(Rr,zt[1]))}}return Cr.call(st.port1,zt[0],zt[1],zt[2])}),st.port1.removeEventListener=(Gi=st.port1.removeEventListener,(...zt)=>{if(zt[0]==="message"){const Rr=Kn.get(zt[1]);Rr!==void 0&&(Kn.delete(zt[1]),zt[1]=Rr)}return Gi.call(st.port1,zt[0],zt[1],zt[2])});let _s=null;Object.defineProperty(st.port1,"onmessage",{get:()=>_s,set:zt=>{typeof _s=="function"&&st.port1.removeEventListener("message",_s),_s=typeof zt=="function"?zt:null,typeof _s=="function"&&(st.port1.addEventListener("message",_s),st.port1.start())}}),ve.prototype.port=st.port1;let ar=null;((zt,Rr,Hs,Ti)=>{let kr=R.get(zt);kr===void 0&&(kr=new WeakMap,R.set(zt,kr));const gi=Is(Hs,Ti);return kr.set(Rr,gi),gi})(Z,Dn,ve,ge).then(zt=>ar=zt);const bn=Zn(ge.numberOfInputs,ge.channelCount),zs=Zn(ge.numberOfOutputs,Oe),Oc=ve.parameterDescriptors===void 0?[]:ve.parameterDescriptors.reduce((zt,{name:Rr})=>({...zt,[Rr]:new Float32Array(128)}),{});let na=!0;const ql=()=>{ge.numberOfOutputs>0&&Ot.disconnect(Zt);for(let zt=0,Rr=0;zt<ge.numberOfOutputs;zt+=1){const Hs=Tn[zt];for(let Ti=0;Ti<Oe[zt];Ti+=1)Zt.disconnect(Hs,Rr+Ti,Ti);Rr+=Oe[zt]}},Wl=new Map;Ot.onaudioprocess=({inputBuffer:zt,outputBuffer:Rr})=>{if(ar!==null){const Hs=Q(Dn);for(let Ti=0;Ti<ft;Ti+=128){for(let kr=0;kr<ge.numberOfInputs;kr+=1)for(let gi=0;gi<ge.channelCount;gi+=1)ci(zt,bn[kr],gi,gi,Ti);ve.parameterDescriptors!==void 0&&ve.parameterDescriptors.forEach(({name:kr},gi)=>{ci(zt,Oc,kr,ze+gi,Ti)});for(let kr=0;kr<ge.numberOfInputs;kr+=1)for(let gi=0;gi<Oe[kr];gi+=1)zs[kr][gi].byteLength===0&&(zs[kr][gi]=new Float32Array(128));try{const kr=bn.map(($o,el)=>{if(Hs[el].size>0)return Wl.set(el,ft/128),$o;const Gl=Wl.get(el);return Gl===void 0?[]:($o.every(x_=>x_.every(T_=>T_===0))&&(Gl===1?Wl.delete(el):Wl.set(el,Gl-1)),$o)});na=oe(Z.currentTime+Ti/Z.sampleRate,Z.sampleRate,()=>ar.process(kr,zs,Oc));for(let $o=0,el=0;$o<ge.numberOfOutputs;$o+=1){for(let Gl=0;Gl<Oe[$o];Gl+=1)ls(Rr,zs[$o],Gl,el+Gl,Ti);el+=Oe[$o]}}catch(kr){na=!1,Dn.dispatchEvent(new ErrorEvent("processorerror",{colno:kr.colno,filename:kr.filename,lineno:kr.lineno,message:kr.message}))}if(!na){for(let kr=0;kr<ge.numberOfInputs;kr+=1){Je[kr].disconnect(ct[kr]);for(let gi=0;gi<ge.channelCount;gi+=1)ct[Ti].disconnect(dt,gi,kr*ge.channelCount+gi)}if(ve.parameterDescriptors!==void 0){const kr=ve.parameterDescriptors.length;for(let gi=0;gi<kr;gi+=1){const $o=Ut[gi];$o.disconnect(dt,0,ze+gi),$o.stop()}}dt.disconnect(Ot),Ot.onaudioprocess=null,os?ql():ov();break}}}};let os=!1;const Ho=A(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),sv=()=>Ot.connect(Ho).connect(Z.destination),ov=()=>{Ot.disconnect(Ho),Ho.disconnect()};return sv(),ue(Dn,()=>{if(na){ov(),ge.numberOfOutputs>0&&Ot.connect(Zt);for(let zt=0,Rr=0;zt<ge.numberOfOutputs;zt+=1){const Hs=Tn[zt];for(let Ti=0;Ti<Oe[zt];Ti+=1)Zt.connect(Hs,Rr+Ti,Ti);Rr+=Oe[zt]}}os=!0},()=>{na&&(sv(),ql()),os=!1})})(fo,Pe,lr,nr,Vr,Kr,_r,ye,Ne,tf,Jd,Rh,gn),zr=((g,i,c,d,_)=>(E,A,I,B,G,oe)=>{if(I!==null)try{const Z=new I(E,B,oe),Ie=new Map;let ve=null;if(Object.defineProperties(Z,{channelCount:{get:()=>oe.channelCount,set:()=>{throw g()}},channelCountMode:{get:()=>"explicit",set:()=>{throw g()}},onprocessorerror:{get:()=>ve,set:ge=>{typeof ve=="function"&&Z.removeEventListener("processorerror",ve),ve=typeof ge=="function"?ge:null,typeof ve=="function"&&Z.addEventListener("processorerror",ve)}}}),Z.addEventListener=(ue=Z.addEventListener,(...ge)=>{if(ge[0]==="processorerror"){const Oe=typeof ge[1]=="function"?ge[1]:typeof ge[1]=="object"&&ge[1]!==null&&typeof ge[1].handleEvent=="function"?ge[1].handleEvent:null;if(Oe!==null){const ze=Ie.get(ge[1]);ze!==void 0?ge[1]=ze:(ge[1]=Be=>{Be.type==="error"?(Object.defineProperties(Be,{type:{value:"processorerror"}}),Oe(Be)):Oe(new ErrorEvent(ge[0],{...Be}))},Ie.set(Oe,ge[1]))}}return ue.call(Z,"error",ge[1],ge[2]),ue.call(Z,...ge)}),Z.removeEventListener=(Q=Z.removeEventListener,(...ge)=>{if(ge[0]==="processorerror"){const Oe=Ie.get(ge[1]);Oe!==void 0&&(Ie.delete(ge[1]),ge[1]=Oe)}return Q.call(Z,"error",ge[1],ge[2]),Q.call(Z,ge[0],ge[1],ge[2])}),oe.numberOfOutputs!==0){const ge=c(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return Z.connect(ge).connect(E.destination),_(Z,()=>ge.disconnect(),()=>ge.connect(E.destination))}return Z}catch(Z){throw Z.code===11?d():Z}var Q,ue;if(G===void 0)throw d();return(Z=>{const{port1:Ie}=new MessageChannel;try{Ie.postMessage(Z)}finally{Ie.close()}})(oe),i(E,A,G,oe)})(lr,Tu,_r,Ne,gn),tg=((g,i,c,d,_,E,A,I,B,G,oe,Q,ue,Z,Ie,ve)=>(ge,Oe,ze)=>{const Be=new WeakMap;let qe=null;return{render(st,Je,ct){I(Je,st);const Ut=Be.get(Je);return Ut!==void 0?Promise.resolve(Ut):(async(dt,ft,Ot)=>{let Zt=oe(dt),Tn=null;const gr=Ae(Zt,ft),wn=Array.isArray(Oe.outputChannelCount)?Oe.outputChannelCount:Array.from(Oe.outputChannelCount);if(Q===null){const qn=wn.reduce((Cr,Gi)=>Cr+Gi,0),or=_(ft,{channelCount:Math.max(1,qn),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,qn)}),Dn=[];for(let Cr=0;Cr<dt.numberOfOutputs;Cr+=1)Dn.push(d(ft,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:wn[Cr]}));const Kn=A(ft,{channelCount:Oe.channelCount,channelCountMode:Oe.channelCountMode,channelInterpretation:Oe.channelInterpretation,gain:1});Kn.connect=i.bind(null,Dn),Kn.disconnect=B.bind(null,Dn),Tn=[or,Dn,Kn]}else gr||(Zt=new Q(ft,ge));if(Be.set(ft,Tn===null?Zt:Tn[2]),Tn!==null){if(qe===null){if(ze===void 0)throw new Error("Missing the processor constructor.");if(ue===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Gi=dt.channelCount*dt.numberOfInputs,_s=ze.parameterDescriptors===void 0?0:ze.parameterDescriptors.length,ar=Gi+_s;qe=us(dt,ar===0?null:await(async()=>{const zs=new ue(ar,128*Math.ceil(dt.context.length/128),ft.sampleRate),Oc=[],na=[];for(let os=0;os<Oe.numberOfInputs;os+=1)Oc.push(A(zs,{channelCount:Oe.channelCount,channelCountMode:Oe.channelCountMode,channelInterpretation:Oe.channelInterpretation,gain:1})),na.push(_(zs,{channelCount:Oe.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Oe.channelCount}));const ql=await Promise.all(Array.from(dt.parameters.values()).map(async os=>{const Ho=E(zs,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:os.value});return await Z(zs,os,Ho.offset,Ot),Ho})),Wl=d(zs,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Gi+_s)});for(let os=0;os<Oe.numberOfInputs;os+=1){Oc[os].connect(na[os]);for(let Ho=0;Ho<Oe.channelCount;Ho+=1)na[os].connect(Wl,Ho,os*Oe.channelCount+Ho)}for(const[os,Ho]of ql.entries())Ho.connect(Wl,0,Gi+os),Ho.start(0);return Wl.connect(zs.destination),await Promise.all(Oc.map(os=>Ie(dt,zs,os,Ot))),ve(zs)})(),ft,Oe,wn,ze,G)}const qn=await qe,or=c(ft,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[Dn,Kn,Cr]=Tn;qn!==null&&(or.buffer=qn,or.start(0)),or.connect(Dn);for(let Gi=0,_s=0;Gi<dt.numberOfOutputs;Gi+=1){const ar=Kn[Gi];for(let bn=0;bn<wn[Gi];bn+=1)Dn.connect(ar,_s+bn,bn);_s+=wn[Gi]}return Cr}if(gr)for(const[qn,or]of dt.parameters.entries())await g(ft,or,Zt.parameters.get(qn),Ot);else for(const[qn,or]of dt.parameters.entries())await Z(ft,or,Zt.parameters.get(qn),Ot);return await Ie(dt,ft,Zt,Ot),Zt})(st,Je,ct)}}})(Fi,fo,Fr,nr,Vr,Kr,_r,xu,tf,Jd,Pt,Dh,ti,Ls,an,Ni),pp=(g=>i=>g.get(i))(fp),Ph=(g=>(i,c)=>{g.set(i,c)})(Gc),mp=Su?((g,i,c,d,_,E,A,I,B,G,oe,Q,ue)=>class extends i{constructor(Z,Ie,ve){var ge;const Oe=I(Z),ze=B(Oe),Be=oe({...ei,...ve}),qe=C.get(Oe),st=qe==null?void 0:qe.get(Ie),Je=ze||Oe.state!=="closed"?Oe:(ge=A(Oe))!==null&&ge!==void 0?ge:Oe,ct=_(Je,ze?null:Z.baseLatency,G,Ie,st,Be);super(Z,!0,ct,ze?d(Ie,Be,st):null);const Ut=[];ct.parameters.forEach((ft,Ot)=>{const Zt=c(this,ze,ft);Ut.push([Ot,Zt])}),this._nativeAudioWorkletNode=ct,this._onprocessorerror=null,this._parameters=new ki(Ut),ze&&g(Oe,this);const{activeInputs:dt}=E(this);Q(ct,dt)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(Z){const Ie=typeof Z=="function"?ue(this,Z):null;this._nativeAudioWorkletNode.onprocessorerror=Ie;const ve=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=ve!==null&&ve===Ie?Z:ve}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(Ua,kn,Qs,tg,zr,Kt,pp,An,ur,Dh,g=>({...g,outputChannelCount:g.outputChannelCount!==void 0?g.outputChannelCount:g.numberOfInputs===1&&g.numberOfOutputs===1?[g.channelCount]:Array.from({length:g.numberOfOutputs},()=>1)}),Ph,Ve):void 0,ng=((g,i)=>(c,d,_)=>{if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new i(c,d,_)}catch(E){throw E.name==="SyntaxError"?g():E}})(Ne,ti),rg=((g,i,c,d,_,E,A,I)=>{const B=[];return(G,oe)=>c(G).render(G,oe,B).then(()=>Promise.all(Array.from(d(oe)).map(Q=>c(Q).render(Q,oe,B)))).then(()=>_(oe)).then(Q=>(typeof Q.copyFromChannel!="function"?(A(Q),Ye(Q)):i(E,()=>E(Q))||I(Q),g.add(Q),Q))})(Ys,kt,Fn,Ai,Ni,pe,vl,yl),Ih=((g,i,c,d,_)=>class extends g{constructor(E,A,I){let B;if(typeof E=="number"&&A!==void 0&&I!==void 0)B={length:A,numberOfChannels:E,sampleRate:I};else{if(typeof E!="object")throw new Error("The given parameters are not valid.");B=E}const{length:G,numberOfChannels:oe,sampleRate:Q}={...Ze,...B},ue=d(oe,G,Q);i(hs,()=>hs(ue))||ue.addEventListener("statechange",(()=>{let Z=0;const Ie=ve=>{this._state==="running"&&(Z>0?(ue.removeEventListener("statechange",Ie),ve.stopImmediatePropagation(),this._waitForThePromiseToSettle(ve)):Z+=1)};return Ie})()),super(ue,oe),this._length=G,this._nativeOfflineAudioContext=ue,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(c()):(this._state="running",_(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,we(this)}))}_waitForThePromiseToSettle(E){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(E):setTimeout(()=>this._waitForThePromiseToSettle(E))}})(De,kt,lr,ng,rg),fc=((g,i)=>c=>{const d=g.get(c);return i(d)||i(c)})(T,mu),Lh=(nf=b,Eu=vu,g=>nf.has(g)||Eu(g));var nf,Eu;const gp=(rf=O,pc=Oi,g=>rf.has(g)||pc(g));var rf,pc;const vp=((g,i)=>c=>{const d=g.get(c);return i(d)||i(c)})(T,ur),Cu=()=>(async(g,i,c,d,_,E,A,I,B,G,oe,Q,ue,Z,Ie,ve)=>g(i,i)&&g(c,c)&&g(_,_)&&g(E,E)&&g(I,I)&&g(B,B)&&g(G,G)&&g(oe,oe)&&g(Q,Q)&&g(ue,ue)&&g(Z,Z)?(await Promise.all([g(d,d),g(A,A),g(Ie,Ie),g(ve,ve)])).every(ge=>ge):!1)(kt,(g=>()=>{if(g===null)return!1;const i=new g(1,1,44100).createBuffer(1,1,44100);if(i.copyToChannel===void 0)return!0;const c=new Float32Array(2);try{i.copyFromChannel(c,0,0)}catch{return!1}return!0})(ti),(g=>()=>{if(g===null)return!1;if(g.prototype!==void 0&&g.prototype.close!==void 0)return!0;const i=new g,c=i.close!==void 0;try{i.close()}catch{}return c})(No),(g=>()=>{if(g===null)return Promise.resolve(!1);const i=new g(1,1,44100);return new Promise(c=>{let d=!0;const _=A=>{d&&(d=!1,i.startRendering(),c(A instanceof TypeError))};let E;try{E=i.decodeAudioData(null,()=>{},_)}catch(A){_(A)}E!==void 0&&E.catch(_)})})(ti),(g=>()=>{if(g===null)return!1;let i;try{i=new g({latencyHint:"balanced"})}catch{return!1}return i.close(),!0})(No),(g=>()=>{if(g===null)return!1;const i=new g(1,1,44100).createGain(),c=i.connect(i)===i;return i.disconnect(i),c})(ti),((g,i)=>async()=>{if(g===null)return!0;if(i===null)return!1;const c=new Blob(['class A extends AudioWorkletProcessor{process(){this.port.postMessage(0)}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),d=new i(1,128,8e3),_=URL.createObjectURL(c);let E=!1;try{await d.audioWorklet.addModule(_);const A=new g(d,"a",{numberOfOutputs:0}),I=d.createOscillator();A.port.onmessage=()=>E=!0,I.connect(A),I.start(0),await d.startRendering(),E||await new Promise(B=>setTimeout(B,5))}catch{}finally{URL.revokeObjectURL(_)}return E})(Dh,ti),(g=>()=>{if(g===null)return!1;const i=new g(1,1,44100).createChannelMerger();if(i.channelCountMode==="max")return!0;try{i.channelCount=2}catch{return!0}return!1})(ti),(g=>()=>{if(g===null)return!1;const i=new g(1,1,44100);return i.createConstantSource===void 0?!0:i.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(ti),(g=>()=>{if(g===null)return!1;const i=new g(1,1,44100),c=i.createConvolver();c.buffer=i.createBuffer(1,1,i.sampleRate);try{c.buffer=i.createBuffer(1,1,i.sampleRate)}catch{return!1}return!0})(ti),(g=>()=>{if(g===null)return!1;const i=new g(1,1,44100).createConvolver();try{i.channelCount=1}catch{return!1}return!0})(ti),se,(g=>()=>g!==null&&g.hasOwnProperty("isSecureContext"))(nn),(g=>()=>{if(g===null)return!1;const i=new g;try{return i.createMediaStreamSource(new MediaStream),!1}catch{return!0}})(No),(g=>()=>{if(g===null)return Promise.resolve(!1);const i=new g(1,1,44100);if(i.createStereoPanner===void 0||i.createConstantSource===void 0)return Promise.resolve(!0);const c=i.createConstantSource(),d=i.createStereoPanner();return c.channelCount=1,c.offset.value=1,d.channelCount=1,c.start(),c.connect(d).connect(i.destination),i.startRendering().then(_=>_.getChannelData(0)[0]!==1)})(ti),Ee);function on(g,i){if(!g)throw new Error(i)}function ji(g,i,c=1/0){if(!(i<=g&&g<=c))throw new RangeError(`Value must be within [${i}, ${c}], got: ${g}`)}function sf(g){g.isOffline||g.state==="running"||Ba('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let of=console;function ig(g){of=g}function ku(...g){of.log(...g)}function Ba(...g){of.warn(...g)}function ds(g){return g===void 0}function Bn(g){return!ds(g)}function Cl(g){return typeof g=="function"}function ns(g){return typeof g=="number"}function Do(g){return Object.prototype.toString.call(g)==="[object Object]"&&g.constructor===Object}function bi(g){return typeof g=="boolean"}function rr(g){return Array.isArray(g)}function po(g){return typeof g=="string"}function kl(g){return po(g)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(g)}const fa=typeof self=="object"?self:null,sg=fa&&(fa.hasOwnProperty("AudioContext")||fa.hasOwnProperty("webkitAudioContext"));function mo(g,i,c,d){var _,E=arguments.length,A=E<3?i:d===null?d=Object.getOwnPropertyDescriptor(i,c):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,i,c,d);else for(var I=g.length-1;I>=0;I--)(_=g[I])&&(A=(E<3?_(A):E>3?_(i,c,A):_(i,c))||A);return E>3&&A&&Object.defineProperty(i,c,A),A}function Dr(g,i,c,d){return new(c||(c=Promise))(function(_,E){function A(G){try{B(d.next(G))}catch(oe){E(oe)}}function I(G){try{B(d.throw(G))}catch(oe){E(oe)}}function B(G){var oe;G.done?_(G.value):(oe=G.value,oe instanceof c?oe:new c(function(Q){Q(oe)})).then(A,I)}B((d=d.apply(g,i||[])).next())})}class af{constructor(i,c,d){this._callback=i,this._type=c,this._updateInterval=d,this._createClock()}_createWorker(){const i=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),c=URL.createObjectURL(i),d=new Worker(c);d.onmessage=this._callback.bind(this),this._worker=d}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(i){this._updateInterval=Math.max(i,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(1e3*i,1))}get type(){return this._type}set type(i){this._disposeClock(),this._type=i,this._createClock()}dispose(){this._disposeClock()}}function Ro(g){return gp(g)}function Po(g){return Lh(g)}function mc(g){return vp(g)}function Va(g){return fc(g)}function Yc(g){return g instanceof AudioBuffer}function og(g,i){return g==="value"||Ro(i)||Po(i)||Yc(i)}function Io(g,...i){if(!i.length)return g;const c=i.shift();if(Do(g)&&Do(c))for(const d in c)og(d,c[d])?g[d]=c[d]:Do(c[d])?(g[d]||Object.assign(g,{[d]:{}}),Io(g[d],c[d])):Object.assign(g,{[d]:c[d]});return Io(g,...i)}function Se(g,i,c=[],d){const _={},E=Array.from(i);if(Do(E[0])&&d&&!Reflect.has(E[0],d)&&(Object.keys(E[0]).some(A=>Reflect.has(g,A))||(Io(_,{[d]:E[0]}),c.splice(c.indexOf(d),1),E.shift())),E.length===1&&Do(E[0]))Io(_,E[0]);else for(let A=0;A<c.length;A++)Bn(E[A])&&(_[c[A]]=E[A]);return Io(g,_)}function Lo(g,i){return ds(g)?i:g}function fs(g,i){return i.forEach(c=>{Reflect.has(g,c)&&delete g[c]}),g}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Fo{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...i){(this.debug||fa&&this.toString()===fa.TONE_DEBUG_CLASS)&&ku(this,...i)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Fo.version=u;function gc(g,i){return g>i+1e-6}function Fh(g,i){return gc(g,i)||As(g,i)}function Y(g,i){return g+1e-6<i}function As(g,i){return Math.abs(g-i)<1e-6}function Ou(g,i,c){return Math.max(Math.min(g,c),i)}class Si extends Fo{constructor(){super(),this.name="Timeline",this._timeline=[];const i=Se(Si.getDefaults(),arguments,["memory"]);this.memory=i.memory,this.increasing=i.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(i){if(on(Reflect.has(i,"time"),"Timeline: events must have a time attribute"),i.time=i.time.valueOf(),this.increasing&&this.length){const c=this._timeline[this.length-1];on(Fh(i.time,c.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(i)}else{const c=this._search(i.time);this._timeline.splice(c+1,0,i)}if(this.length>this.memory){const c=this.length-this.memory;this._timeline.splice(0,c)}return this}remove(i){const c=this._timeline.indexOf(i);return c!==-1&&this._timeline.splice(c,1),this}get(i,c="time"){const d=this._search(i,c);return d!==-1?this._timeline[d]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(i,c="time"){const d=this._search(i,c);return d+1<this._timeline.length?this._timeline[d+1]:null}getBefore(i){const c=this._timeline.length;if(c>0&&this._timeline[c-1].time<i)return this._timeline[c-1];const d=this._search(i);return d-1>=0?this._timeline[d-1]:null}cancel(i){if(this._timeline.length>1){let c=this._search(i);if(c>=0)if(As(this._timeline[c].time,i)){for(let d=c;d>=0&&As(this._timeline[d].time,i);d--)c=d;this._timeline=this._timeline.slice(0,c)}else this._timeline=this._timeline.slice(0,c+1);else this._timeline=[]}else this._timeline.length===1&&Fh(this._timeline[0].time,i)&&(this._timeline=[]);return this}cancelBefore(i){const c=this._search(i);return c>=0&&(this._timeline=this._timeline.slice(c+1)),this}previousEvent(i){const c=this._timeline.indexOf(i);return c>0?this._timeline[c-1]:null}_search(i,c="time"){if(this._timeline.length===0)return-1;let d=0;const _=this._timeline.length;let E=_;if(_>0&&this._timeline[_-1][c]<=i)return _-1;for(;d<E;){let A=Math.floor(d+(E-d)/2);const I=this._timeline[A],B=this._timeline[A+1];if(As(I[c],i)){for(let G=A;G<this._timeline.length&&As(this._timeline[G][c],i);G++)A=G;return A}if(Y(I[c],i)&&gc(B[c],i))return A;gc(I[c],i)?E=A:d=A+1}return-1}_iterate(i,c=0,d=this._timeline.length-1){this._timeline.slice(c,d+1).forEach(i)}forEach(i){return this._iterate(i),this}forEachBefore(i,c){const d=this._search(i);return d!==-1&&this._iterate(c,0,d),this}forEachAfter(i,c){const d=this._search(i);return this._iterate(c,d+1),this}forEachBetween(i,c,d){let _=this._search(i),E=this._search(c);return _!==-1&&E!==-1?(this._timeline[_].time!==i&&(_+=1),this._timeline[E].time===c&&(E-=1),this._iterate(d,_,E)):_===-1&&this._iterate(d,0,E),this}forEachFrom(i,c){let d=this._search(i);for(;d>=0&&this._timeline[d].time>=i;)d--;return this._iterate(c,d+1),this}forEachAtTime(i,c){const d=this._search(i);if(d!==-1&&As(this._timeline[d].time,i)){let _=d;for(let E=d;E>=0&&As(this._timeline[E].time,i);E--)_=E;this._iterate(E=>{c(E)},_,d)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Qn=[];function jh(g){Qn.push(g)}const yp=[];function Uh(g){yp.push(g)}class Zs extends Fo{constructor(){super(...arguments),this.name="Emitter"}on(i,c){return i.split(/\W+/).forEach(d=>{ds(this._events)&&(this._events={}),this._events.hasOwnProperty(d)||(this._events[d]=[]),this._events[d].push(c)}),this}once(i,c){const d=(..._)=>{c(..._),this.off(i,d)};return this.on(i,d),this}off(i,c){return i.split(/\W+/).forEach(d=>{if(ds(this._events)&&(this._events={}),this._events.hasOwnProperty(i))if(ds(c))this._events[i]=[];else{const _=this._events[i];for(let E=_.length-1;E>=0;E--)_[E]===c&&_.splice(E,1)}}),this}emit(i,...c){if(this._events&&this._events.hasOwnProperty(i)){const d=this._events[i].slice(0);for(let _=0,E=d.length;_<E;_++)d[_].apply(this,c)}return this}static mixin(i){["on","once","off","emit"].forEach(c=>{const d=Object.getOwnPropertyDescriptor(Zs.prototype,c);Object.defineProperty(i.prototype,c,d)})}dispose(){return super.dispose(),this._events=void 0,this}}class Ol extends Zs{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Nl extends Ol{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Si,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const i=Se(Nl.getDefaults(),arguments,["context"]);i.context?this._context=i.context:this._context=function(c){return new Mr(c)}({latencyHint:i.latencyHint}),this._ticker=new af(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(i.latencyHint),this.lookAhead=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var i;return this._initialized||(i=this,Qn.forEach(c=>c(i)),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(i,c,d){return this._context.createBuffer(i,c,d)}createChannelMerger(i){return this._context.createChannelMerger(i)}createChannelSplitter(i){return this._context.createChannelSplitter(i)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(i){return this._context.createDelay(i)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(i,c){return this._context.createIIRFilter(i,c)}createPanner(){return this._context.createPanner()}createPeriodicWave(i,c,d){return this._context.createPeriodicWave(i,c,d)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(i){return on(Va(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(i)}createMediaElementSource(i){return on(Va(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(i)}createMediaStreamDestination(){return on(Va(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(i){return this._context.decodeAudioData(i)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(i){on(!this._initialized,"The listener cannot be set after initialization."),this._listener=i}get transport(){return this.initialize(),this._transport}set transport(i){on(!this._initialized,"The transport cannot be set after initialization."),this._transport=i}get draw(){return this.initialize(),this._draw}set draw(i){on(!this._initialized,"Draw cannot be set after initialization."),this._draw=i}get destination(){return this.initialize(),this._destination}set destination(i){on(!this._initialized,"The destination cannot be set after initialization."),this._destination=i}createAudioWorkletNode(i,c){return function(d,_,E){return on(Bn(mp),"This node only works in a secure context (https or localhost)"),new mp(d,_,E)}(this.rawContext,i,c)}addAudioWorkletModule(i,c){return Dr(this,void 0,void 0,function*(){on(Bn(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(c)||this._workletModules.set(c,this.rawContext.audioWorklet.addModule(i)),yield this._workletModules.get(c)})}workletsAreReady(){return Dr(this,void 0,void 0,function*(){const i=[];this._workletModules.forEach(c=>i.push(c)),yield Promise.all(i)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(i){this._ticker.updateInterval=i}get clockSource(){return this._ticker.type}set clockSource(i){this._ticker.type=i}get latencyHint(){return this._latencyHint}_setLatencyHint(i){let c=0;if(this._latencyHint=i,po(i))switch(i){case"interactive":c=.1;break;case"playback":c=.5;break;case"balanced":c=.25}this.lookAhead=c,this.updateInterval=c/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Va(this._context)?this._context.resume():Promise.resolve()}close(){return Dr(this,void 0,void 0,function*(){var i;Va(this._context)&&(yield this._context.close()),this._initialized&&(i=this,yp.forEach(c=>c(i)))})}getConstant(i){if(this._constants.has(i))return this._constants.get(i);{const c=this._context.createBuffer(1,128,this._context.sampleRate),d=c.getChannelData(0);for(let E=0;E<d.length;E++)d[E]=i;const _=this._context.createBufferSource();return _.channelCount=1,_.channelCountMode="explicit",_.buffer=c,_.loop=!0,_.start(0),this._constants.set(i,_),_}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(i=>this._constants[i].disconnect()),this}_timeoutLoop(){const i=this.now();let c=this._timeouts.peek();for(;this._timeouts.length&&c&&c.time<=i;)c.callback(),this._timeouts.shift(),c=this._timeouts.peek()}setTimeout(i,c){this._timeoutIds++;const d=this.now();return this._timeouts.add({callback:i,id:this._timeoutIds,time:d+c}),this._timeoutIds}clearTimeout(i){return this._timeouts.forEach(c=>{c.id===i&&this._timeouts.remove(c)}),this}clearInterval(i){return this.clearTimeout(i)}setInterval(i,c){const d=++this._timeoutIds,_=()=>{const E=this.now();this._timeouts.add({callback:()=>{i(),_()},id:d,time:E+c})};return _(),d}}function vn(g,i){rr(i)?i.forEach(c=>vn(g,c)):Object.defineProperty(g,i,{enumerable:!0,writable:!1})}function Nu(g,i){rr(i)?i.forEach(c=>Nu(g,c)):Object.defineProperty(g,i,{writable:!0})}const er=()=>{};class Vn extends Fo{constructor(){super(),this.name="ToneAudioBuffer",this.onload=er;const i=Se(Vn.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=i.reverse,this.onload=i.onload,i.url&&Yc(i.url)||i.url instanceof Vn?this.set(i.url):po(i.url)&&this.load(i.url).catch(i.onerror)}static getDefaults(){return{onerror:er,onload:er,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ri().sampleRate}set(i){return i instanceof Vn?i.loaded?this._buffer=i.get():i.onload=()=>{this.set(i),this.onload(this)}:this._buffer=i,this._reversed&&this._reverse(),this}get(){return this._buffer}load(i){return Dr(this,void 0,void 0,function*(){const c=Vn.load(i).then(d=>{this.set(d),this.onload(this)});Vn.downloads.push(c);try{yield c}finally{const d=Vn.downloads.indexOf(c);Vn.downloads.splice(d,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(i){const c=rr(i)&&i[0].length>0,d=c?i.length:1,_=c?i[0].length:i.length,E=ri(),A=E.createBuffer(d,_,E.sampleRate),I=c||d!==1?i:[i];for(let B=0;B<d;B++)A.copyToChannel(I[B],B);return this._buffer=A,this}toMono(i){if(ns(i))this.fromArray(this.toArray(i));else{let c=new Float32Array(this.length);const d=this.numberOfChannels;for(let _=0;_<d;_++){const E=this.toArray(_);for(let A=0;A<E.length;A++)c[A]+=E[A]}c=c.map(_=>_/d),this.fromArray(c)}return this}toArray(i){if(ns(i))return this.getChannelData(i);if(this.numberOfChannels===1)return this.toArray(0);{const c=[];for(let d=0;d<this.numberOfChannels;d++)c[d]=this.getChannelData(d);return c}}getChannelData(i){return this._buffer?this._buffer.getChannelData(i):new Float32Array(0)}slice(i,c=this.duration){const d=Math.floor(i*this.sampleRate),_=Math.floor(c*this.sampleRate);on(d<_,"The start time must be less than the end time");const E=_-d,A=ri().createBuffer(this.numberOfChannels,E,this.sampleRate);for(let I=0;I<this.numberOfChannels;I++)A.copyToChannel(this.getChannelData(I).subarray(d,_),I);return new Vn(A)}_reverse(){if(this.loaded)for(let i=0;i<this.numberOfChannels;i++)this.getChannelData(i).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(i){this._reversed!==i&&(this._reversed=i,this._reverse())}static fromArray(i){return new Vn().fromArray(i)}static fromUrl(i){return Dr(this,void 0,void 0,function*(){return yield new Vn().load(i)})}static load(i){return Dr(this,void 0,void 0,function*(){const c=i.match(/\[([^\]\[]+\|.+)\]$/);if(c){const A=c[1].split("|");let I=A[0];for(const B of A)if(Vn.supportsType(B)){I=B;break}i=i.replace(c[0],I)}const d=Vn.baseUrl===""||Vn.baseUrl.endsWith("/")?Vn.baseUrl:Vn.baseUrl+"/",_=yield fetch(d+i);if(!_.ok)throw new Error("could not load url: "+i);const E=yield _.arrayBuffer();return yield ri().decodeAudioData(E)})}static supportsType(i){const c=i.split("."),d=c[c.length-1];return document.createElement("audio").canPlayType("audio/"+d)!==""}static loaded(){return Dr(this,void 0,void 0,function*(){for(yield Promise.resolve();Vn.downloads.length;)yield Vn.downloads[0]})}}Vn.baseUrl="",Vn.downloads=[];class Al extends Nl{constructor(){var i,c,d;super({clockSource:"offline",context:mc(arguments[0])?arguments[0]:(i=arguments[0],c=arguments[1]*arguments[2],d=arguments[2],new Ih(i,c,d)),lookAhead:0,updateInterval:mc(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=mc(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(i){return Dr(this,void 0,void 0,function*(){let c=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,c++;const d=Math.floor(this.sampleRate/128);i&&c%d==0&&(yield new Promise(_=>setTimeout(_,1)))}})}render(i=!0){return Dr(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(i);const c=yield this._context.startRendering();return new Vn(c)})}close(){return Promise.resolve()}}const cf=new class extends Ol{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(g,i,c){return{}}createChannelMerger(g){return{}}createChannelSplitter(g){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(g){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(g,i){return{}}createPanner(){return{}}createPeriodicWave(g,i,c){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(g){return{}}createMediaElementSource(g){return{}}createMediaStreamDestination(){return{}}decodeAudioData(g){return Promise.resolve({})}createAudioWorkletNode(g,i){return{}}get rawContext(){return{}}addAudioWorkletModule(g,i){return Dr(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(g,i){return 0}clearTimeout(g){return this}setInterval(g,i){return 0}clearInterval(g){return this}getConstant(g){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(g){}get destination(){return{}}set destination(g){}now(){return 0}immediate(){return 0}};let Bh=cf;function ri(){return Bh===cf&&sg&&Au(new Nl),Bh}function Au(g){Bh=Va(g)?new Nl(g):mc(g)?new Al(g):g}function za(){return Bh.resume()}if(fa&&!fa.TONE_SILENCE_LOGGING){const i=` * Tone.js v${u} * `;console.log("%c"+i,"background: #000; color: #fff")}function Ml(g){return Math.pow(10,g/20)}function Mu(g){return Math.log(g)/Math.LN10*20}function go(g){return Math.pow(2,g/12)}let Du=440;function vc(g){return Math.round(yc(g))}function yc(g){return 69+12*Math.log2(g/Du)}function lf(g){return Du*Math.pow(2,(g-69)/12)}class Lt extends Fo{constructor(i,c,d){super(),this.defaultUnits="s",this._val=c,this._units=d,this.context=i,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:i=>this._frequencyToUnits(parseFloat(i)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:i=>this._ticksToUnits(parseInt(i,10)),regexp:/^(\d+)i$/i},m:{method:i=>this._beatsToUnits(parseInt(i,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(i,c)=>{const d=parseInt(i,10),_=c==="."?1.5:1;return d===1?this._beatsToUnits(this._getTimeSignature())*_:this._beatsToUnits(4/d)*_},regexp:/^(\d+)n(\.?)$/i},number:{method:i=>this._expressions[this.defaultUnits].method.call(this,i),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:i=>this._secondsToUnits(parseFloat(i)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:i=>parseInt(i,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:i=>{const c=parseInt(i,10);return this._beatsToUnits(8/(3*Math.floor(c)))},regexp:/^(\d+)t$/i},tr:{method:(i,c,d)=>{let _=0;return i&&i!=="0"&&(_+=this._beatsToUnits(this._getTimeSignature()*parseFloat(i))),c&&c!=="0"&&(_+=this._beatsToUnits(parseFloat(c))),d&&d!=="0"&&(_+=this._beatsToUnits(parseFloat(d)/4)),_},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Lt&&this.fromType(this._val),ds(this._val))return this._noArg();if(po(this._val)&&ds(this._units)){for(const i in this._expressions)if(this._expressions[i].regexp.test(this._val.trim())){this._units=i;break}}else if(Do(this._val)){let i=0;for(const c in this._val)if(Bn(this._val[c])){const d=this._val[c];i+=new this.constructor(this.context,c).valueOf()*d}return i}if(Bn(this._units)){const i=this._expressions[this._units],c=this._val.toString().trim().match(i.regexp);return c?i.method.apply(this,c.slice(1)):i.method.call(this,this._val)}return po(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(i){return 1/i}_beatsToUnits(i){return 60/this._getBpm()*i}_secondsToUnits(i){return i}_ticksToUnits(i){return i*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(i){switch(this._units=void 0,this.defaultUnits){case"s":this._val=i.toSeconds();break;case"i":this._val=i.toTicks();break;case"hz":this._val=i.toFrequency();break;case"midi":this._val=i.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class fi extends Lt{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:i=>this._now()+new this.constructor(this.context,i).valueOf(),regexp:/^\+(.+)/},quantize:{method:i=>{const c=new fi(this.context,i).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(c))},regexp:/^@(.+)/}})}quantize(i,c=1){const d=new this.constructor(this.context,i).valueOf(),_=this.valueOf();return _+(Math.round(_/d)*d-_)*c}toNotation(){const i=this.toSeconds(),c=["1m"];for(let E=1;E<9;E++){const A=Math.pow(2,E);c.push(A+"n."),c.push(A+"n"),c.push(A+"t")}c.push("0");let d=c[0],_=new fi(this.context,c[0]).toSeconds();return c.forEach(E=>{const A=new fi(this.context,E).toSeconds();Math.abs(A-i)<Math.abs(_-i)&&(d=E,_=A)}),d}toBarsBeatsSixteenths(){const i=this._beatsToUnits(1);let c=this.valueOf()/i;c=parseFloat(c.toFixed(4));const d=Math.floor(c/this._getTimeSignature());let _=c%1*4;c=Math.floor(c)%this._getTimeSignature();const E=_.toString();return E.length>3&&(_=parseFloat(parseFloat(E).toFixed(3))),[d,c,_].join(":")}toTicks(){const i=this._beatsToUnits(1),c=this.valueOf()/i;return Math.round(c*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return vc(this.toFrequency())}_now(){return this.context.now()}}function ag(g,i){return new fi(ri(),g,i)}class Ms extends fi{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Du}static set A4(i){(function(c){Du=c})(i)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(i){return this.defaultUnits==="midi"?i:Ms.mtof(i)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(i,c){const d=xr[i.toLowerCase()]+12*(parseInt(c,10)+1);return this.defaultUnits==="midi"?d:Ms.mtof(d)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(i,c,d){let _=1;return i&&i!=="0"&&(_*=this._beatsToUnits(this._getTimeSignature()*parseFloat(i))),c&&c!=="0"&&(_*=this._beatsToUnits(parseFloat(c))),d&&d!=="0"&&(_*=this._beatsToUnits(parseFloat(d)/4)),_}}})}transpose(i){return new Ms(this.context,this.valueOf()*go(i))}harmonize(i){return i.map(c=>this.transpose(c))}toMidi(){return vc(this.valueOf())}toNote(){const i=this.toFrequency(),c=Math.log2(i/Ms.A4);let d=Math.round(12*c)+57;const _=Math.floor(d/12);return _<0&&(d+=-12*_),Vh[d%12]+_.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const i=this._beatsToUnits(1),c=this.valueOf()/i;return Math.floor(c*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(i){return i}_ticksToUnits(i){return 1/(60*i/(this._getBpm()*this._getPPQ()))}_beatsToUnits(i){return 1/super._beatsToUnits(i)}_secondsToUnits(i){return 1/i}static mtof(i){return lf(i)}static ftom(i){return vc(i)}}const xr={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Vh=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function _p(g,i){return new Ms(ri(),g,i)}class pi extends fi{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function wp(g,i){return new pi(ri(),g,i)}class rs extends Fo{constructor(){super();const i=Se(rs.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=i.context}static getDefaults(){return{context:ri()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(i){return new fi(this.context,i).toSeconds()}toFrequency(i){return new Ms(this.context,i).toFrequency()}toTicks(i){return new pi(this.context,i).toTicks()}_getPartialProperties(i){const c=this.get();return Object.keys(c).forEach(d=>{ds(i[d])&&delete c[d]}),c}get(){const i=this.constructor.getDefaults();return Object.keys(i).forEach(c=>{if(Reflect.has(this,c)){const d=this[c];Bn(d)&&Bn(d.value)&&Bn(d.setValueAtTime)?i[c]=d.value:d instanceof rs?i[c]=d._getPartialProperties(i[c]):rr(d)||ns(d)||po(d)||bi(d)?i[c]=d:delete i[c]}}),i}set(i){return Object.keys(i).forEach(c=>{Reflect.has(this,c)&&Bn(this[c])&&(this[c]&&Bn(this[c].value)&&Bn(this[c].setValueAtTime)?this[c].value!==i[c]&&(this[c].value=i[c]):this[c]instanceof rs?this[c].set(i[c]):this[c]=i[c])}),this}}class Dl extends Si{constructor(i="stopped"){super(),this.name="StateTimeline",this._initial=i,this.setStateAtTime(this._initial,0)}getValueAtTime(i){const c=this.get(i);return c!==null?c.state:this._initial}setStateAtTime(i,c,d){return ji(c,0),this.add(Object.assign({},d,{state:i,time:c})),this}getLastState(i,c){for(let d=this._search(c);d>=0;d--){const _=this._timeline[d];if(_.state===i)return _}}getNextState(i,c){const d=this._search(c);if(d!==-1)for(let _=d;_<this._timeline.length;_++){const E=this._timeline[_];if(E.state===i)return E}}}class On extends rs{constructor(){super(Se(On.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const i=Se(On.getDefaults(),arguments,["param","units","convert"]);for(on(Bn(i.param)&&(Ro(i.param)||i.param instanceof On),"param must be an AudioParam");!Ro(i.param);)i.param=i.param._param;this._swappable=!!Bn(i.swappable)&&i.swappable,this._swappable?(this.input=this.context.createGain(),this._param=i.param,this.input.connect(this._param)):this._param=this.input=i.param,this._events=new Si(1e3),this._initialValue=this._param.defaultValue,this.units=i.units,this.convert=i.convert,this._minValue=i.minValue,this._maxValue=i.maxValue,Bn(i.value)&&i.value!==this._toType(this._initialValue)&&this.setValueAtTime(i.value,0)}static getDefaults(){return Object.assign(rs.getDefaults(),{convert:!0,units:"number"})}get value(){const i=this.now();return this.getValueAtTime(i)}set value(i){this.cancelScheduledValues(this.now()),this.setValueAtTime(i,this.now())}get minValue(){return Bn(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Bn(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(i,c){return this.units===c}_assertRange(i){return Bn(this.maxValue)&&Bn(this.minValue)&&ji(i,this._fromType(this.minValue),this._fromType(this.maxValue)),i}_fromType(i){return this.convert&&!this.overridden?this._is(i,"time")?this.toSeconds(i):this._is(i,"decibels")?Ml(i):this._is(i,"frequency")?this.toFrequency(i):i:this.overridden?0:i}_toType(i){return this.convert&&this.units==="decibels"?Mu(i):i}setValueAtTime(i,c){const d=this.toSeconds(c),_=this._fromType(i);return on(isFinite(_)&&isFinite(d),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(i)}, ${JSON.stringify(c)}`),this._assertRange(_),this.log(this.units,"setValueAtTime",i,d),this._events.add({time:d,type:"setValueAtTime",value:_}),this._param.setValueAtTime(_,d),this}getValueAtTime(i){const c=Math.max(this.toSeconds(i),0),d=this._events.getAfter(c),_=this._events.get(c);let E=this._initialValue;if(_===null)E=this._initialValue;else if(_.type!=="setTargetAtTime"||d!==null&&d.type!=="setValueAtTime")if(d===null)E=_.value;else if(d.type==="linearRampToValueAtTime"||d.type==="exponentialRampToValueAtTime"){let A=_.value;if(_.type==="setTargetAtTime"){const I=this._events.getBefore(_.time);A=I===null?this._initialValue:I.value}E=d.type==="linearRampToValueAtTime"?this._linearInterpolate(_.time,A,d.time,d.value,c):this._exponentialInterpolate(_.time,A,d.time,d.value,c)}else E=_.value;else{const A=this._events.getBefore(_.time);let I;I=A===null?this._initialValue:A.value,_.type==="setTargetAtTime"&&(E=this._exponentialApproach(_.time,I,_.value,_.constant,c))}return this._toType(E)}setRampPoint(i){i=this.toSeconds(i);let c=this.getValueAtTime(i);return this.cancelAndHoldAtTime(i),this._fromType(c)===0&&(c=this._toType(this._minOutput)),this.setValueAtTime(c,i),this}linearRampToValueAtTime(i,c){const d=this._fromType(i),_=this.toSeconds(c);return on(isFinite(d)&&isFinite(_),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(i)}, ${JSON.stringify(c)}`),this._assertRange(d),this._events.add({time:_,type:"linearRampToValueAtTime",value:d}),this.log(this.units,"linearRampToValueAtTime",i,_),this._param.linearRampToValueAtTime(d,_),this}exponentialRampToValueAtTime(i,c){let d=this._fromType(i);d=As(d,0)?this._minOutput:d,this._assertRange(d);const _=this.toSeconds(c);return on(isFinite(d)&&isFinite(_),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(i)}, ${JSON.stringify(c)}`),this._events.add({time:_,type:"exponentialRampToValueAtTime",value:d}),this.log(this.units,"exponentialRampToValueAtTime",i,_),this._param.exponentialRampToValueAtTime(d,_),this}exponentialRampTo(i,c,d){return d=this.toSeconds(d),this.setRampPoint(d),this.exponentialRampToValueAtTime(i,d+this.toSeconds(c)),this}linearRampTo(i,c,d){return d=this.toSeconds(d),this.setRampPoint(d),this.linearRampToValueAtTime(i,d+this.toSeconds(c)),this}targetRampTo(i,c,d){return d=this.toSeconds(d),this.setRampPoint(d),this.exponentialApproachValueAtTime(i,d,c),this}exponentialApproachValueAtTime(i,c,d){c=this.toSeconds(c),d=this.toSeconds(d);const _=Math.log(d+1)/Math.log(200);return this.setTargetAtTime(i,c,_),this.cancelAndHoldAtTime(c+.9*d),this.linearRampToValueAtTime(i,c+d),this}setTargetAtTime(i,c,d){const _=this._fromType(i);on(isFinite(d)&&d>0,"timeConstant must be a number greater than 0");const E=this.toSeconds(c);return this._assertRange(_),on(isFinite(_)&&isFinite(E),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(i)}, ${JSON.stringify(c)}`),this._events.add({constant:d,time:E,type:"setTargetAtTime",value:_}),this.log(this.units,"setTargetAtTime",i,E,d),this._param.setTargetAtTime(_,E,d),this}setValueCurveAtTime(i,c,d,_=1){d=this.toSeconds(d),c=this.toSeconds(c);const E=this._fromType(i[0])*_;this.setValueAtTime(this._toType(E),c);const A=d/(i.length-1);for(let I=1;I<i.length;I++){const B=this._fromType(i[I])*_;this.linearRampToValueAtTime(this._toType(B),c+I*A)}return this}cancelScheduledValues(i){const c=this.toSeconds(i);return on(isFinite(c),"Invalid argument to cancelScheduledValues: "+JSON.stringify(i)),this._events.cancel(c),this._param.cancelScheduledValues(c),this.log(this.units,"cancelScheduledValues",c),this}cancelAndHoldAtTime(i){const c=this.toSeconds(i),d=this._fromType(this.getValueAtTime(c));on(isFinite(c),"Invalid argument to cancelAndHoldAtTime: "+JSON.stringify(i)),this.log(this.units,"cancelAndHoldAtTime",c,"value="+d);const _=this._events.get(c),E=this._events.getAfter(c);return _&&As(_.time,c)?E?(this._param.cancelScheduledValues(E.time),this._events.cancel(E.time)):(this._param.cancelAndHoldAtTime(c),this._events.cancel(c+this.sampleTime)):E&&(this._param.cancelScheduledValues(E.time),this._events.cancel(E.time),E.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(d),c):E.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(d),c)),this._events.add({time:c,type:"setValueAtTime",value:d}),this._param.setValueAtTime(d,c),this}rampTo(i,c=.1,d){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(i,c,d):this.linearRampTo(i,c,d),this}apply(i){const c=this.context.currentTime;i.setValueAtTime(this.getValueAtTime(c),c);const d=this._events.get(c);if(d&&d.type==="setTargetAtTime"){const _=this._events.getAfter(d.time),E=_?_.time:c+2,A=(E-c)/10;for(let I=c;I<E;I+=A)i.linearRampToValueAtTime(this.getValueAtTime(I),I)}return this._events.forEachAfter(this.context.currentTime,_=>{_.type==="cancelScheduledValues"?i.cancelScheduledValues(_.time):_.type==="setTargetAtTime"?i.setTargetAtTime(_.value,_.time,_.constant):i[_.type](_.value,_.time)}),this}setParam(i){on(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const c=this.input;return c.disconnect(this._param),this.apply(i),this._param=i,c.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(i,c,d,_,E){return d+(c-d)*Math.exp(-(E-i)/_)}_linearInterpolate(i,c,d,_,E){return c+(E-i)/(d-i)*(_-c)}_exponentialInterpolate(i,c,d,_,E){return c*Math.pow(_/c,(E-i)/(d-i))}}class At extends rs{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Bn(this.input)?Ro(this.input)||this.input instanceof On?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Bn(this.output)?this.output.numberOfOutputs:0}_isAudioNode(i){return Bn(i)&&(i instanceof At||Po(i))}_getInternalNodes(){const i=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&i.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&i.push(this.output),i}_setChannelProperties(i){this._getInternalNodes().forEach(c=>{c.channelCount=i.channelCount,c.channelCountMode=i.channelCountMode,c.channelInterpretation=i.channelInterpretation})}_getChannelProperties(){const i=this._getInternalNodes();on(i.length>0,"ToneAudioNode does not have any internal nodes");const c=i[0];return{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(i){const c=this._getChannelProperties();this._setChannelProperties(Object.assign(c,{channelCount:i}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(i){const c=this._getChannelProperties();this._setChannelProperties(Object.assign(c,{channelCountMode:i}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(i){const c=this._getChannelProperties();this._setChannelProperties(Object.assign(c,{channelInterpretation:i}))}connect(i,c=0,d=0){return Js(this,i,c,d),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ba("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(i,c=0,d=0){return Ru(this,i,c,d),this}chain(...i){return ui(this,...i),this}fan(...i){return i.forEach(c=>this.connect(c)),this}dispose(){return super.dispose(),Bn(this.input)&&(this.input instanceof At?this.input.dispose():Po(this.input)&&this.input.disconnect()),Bn(this.output)&&(this.output instanceof At?this.output.dispose():Po(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function ui(...g){const i=g.shift();g.reduce((c,d)=>(c instanceof At?c.connect(d):Po(c)&&Js(c,d),d),i)}function Js(g,i,c=0,d=0){for(on(Bn(g),"Cannot connect from undefined node"),on(Bn(i),"Cannot connect to undefined node"),(i instanceof At||Po(i))&&on(i.numberOfInputs>0,"Cannot connect to node with no inputs"),on(g.numberOfOutputs>0,"Cannot connect from node with no outputs");i instanceof At||i instanceof On;)Bn(i.input)&&(i=i.input);for(;g instanceof At;)Bn(g.output)&&(g=g.output);Ro(i)?g.connect(i,c):g.connect(i,c,d)}function Ru(g,i,c=0,d=0){if(Bn(i))for(;i instanceof At;)i=i.input;for(;!Po(g);)Bn(g.output)&&(g=g.output);Ro(i)?g.disconnect(i,c):Po(i)?g.disconnect(i,c,d):g.disconnect()}class cn extends At{constructor(){super(Se(cn.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const i=Se(cn.getDefaults(),arguments,["gain","units"]);this.gain=new On({context:this.context,convert:i.convert,param:this._gainNode.gain,units:i.units,value:i.gain,minValue:i.minValue,maxValue:i.maxValue}),vn(this,"gain")}static getDefaults(){return Object.assign(At.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class eo extends At{constructor(i){super(i),this.onended=er,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new cn({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(c){const d=this.toSeconds(c);return this._startTime!==-1&&d>=this._startTime&&(this._stopTime===-1||d<=this._stopTime)?"started":"stopped"},this._fadeIn=i.fadeIn,this._fadeOut=i.fadeOut,this._curve=i.curve,this.onended=i.onended}static getDefaults(){return Object.assign(At.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:er})}_startGain(i,c=1){on(this._startTime===-1,"Source cannot be started more than once");const d=this.toSeconds(this._fadeIn);return this._startTime=i+d,this._startTime=Math.max(this._startTime,this.context.currentTime),d>0?(this._gainNode.gain.setValueAtTime(0,i),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(c,i+d):this._gainNode.gain.exponentialApproachValueAtTime(c,i,d)):this._gainNode.gain.setValueAtTime(c,i),this}stop(i){return this.log("stop",i),this._stopGain(this.toSeconds(i)),this}_stopGain(i){on(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const c=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(i)+c,this._stopTime=Math.max(this._stopTime,this.context.currentTime),c>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,c,i):this._gainNode.gain.targetRampTo(0,c,i):(this._gainNode.gain.cancelAndHoldAtTime(i),this._gainNode.gain.setValueAtTime(0,i)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const d=this._curve==="exponential"?2*c:0;this._stopSource(this.now()+d),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==er&&(this.onended(this),this.onended=er,!this.context.isOffline)){const i=()=>this.dispose();window.requestIdleCallback!==void 0?window.requestIdleCallback(i):setTimeout(i,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),on(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class _c extends eo{constructor(){super(Se(_c.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const i=Se(_c.getDefaults(),arguments,["offset"]);Js(this._source,this._gainNode),this.offset=new On({context:this.context,convert:i.convert,param:this._source.offset,units:i.units,value:i.offset,minValue:i.minValue,maxValue:i.maxValue})}static getDefaults(){return Object.assign(eo.getDefaults(),{convert:!0,offset:1,units:"number"})}start(i){const c=this.toSeconds(i);return this.log("start",c),this._startGain(c),this._source.start(c),this}_stopSource(i){this._source.stop(i)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class hn extends At{constructor(){super(Se(hn.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const i=Se(hn.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new _c({context:this.context,convert:i.convert,offset:i.value,units:i.units,minValue:i.minValue,maxValue:i.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(At.getDefaults(),{convert:!0,units:"number",value:0})}connect(i,c=0,d=0){return ps(this,i,c,d),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(i,c){return this._param.setValueAtTime(i,c),this}getValueAtTime(i){return this._param.getValueAtTime(i)}setRampPoint(i){return this._param.setRampPoint(i),this}linearRampToValueAtTime(i,c){return this._param.linearRampToValueAtTime(i,c),this}exponentialRampToValueAtTime(i,c){return this._param.exponentialRampToValueAtTime(i,c),this}exponentialRampTo(i,c,d){return this._param.exponentialRampTo(i,c,d),this}linearRampTo(i,c,d){return this._param.linearRampTo(i,c,d),this}targetRampTo(i,c,d){return this._param.targetRampTo(i,c,d),this}exponentialApproachValueAtTime(i,c,d){return this._param.exponentialApproachValueAtTime(i,c,d),this}setTargetAtTime(i,c,d){return this._param.setTargetAtTime(i,c,d),this}setValueCurveAtTime(i,c,d,_){return this._param.setValueCurveAtTime(i,c,d,_),this}cancelScheduledValues(i){return this._param.cancelScheduledValues(i),this}cancelAndHoldAtTime(i){return this._param.cancelAndHoldAtTime(i),this}rampTo(i,c,d){return this._param.rampTo(i,c,d),this}get value(){return this._param.value}set value(i){this._param.value=i}get convert(){return this._param.convert}set convert(i){this._param.convert=i}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(i){this._param.overridden=i}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(i){return this._param.apply(i),this}}function ps(g,i,c,d){(i instanceof On||Ro(i)||i instanceof hn&&i.override)&&(i.cancelScheduledValues(0),i.setValueAtTime(0,0),i instanceof hn&&(i.overridden=!0)),Js(g,i,c,d)}class Rl extends On{constructor(){super(Se(Rl.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Si(1/0),this._multiplier=1;const i=Se(Rl.getDefaults(),arguments,["value"]);this._multiplier=i.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(i.value)}),this.setValueAtTime(i.value,0)}static getDefaults(){return Object.assign(On.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(i,c,d){c=this.toSeconds(c),this.setRampPoint(c);const _=this._fromType(i),E=this._events.get(c),A=Math.round(Math.max(1/d,1));for(let I=0;I<=A;I++){const B=d*I+c,G=this._exponentialApproach(E.time,E.value,_,d,B);this.linearRampToValueAtTime(this._toType(G),B)}return this}setValueAtTime(i,c){const d=this.toSeconds(c);super.setValueAtTime(i,c);const _=this._events.get(d),E=this._events.previousEvent(_),A=this._getTicksUntilEvent(E,d);return _.ticks=Math.max(A,0),this}linearRampToValueAtTime(i,c){const d=this.toSeconds(c);super.linearRampToValueAtTime(i,c);const _=this._events.get(d),E=this._events.previousEvent(_),A=this._getTicksUntilEvent(E,d);return _.ticks=Math.max(A,0),this}exponentialRampToValueAtTime(i,c){c=this.toSeconds(c);const d=this._fromType(i),_=this._events.get(c),E=Math.round(Math.max(10*(c-_.time),1)),A=(c-_.time)/E;for(let I=0;I<=E;I++){const B=A*I+_.time,G=this._exponentialInterpolate(_.time,_.value,c,d,B);this.linearRampToValueAtTime(this._toType(G),B)}return this}_getTicksUntilEvent(i,c){if(i===null)i={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ds(i.ticks)){const A=this._events.previousEvent(i);i.ticks=this._getTicksUntilEvent(A,i.time)}const d=this._fromType(this.getValueAtTime(i.time));let _=this._fromType(this.getValueAtTime(c));const E=this._events.get(c);return E&&E.time===c&&E.type==="setValueAtTime"&&(_=this._fromType(this.getValueAtTime(c-this.sampleTime))),.5*(c-i.time)*(d+_)+i.ticks}getTicksAtTime(i){const c=this.toSeconds(i),d=this._events.get(c);return Math.max(this._getTicksUntilEvent(d,c),0)}getDurationOfTicks(i,c){const d=this.toSeconds(c),_=this.getTicksAtTime(c);return this.getTimeOfTick(_+i)-d}getTimeOfTick(i){const c=this._events.get(i,"ticks"),d=this._events.getAfter(i,"ticks");if(c&&c.ticks===i)return c.time;if(c&&d&&d.type==="linearRampToValueAtTime"&&c.value!==d.value){const _=this._fromType(this.getValueAtTime(c.time)),E=(this._fromType(this.getValueAtTime(d.time))-_)/(d.time-c.time),A=Math.sqrt(Math.pow(_,2)-2*E*(c.ticks-i)),I=(-_+A)/E,B=(-_-A)/E;return(I>0?I:B)+c.time}return c?c.value===0?1/0:c.time+(i-c.ticks)/c.value:i/this._initialValue}ticksToTime(i,c){return this.getDurationOfTicks(i,c)}timeToTicks(i,c){const d=this.toSeconds(c),_=this.toSeconds(i),E=this.getTicksAtTime(d);return this.getTicksAtTime(d+_)-E}_fromType(i){return this.units==="bpm"&&this.multiplier?1/(60/i/this.multiplier):super._fromType(i)}_toType(i){return this.units==="bpm"&&this.multiplier?i/this.multiplier*60:super._toType(i)}get multiplier(){return this._multiplier}set multiplier(i){const c=this.value;this._multiplier=i,this.cancelScheduledValues(0),this.setValueAtTime(c,0)}}class Pu extends hn{constructor(){super(Se(Pu.getDefaults(),arguments,["value"])),this.name="TickSignal";const i=Se(Pu.getDefaults(),arguments,["value"]);this.input=this._param=new Rl({context:this.context,convert:i.convert,multiplier:i.multiplier,param:this._constantSource.offset,units:i.units,value:i.value})}static getDefaults(){return Object.assign(hn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(i,c){return this._param.ticksToTime(i,c)}timeToTicks(i,c){return this._param.timeToTicks(i,c)}getTimeOfTick(i){return this._param.getTimeOfTick(i)}getDurationOfTicks(i,c){return this._param.getDurationOfTicks(i,c)}getTicksAtTime(i){return this._param.getTicksAtTime(i)}get multiplier(){return this._param.multiplier}set multiplier(i){this._param.multiplier=i}dispose(){return super.dispose(),this._param.dispose(),this}}class Iu extends rs{constructor(){super(Se(Iu.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Dl,this._tickOffset=new Si;const i=Se(Iu.getDefaults(),arguments,["frequency"]);this.frequency=new Pu({context:this.context,units:i.units,value:i.frequency}),vn(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},rs.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(i,c){const d=this.toSeconds(i);return this._state.getValueAtTime(d)!=="started"&&(this._state.setStateAtTime("started",d),Bn(c)&&this.setTicksAtTime(c,d)),this}stop(i){const c=this.toSeconds(i);if(this._state.getValueAtTime(c)==="stopped"){const d=this._state.get(c);d&&d.time>0&&(this._tickOffset.cancel(d.time),this._state.cancel(d.time))}return this._state.cancel(c),this._state.setStateAtTime("stopped",c),this.setTicksAtTime(0,c),this}pause(i){const c=this.toSeconds(i);return this._state.getValueAtTime(c)==="started"&&this._state.setStateAtTime("paused",c),this}cancel(i){return i=this.toSeconds(i),this._state.cancel(i),this._tickOffset.cancel(i),this}getTicksAtTime(i){const c=this.toSeconds(i),d=this._state.getLastState("stopped",c),_={state:"paused",time:c};this._state.add(_);let E=d,A=0;return this._state.forEachBetween(d.time,c+this.sampleTime,I=>{let B=E.time;const G=this._tickOffset.get(I.time);G&&G.time>=E.time&&(A=G.ticks,B=G.time),E.state==="started"&&I.state!=="started"&&(A+=this.frequency.getTicksAtTime(I.time)-this.frequency.getTicksAtTime(B)),E=I}),this._state.remove(_),A}get ticks(){return this.getTicksAtTime(this.now())}set ticks(i){this.setTicksAtTime(i,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(i){const c=this.now(),d=this.frequency.timeToTicks(i,c);this.setTicksAtTime(d,c)}getSecondsAtTime(i){i=this.toSeconds(i);const c=this._state.getLastState("stopped",i),d={state:"paused",time:i};this._state.add(d);let _=c,E=0;return this._state.forEachBetween(c.time,i+this.sampleTime,A=>{let I=_.time;const B=this._tickOffset.get(A.time);B&&B.time>=_.time&&(E=B.seconds,I=B.time),_.state==="started"&&A.state!=="started"&&(E+=A.time-I),_=A}),this._state.remove(d),E}setTicksAtTime(i,c){return c=this.toSeconds(c),this._tickOffset.cancel(c),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(i,c),ticks:i,time:c}),this}getStateAtTime(i){return i=this.toSeconds(i),this._state.getValueAtTime(i)}getTimeOfTick(i,c=this.now()){const d=this._tickOffset.get(c),_=this._state.get(c),E=Math.max(d.time,_.time),A=this.frequency.getTicksAtTime(E)+i-d.ticks;return this.frequency.getTimeOfTick(A)}forEachTickBetween(i,c,d){let _=this._state.get(i);this._state.forEachBetween(i,c,A=>{_&&_.state==="started"&&A.state!=="started"&&this.forEachTickBetween(Math.max(_.time,i),A.time-this.sampleTime,d),_=A});let E=null;if(_&&_.state==="started"){const A=Math.max(_.time,i),I=this.frequency.getTicksAtTime(A),B=I-this.frequency.getTicksAtTime(_.time);let G=Math.ceil(B)-B;G=As(G,1)?0:G;let oe=this.frequency.getTimeOfTick(I+G);for(;oe<c;){try{d(oe,Math.round(this.getTicksAtTime(oe)))}catch(Q){E=Q;break}oe+=this.frequency.getDurationOfTicks(1,oe)}}if(E)throw E;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Wi extends rs{constructor(){super(Se(Wi.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=er,this._lastUpdate=0,this._state=new Dl("stopped"),this._boundLoop=this._loop.bind(this);const i=Se(Wi.getDefaults(),arguments,["callback","frequency"]);this.callback=i.callback,this._tickSource=new Iu({context:this.context,frequency:i.frequency,units:i.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,vn(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(rs.getDefaults(),{callback:er,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(i,c){sf(this.context);const d=this.toSeconds(i);return this.log("start",d),this._state.getValueAtTime(d)!=="started"&&(this._state.setStateAtTime("started",d),this._tickSource.start(d,c),d<this._lastUpdate&&this.emit("start",d,c)),this}stop(i){const c=this.toSeconds(i);return this.log("stop",c),this._state.cancel(c),this._state.setStateAtTime("stopped",c),this._tickSource.stop(c),c<this._lastUpdate&&this.emit("stop",c),this}pause(i){const c=this.toSeconds(i);return this._state.getValueAtTime(c)==="started"&&(this._state.setStateAtTime("paused",c),this._tickSource.pause(c),c<this._lastUpdate&&this.emit("pause",c)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(i){this._tickSource.ticks=i}get seconds(){return this._tickSource.seconds}set seconds(i){this._tickSource.seconds=i}getSecondsAtTime(i){return this._tickSource.getSecondsAtTime(i)}setTicksAtTime(i,c){return this._tickSource.setTicksAtTime(i,c),this}getTimeOfTick(i,c=this.now()){return this._tickSource.getTimeOfTick(i,c)}getTicksAtTime(i){return this._tickSource.getTicksAtTime(i)}nextTickTime(i,c){const d=this.toSeconds(c),_=this.getTicksAtTime(d);return this._tickSource.getTimeOfTick(_+i,d)}_loop(){const i=this._lastUpdate,c=this.now();this._lastUpdate=c,this.log("loop",i,c),i!==c&&(this._state.forEachBetween(i,c,d=>{switch(d.state){case"started":const _=this._tickSource.getTicksAtTime(d.time);this.emit("start",d.time,_);break;case"stopped":d.time!==0&&this.emit("stop",d.time);break;case"paused":this.emit("pause",d.time)}}),this._tickSource.forEachTickBetween(i,c,(d,_)=>{this.callback(d,_)}))}getStateAtTime(i){const c=this.toSeconds(i);return this._state.getValueAtTime(c)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Zs.mixin(Wi);class Mi extends At{constructor(){super(Se(Mi.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const i=Se(Mi.getDefaults(),arguments,["delayTime","maxDelay"]),c=this.toSeconds(i.maxDelay);this._maxDelay=Math.max(c,this.toSeconds(i.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(c),this.delayTime=new On({context:this.context,param:this._delayNode.delayTime,units:"time",value:i.delayTime,minValue:0,maxValue:this.maxDelay}),vn(this,"delayTime")}static getDefaults(){return Object.assign(At.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function bp(g,i,c=2,d=ri().sampleRate){return Dr(this,void 0,void 0,function*(){const _=ri(),E=new Al(c,i,d);Au(E),yield g(E);const A=E.render();Au(_);const I=yield A;return new Vn(I)})}class Pl extends Fo{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const i=Se(Pl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=i.baseUrl,Object.keys(i.urls).forEach(c=>{this._loadingCount++;const d=i.urls[c];this.add(c,d,this._bufferLoaded.bind(this,i.onload),i.onerror)})}static getDefaults(){return{baseUrl:"",onerror:er,onload:er,urls:{}}}has(i){return this._buffers.has(i.toString())}get(i){return on(this.has(i),"ToneAudioBuffers has no buffer named: "+i),this._buffers.get(i.toString())}_bufferLoaded(i){this._loadingCount--,this._loadingCount===0&&i&&i()}get loaded(){return Array.from(this._buffers).every(([i,c])=>c.loaded)}add(i,c,d=er,_=er){return po(c)?this._buffers.set(i.toString(),new Vn(this.baseUrl+c,d,_)):this._buffers.set(i.toString(),new Vn(c,d,_)),this}dispose(){return super.dispose(),this._buffers.forEach(i=>i.dispose()),this._buffers.clear(),this}}class Ha extends Ms{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(i){return vc(super._frequencyToUnits(i))}_ticksToUnits(i){return vc(super._ticksToUnits(i))}_beatsToUnits(i){return vc(super._beatsToUnits(i))}_secondsToUnits(i){return vc(super._secondsToUnits(i))}toMidi(){return this.valueOf()}toFrequency(){return lf(this.toMidi())}transpose(i){return new Ha(this.context,this.toMidi()+i)}}function cg(g,i){return new Ha(ri(),g,i)}class Wr extends pi{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(i){return this._getPPQ()*i}_secondsToUnits(i){return Math.floor(i/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(i){return i}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function ms(g,i){return new Wr(ri(),g,i)}class uf extends rs{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Si,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(i,c){return this._events.add({callback:i,time:this.toSeconds(c)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(i){return this._events.cancel(this.toSeconds(i)),this}_drawLoop(){const i=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=i;){const c=this._events.shift();c&&i-c.time<=this.expiration&&c.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}jh(g=>{g.draw=new uf({context:g})}),Uh(g=>{g.draw.dispose()});class hf extends Fo{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(i){on(Bn(i.time),"Events must have a time property"),on(Bn(i.duration),"Events must have a duration parameter"),i.time=i.time.valueOf();let c=new pa(i.time,i.time+i.duration,i);for(this._root===null?this._root=c:this._root.insert(c),this._length++;c!==null;)c.updateHeight(),c.updateMax(),this._rebalance(c),c=c.parent;return this}remove(i){if(this._root!==null){const c=[];this._root.search(i.time,c);for(const d of c)if(d.event===i){this._removeNode(d),this._length--;break}}return this}get length(){return this._length}cancel(i){return this.forEachFrom(i,c=>this.remove(c)),this}_setRoot(i){this._root=i,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(i,c){i.parent!==null?(i.isLeftChild()?i.parent.left=c:i.parent.right=c,this._rebalance(i.parent)):this._setRoot(c)}_removeNode(i){if(i.left===null&&i.right===null)this._replaceNodeInParent(i,null);else if(i.right===null)this._replaceNodeInParent(i,i.left);else if(i.left===null)this._replaceNodeInParent(i,i.right);else{let c,d=null;if(i.getBalance()>0)if(i.left.right===null)c=i.left,c.right=i.right,d=c;else{for(c=i.left.right;c.right!==null;)c=c.right;c.parent&&(c.parent.right=c.left,d=c.parent,c.left=i.left,c.right=i.right)}else if(i.right.left===null)c=i.right,c.left=i.left,d=c;else{for(c=i.right.left;c.left!==null;)c=c.left;c.parent&&(c.parent.left=c.right,d=c.parent,c.left=i.left,c.right=i.right)}i.parent!==null?i.isLeftChild()?i.parent.left=c:i.parent.right=c:this._setRoot(c),d&&this._rebalance(d)}i.dispose()}_rotateLeft(i){const c=i.parent,d=i.isLeftChild(),_=i.right;_&&(i.right=_.left,_.left=i),c!==null?d?c.left=_:c.right=_:this._setRoot(_)}_rotateRight(i){const c=i.parent,d=i.isLeftChild(),_=i.left;_&&(i.left=_.right,_.right=i),c!==null?d?c.left=_:c.right=_:this._setRoot(_)}_rebalance(i){const c=i.getBalance();c>1&&i.left?i.left.getBalance()<0?this._rotateLeft(i.left):this._rotateRight(i):c<-1&&i.right&&(i.right.getBalance()>0?this._rotateRight(i.right):this._rotateLeft(i))}get(i){if(this._root!==null){const c=[];if(this._root.search(i,c),c.length>0){let d=c[0];for(let _=1;_<c.length;_++)c[_].low>d.low&&(d=c[_]);return d.event}}return null}forEach(i){if(this._root!==null){const c=[];this._root.traverse(d=>c.push(d)),c.forEach(d=>{d.event&&i(d.event)})}return this}forEachAtTime(i,c){if(this._root!==null){const d=[];this._root.search(i,d),d.forEach(_=>{_.event&&c(_.event)})}return this}forEachFrom(i,c){if(this._root!==null){const d=[];this._root.searchAfter(i,d),d.forEach(_=>{_.event&&c(_.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(i=>i.dispose()),this._root=null,this}}class pa{constructor(i,c,d){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=d,this.low=i,this.high=c,this.max=this.high}insert(i){i.low<=this.low?this.left===null?this.left=i:this.left.insert(i):this.right===null?this.right=i:this.right.insert(i)}search(i,c){i>this.max||(this.left!==null&&this.left.search(i,c),this.low<=i&&this.high>i&&c.push(this),this.low>i||this.right!==null&&this.right.search(i,c))}searchAfter(i,c){this.low>=i&&(c.push(this),this.left!==null&&this.left.searchAfter(i,c)),this.right!==null&&this.right.searchAfter(i,c)}traverse(i){i(this),this.left!==null&&this.left.traverse(i),this.right!==null&&this.right.traverse(i)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let i=0;return this.left!==null&&this.right!==null?i=this.left.height-this.right.height:this.left!==null?i=this.left.height+1:this.right!==null&&(i=-(this.right.height+1)),i}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(i){this._left=i,i!==null&&(i.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(i){this._right=i,i!==null&&(i.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class jo extends At{constructor(){super(Se(jo.getDefaults(),arguments,["volume"])),this.name="Volume";const i=Se(jo.getDefaults(),arguments,["volume"]);this.input=this.output=new cn({context:this.context,gain:i.volume,units:"decibels"}),this.volume=this.output.gain,vn(this,"volume"),this._unmutedVolume=i.volume,this.mute=i.mute}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(i){!this.mute&&i?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!i&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class vo extends At{constructor(){super(Se(vo.getDefaults(),arguments)),this.name="Destination",this.input=new jo({context:this.context}),this.output=new cn({context:this.context}),this.volume=this.input.volume;const i=Se(vo.getDefaults(),arguments);ui(this.input,this.output,this.context.rawContext.destination),this.mute=i.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(i){this.input.mute=i}chain(...i){return this.input.disconnect(),i.unshift(this.input),i.push(this.output),ui(...i),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}jh(g=>{g.destination=new vo({context:g})}),Uh(g=>{g.destination.dispose()});class Qc extends Fo{constructor(i){super(),this.name="TimelineValue",this._timeline=new Si({memory:10}),this._initialValue=i}set(i,c){return this._timeline.add({value:i,time:c}),this}get(i){const c=this._timeline.get(i);return c?c.value:this._initialValue}}class $a{constructor(i,c){this.id=$a._eventId++;const d=Object.assign($a.getDefaults(),c);this.transport=i,this.callback=d.callback,this._once=d.once,this.time=d.time}static getDefaults(){return{callback:er,once:!1,time:0}}invoke(i){this.callback&&(this.callback(i),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}$a._eventId=0;class gs extends $a{constructor(i,c){super(i,c),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const d=Object.assign(gs.getDefaults(),c);this.duration=new Wr(i.context,d.duration).valueOf(),this._interval=new Wr(i.context,d.interval).valueOf(),this._nextTick=d.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},$a.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(i){this._createEvents(i),super.invoke(i)}_createEvents(i){const c=this.transport.getTicksAtTime(i);c>=this.time&&c>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Wr(this.context,this._nextTick).toSeconds()))}_restart(i){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const c=this.transport.getTicksAtTime(i);c>this.time&&(this._nextTick=this.time+Math.ceil((c-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Wr(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Wr(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Kc extends rs{constructor(){super(Se(Kc.getDefaults(),arguments)),this.name="Transport",this._loop=new Qc(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Si,this._repeatedEvents=new hf,this._syncedSignals=[],this._swingAmount=0;const i=Se(Kc.getDefaults(),arguments);this._ppq=i.ppq,this._clock=new Wi({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=i.ppq,this.bpm.setValueAtTime(i.bpm,0),vn(this,"bpm"),this._timeSignature=i.timeSignature,this._swingTicks=i.ppq/2}static getDefaults(){return Object.assign(rs.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(i,c){if(this._loop.get(i)&&c>=this._loopEnd&&(this.emit("loopEnd",i),this._clock.setTicksAtTime(this._loopStart,i),c=this._loopStart,this.emit("loopStart",i,this._clock.getSecondsAtTime(i)),this.emit("loop",i)),this._swingAmount>0&&c%this._ppq!=0&&c%(2*this._swingTicks)!=0){const d=c%(2*this._swingTicks)/(2*this._swingTicks),_=Math.sin(d*Math.PI)*this._swingAmount;i+=new Wr(this.context,2*this._swingTicks/3).toSeconds()*_}this._timeline.forEachAtTime(c,d=>d.invoke(i))}schedule(i,c){const d=new $a(this,{callback:i,time:new pi(this.context,c).toTicks()});return this._addEvent(d,this._timeline)}scheduleRepeat(i,c,d,_=1/0){const E=new gs(this,{callback:i,duration:new fi(this.context,_).toTicks(),interval:new fi(this.context,c).toTicks(),time:new pi(this.context,d).toTicks()});return this._addEvent(E,this._repeatedEvents)}scheduleOnce(i,c){const d=new $a(this,{callback:i,once:!0,time:new pi(this.context,c).toTicks()});return this._addEvent(d,this._timeline)}clear(i){if(this._scheduledEvents.hasOwnProperty(i)){const c=this._scheduledEvents[i.toString()];c.timeline.remove(c.event),c.event.dispose(),delete this._scheduledEvents[i.toString()]}return this}_addEvent(i,c){return this._scheduledEvents[i.id.toString()]={event:i,timeline:c},c.add(i),i.id}cancel(i=0){const c=this.toTicks(i);return this._timeline.forEachFrom(c,d=>this.clear(d.id)),this._repeatedEvents.forEachFrom(c,d=>this.clear(d.id)),this}_bindClockEvents(){this._clock.on("start",(i,c)=>{c=new Wr(this.context,c).toSeconds(),this.emit("start",i,c)}),this._clock.on("stop",i=>{this.emit("stop",i)}),this._clock.on("pause",i=>{this.emit("pause",i)})}get state(){return this._clock.getStateAtTime(this.now())}start(i,c){let d;return Bn(c)&&(d=this.toTicks(c)),this._clock.start(i,d),this}stop(i){return this._clock.stop(i),this}pause(i){return this._clock.pause(i),this}toggle(i){return i=this.toSeconds(i),this._clock.getStateAtTime(i)!=="started"?this.start(i):this.stop(i),this}get timeSignature(){return this._timeSignature}set timeSignature(i){rr(i)&&(i=i[0]/i[1]*4),this._timeSignature=i}get loopStart(){return new fi(this.context,this._loopStart,"i").toSeconds()}set loopStart(i){this._loopStart=this.toTicks(i)}get loopEnd(){return new fi(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(i){this._loopEnd=this.toTicks(i)}get loop(){return this._loop.get(this.now())}set loop(i){this._loop.set(i,this.now())}setLoopPoints(i,c){return this.loopStart=i,this.loopEnd=c,this}get swing(){return this._swingAmount}set swing(i){this._swingAmount=i}get swingSubdivision(){return new Wr(this.context,this._swingTicks).toNotation()}set swingSubdivision(i){this._swingTicks=this.toTicks(i)}get position(){const i=this.now(),c=this._clock.getTicksAtTime(i);return new Wr(this.context,c).toBarsBeatsSixteenths()}set position(i){const c=this.toTicks(i);this.ticks=c}get seconds(){return this._clock.seconds}set seconds(i){const c=this.now(),d=this._clock.frequency.timeToTicks(i,c);this.ticks=d}get progress(){if(this.loop){const i=this.now();return(this._clock.getTicksAtTime(i)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(i){if(this._clock.ticks!==i){const c=this.now();if(this.state==="started"){const d=this._clock.getTicksAtTime(c),_=c+this._clock.frequency.getDurationOfTicks(Math.ceil(d)-d,c);this.emit("stop",_),this._clock.setTicksAtTime(i,_),this.emit("start",_,this._clock.getSecondsAtTime(_))}else this._clock.setTicksAtTime(i,c)}}getTicksAtTime(i){return Math.round(this._clock.getTicksAtTime(i))}getSecondsAtTime(i){return this._clock.getSecondsAtTime(i)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(i){this._clock.frequency.multiplier=i}nextSubdivision(i){if(i=this.toTicks(i),this.state!=="started")return 0;{const c=this.now(),d=i-this.getTicksAtTime(c)%i;return this._clock.nextTickTime(d,c)}}syncSignal(i,c){if(!c){const _=this.now();if(i.getValueAtTime(_)!==0){const E=1/(60/this.bpm.getValueAtTime(_)/this.PPQ);c=i.getValueAtTime(_)/E}else c=0}const d=new cn(c);return this.bpm.connect(d),d.connect(i._param),this._syncedSignals.push({initial:i.value,ratio:d,signal:i}),i.value=0,this}unsyncSignal(i){for(let c=this._syncedSignals.length-1;c>=0;c--){const d=this._syncedSignals[c];d.signal===i&&(d.ratio.dispose(),d.signal.value=d.initial,this._syncedSignals.splice(c,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Nu(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Zs.mixin(Kc),jh(g=>{g.transport=new Kc({context:g})}),Uh(g=>{g.transport.dispose()});class xi extends At{constructor(i){super(i),this.input=void 0,this._state=new Dl("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=er,this._syncedStop=er,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new jo({context:this.context,mute:i.mute,volume:i.volume}),this.volume=this._volume.volume,vn(this,"volume"),this.onstop=i.onstop}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,onstop:er,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(i){this._volume.mute=i}_clampToCurrentTime(i){return this._synced?i:Math.max(i,this.context.currentTime)}start(i,c,d){let _=ds(i)&&this._synced?this.context.transport.seconds:this.toSeconds(i);if(_=this._clampToCurrentTime(_),this._synced||this._state.getValueAtTime(_)!=="started")if(this.log("start",_),this._state.setStateAtTime("started",_),this._synced){const E=this._state.get(_);E&&(E.offset=this.toSeconds(Lo(c,0)),E.duration=d?this.toSeconds(d):void 0);const A=this.context.transport.schedule(I=>{this._start(I,c,d)},_);this._scheduled.push(A),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>_&&this._syncedStart(this.now(),this.context.transport.seconds)}else sf(this.context),this._start(_,c,d);else on(gc(_,this._state.get(_).time),"Start time must be strictly greater than previous start time"),this._state.cancel(_),this._state.setStateAtTime("started",_),this.log("restart",_),this.restart(_,c,d);return this}stop(i){let c=ds(i)&&this._synced?this.context.transport.seconds:this.toSeconds(i);if(c=this._clampToCurrentTime(c),this._state.getValueAtTime(c)==="started"||Bn(this._state.getNextState("started",c))){if(this.log("stop",c),this._synced){const d=this.context.transport.schedule(this._stop.bind(this),c);this._scheduled.push(d)}else this._stop(c);this._state.cancel(c),this._state.setStateAtTime("stopped",c)}return this}restart(i,c,d){return i=this.toSeconds(i),this._state.getValueAtTime(i)==="started"&&(this._state.cancel(i),this._restart(i,c,d)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(i,c)=>{if(c>0){const d=this._state.get(c);if(d&&d.state==="started"&&d.time!==c){const _=c-this.toSeconds(d.time);let E;d.duration&&(E=this.toSeconds(d.duration)-_),this._start(i,this.toSeconds(d.offset)+_,E)}}},this._syncedStop=i=>{const c=this.context.transport.getSecondsAtTime(Math.max(i-this.sampleTime,0));this._state.getValueAtTime(c)==="started"&&this._stop(i)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(i=>this.context.transport.clear(i)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=er,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class qa extends eo{constructor(){super(Se(qa.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const i=Se(qa.getDefaults(),arguments,["url","onload"]);Js(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new On({context:this.context,param:this._source.playbackRate,units:"positive",value:i.playbackRate}),this.loop=i.loop,this.loopStart=i.loopStart,this.loopEnd=i.loopEnd,this._buffer=new Vn(i.url,i.onload,i.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(eo.getDefaults(),{url:new Vn,loop:!1,loopEnd:0,loopStart:0,onload:er,onerror:er,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(i){this._fadeIn=i}get fadeOut(){return this._fadeOut}set fadeOut(i){this._fadeOut=i}get curve(){return this._curve}set curve(i){this._curve=i}start(i,c,d,_=1){on(this.buffer.loaded,"buffer is either not set or not loaded");const E=this.toSeconds(i);this._startGain(E,_),c=this.loop?Lo(c,this.loopStart):Lo(c,0);let A=Math.max(this.toSeconds(c),0);if(this.loop){const I=this.toSeconds(this.loopEnd)||this.buffer.duration,B=this.toSeconds(this.loopStart),G=I-B;Fh(A,I)&&(A=(A-B)%G+B),As(A,this.buffer.duration)&&(A=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Y(A,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(E,A)),Bn(d)){let I=this.toSeconds(d);I=Math.max(I,0),this.stop(E+I)}return this}_stopSource(i){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(i)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(i){this._source.loopStart=this.toSeconds(i)}get loopEnd(){return this._source.loopEnd}set loopEnd(i){this._source.loopEnd=this.toSeconds(i)}get buffer(){return this._buffer}set buffer(i){this._buffer.set(i)}get loop(){return this._source.loop}set loop(i){this._source.loop=i,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Wa extends xi{constructor(){super(Se(Wa.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const i=Se(Wa.getDefaults(),arguments,["type"]);this._playbackRate=i.playbackRate,this.type=i.type,this._fadeIn=i.fadeIn,this._fadeOut=i.fadeOut}static getDefaults(){return Object.assign(xi.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(i){if(on(i in ma,"Noise: invalid type: "+i),this._type!==i&&(this._type=i,this.state==="started")){const c=this.now();this._stop(c),this._start(c)}}get playbackRate(){return this._playbackRate}set playbackRate(i){this._playbackRate=i,this._source&&(this._source.playbackRate.value=i)}_start(i){const c=ma[this._type];this._source=new qa({url:c,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(i),Math.random()*(c.duration-.001))}_stop(i){this._source&&(this._source.stop(this.toSeconds(i)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(i){this._fadeIn=i,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(i){this._fadeOut=i,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(i){this._stop(i),this._start(i)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const ea={brown:null,pink:null,white:null},ma={get brown(){if(!ea.brown){const g=[];for(let i=0;i<2;i++){const c=new Float32Array(220500);g[i]=c;let d=0;for(let _=0;_<220500;_++){const E=2*Math.random()-1;c[_]=(d+.02*E)/1.02,d=c[_],c[_]*=3.5}}ea.brown=new Vn().fromArray(g)}return ea.brown},get pink(){if(!ea.pink){const g=[];for(let i=0;i<2;i++){const c=new Float32Array(220500);let d,_,E,A,I,B,G;g[i]=c,d=_=E=A=I=B=G=0;for(let oe=0;oe<220500;oe++){const Q=2*Math.random()-1;d=.99886*d+.0555179*Q,_=.99332*_+.0750759*Q,E=.969*E+.153852*Q,A=.8665*A+.3104856*Q,I=.55*I+.5329522*Q,B=-.7616*B-.016898*Q,c[oe]=d+_+E+A+I+B+G+.5362*Q,c[oe]*=.11,G=.115926*Q}}ea.pink=new Vn().fromArray(g)}return ea.pink},get white(){if(!ea.white){const g=[];for(let i=0;i<2;i++){const c=new Float32Array(220500);g[i]=c;for(let d=0;d<220500;d++)c[d]=2*Math.random()-1}ea.white=new Vn().fromArray(g)}return ea.white}};class Bs extends At{constructor(){super(Se(Bs.getDefaults(),arguments,["volume"])),this.name="UserMedia";const i=Se(Bs.getDefaults(),arguments,["volume"]);this._volume=this.output=new jo({context:this.context,volume:i.volume}),this.volume=this._volume.volume,vn(this,"volume"),this.mute=i.mute}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,volume:0})}open(i){return Dr(this,void 0,void 0,function*(){on(Bs.supported,"UserMedia is not supported"),this.state==="started"&&this.close();const c=yield Bs.enumerateDevices();ns(i)?this._device=c[i]:(this._device=c.find(E=>E.label===i||E.deviceId===i),!this._device&&c.length>0&&(this._device=c[0]),on(Bn(this._device),"No matching device "+i));const d={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(d.audio.deviceId=this._device.deviceId);const _=yield navigator.mediaDevices.getUserMedia(d);if(!this._stream){this._stream=_;const E=this.context.createMediaStreamSource(_);Js(E,this.output),this._mediaStream=E}return this})}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(i=>{i.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return Dr(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(i=>i.kind==="audioinput")})}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(i){this._volume.mute=i}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return Bn(navigator.mediaDevices)&&Bn(navigator.mediaDevices.getUserMedia)}}function wc(g,i){return Dr(this,void 0,void 0,function*(){const c=i/g.context.sampleRate,d=new Al(1,c,g.context.sampleRate);return new g.constructor(Object.assign(g.get(),{frequency:2/c,detune:0,context:d})).toDestination().start(0),(yield d.render()).getChannelData(0)})}class Il extends eo{constructor(){super(Se(Il.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const i=Se(Il.getDefaults(),arguments,["frequency","type"]);Js(this._oscillator,this._gainNode),this.type=i.type,this.frequency=new On({context:this.context,param:this._oscillator.frequency,units:"frequency",value:i.frequency}),this.detune=new On({context:this.context,param:this._oscillator.detune,units:"cents",value:i.detune}),vn(this,["frequency","detune"])}static getDefaults(){return Object.assign(eo.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(i){const c=this.toSeconds(i);return this.log("start",c),this._startGain(c),this._oscillator.start(c),this}_stopSource(i){this._oscillator.stop(i)}setPeriodicWave(i){return this._oscillator.setPeriodicWave(i),this}get type(){return this._oscillator.type}set type(i){this._oscillator.type=i}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ii extends xi{constructor(){super(Se(ii.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const i=Se(ii.getDefaults(),arguments,["frequency","type"]);this.frequency=new hn({context:this.context,units:"frequency",value:i.frequency}),vn(this,"frequency"),this.detune=new hn({context:this.context,units:"cents",value:i.detune}),vn(this,"detune"),this._partials=i.partials,this._partialCount=i.partialCount,this._type=i.type,i.partialCount&&i.type!=="custom"&&(this._type=this.baseType+i.partialCount.toString()),this.phase=i.phase}static getDefaults(){return Object.assign(xi.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(i){const c=this.toSeconds(i),d=new Il({context:this.context,onended:()=>this.onstop(this)});this._oscillator=d,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(c)}_stop(i){const c=this.toSeconds(i);this._oscillator&&this._oscillator.stop(c)}_restart(i){const c=this.toSeconds(i);return this.log("restart",c),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(c),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return ii._periodicWaveCache.find(i=>{return i.phase===this._phase&&(c=i.partials,d=this._partials,c.length===d.length&&c.every((_,E)=>d[E]===_));var c,d});{const i=ii._periodicWaveCache.find(c=>c.type===this._type&&c.phase===this._phase);return this._partialCount=i?i.partialCount:this._partialCount,i}}get type(){return this._type}set type(i){this._type=i;const c=["sine","square","sawtooth","triangle"].indexOf(i)!==-1;if(this._phase===0&&c)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=i);else{const d=this._getCachedPeriodicWave();if(Bn(d)){const{partials:_,wave:E}=d;this._wave=E,this._partials=_,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[_,E]=this._getRealImaginary(i,this._phase),A=this.context.createPeriodicWave(_,E);this._wave=A,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),ii._periodicWaveCache.push({imag:E,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:_,type:this._type,wave:this._wave}),ii._periodicWaveCache.length>100&&ii._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(i){this.partialCount&&this._type!=="custom"&&i!=="custom"?this.type=i+this.partialCount:this.type=i}get partialCount(){return this._partialCount}set partialCount(i){ji(i,0);let c=this._type;const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(d&&(c=d[1]),this._type!=="custom")this.type=i===0?c:c+i.toString();else{const _=new Float32Array(i);this._partials.forEach((E,A)=>_[A]=E),this._partials=Array.from(_),this.type=this._type}}_getRealImaginary(i,c){let d=2048;const _=new Float32Array(d),E=new Float32Array(d);let A=1;if(i==="custom"){if(A=this._partials.length+1,this._partialCount=this._partials.length,d=A,this._partials.length===0)return[_,E]}else{const I=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(i);I?(A=parseInt(I[2],10)+1,this._partialCount=parseInt(I[2],10),i=I[1],A=Math.max(A,2),d=A):this._partialCount=0,this._partials=[]}for(let I=1;I<d;++I){const B=2/(I*Math.PI);let G;switch(i){case"sine":G=I<=A?1:0,this._partials[I-1]=G;break;case"square":G=1&I?2*B:0,this._partials[I-1]=G;break;case"sawtooth":G=B*(1&I?1:-1),this._partials[I-1]=G;break;case"triangle":G=1&I?B*B*2*(I-1>>1&1?-1:1):0,this._partials[I-1]=G;break;case"custom":G=this._partials[I-1];break;default:throw new TypeError("Oscillator: invalid type: "+i)}G!==0?(_[I]=-G*Math.sin(c*I),E[I]=G*Math.cos(c*I)):(_[I]=0,E[I]=0)}return[_,E]}_inverseFFT(i,c,d){let _=0;const E=i.length;for(let A=0;A<E;A++)_+=i[A]*Math.cos(A*d)+c[A]*Math.sin(A*d);return _}getInitialValue(){const[i,c]=this._getRealImaginary(this._type,0);let d=0;const _=2*Math.PI;for(let E=0;E<32;E++)d=Math.max(this._inverseFFT(i,c,E/32*_),d);return Ou(-this._inverseFFT(i,c,this._phase)/d,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(i){this._partials=i,this._partialCount=this._partials.length,i.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(i){this._phase=i*Math.PI/180,this.type=this._type}asArray(i=1024){return Dr(this,void 0,void 0,function*(){return wc(this,i)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ii._periodicWaveCache=[];class vs extends At{constructor(){super(Object.assign(Se(vs.getDefaults(),arguments,["context"])))}connect(i,c=0,d=0){return ps(this,i,c,d),this}}class Uo extends vs{constructor(){super(Object.assign(Se(Uo.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const i=Se(Uo.getDefaults(),arguments,["mapping","length"]);rr(i.mapping)||i.mapping instanceof Float32Array?this.curve=Float32Array.from(i.mapping):Cl(i.mapping)&&this.setMap(i.mapping,i.length)}static getDefaults(){return Object.assign(hn.getDefaults(),{length:1024})}setMap(i,c=1024){const d=new Float32Array(c);for(let _=0,E=c;_<E;_++){const A=_/(E-1)*2-1;d[_]=i(A,_)}return this.curve=d,this}get curve(){return this._shaper.curve}set curve(i){this._shaper.curve=i}get oversample(){return this._shaper.oversample}set oversample(i){on(["none","2x","4x"].some(c=>c.includes(i)),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=i}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Ll extends vs{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Uo({context:this.context,mapping:i=>(i+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Tr extends hn{constructor(){super(Object.assign(Se(Tr.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const i=Se(Tr.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new cn({context:this.context,minValue:i.minValue,maxValue:i.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(i.value,0)}static getDefaults(){return Object.assign(hn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class ga extends xi{constructor(){super(Se(ga.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Ll({context:this.context}),this._modulationNode=new cn({context:this.context});const i=Se(ga.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ii({context:this.context,detune:i.detune,frequency:i.frequency,onstop:()=>this.onstop(this),phase:i.phase,type:i.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ii({context:this.context,phase:i.phase,type:i.modulationType}),this.harmonicity=new Tr({context:this.context,units:"positive",value:i.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),vn(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ii.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(i){this._modulator.start(i),this._carrier.start(i)}_stop(i){this._modulator.stop(i),this._carrier.stop(i)}_restart(i){this._modulator.restart(i),this._carrier.restart(i)}get type(){return this._carrier.type}set type(i){this._carrier.type=i}get baseType(){return this._carrier.baseType}set baseType(i){this._carrier.baseType=i}get partialCount(){return this._carrier.partialCount}set partialCount(i){this._carrier.partialCount=i}get modulationType(){return this._modulator.type}set modulationType(i){this._modulator.type=i}get phase(){return this._carrier.phase}set phase(i){this._carrier.phase=i,this._modulator.phase=i}get partials(){return this._carrier.partials}set partials(i){this._carrier.partials=i}asArray(i=1024){return Dr(this,void 0,void 0,function*(){return wc(this,i)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Yn extends xi{constructor(){super(Se(Yn.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new cn({context:this.context,gain:0});const i=Se(Yn.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ii({context:this.context,detune:i.detune,frequency:0,onstop:()=>this.onstop(this),phase:i.phase,type:i.type}),this.detune=this._carrier.detune,this.frequency=new hn({context:this.context,units:"frequency",value:i.frequency}),this._modulator=new ii({context:this.context,phase:i.phase,type:i.modulationType}),this.harmonicity=new Tr({context:this.context,units:"positive",value:i.harmonicity}),this.modulationIndex=new Tr({context:this.context,units:"positive",value:i.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),vn(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ii.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(i){this._modulator.start(i),this._carrier.start(i)}_stop(i){this._modulator.stop(i),this._carrier.stop(i)}_restart(i){return this._modulator.restart(i),this._carrier.restart(i),this}get type(){return this._carrier.type}set type(i){this._carrier.type=i}get baseType(){return this._carrier.baseType}set baseType(i){this._carrier.baseType=i}get partialCount(){return this._carrier.partialCount}set partialCount(i){this._carrier.partialCount=i}get modulationType(){return this._modulator.type}set modulationType(i){this._modulator.type=i}get phase(){return this._carrier.phase}set phase(i){this._carrier.phase=i,this._modulator.phase=i}get partials(){return this._carrier.partials}set partials(i){this._carrier.partials=i}asArray(i=1024){return Dr(this,void 0,void 0,function*(){return wc(this,i)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class p extends xi{constructor(){super(Se(p.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new cn({context:this.context,gain:0}),this._thresh=new Uo({context:this.context,mapping:c=>c<=0?-1:1});const i=Se(p.getDefaults(),arguments,["frequency","width"]);this.width=new hn({context:this.context,units:"audioRange",value:i.width}),this._triangle=new ii({context:this.context,detune:i.detune,frequency:i.frequency,onstop:()=>this.onstop(this),phase:i.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),vn(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(xi.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(i){i=this.toSeconds(i),this._triangle.start(i),this._widthGate.gain.setValueAtTime(1,i)}_stop(i){i=this.toSeconds(i),this._triangle.stop(i),this._widthGate.gain.cancelScheduledValues(i),this._widthGate.gain.setValueAtTime(0,i)}_restart(i){this._triangle.restart(i),this._widthGate.gain.cancelScheduledValues(i),this._widthGate.gain.setValueAtTime(1,i)}get phase(){return this._triangle.phase}set phase(i){this._triangle.phase=i}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(i){this._triangle.type=i}asArray(i=1024){return Dr(this,void 0,void 0,function*(){return wc(this,i)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class w extends xi{constructor(){super(Se(w.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const i=Se(w.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new hn({context:this.context,units:"frequency",value:i.frequency}),this.detune=new hn({context:this.context,units:"cents",value:i.detune}),this._spread=i.spread,this._type=i.type,this._phase=i.phase,this._partials=i.partials,this._partialCount=i.partialCount,this.count=i.count,vn(this,["frequency","detune"])}static getDefaults(){return Object.assign(ii.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(i){i=this.toSeconds(i),this._forEach(c=>c.start(i))}_stop(i){i=this.toSeconds(i),this._forEach(c=>c.stop(i))}_restart(i){this._forEach(c=>c.restart(i))}_forEach(i){for(let c=0;c<this._oscillators.length;c++)i(this._oscillators[c],c)}get type(){return this._type}set type(i){this._type=i,this._forEach(c=>c.type=i)}get spread(){return this._spread}set spread(i){if(this._spread=i,this._oscillators.length>1){const c=-i/2,d=i/(this._oscillators.length-1);this._forEach((_,E)=>_.detune.value=c+d*E)}}get count(){return this._oscillators.length}set count(i){if(ji(i,1),this._oscillators.length!==i){this._forEach(c=>c.dispose()),this._oscillators=[];for(let c=0;c<i;c++){const d=new ii({context:this.context,volume:-6-1.1*i,type:this._type,phase:this._phase+c/i*360,partialCount:this._partialCount,onstop:c===0?()=>this.onstop(this):er});this.type==="custom"&&(d.partials=this._partials),this.frequency.connect(d.frequency),this.detune.connect(d.detune),d.detune.overridden=!1,d.connect(this.output),this._oscillators[c]=d}this.spread=this._spread,this.state==="started"&&this._forEach(c=>c.start())}}get phase(){return this._phase}set phase(i){this._phase=i,this._forEach((c,d)=>c.phase=this._phase+d/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(i){this._forEach(c=>c.baseType=i),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(i){this._partials=i,this._partialCount=this._partials.length,i.length&&(this._type="custom",this._forEach(c=>c.partials=i))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(i){this._partialCount=i,this._forEach(c=>c.partialCount=i),this._type=this._oscillators[0].type}asArray(i=1024){return Dr(this,void 0,void 0,function*(){return wc(this,i)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(i=>i.dispose()),this}}class N extends xi{constructor(){super(Se(N.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Tr({context:this.context,value:2});const i=Se(N.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new p({context:this.context,frequency:i.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ii({context:this.context,detune:i.detune,frequency:i.frequency,onstop:()=>this.onstop(this),phase:i.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),vn(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(xi.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(i){i=this.toSeconds(i),this._modulator.start(i),this._pulse.start(i)}_stop(i){i=this.toSeconds(i),this._modulator.stop(i),this._pulse.stop(i)}_restart(i){this._modulator.restart(i),this._pulse.restart(i)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(i){this._modulator.phase=i}asArray(i=1024){return Dr(this,void 0,void 0,function*(){return wc(this,i)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const P={am:ga,fat:w,fm:Yn,oscillator:ii,pulse:p,pwm:N};class $ extends xi{constructor(){super(Se($.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const i=Se($.getDefaults(),arguments,["frequency","type"]);this.frequency=new hn({context:this.context,units:"frequency",value:i.frequency}),this.detune=new hn({context:this.context,units:"cents",value:i.detune}),vn(this,["frequency","detune"]),this.set(i)}static getDefaults(){return Object.assign(ii.getDefaults(),Yn.getDefaults(),ga.getDefaults(),w.getDefaults(),p.getDefaults(),N.getDefaults())}_start(i){this._oscillator.start(i)}_stop(i){this._oscillator.stop(i)}_restart(i){return this._oscillator.restart(i),this}get type(){let i="";return["am","fm","fat"].some(c=>this._sourceType===c)&&(i=this._sourceType),i+this._oscillator.type}set type(i){i.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=i.substr(2)):i.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=i.substr(2)):i.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=i.substr(3)):i==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):i==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=i)}get partials(){return this._oscillator.partials}set partials(i){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=i)}get partialCount(){return this._oscillator.partialCount}set partialCount(i){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=i)}set(i){return Reflect.has(i,"type")&&i.type&&(this.type=i.type),super.set(i),this}_createNewOscillator(i){if(i!==this._sourceType){this._sourceType=i;const c=P[i],d=this.now();if(this._oscillator){const _=this._oscillator;_.stop(d),this.context.setTimeout(()=>_.dispose(),this.blockTime)}this._oscillator=new c({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(d)}}get phase(){return this._oscillator.phase}set phase(i){this._oscillator.phase=i}get sourceType(){return this._sourceType}set sourceType(i){let c="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(c=this._oscillator.type),i==="fm"?this.type="fm"+c:i==="am"?this.type="am"+c:i==="fat"?this.type="fat"+c:i==="oscillator"?this.type=c:i==="pulse"?this.type="pulse":i==="pwm"&&(this.type="pwm")}_getOscType(i,c){return i instanceof P[c]}get baseType(){return this._oscillator.baseType}set baseType(i){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||i==="pulse"||i==="pwm"||(this._oscillator.baseType=i)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(i){this._getOscType(this._oscillator,"fat")&&ns(i)&&(this._oscillator.count=i)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(i){this._getOscType(this._oscillator,"fat")&&ns(i)&&(this._oscillator.spread=i)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(i){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&po(i)&&(this._oscillator.modulationType=i)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(i=1024){return Dr(this,void 0,void 0,function*(){return wc(this,i)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class xe extends hn{constructor(){super(Object.assign(Se(xe.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new cn({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,ui(this._constantSource,this._sum)}static getDefaults(){return Object.assign(hn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class at extends vs{constructor(){super(Object.assign(Se(at.getDefaults(),arguments,["min","max"]))),this.name="Scale";const i=Se(at.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Tr({context:this.context,value:i.max-i.min}),this._add=this.output=new xe({context:this.context,value:i.min}),this._min=i.min,this._max=i.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(vs.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(i){this._min=i,this._setRange()}get max(){return this._max}set max(i){this._max=i,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class pn extends vs{constructor(){super(Object.assign(Se(pn.getDefaults(),arguments))),this.name="Zero",this._gain=new cn({context:this.context}),this.output=this._gain,this.input=void 0,Js(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Ru(this.context.getConstant(0),this._gain),this}}class yn extends At{constructor(){super(Se(yn.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=On.prototype._fromType,this._toType=On.prototype._toType,this._is=On.prototype._is,this._clampValue=On.prototype._clampValue;const i=Se(yn.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new ii(i),this.frequency=this._oscillator.frequency,this._amplitudeGain=new cn({context:this.context,gain:i.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new hn({context:this.context,units:"audioRange",value:0}),this._zeros=new pn({context:this.context}),this._a2g=new Ll({context:this.context}),this._scaler=this.output=new at({context:this.context,max:i.max,min:i.min}),this.units=i.units,this.min=i.min,this.max=i.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),vn(this,["amplitude","frequency"]),this.phase=i.phase}static getDefaults(){return Object.assign(ii.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(i){return i=this.toSeconds(i),this._stoppedSignal.setValueAtTime(0,i),this._oscillator.start(i),this}stop(i){return i=this.toSeconds(i),this._stoppedSignal.setValueAtTime(this._stoppedValue,i),this._oscillator.stop(i),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(i){i=this._fromType(i),this._scaler.min=i}get max(){return this._toType(this._scaler.max)}set max(i){i=this._fromType(i),this._scaler.max=i}get type(){return this._oscillator.type}set type(i){this._oscillator.type=i,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(i){this._oscillator.partials=i,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(i){this._oscillator.phase=i,this._setStoppedValue()}get units(){return this._units}set units(i){const c=this.min,d=this.max;this._units=i,this.min=c,this.max=d}get state(){return this._oscillator.state}connect(i,c,d){return(i instanceof On||i instanceof hn)&&(this.convert=i.convert,this.units=i.units),ps(this,i,c,d),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Er(g,i=1/0){const c=new WeakMap;return function(d,_){Reflect.defineProperty(d,_,{configurable:!0,enumerable:!0,get:function(){return c.get(this)},set:function(E){ji(E,g,i),c.set(this,E)}})}}function mi(g,i=1/0){const c=new WeakMap;return function(d,_){Reflect.defineProperty(d,_,{configurable:!0,enumerable:!0,get:function(){return c.get(this)},set:function(E){ji(this.toSeconds(E),g,i),c.set(this,E)}})}}class Ds extends xi{constructor(){super(Se(Ds.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const i=Se(Ds.getDefaults(),arguments,["url","onload"]);this._buffer=new Vn({onload:this._onload.bind(this,i.onload),onerror:i.onerror,reverse:i.reverse,url:i.url}),this.autostart=i.autostart,this._loop=i.loop,this._loopStart=i.loopStart,this._loopEnd=i.loopEnd,this._playbackRate=i.playbackRate,this.fadeIn=i.fadeIn,this.fadeOut=i.fadeOut}static getDefaults(){return Object.assign(xi.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:er,onerror:er,playbackRate:1,reverse:!1})}load(i){return Dr(this,void 0,void 0,function*(){return yield this._buffer.load(i),this._onload(),this})}_onload(i=er){i(),this.autostart&&this.start()}_onSourceEnd(i){this.onstop(this),this._activeSources.delete(i),this._activeSources.size!==0||this._synced||this._state.getValueAtTime(this.now())!=="started"||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(i,c,d){return super.start(i,c,d),this}_start(i,c,d){c=this._loop?Lo(c,this._loopStart):Lo(c,0);const _=this.toSeconds(c),E=d;d=Lo(d,Math.max(this._buffer.duration-_,0));let A=this.toSeconds(d);A/=this._playbackRate,i=this.toSeconds(i);const I=new qa({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(i+A),this._state.setStateAtTime("stopped",i+A,{implicitEnd:!0})),this._activeSources.add(I),this._loop&&ds(E)?I.start(i,_):I.start(i,_,A-this.toSeconds(this.fadeOut))}_stop(i){const c=this.toSeconds(i);this._activeSources.forEach(d=>d.stop(c))}restart(i,c,d){return super.restart(i,c,d),this}_restart(i,c,d){this._stop(i),this._start(i,c,d)}seek(i,c){const d=this.toSeconds(c);if(this._state.getValueAtTime(d)==="started"){const _=this.toSeconds(i);this._stop(d),this._start(d,_)}return this}setLoopPoints(i,c){return this.loopStart=i,this.loopEnd=c,this}get loopStart(){return this._loopStart}set loopStart(i){this._loopStart=i,this.buffer.loaded&&ji(this.toSeconds(i),0,this.buffer.duration),this._activeSources.forEach(c=>{c.loopStart=i})}get loopEnd(){return this._loopEnd}set loopEnd(i){this._loopEnd=i,this.buffer.loaded&&ji(this.toSeconds(i),0,this.buffer.duration),this._activeSources.forEach(c=>{c.loopEnd=i})}get buffer(){return this._buffer}set buffer(i){this._buffer.set(i)}get loop(){return this._loop}set loop(i){if(this._loop!==i&&(this._loop=i,this._activeSources.forEach(c=>{c.loop=i}),i)){const c=this._state.getNextState("stopped",this.now());c&&this._state.cancel(c.time)}}get playbackRate(){return this._playbackRate}set playbackRate(i){this._playbackRate=i;const c=this.now(),d=this._state.getNextState("stopped",c);d&&d.implicitEnd&&(this._state.cancel(d.time),this._activeSources.forEach(_=>_.cancelStop())),this._activeSources.forEach(_=>{_.playbackRate.setValueAtTime(i,c)})}get reverse(){return this._buffer.reverse}set reverse(i){this._buffer.reverse=i}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(i=>i.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}mo([mi(0)],Ds.prototype,"fadeIn",void 0),mo([mi(0)],Ds.prototype,"fadeOut",void 0);class Bo extends At{constructor(){super(Se(Bo.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const i=Se(Bo.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new jo({context:this.context,volume:i.volume}),this.volume=this._volume.volume,vn(this,"volume"),this._buffers=new Pl({urls:i.urls,onload:i.onload,baseUrl:i.baseUrl,onerror:i.onerror}),this.mute=i.mute,this._fadeIn=i.fadeIn,this._fadeOut=i.fadeOut}static getDefaults(){return Object.assign(xi.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:er,onerror:er,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(i){this._volume.mute=i}get fadeIn(){return this._fadeIn}set fadeIn(i){this._fadeIn=i,this._players.forEach(c=>{c.fadeIn=i})}get fadeOut(){return this._fadeOut}set fadeOut(i){this._fadeOut=i,this._players.forEach(c=>{c.fadeOut=i})}get state(){return Array.from(this._players).some(([i,c])=>c.state==="started")?"started":"stopped"}has(i){return this._buffers.has(i)}player(i){if(on(this.has(i),`No Player with the name ${i} exists on this object`),!this._players.has(i)){const c=new Ds({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(i)}).connect(this.output);this._players.set(i,c)}return this._players.get(i)}get loaded(){return this._buffers.loaded}add(i,c,d){return on(!this._buffers.has(i),"A buffer with that name already exists on this object"),this._buffers.add(i,c,d),this}stopAll(i){return this._players.forEach(c=>c.stop(i)),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach(i=>i.dispose()),this._buffers.dispose(),this}}class Sp extends xi{constructor(){super(Se(Sp.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const i=Se(Sp.getDefaults(),arguments,["url","onload"]);this.buffer=new Vn({onload:i.onload,onerror:i.onerror,reverse:i.reverse,url:i.url}),this._clock=new Wi({context:this.context,callback:this._tick.bind(this),frequency:1/i.grainSize}),this._playbackRate=i.playbackRate,this._grainSize=i.grainSize,this._overlap=i.overlap,this.detune=i.detune,this.overlap=i.overlap,this.loop=i.loop,this.playbackRate=i.playbackRate,this.grainSize=i.grainSize,this.loopStart=i.loopStart,this.loopEnd=i.loopEnd,this.reverse=i.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(xi.getDefaults(),{onload:er,onerror:er,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(i,c,d){c=Lo(c,0),c=this.toSeconds(c),i=this.toSeconds(i);const _=1/this._clock.frequency.getValueAtTime(i);this._clock.start(i,c/_),d&&this.stop(i+this.toSeconds(d))}restart(i,c,d){return super.restart(i,c,d),this}_restart(i,c,d){this._stop(i),this._start(i,c,d)}_stop(i){this._clock.stop(i)}_onstop(i){this._activeSources.forEach(c=>{c.fadeOut=0,c.stop(i)}),this.onstop(this)}_tick(i){const c=this._clock.getTicksAtTime(i),d=c*this._grainSize;if(this.log("offset",d),!this.loop&&d>this.buffer.duration)return void this.stop(i);const _=d<this._overlap?0:this._overlap,E=new qa({context:this.context,url:this.buffer,fadeIn:_,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:go(this.detune/100)}).connect(this.output);E.start(i,this._grainSize*c),E.stop(i+this._grainSize/this.playbackRate),this._activeSources.push(E),E.onended=()=>{const A=this._activeSources.indexOf(E);A!==-1&&this._activeSources.splice(A,1)}}get playbackRate(){return this._playbackRate}set playbackRate(i){ji(i,.001),this._playbackRate=i,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(i){this.buffer.loaded&&ji(this.toSeconds(i),0,this.buffer.duration),this._loopStart=this.toSeconds(i)}get loopEnd(){return this._loopEnd}set loopEnd(i){this.buffer.loaded&&ji(this.toSeconds(i),0,this.buffer.duration),this._loopEnd=this.toSeconds(i)}get reverse(){return this.buffer.reverse}set reverse(i){this.buffer.reverse=i}get grainSize(){return this._grainSize}set grainSize(i){this._grainSize=this.toSeconds(i),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(i){const c=this.toSeconds(i);ji(c,0),this._overlap=c}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach(i=>i.dispose()),this}}class lg extends vs{constructor(){super(...arguments),this.name="Abs",this._abs=new Uo({context:this.context,mapping:i=>Math.abs(i)<.001?0:Math.abs(i)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class K0 extends vs{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Uo({context:this.context,mapping:i=>2*Math.abs(i)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class df extends vs{constructor(){super(...arguments),this.name="Negate",this._multiply=new Tr({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Fl extends hn{constructor(){super(Object.assign(Se(Fl.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new cn({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new df({context:this.context}),this.subtrahend=this._param,ui(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(hn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class zh extends vs{constructor(){super(Object.assign(Se(zh.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new Uo({context:this.context,length:127,mapping:i=>i<=0?0:1}),this._scale=this.input=new Tr({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class ff extends hn{constructor(){super(Object.assign(Se(ff.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const i=Se(ff.getDefaults(),arguments,["value"]);this._subtract=this.input=new Fl({context:this.context,value:i.value}),this._gtz=this.output=new zh({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,vn(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(hn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class jl extends vs{constructor(){super(Object.assign(Se(jl.getDefaults(),arguments,["value"]))),this.name="Pow";const i=Se(jl.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Uo({context:this.context,mapping:this._expFunc(i.value),length:8192}),this._exponent=i.value}static getDefaults(){return Object.assign(vs.getDefaults(),{value:1})}_expFunc(i){return c=>Math.pow(Math.abs(c),i)}get value(){return this._exponent}set value(i){this._exponent=i,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Wn extends at{constructor(){super(Object.assign(Se(Wn.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const i=Se(Wn.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new jl({context:this.context,value:i.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(at.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(i){this._exp.value=i}dispose(){return super.dispose(),this._exp.dispose(),this}}class f_ extends hn{constructor(){super(Se(hn.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const i=Se(hn.getDefaults(),arguments,["value","units"]);this._lastVal=i.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new _c({context:this.context,offset:i.value,units:i.units}).start(0),this.setValueAtTime(i.value,0)}_onTick(i){const c=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==c&&(this._lastVal=c,this._constantSource.offset.setValueAtTime(c,i))}_anchorValue(i){const c=super.getValueAtTime(this.context.transport.seconds);this._lastVal=c,this._constantSource.offset.cancelAndHoldAtTime(i),this._constantSource.offset.setValueAtTime(c,i)}getValueAtTime(i){const c=new pi(this.context,i).toSeconds();return super.getValueAtTime(c)}setValueAtTime(i,c){const d=new pi(this.context,c).toSeconds();return super.setValueAtTime(i,d),this}linearRampToValueAtTime(i,c){const d=new pi(this.context,c).toSeconds();return super.linearRampToValueAtTime(i,d),this}exponentialRampToValueAtTime(i,c){const d=new pi(this.context,c).toSeconds();return super.exponentialRampToValueAtTime(i,d),this}setTargetAtTime(i,c,d){const _=new pi(this.context,c).toSeconds();return super.setTargetAtTime(i,_,d),this}cancelScheduledValues(i){const c=new pi(this.context,i).toSeconds();return super.cancelScheduledValues(c),this}setValueCurveAtTime(i,c,d,_){const E=new pi(this.context,c).toSeconds();return d=this.toSeconds(d),super.setValueCurveAtTime(i,E,d,_),this}cancelAndHoldAtTime(i){const c=new pi(this.context,i).toSeconds();return super.cancelAndHoldAtTime(c),this}setRampPoint(i){const c=new pi(this.context,i).toSeconds();return super.setRampPoint(c),this}exponentialRampTo(i,c,d){const _=new pi(this.context,d).toSeconds();return super.exponentialRampTo(i,c,_),this}linearRampTo(i,c,d){const _=new pi(this.context,d).toSeconds();return super.linearRampTo(i,c,_),this}targetRampTo(i,c,d){const _=new pi(this.context,d).toSeconds();return super.targetRampTo(i,c,_),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class Rs extends At{constructor(){super(Se(Rs.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new hn({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const i=Se(Rs.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=i.attack,this.decay=i.decay,this.sustain=i.sustain,this.release=i.release,this.attackCurve=i.attackCurve,this.releaseCurve=i.releaseCurve,this.decayCurve=i.decayCurve}static getDefaults(){return Object.assign(At.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(i,c){if(po(i))return i;{let d;for(d in Ul)if(Ul[d][c]===i)return d;return i}}_setCurve(i,c,d){if(po(d)&&Reflect.has(Ul,d)){const _=Ul[d];Do(_)?i!=="_decayCurve"&&(this[i]=_[c]):this[i]=_}else{if(!rr(d)||i==="_decayCurve")throw new Error("Envelope: invalid curve: "+d);this[i]=d}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(i){this._setCurve("_attackCurve","In",i)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(i){this._setCurve("_releaseCurve","Out",i)}get decayCurve(){return this._decayCurve}set decayCurve(i){on(["linear","exponential"].some(c=>c===i),"Invalid envelope curve: "+i),this._decayCurve=i}triggerAttack(i,c=1){this.log("triggerAttack",i,c),i=this.toSeconds(i);let d=this.toSeconds(this.attack);const _=this.toSeconds(this.decay),E=this.getValueAtTime(i);if(E>0&&(d=(1-E)/(1/d)),d<this.sampleTime)this._sig.cancelScheduledValues(i),this._sig.setValueAtTime(c,i);else if(this._attackCurve==="linear")this._sig.linearRampTo(c,d,i);else if(this._attackCurve==="exponential")this._sig.targetRampTo(c,d,i);else{this._sig.cancelAndHoldAtTime(i);let A=this._attackCurve;for(let I=1;I<A.length;I++)if(A[I-1]<=E&&E<=A[I]){A=this._attackCurve.slice(I),A[0]=E;break}this._sig.setValueCurveAtTime(A,i,d,c)}if(_&&this.sustain<1){const A=c*this.sustain,I=i+d;this.log("decay",I),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(A,_+I):this._sig.exponentialApproachValueAtTime(A,I,_)}return this}triggerRelease(i){this.log("triggerRelease",i),i=this.toSeconds(i);const c=this.getValueAtTime(i);if(c>0){const d=this.toSeconds(this.release);d<this.sampleTime?this._sig.setValueAtTime(0,i):this._releaseCurve==="linear"?this._sig.linearRampTo(0,d,i):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,d,i):(on(rr(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(i),this._sig.setValueCurveAtTime(this._releaseCurve,i,d,c))}return this}getValueAtTime(i){return this._sig.getValueAtTime(i)}triggerAttackRelease(i,c,d=1){return c=this.toSeconds(c),this.triggerAttack(c,d),this.triggerRelease(c+this.toSeconds(i)),this}cancel(i){return this._sig.cancelScheduledValues(this.toSeconds(i)),this}connect(i,c=0,d=0){return ps(this,i,c,d),this}asArray(i=1024){return Dr(this,void 0,void 0,function*(){const c=i/this.context.sampleRate,d=new Al(1,c,this.context.sampleRate),_=this.toSeconds(this.attack)+this.toSeconds(this.decay),E=_+this.toSeconds(this.release),A=.1*E,I=E+A,B=new this.constructor(Object.assign(this.get(),{attack:c*this.toSeconds(this.attack)/I,decay:c*this.toSeconds(this.decay)/I,release:c*this.toSeconds(this.release)/I,context:d}));return B._sig.toDestination(),B.triggerAttackRelease(c*(_+A)/I,0),(yield d.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}mo([mi(0)],Rs.prototype,"attack",void 0),mo([mi(0)],Rs.prototype,"decay",void 0),mo([Er(0,1)],Rs.prototype,"sustain",void 0),mo([mi(0)],Rs.prototype,"release",void 0);const Ul=(()=>{let g,i;const c=[];for(g=0;g<128;g++)c[g]=Math.sin(g/127*(Math.PI/2));const d=[];for(g=0;g<127;g++){i=g/127;const G=Math.sin(i*(2*Math.PI)*6.4-Math.PI/2)+1;d[g]=G/10+.83*i}d[127]=1;const _=[];for(g=0;g<128;g++)_[g]=Math.ceil(g/127*5)/5;const E=[];for(g=0;g<128;g++)i=g/127,E[g]=.5*(1-Math.cos(Math.PI*i));const A=[];for(g=0;g<128;g++){i=g/127;const G=4*Math.pow(i,3)+.2,oe=Math.cos(G*Math.PI*2*i);A[g]=Math.abs(oe*(1-i))}function I(G){const oe=new Array(G.length);for(let Q=0;Q<G.length;Q++)oe[Q]=1-G[Q];return oe}return{bounce:{In:I(A),Out:A},cosine:{In:c,Out:(B=c,B.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:d,Out:I(d)},sine:{In:E,Out:I(E)},step:{In:_,Out:I(_)}};var B})();class Vo extends At{constructor(){super(Se(Vo.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const i=Se(Vo.getDefaults(),arguments);this._volume=this.output=new jo({context:this.context,volume:i.volume}),this.volume=this._volume.volume,vn(this,"volume")}static getDefaults(){return Object.assign(At.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let i=!1;return this._synced||(this._synced=!0,i=!0),i}_syncMethod(i,c){const d=this["_original_"+i]=this[i];this[i]=(..._)=>{const E=_[c],A=this.context.transport.schedule(I=>{_[c]=I,d.apply(this,_)},E);this._scheduledEvents.push(A)}}unsync(){return this._scheduledEvents.forEach(i=>this.context.transport.clear(i)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(i,c,d,_){const E=this.toSeconds(d),A=this.toSeconds(c);return this.triggerAttack(i,E,_),this.triggerRelease(E+A),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Vs extends Vo{constructor(){super(Se(Vs.getDefaults(),arguments));const i=Se(Vs.getDefaults(),arguments);this.portamento=i.portamento,this.onsilence=i.onsilence}static getDefaults(){return Object.assign(Vo.getDefaults(),{detune:0,onsilence:er,portamento:0})}triggerAttack(i,c,d=1){this.log("triggerAttack",i,c,d);const _=this.toSeconds(c);return this._triggerEnvelopeAttack(_,d),this.setNote(i,_),this}triggerRelease(i){this.log("triggerRelease",i);const c=this.toSeconds(i);return this._triggerEnvelopeRelease(c),this}setNote(i,c){const d=this.toSeconds(c),_=i instanceof Ms?i.toFrequency():i;if(this.portamento>0&&this.getLevelAtTime(d)>.05){const E=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(_,E,d)}else this.frequency.setValueAtTime(_,d);return this}}mo([mi(0)],Vs.prototype,"portamento",void 0);class Hh extends Rs{constructor(){super(Se(Hh.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new cn({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class is extends Vs{constructor(){super(Se(is.getDefaults(),arguments)),this.name="Synth";const i=Se(is.getDefaults(),arguments);this.oscillator=new $(Object.assign({context:this.context,detune:i.detune,onstop:()=>this.onsilence(this)},i.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Hh(Object.assign({context:this.context},i.envelope)),this.oscillator.chain(this.envelope,this.output),vn(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Vs.getDefaults(),{envelope:Object.assign(fs(Rs.getDefaults(),Object.keys(At.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(fs($.getDefaults(),[...Object.keys(xi.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(i,c){if(this.envelope.triggerAttack(i,c),this.oscillator.start(i),this.envelope.sustain===0){const d=this.toSeconds(this.envelope.attack),_=this.toSeconds(this.envelope.decay);this.oscillator.stop(i+d+_)}}_triggerEnvelopeRelease(i){this.envelope.triggerRelease(i),this.oscillator.stop(i+this.toSeconds(this.envelope.release))}getLevelAtTime(i){return i=this.toSeconds(i),this.envelope.getValueAtTime(i)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class $h extends Vs{constructor(){super(Se($h.getDefaults(),arguments)),this.name="ModulationSynth";const i=Se($h.getDefaults(),arguments);this._carrier=new is({context:this.context,oscillator:i.oscillator,envelope:i.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new is({context:this.context,oscillator:i.modulation,envelope:i.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new hn({context:this.context,units:"frequency"}),this.detune=new hn({context:this.context,value:i.detune,units:"cents"}),this.harmonicity=new Tr({context:this.context,value:i.harmonicity,minValue:0}),this._modulationNode=new cn({context:this.context,gain:0}),vn(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Vs.getDefaults(),{harmonicity:3,oscillator:Object.assign(fs($.getDefaults(),[...Object.keys(xi.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(fs(Rs.getDefaults(),Object.keys(At.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(fs($.getDefaults(),[...Object.keys(xi.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(fs(Rs.getDefaults(),Object.keys(At.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(i,c){this._carrier._triggerEnvelopeAttack(i,c),this._modulator._triggerEnvelopeAttack(i,c)}_triggerEnvelopeRelease(i){return this._carrier._triggerEnvelopeRelease(i),this._modulator._triggerEnvelopeRelease(i),this}getLevelAtTime(i){return i=this.toSeconds(i),this.envelope.getValueAtTime(i)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class qh extends $h{constructor(){super(Se(qh.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Ll({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Bl extends At{constructor(){super(Se(Bl.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const i=Se(Bl.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new On({context:this.context,units:"number",value:i.Q,param:this._filter.Q}),this.frequency=new On({context:this.context,units:"frequency",value:i.frequency,param:this._filter.frequency}),this.detune=new On({context:this.context,units:"cents",value:i.detune,param:this._filter.detune}),this.gain=new On({context:this.context,units:"decibels",convert:!1,value:i.gain,param:this._filter.gain}),this.type=i.type}static getDefaults(){return Object.assign(At.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(i){on(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(i)!==-1,"Invalid filter type: "+i),this._filter.type=i}getFrequencyResponse(i=128){const c=new Float32Array(i);for(let A=0;A<i;A++){const I=19980*Math.pow(A/i,2)+20;c[A]=I}const d=new Float32Array(i),_=new Float32Array(i),E=this.context.createBiquadFilter();return E.type=this.type,E.Q.value=this.Q.value,E.frequency.value=this.frequency.value,E.gain.value=this.gain.value,E.getFrequencyResponse(c,d,_),d}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class yo extends At{constructor(){super(Se(yo.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new cn({context:this.context}),this.output=new cn({context:this.context}),this._filters=[];const i=Se(yo.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new hn({context:this.context,units:"positive",value:i.Q}),this.frequency=new hn({context:this.context,units:"frequency",value:i.frequency}),this.detune=new hn({context:this.context,units:"cents",value:i.detune}),this.gain=new hn({context:this.context,units:"decibels",convert:!1,value:i.gain}),this._type=i.type,this.rolloff=i.rolloff,vn(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(At.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(i){on(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(i)!==-1,"Invalid filter type: "+i),this._type=i,this._filters.forEach(c=>c.type=i)}get rolloff(){return this._rolloff}set rolloff(i){const c=ns(i)?i:parseInt(i,10),d=[-12,-24,-48,-96];let _=d.indexOf(c);on(_!==-1,"rolloff can only be "+d.join(", ")),_+=1,this._rolloff=c,this.input.disconnect(),this._filters.forEach(E=>E.disconnect()),this._filters=new Array(_);for(let E=0;E<_;E++){const A=new Bl({context:this.context});A.type=this._type,this.frequency.connect(A.frequency),this.detune.connect(A.detune),this.Q.connect(A.Q),this.gain.connect(A.gain),this._filters[E]=A}this._internalChannels=this._filters,ui(this.input,...this._internalChannels,this.output)}getFrequencyResponse(i=128){const c=new Bl({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),d=new Float32Array(i).map(()=>1);return this._filters.forEach(()=>{c.getFrequencyResponse(i).forEach((_,E)=>d[E]*=_)}),c.dispose(),d}dispose(){return super.dispose(),this._filters.forEach(i=>{i.dispose()}),Nu(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Lu extends Rs{constructor(){super(Se(Lu.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const i=Se(Lu.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=i.octaves,this._baseFrequency=this.toFrequency(i.baseFrequency),this._exponent=this.input=new jl({context:this.context,value:i.exponent}),this._scale=this.output=new at({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Rs.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(i){const c=this.toFrequency(i);ji(c,0),this._baseFrequency=c,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(i){this._octaves=i,this._scale.max=this._baseFrequency*Math.pow(2,i)}get exponent(){return this._exponent.value}set exponent(i){this._exponent.value=i}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class ss extends Vs{constructor(){super(Se(ss.getDefaults(),arguments)),this.name="MonoSynth";const i=Se(ss.getDefaults(),arguments);this.oscillator=new $(Object.assign(i.oscillator,{context:this.context,detune:i.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new yo(Object.assign(i.filter,{context:this.context})),this.filterEnvelope=new Lu(Object.assign(i.filterEnvelope,{context:this.context})),this.envelope=new Hh(Object.assign(i.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),vn(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Vs.getDefaults(),{envelope:Object.assign(fs(Rs.getDefaults(),Object.keys(At.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(fs(yo.getDefaults(),Object.keys(At.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(fs(Lu.getDefaults(),Object.keys(At.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(fs($.getDefaults(),Object.keys(xi.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(i,c=1){if(this.envelope.triggerAttack(i,c),this.filterEnvelope.triggerAttack(i),this.oscillator.start(i),this.envelope.sustain===0){const d=this.toSeconds(this.envelope.attack),_=this.toSeconds(this.envelope.decay);this.oscillator.stop(i+d+_)}}_triggerEnvelopeRelease(i){this.envelope.triggerRelease(i),this.filterEnvelope.triggerRelease(i),this.oscillator.stop(i+this.toSeconds(this.envelope.release))}getLevelAtTime(i){return i=this.toSeconds(i),this.envelope.getValueAtTime(i)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Ga extends Vs{constructor(){super(Se(Ga.getDefaults(),arguments)),this.name="DuoSynth";const i=Se(Ga.getDefaults(),arguments);this.voice0=new ss(Object.assign(i.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new ss(Object.assign(i.voice1,{context:this.context})),this.harmonicity=new Tr({context:this.context,units:"positive",value:i.harmonicity}),this._vibrato=new yn({frequency:i.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new cn({context:this.context,units:"normalRange",gain:i.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new hn({context:this.context,units:"frequency",value:440}),this.detune=new hn({context:this.context,units:"cents",value:i.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),vn(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(i){return i=this.toSeconds(i),this.voice0.envelope.getValueAtTime(i)+this.voice1.envelope.getValueAtTime(i)}static getDefaults(){return Io(Vs.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Io(fs(ss.getDefaults(),Object.keys(Vs.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Io(fs(ss.getDefaults(),Object.keys(Vs.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(i,c){this.voice0._triggerEnvelopeAttack(i,c),this.voice1._triggerEnvelopeAttack(i,c)}_triggerEnvelopeRelease(i){return this.voice0._triggerEnvelopeRelease(i),this.voice1._triggerEnvelopeRelease(i),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class Wh extends $h{constructor(){super(Se(Wh.getDefaults(),arguments)),this.name="FMSynth";const i=Se(Wh.getDefaults(),arguments);this.modulationIndex=new Tr({context:this.context,value:i.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign($h.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const ug=[1,1.483,1.932,2.546,2.63,3.897];class Fu extends Vs{constructor(){super(Se(Fu.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const i=Se(Fu.getDefaults(),arguments);this.detune=new hn({context:this.context,units:"cents",value:i.detune}),this.frequency=new hn({context:this.context,units:"frequency"}),this._amplitude=new cn({context:this.context,gain:0}).connect(this.output),this._highpass=new yo({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let c=0;c<ug.length;c++){const d=new Yn({context:this.context,harmonicity:i.harmonicity,modulationIndex:i.modulationIndex,modulationType:"square",onstop:c===0?()=>this.onsilence(this):er,type:"square"});d.connect(this._highpass),this._oscillators[c]=d;const _=new Tr({context:this.context,value:ug[c]});this._freqMultipliers[c]=_,this.frequency.chain(_,d.frequency),this.detune.connect(d.detune)}this._filterFreqScaler=new at({context:this.context,max:7e3,min:this.toFrequency(i.resonance)}),this.envelope=new Rs({attack:i.envelope.attack,attackCurve:"linear",context:this.context,decay:i.envelope.decay,release:i.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=i.octaves,this.octaves=i.octaves}static getDefaults(){return Io(Vs.getDefaults(),{envelope:Object.assign(fs(Rs.getDefaults(),Object.keys(At.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(i,c=1){return this.envelope.triggerAttack(i,c),this._oscillators.forEach(d=>d.start(i)),this.envelope.sustain===0&&this._oscillators.forEach(d=>{d.stop(i+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(i){return this.envelope.triggerRelease(i),this._oscillators.forEach(c=>c.stop(i+this.toSeconds(this.envelope.release))),this}getLevelAtTime(i){return i=this.toSeconds(i),this.envelope.getValueAtTime(i)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(i){this._oscillators.forEach(c=>c.modulationIndex.value=i)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(i){this._oscillators.forEach(c=>c.harmonicity.value=i)}get resonance(){return this._filterFreqScaler.min}set resonance(i){this._filterFreqScaler.min=this.toFrequency(i),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(i){this._octaves=i,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,i)}dispose(){return super.dispose(),this._oscillators.forEach(i=>i.dispose()),this._freqMultipliers.forEach(i=>i.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class ju extends is{constructor(){super(Se(ju.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const i=Se(ju.getDefaults(),arguments);this.pitchDecay=i.pitchDecay,this.octaves=i.octaves,vn(this,["oscillator","envelope"])}static getDefaults(){return Io(Vs.getDefaults(),is.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(i,c){const d=this.toSeconds(c),_=this.toFrequency(i instanceof Ms?i.toFrequency():i),E=_*this.octaves;return this.oscillator.frequency.setValueAtTime(E,d),this.oscillator.frequency.exponentialRampToValueAtTime(_,d+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}mo([Er(0)],ju.prototype,"octaves",void 0),mo([mi(0)],ju.prototype,"pitchDecay",void 0);class Gh extends Vo{constructor(){super(Se(Gh.getDefaults(),arguments)),this.name="NoiseSynth";const i=Se(Gh.getDefaults(),arguments);this.noise=new Wa(Object.assign({context:this.context},i.noise)),this.envelope=new Hh(Object.assign({context:this.context},i.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Vo.getDefaults(),{envelope:Object.assign(fs(Rs.getDefaults(),Object.keys(At.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(fs(Wa.getDefaults(),Object.keys(xi.getDefaults())),{type:"white"})})}triggerAttack(i,c=1){return i=this.toSeconds(i),this.envelope.triggerAttack(i,c),this.noise.start(i),this.envelope.sustain===0&&this.noise.stop(i+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(i){return i=this.toSeconds(i),this.envelope.triggerRelease(i),this.noise.stop(i+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(i,c,d=1){return c=this.toSeconds(c),i=this.toSeconds(i),this.triggerAttack(c,d),this.triggerRelease(c+i),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const xp=new Set;function pf(g){xp.add(g)}function Tp(g,i){const c=`registerProcessor("${g}", ${i})`;xp.add(c)}class bc extends At{constructor(i){super(i),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=er;const c=URL.createObjectURL(new Blob([Array.from(xp).join(`
`)],{type:"text/javascript"})),d=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(c,d).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(d,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}pf(`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`),pf(`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`),pf(`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`),Tp("feedback-comb-filter",`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`);class Yh extends bc{constructor(){super(Se(Yh.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const i=Se(Yh.getDefaults(),arguments,["delayTime","resonance"]);this.input=new cn({context:this.context}),this.output=new cn({context:this.context}),this.delayTime=new On({context:this.context,value:i.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new On({context:this.context,value:i.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),vn(this,["resonance","delayTime"])}_audioWorkletName(){return"feedback-comb-filter"}static getDefaults(){return Object.assign(At.getDefaults(),{delayTime:.1,resonance:.5})}onReady(i){ui(this.input,i,this.output);const c=i.parameters.get("delayTime");this.delayTime.setParam(c);const d=i.parameters.get("feedback");this.resonance.setParam(d)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class ta extends At{constructor(){super(Se(ta.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const i=Se(ta.getDefaults(),arguments,["frequency","type"]);this._frequency=i.frequency,this._type=i.type,this.input=new cn({context:this.context}),this.output=new cn({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(At.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const i=this._filter,c=this.toFrequency(this._frequency),d=1/(2*Math.PI*c);if(this._type==="lowpass"){const _=1/(d*this.context.sampleRate),E=_-1;this._filter=this.context.createIIRFilter([_,0],[1,E])}else{const _=1/(d*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,_])}this.input.chain(this._filter,this.output),i&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(i),i.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(i){this._frequency=i,this._createFilter()}get type(){return this._type}set type(i){this._type=i,this._createFilter()}getFrequencyResponse(i=128){const c=new Float32Array(i);for(let E=0;E<i;E++){const A=19980*Math.pow(E/i,2)+20;c[E]=A}const d=new Float32Array(i),_=new Float32Array(i);return this._filter.getFrequencyResponse(c,d,_),d}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class Uu extends At{constructor(){super(Se(Uu.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const i=Se(Uu.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new Yh({context:this.context,delayTime:i.delayTime,resonance:i.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new ta({context:this.context,frequency:i.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(At.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(i){this._lowpass.frequency=i}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class mf extends Vo{constructor(){super(Se(mf.getDefaults(),arguments)),this.name="PluckSynth";const i=Se(mf.getDefaults(),arguments);this._noise=new Wa({context:this.context,type:"pink"}),this.attackNoise=i.attackNoise,this._lfcf=new Uu({context:this.context,dampening:i.dampening,resonance:i.resonance}),this.resonance=i.resonance,this.release=i.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Io(Vo.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(i){this._lfcf.dampening=i}triggerAttack(i,c){const d=this.toFrequency(i);c=this.toSeconds(c);const _=1/d;return this._lfcf.delayTime.setValueAtTime(_,c),this._noise.start(c),this._noise.stop(c+_*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(c),this._lfcf.resonance.setValueAtTime(this.resonance,c),this}triggerRelease(i){return this._lfcf.resonance.linearRampTo(0,this.release,i),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class Qh extends Vo{constructor(){super(Se(Qh.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const i=Se(Qh.getDefaults(),arguments,["voice","options"]);on(!ns(i.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const c=i.voice.getDefaults();this.options=Object.assign(c,i.options),this.voice=i.voice,this.maxPolyphony=i.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const d=this._voices.indexOf(this._dummyVoice);this._voices.splice(d,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Vo.getDefaults(),{maxPolyphony:32,options:{},voice:is})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(i){this._availableVoices.push(i);const c=this._activeVoices.findIndex(d=>d.voice===i);this._activeVoices.splice(c,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const i=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return i.connect(this.output),this._voices.push(i),i}Ba("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const i=this._availableVoices.shift(),c=this._voices.indexOf(i);this._voices.splice(c,1),this.context.isOffline||i.dispose()}}_triggerAttack(i,c,d){i.forEach(_=>{const E=new Ha(this.context,_).toMidi(),A=this._getNextAvailableVoice();A&&(A.triggerAttack(_,c,d),this._activeVoices.push({midi:E,voice:A,released:!1}),this.log("triggerAttack",_,c))})}_triggerRelease(i,c){i.forEach(d=>{const _=new Ha(this.context,d).toMidi(),E=this._activeVoices.find(({midi:A,released:I})=>A===_&&!I);E&&(E.voice.triggerRelease(c),E.released=!0,this.log("triggerRelease",d,c))})}_scheduleEvent(i,c,d,_){on(!this.disposed,"Synth was already disposed"),d<=this.now()?i==="attack"?this._triggerAttack(c,d,_):this._triggerRelease(c,d):this.context.setTimeout(()=>{this._scheduleEvent(i,c,d,_)},d-this.now())}triggerAttack(i,c,d){Array.isArray(i)||(i=[i]);const _=this.toSeconds(c);return this._scheduleEvent("attack",i,_,d),this}triggerRelease(i,c){Array.isArray(i)||(i=[i]);const d=this.toSeconds(c);return this._scheduleEvent("release",i,d),this}triggerAttackRelease(i,c,d,_){const E=this.toSeconds(d);if(this.triggerAttack(i,E,_),rr(c)){on(rr(i),"If the duration is an array, the notes must also be an array"),i=i;for(let A=0;A<i.length;A++){const I=c[Math.min(A,c.length-1)],B=this.toSeconds(I);on(B>0,"The duration must be greater than 0"),this.triggerRelease(i[A],E+B)}}else{const A=this.toSeconds(c);on(A>0,"The duration must be greater than 0"),this.triggerRelease(i,E+A)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(i){const c=fs(i,["onsilence","context"]);return this.options=Io(this.options,c),this._voices.forEach(d=>d.set(c)),this._dummyVoice.set(c),this}get(){return this._dummyVoice.get()}releaseAll(i){const c=this.toSeconds(i);return this._activeVoices.forEach(({voice:d})=>{d.triggerRelease(c)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(i=>i.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Kh extends Vo{constructor(){super(Se(Kh.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const i=Se(Kh.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),c={};Object.keys(i.urls).forEach(d=>{const _=parseInt(d,10);if(on(kl(d)||ns(_)&&isFinite(_),"url key is neither a note or midi pitch: "+d),kl(d)){const E=new Ms(this.context,d).toMidi();c[E]=i.urls[d]}else ns(_)&&isFinite(_)&&(c[_]=i.urls[_])}),this._buffers=new Pl({urls:c,onload:i.onload,baseUrl:i.baseUrl,onerror:i.onerror}),this.attack=i.attack,this.release=i.release,this.curve=i.curve,this._buffers.loaded&&Promise.resolve().then(i.onload)}static getDefaults(){return Object.assign(Vo.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:er,onerror:er,release:.1,urls:{}})}_findClosest(i){let c=0;for(;c<96;){if(this._buffers.has(i+c))return-c;if(this._buffers.has(i-c))return c;c++}throw new Error("No available buffers for note: "+i)}triggerAttack(i,c,d=1){return this.log("triggerAttack",i,c,d),Array.isArray(i)||(i=[i]),i.forEach(_=>{const E=yc(new Ms(this.context,_).toFrequency()),A=Math.round(E),I=E-A,B=this._findClosest(A),G=A-B,oe=this._buffers.get(G),Q=go(B+I),ue=new qa({url:oe,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:Q}).connect(this.output);ue.start(c,0,oe.duration/Q,d),rr(this._activeSources.get(A))||this._activeSources.set(A,[]),this._activeSources.get(A).push(ue),ue.onended=()=>{if(this._activeSources&&this._activeSources.has(A)){const Z=this._activeSources.get(A),Ie=Z.indexOf(ue);Ie!==-1&&Z.splice(Ie,1)}}}),this}triggerRelease(i,c){return this.log("triggerRelease",i,c),Array.isArray(i)||(i=[i]),i.forEach(d=>{const _=new Ms(this.context,d).toMidi();if(this._activeSources.has(_)&&this._activeSources.get(_).length){const E=this._activeSources.get(_);c=this.toSeconds(c),E.forEach(A=>{A.stop(c)}),this._activeSources.set(_,[])}}),this}releaseAll(i){const c=this.toSeconds(i);return this._activeSources.forEach(d=>{for(;d.length;)d.shift().stop(c)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(i,c,d,_=1){const E=this.toSeconds(d);return this.triggerAttack(i,E,_),rr(c)?(on(rr(i),"notes must be an array when duration is array"),i.forEach((A,I)=>{const B=c[Math.min(I,c.length-1)];this.triggerRelease(A,E+this.toSeconds(B))})):this.triggerRelease(i,E+this.toSeconds(c)),this}add(i,c,d){if(on(kl(i)||isFinite(i),"note must be a pitch or midi: "+i),kl(i)){const _=new Ms(this.context,i).toMidi();this._buffers.add(_,c,d)}else this._buffers.add(i,c,d);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(i=>{i.forEach(c=>c.dispose())}),this._activeSources.clear(),this}}mo([mi(0)],Kh.prototype,"attack",void 0),mo([mi(0)],Kh.prototype,"release",void 0);class Ya extends rs{constructor(){super(Se(Ya.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Dl("stopped"),this._startOffset=0;const i=Se(Ya.getDefaults(),arguments,["callback","value"]);this._loop=i.loop,this.callback=i.callback,this.value=i.value,this._loopStart=this.toTicks(i.loopStart),this._loopEnd=this.toTicks(i.loopEnd),this._playbackRate=i.playbackRate,this._probability=i.probability,this._humanize=i.humanize,this.mute=i.mute,this._playbackRate=i.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(rs.getDefaults(),{callback:er,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(i=-1){this._state.forEachFrom(i,c=>{let d;if(c.state==="started"){c.id!==-1&&this.context.transport.clear(c.id);const _=c.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||ns(this._loop)&&this._loop>1){d=1/0,ns(this._loop)&&(d=this._loop*this._getLoopDuration());const E=this._state.getAfter(_);E!==null&&(d=Math.min(d,E.time-_)),d!==1/0&&(this._state.setStateAtTime("stopped",_+d+1,{id:-1}),d=new Wr(this.context,d));const A=new Wr(this.context,this._getLoopDuration());c.id=this.context.transport.scheduleRepeat(this._tick.bind(this),A,new Wr(this.context,_),d)}else c.id=this.context.transport.schedule(this._tick.bind(this),new Wr(this.context,_))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(i){this._startOffset=i}get probability(){return this._probability}set probability(i){this._probability=i}get humanize(){return this._humanize}set humanize(i){this._humanize=i}start(i){const c=this.toTicks(i);return this._state.getValueAtTime(c)==="stopped"&&(this._state.add({id:-1,state:"started",time:c}),this._rescheduleEvents(c)),this}stop(i){this.cancel(i);const c=this.toTicks(i);if(this._state.getValueAtTime(c)==="started"){this._state.setStateAtTime("stopped",c,{id:-1});const d=this._state.getBefore(c);let _=c;d!==null&&(_=d.time),this._rescheduleEvents(_)}return this}cancel(i){i=Lo(i,-1/0);const c=this.toTicks(i);return this._state.forEachFrom(c,d=>{this.context.transport.clear(d.id)}),this._state.cancel(c),this}_tick(i){const c=this.context.transport.getTicksAtTime(i);if(!this.mute&&this._state.getValueAtTime(c)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let d=.02;bi(this.humanize)||(d=this.toSeconds(this.humanize)),i+=(2*Math.random()-1)*d}this.callback(i,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(i){this._loop=i,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(i){this._playbackRate=i,this._rescheduleEvents()}get loopEnd(){return new Wr(this.context,this._loopEnd).toSeconds()}set loopEnd(i){this._loopEnd=this.toTicks(i),this._loop&&this._rescheduleEvents()}get loopStart(){return new Wr(this.context,this._loopStart).toSeconds()}set loopStart(i){this._loopStart=this.toTicks(i),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const i=this.context.transport.ticks,c=this._state.get(i);if(c!==null&&c.state==="started"){const d=this._getLoopDuration();return(i-c.time)%d/d}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Xh extends rs{constructor(){super(Se(Xh.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const i=Se(Xh.getDefaults(),arguments,["callback","interval"]);this._event=new Ya({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:i.interval,playbackRate:i.playbackRate,probability:i.probability}),this.callback=i.callback,this.iterations=i.iterations}static getDefaults(){return Object.assign(rs.getDefaults(),{interval:"4n",callback:er,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(i){return this._event.start(i),this}stop(i){return this._event.stop(i),this}cancel(i){return this._event.cancel(i),this}_tick(i){this.callback(i)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(i){this._event.loopEnd=i}get playbackRate(){return this._event.playbackRate}set playbackRate(i){this._event.playbackRate=i}get humanize(){return this._event.humanize}set humanize(i){this._event.humanize=i}get probability(){return this._event.probability}set probability(i){this._event.probability=i}get mute(){return this._event.mute}set mute(i){this._event.mute=i}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(i){this._event.loop=i===1/0||i}dispose(){return super.dispose(),this._event.dispose(),this}}class Bu extends Ya{constructor(){super(Se(Bu.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new Dl("stopped"),this._events=new Set;const i=Se(Bu.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,i.events.forEach(c=>{rr(c)?this.add(c[0],c[1]):this.add(c)})}static getDefaults(){return Object.assign(Ya.getDefaults(),{events:[]})}start(i,c){const d=this.toTicks(i);if(this._state.getValueAtTime(d)!=="started"){c=Lo(c,this._loop?this._loopStart:0),c=this._loop?Lo(c,this._loopStart):Lo(c,0);const _=this.toTicks(c);this._state.add({id:-1,offset:_,state:"started",time:d}),this._forEach(E=>{this._startNote(E,d,_)})}return this}_startNote(i,c,d){c-=d,this._loop?i.startOffset>=this._loopStart&&i.startOffset<this._loopEnd?(i.startOffset<d&&(c+=this._getLoopDuration()),i.start(new Wr(this.context,c))):i.startOffset<this._loopStart&&i.startOffset>=d&&(i.loop=!1,i.start(new Wr(this.context,c))):i.startOffset>=d&&i.start(new Wr(this.context,c))}get startOffset(){return this._startOffset}set startOffset(i){this._startOffset=i,this._forEach(c=>{c.startOffset+=this._startOffset})}stop(i){const c=this.toTicks(i);return this._state.cancel(c),this._state.setStateAtTime("stopped",c),this._forEach(d=>{d.stop(i)}),this}at(i,c){const d=new pi(this.context,i).toTicks(),_=new Wr(this.context,1).toSeconds(),E=this._events.values();let A=E.next();for(;!A.done;){const I=A.value;if(Math.abs(d-I.startOffset)<_)return Bn(c)&&(I.value=c),I;A=E.next()}return Bn(c)?(this.add(i,c),this.at(i)):null}add(i,c){i instanceof Object&&Reflect.has(i,"time")&&(i=(c=i).time);const d=this.toTicks(i);let _;return c instanceof Ya?(_=c,_.callback=this._tick.bind(this)):_=new Ya({callback:this._tick.bind(this),context:this.context,value:c}),_.startOffset=d,_.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(_),this._restartEvent(_),this}_restartEvent(i){this._state.forEach(c=>{c.state==="started"?this._startNote(i,c.time,c.offset):i.stop(new Wr(this.context,c.time))})}remove(i,c){return Do(i)&&i.hasOwnProperty("time")&&(i=(c=i).time),i=this.toTicks(i),this._events.forEach(d=>{d.startOffset===i&&(ds(c)||Bn(c)&&d.value===c)&&(this._events.delete(d),d.dispose())}),this}clear(){return this._forEach(i=>i.dispose()),this._events.clear(),this}cancel(i){return this._forEach(c=>c.cancel(i)),this._state.cancel(this.toTicks(i)),this}_forEach(i){return this._events&&this._events.forEach(c=>{c instanceof Bu?c._forEach(i):i(c)}),this}_setAll(i,c){this._forEach(d=>{d[i]=c})}_tick(i,c){this.mute||this.callback(i,c)}_testLoopBoundries(i){this._loop&&(i.startOffset<this._loopStart||i.startOffset>=this._loopEnd)?i.cancel(0):i.state==="stopped"&&this._restartEvent(i)}get probability(){return this._probability}set probability(i){this._probability=i,this._setAll("probability",i)}get humanize(){return this._humanize}set humanize(i){this._humanize=i,this._setAll("humanize",i)}get loop(){return this._loop}set loop(i){this._loop=i,this._forEach(c=>{c.loopStart=this.loopStart,c.loopEnd=this.loopEnd,c.loop=i,this._testLoopBoundries(c)})}get loopEnd(){return new Wr(this.context,this._loopEnd).toSeconds()}set loopEnd(i){this._loopEnd=this.toTicks(i),this._loop&&this._forEach(c=>{c.loopEnd=i,this._testLoopBoundries(c)})}get loopStart(){return new Wr(this.context,this._loopStart).toSeconds()}set loopStart(i){this._loopStart=this.toTicks(i),this._loop&&this._forEach(c=>{c.loopStart=this.loopStart,this._testLoopBoundries(c)})}get playbackRate(){return this._playbackRate}set playbackRate(i){this._playbackRate=i,this._setAll("playbackRate",i)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*X0(g){let i=0;for(;i<g.length;)i=Vu(i,g),yield g[i],i++}function*p_(g){let i=g.length-1;for(;i>=0;)i=Vu(i,g),yield g[i],i--}function*Zh(g,i){for(;;)yield*i(g)}function Vu(g,i){return Ou(g,0,i.length-1)}function*_o(g,i){let c=i?0:g.length-1;for(;;)c=Vu(c,g),yield g[c],i?(c++,c>=g.length-1&&(i=!1)):(c--,c<=0&&(i=!0))}function*Sc(g){let i=0,c=0;for(;i<g.length;)i=Vu(i,g),yield g[i],c++,i+=c%2?2:-1}function*m_(g){let i=g.length-1,c=0;for(;i>=0;)i=Vu(i,g),yield g[i],c++,i+=c%2?-2:1}function*g_(g){const i=[];for(let c=0;c<g.length;c++)i.push(c);for(;i.length>0;){const c=Vu(i.splice(Math.floor(i.length*Math.random()),1)[0],g);yield g[c]}}function*gf(g,i="up",c=0){switch(on(g.length>0,"The array must have more than one value in it"),i){case"up":yield*Zh(g,X0);case"down":yield*Zh(g,p_);case"upDown":yield*_o(g,!0);case"downUp":yield*_o(g,!1);case"alternateUp":yield*Zh(g,Sc);case"alternateDown":yield*Zh(g,m_);case"random":yield*function*(d){for(;;){const _=Math.floor(Math.random()*d.length);yield d[_]}}(g);case"randomOnce":yield*Zh(g,g_);case"randomWalk":yield*function*(d){let _=Math.floor(Math.random()*d.length);for(;;)_===0?_++:_===d.length-1||Math.random()<.5?_--:_++,yield d[_]}(g)}}class Xc extends Xh{constructor(){super(Se(Xc.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const i=Se(Xc.getDefaults(),arguments,["callback","values","pattern"]);this.callback=i.callback,this._values=i.values,this._pattern=gf(i.values,i.pattern),this._type=i.pattern}static getDefaults(){return Object.assign(Xh.getDefaults(),{pattern:"up",values:[],callback:er})}_tick(i){const c=this._pattern.next();this._value=c.value,this.callback(i,this._value)}get values(){return this._values}set values(i){this._values=i,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(i){this._type=i,this._pattern=gf(this._values,this._type)}}class vf extends Ya{constructor(){super(Se(vf.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new Bu({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const i=Se(vf.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(i.subdivision),this.events=i.events,this.loop=i.loop,this.loopStart=i.loopStart,this.loopEnd=i.loopEnd,this.playbackRate=i.playbackRate,this.probability=i.probability,this.humanize=i.humanize,this.mute=i.mute,this.playbackRate=i.playbackRate}static getDefaults(){return Object.assign(fs(Ya.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(i,c){c!==null&&this.callback(i,c)}get events(){return this._events}set events(i){this.clear(),this._eventsArray=i,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(i,c){return this._part.start(i,c&&this._indexTime(c)),this}stop(i){return this._part.stop(i),this}get subdivision(){return new Wr(this.context,this._subdivision).toSeconds()}_createSequence(i){return new Proxy(i,{get:(c,d)=>c[d],set:(c,d,_)=>(po(d)&&isFinite(parseInt(d,10))&&rr(_)?c[d]=this._createSequence(_):c[d]=_,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(i,c,d){i.forEach((_,E)=>{const A=E*c+d;if(rr(_))this._rescheduleSequence(_,c/_.length,A);else{const I=new Wr(this.context,A,"i").toSeconds();this._part.add(I,_)}})}_indexTime(i){return new Wr(this.context,i*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(i){this._part.loop=i}get loopStart(){return this._loopStart}set loopStart(i){this._loopStart=i,this._part.loopStart=this._indexTime(i)}get loopEnd(){return this._loopEnd}set loopEnd(i){this._loopEnd=i,this._part.loopEnd=i===0?this._indexTime(this._eventsArray.length):this._indexTime(i)}get startOffset(){return this._part.startOffset}set startOffset(i){this._part.startOffset=i}get playbackRate(){return this._part.playbackRate}set playbackRate(i){this._part.playbackRate=i}get probability(){return this._part.probability}set probability(i){this._part.probability=i}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(i){this._part.humanize=i}get length(){return this._part.length}}class Vl extends At{constructor(){super(Object.assign(Se(Vl.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new K0({context:this.context}),this.a=new cn({context:this.context,gain:0}),this.b=new cn({context:this.context,gain:0}),this.output=new cn({context:this.context}),this._internalChannels=[this.a,this.b];const i=Se(Vl.getDefaults(),arguments,["fade"]);this.fade=new hn({context:this.context,units:"normalRange",value:i.fade}),vn(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Js(this._split,this.a.gain,0),Js(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(At.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class ys extends At{constructor(i){super(i),this.name="Effect",this._dryWet=new Vl({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new cn({context:this.context}),this.effectReturn=new cn({context:this.context}),this.input=new cn({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(i.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],vn(this,"wet")}static getDefaults(){return Object.assign(At.getDefaults(),{wet:1})}connectEffect(i){return this._internalChannels.push(i),this.effectSend.chain(i,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class yf extends ys{constructor(i){super(i),this.name="LFOEffect",this._lfo=new yn({context:this.context,frequency:i.frequency,amplitude:i.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=i.type,vn(this,["frequency","depth"])}static getDefaults(){return Object.assign(ys.getDefaults(),{frequency:1,type:"sine",depth:1})}start(i){return this._lfo.start(i),this}stop(i){return this._lfo.stop(i),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(i){this._lfo.type=i}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Zc extends yf{constructor(){super(Se(Zc.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const i=Se(Zc.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new yo(Object.assign(i.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=i.octaves,this.baseFrequency=i.baseFrequency}static getDefaults(){return Object.assign(yf.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(i){this._lfo.min=this.toFrequency(i),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(i){this._octaves=i,this._lfo.max=this._lfo.min*Math.pow(2,i)}dispose(){return super.dispose(),this.filter.dispose(),this}}class xc extends At{constructor(){super(Object.assign(Se(xc.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const i=Se(xc.getDefaults(),arguments,["pan"]);this.pan=new On({context:this.context,param:this._panner.pan,value:i.pan,minValue:-1,maxValue:1}),this._panner.channelCount=i.channelCount,this._panner.channelCountMode="explicit",vn(this,"pan")}static getDefaults(){return Object.assign(At.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Ep extends yf{constructor(){super(Se(Ep.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const i=Se(Ep.getDefaults(),arguments,["frequency"]);this._panner=new xc({context:this.context,channelCount:i.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(yf.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class zu extends At{constructor(){super(Se(zu.getDefaults(),arguments,["smoothing"])),this.name="Follower";const i=Se(zu.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new lg({context:this.context}),this._lowpass=this.output=new ta({context:this.context,frequency:1/this.toSeconds(i.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=i.smoothing}static getDefaults(){return Object.assign(At.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(i){this._smoothing=i,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class _f extends ys{constructor(){super(Se(_f.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const i=Se(_f.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new zu({context:this.context,smoothing:i.follower}),this._sweepRange=new Wn({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(i.baseFrequency),this._octaves=i.octaves,this._inputBoost=new cn({context:this.context}),this._bandpass=new yo({context:this.context,rolloff:-48,frequency:0,Q:i.Q}),this._peaking=new yo({context:this.context,type:"peaking"}),this._peaking.gain.value=i.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=i.sensitivity,vn(this,["gain","Q"])}static getDefaults(){return Object.assign(ys.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(i){this._octaves=i,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(i){this._follower.smoothing=i}get baseFrequency(){return this._baseFrequency}set baseFrequency(i){this._baseFrequency=this.toFrequency(i),this._setSweepRange()}get sensitivity(){return Mu(1/this._inputBoost.gain.value)}set sensitivity(i){this._inputBoost.gain.value=1/Ml(i)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}Tp("bit-crusher",`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`);class Hu extends ys{constructor(){super(Se(Hu.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const i=Se(Hu.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new wf({context:this.context,bits:i.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(ys.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class wf extends bc{constructor(){super(Se(wf.getDefaults(),arguments)),this.name="BitCrusherWorklet";const i=Se(wf.getDefaults(),arguments);this.input=new cn({context:this.context}),this.output=new cn({context:this.context}),this.bits=new On({context:this.context,value:i.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(bc.getDefaults(),{bits:12})}_audioWorkletName(){return"bit-crusher"}onReady(i){ui(this.input,i,this.output);const c=i.parameters.get("bits");this.bits.setParam(c)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class $u extends ys{constructor(){super(Se($u.getDefaults(),arguments,["order"])),this.name="Chebyshev";const i=Se($u.getDefaults(),arguments,["order"]);this._shaper=new Uo({context:this.context,length:4096}),this._order=i.order,this.connectEffect(this._shaper),this.order=i.order,this.oversample=i.oversample}static getDefaults(){return Object.assign(ys.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(i,c,d){return d.has(c)||(c===0?d.set(c,0):c===1?d.set(c,i):d.set(c,2*i*this._getCoefficient(i,c-1,d)-this._getCoefficient(i,c-2,d))),d.get(c)}get order(){return this._order}set order(i){this._order=i,this._shaper.setMap(c=>this._getCoefficient(c,i,new Map))}get oversample(){return this._shaper.oversample}set oversample(i){this._shaper.oversample=i}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Tc extends At{constructor(){super(Se(Tc.getDefaults(),arguments,["channels"])),this.name="Split";const i=Se(Tc.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(i.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(At.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class va extends At{constructor(){super(Se(va.getDefaults(),arguments,["channels"])),this.name="Merge";const i=Se(va.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(i.channels)}static getDefaults(){return Object.assign(At.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Ec extends At{constructor(i){super(i),this.name="StereoEffect",this.input=new cn({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Vl({context:this.context,fade:i.wet}),this.wet=this._dryWet.fade,this._split=new Tc({context:this.context,channels:2}),this._merge=new va({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),vn(this,["wet"])}connectEffectLeft(...i){this._split.connect(i[0],0,0),ui(...i),Js(i[i.length-1],this._merge,0,0)}connectEffectRight(...i){this._split.connect(i[0],1,0),ui(...i),Js(i[i.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(At.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Cp extends Ec{constructor(i){super(i),this.feedback=new hn({context:this.context,value:i.feedback,units:"normalRange"}),this._feedbackL=new cn({context:this.context}),this._feedbackR=new cn({context:this.context}),this._feedbackSplit=new Tc({context:this.context,channels:2}),this._feedbackMerge=new va({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),vn(this,["feedback"])}static getDefaults(){return Object.assign(Ec.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class qu extends Cp{constructor(){super(Se(qu.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const i=Se(qu.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=i.depth,this._delayTime=i.delayTime/1e3,this._lfoL=new yn({context:this.context,frequency:i.frequency,min:0,max:1}),this._lfoR=new yn({context:this.context,frequency:i.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Mi({context:this.context}),this._delayNodeR=new Mi({context:this.context}),this.frequency=this._lfoL.frequency,vn(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=i.type,this.spread=i.spread}static getDefaults(){return Object.assign(Cp.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(i){this._depth=i;const c=this._delayTime*i;this._lfoL.min=Math.max(this._delayTime-c,0),this._lfoL.max=this._delayTime+c,this._lfoR.min=Math.max(this._delayTime-c,0),this._lfoR.max=this._delayTime+c}get delayTime(){return 1e3*this._delayTime}set delayTime(i){this._delayTime=i/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(i){this._lfoL.type=i,this._lfoR.type=i}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(i){this._lfoL.phase=90-i/2,this._lfoR.phase=i/2+90}start(i){return this._lfoL.start(i),this._lfoR.start(i),this}stop(i){return this._lfoL.stop(i),this._lfoR.stop(i),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class bf extends ys{constructor(){super(Se(bf.getDefaults(),arguments,["distortion"])),this.name="Distortion";const i=Se(bf.getDefaults(),arguments,["distortion"]);this._shaper=new Uo({context:this.context,length:4096}),this._distortion=i.distortion,this.connectEffect(this._shaper),this.distortion=i.distortion,this.oversample=i.oversample}static getDefaults(){return Object.assign(ys.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(i){this._distortion=i;const c=100*i,d=Math.PI/180;this._shaper.setMap(_=>Math.abs(_)<.001?0:(3+c)*_*20*d/(Math.PI+c*Math.abs(_)))}get oversample(){return this._shaper.oversample}set oversample(i){this._shaper.oversample=i}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Jh extends ys{constructor(i){super(i),this.name="FeedbackEffect",this._feedbackGain=new cn({context:this.context,gain:i.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,vn(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(ys.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class kp extends Jh{constructor(){super(Se(kp.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const i=Se(kp.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new Mi({context:this.context,delayTime:i.delayTime,maxDelay:i.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),vn(this,"delayTime")}static getDefaults(){return Object.assign(Jh.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class Z0 extends At{constructor(i){super(i),this.name="PhaseShiftAllpass",this.input=new cn({context:this.context}),this.output=new cn({context:this.context}),this.offset90=new cn({context:this.context}),this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),ui(this.input,...this._bank0,this._oneSampleDelay,this.output),ui(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(i){return i.map(c=>{const d=[[c*c,0,-1],[1,0,-c*c]];return this.context.createIIRFilter(d[0],d[1])})}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach(i=>i.disconnect()),this._bank1.forEach(i=>i.disconnect()),this._oneSampleDelay.disconnect(),this}}class ya extends ys{constructor(){super(Se(ya.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const i=Se(ya.getDefaults(),arguments,["frequency"]);this.frequency=new hn({context:this.context,units:"frequency",value:i.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new Il({context:this.context,type:"sine"}),this._cosine=new ii({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new Tr({context:this.context}),this._cosineMultiply=new Tr({context:this.context}),this._negate=new df({context:this.context}),this._add=new xe({context:this.context}),this._phaseShifter=new Z0({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const c=this.immediate();this._sine.start(c),this._cosine.start(c)}static getDefaults(){return Object.assign(ys.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const hg=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],dg=[225,556,441,341];class Op extends Ec{constructor(){super(Se(Op.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const i=Se(Op.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new hn({context:this.context,value:i.roomSize,units:"normalRange"}),this._allpassFiltersL=dg.map(c=>{const d=this.context.createBiquadFilter();return d.type="allpass",d.frequency.value=c,d}),this._allpassFiltersR=dg.map(c=>{const d=this.context.createBiquadFilter();return d.type="allpass",d.frequency.value=c,d}),this._combFilters=hg.map((c,d)=>{const _=new Uu({context:this.context,dampening:i.dampening,delayTime:c});return d<hg.length/2?this.connectEffectLeft(_,...this._allpassFiltersL):this.connectEffectRight(_,...this._allpassFiltersR),this.roomSize.connect(_.resonance),_}),vn(this,["roomSize"])}static getDefaults(){return Object.assign(Ec.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(i){this._combFilters.forEach(c=>c.dampening=i)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(i=>i.disconnect()),this._allpassFiltersR.forEach(i=>i.disconnect()),this._combFilters.forEach(i=>i.dispose()),this.roomSize.dispose(),this}}const fg=[.06748,.06404,.08212,.09004],v_=[.773,.802,.753,.733],y_=[347,113,37];class _a extends Ec{constructor(){super(Se(_a.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const i=Se(_a.getDefaults(),arguments,["roomSize"]);this.roomSize=new hn({context:this.context,value:i.roomSize,units:"normalRange"}),this._scaleRoomSize=new at({context:this.context,min:-.733,max:.197}),this._allpassFilters=y_.map(c=>{const d=this.context.createBiquadFilter();return d.type="allpass",d.frequency.value=c,d}),this._feedbackCombFilters=fg.map((c,d)=>{const _=new Yh({context:this.context,delayTime:c});return this._scaleRoomSize.connect(_.resonance),_.resonance.value=v_[d],d<fg.length/2?this.connectEffectLeft(...this._allpassFilters,_):this.connectEffectRight(...this._allpassFilters,_),_}),this.roomSize.connect(this._scaleRoomSize),vn(this,["roomSize"])}static getDefaults(){return Object.assign(Ec.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(i=>i.disconnect()),this._feedbackCombFilters.forEach(i=>i.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class Np extends Cp{constructor(i){super(i),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),vn(this,["feedback"])}}class ed extends Np{constructor(){super(Se(ed.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const i=Se(ed.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new Mi({context:this.context,maxDelay:i.maxDelay}),this._rightDelay=new Mi({context:this.context,maxDelay:i.maxDelay}),this._rightPreDelay=new Mi({context:this.context,maxDelay:i.maxDelay}),this.delayTime=new hn({context:this.context,units:"time",value:i.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),vn(this,["delayTime"])}static getDefaults(){return Object.assign(Np.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class td extends Jh{constructor(){super(Se(td.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const i=Se(td.getDefaults(),arguments,["pitch"]);this._frequency=new hn({context:this.context}),this._delayA=new Mi({maxDelay:1,context:this.context}),this._lfoA=new yn({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new Mi({maxDelay:1,context:this.context}),this._lfoB=new yn({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new Vl({context:this.context}),this._crossFadeLFO=new yn({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Mi({delayTime:i.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,vn(this,"delayTime"),this._pitch=i.pitch,this._windowSize=i.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const c=this.now();this._lfoA.start(c),this._lfoB.start(c),this._crossFadeLFO.start(c),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Jh.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(i){this._pitch=i;let c=0;i<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,c=go(i-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,c=go(i)-1),this._frequency.value=c*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(i){this._windowSize=this.toSeconds(i),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Wu extends Ec{constructor(){super(Se(Wu.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const i=Se(Wu.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new yn({context:this.context,frequency:i.frequency,min:0,max:1}),this._lfoR=new yn({context:this.context,frequency:i.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(i.baseFrequency),this._octaves=i.octaves,this.Q=new hn({context:this.context,value:i.Q,units:"positive"}),this._filtersL=this._makeFilters(i.stages,this._lfoL),this._filtersR=this._makeFilters(i.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=i.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=i.baseFrequency,this.octaves=i.octaves,this._lfoL.start(),this._lfoR.start(),vn(this,["frequency","Q"])}static getDefaults(){return Object.assign(Ec.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(i,c){const d=[];for(let _=0;_<i;_++){const E=this.context.createBiquadFilter();E.type="allpass",this.Q.connect(E.Q),c.connect(E.frequency),d.push(E)}return d}get octaves(){return this._octaves}set octaves(i){this._octaves=i;const c=this._baseFrequency*Math.pow(2,i);this._lfoL.max=c,this._lfoR.max=c}get baseFrequency(){return this._baseFrequency}set baseFrequency(i){this._baseFrequency=this.toFrequency(i),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(i=>i.disconnect()),this._filtersR.forEach(i=>i.disconnect()),this.frequency.dispose(),this}}class Jc extends ys{constructor(){super(Se(Jc.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const i=Se(Jc.getDefaults(),arguments,["decay"]);this._decay=i.decay,this._preDelay=i.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(ys.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(i){ji(i=this.toSeconds(i),.001),this._decay=i,this.generate()}get preDelay(){return this._preDelay}set preDelay(i){ji(i=this.toSeconds(i),0),this._preDelay=i,this.generate()}generate(){return Dr(this,void 0,void 0,function*(){const i=this.ready,c=new Al(2,this._decay+this._preDelay,this.context.sampleRate),d=new Wa({context:c}),_=new Wa({context:c}),E=new va({context:c});d.connect(E,0,0),_.connect(E,0,1);const A=new cn({context:c}).toDestination();E.connect(A),d.start(0),_.start(0),A.gain.setValueAtTime(0,0),A.gain.setValueAtTime(1,this._preDelay),A.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const I=c.render();return this.ready=I.then(er),yield i,this._convolver.buffer=(yield I).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class En extends At{constructor(){super(Se(En.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new Tc({channels:2,context:this.context}),this._midAdd=new xe({context:this.context}),this.mid=new Tr({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Fl({context:this.context}),this.side=new Tr({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class zl extends At{constructor(){super(Se(zl.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new cn({context:this.context}),this.side=new cn({context:this.context}),this._left=new xe({context:this.context}),this._leftMult=new Tr({context:this.context,value:Math.SQRT1_2}),this._right=new Fl({context:this.context}),this._rightMult=new Tr({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new va({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class Ap extends ys{constructor(i){super(i),this.name="MidSideEffect",this._midSideMerge=new zl({context:this.context}),this._midSideSplit=new En({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...i){this._midSend.chain(...i,this._midReturn)}connectEffectSide(...i){this._sideSend.chain(...i,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class Cc extends Ap{constructor(){super(Se(Cc.getDefaults(),arguments,["width"])),this.name="StereoWidener";const i=Se(Cc.getDefaults(),arguments,["width"]);this.width=new hn({context:this.context,value:i.width,units:"normalRange"}),vn(this,["width"]),this._twoTimesWidthMid=new Tr({context:this.context,value:2}),this._twoTimesWidthSide=new Tr({context:this.context,value:2}),this._midMult=new Tr({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Fl({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),Js(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Tr({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(Ap.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class Mp extends Ec{constructor(){super(Se(Mp.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const i=Se(Mp.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new yn({context:this.context,type:i.type,min:1,max:0}),this._lfoR=new yn({context:this.context,type:i.type,min:1,max:0}),this._amplitudeL=new cn({context:this.context}),this._amplitudeR=new cn({context:this.context}),this.frequency=new hn({context:this.context,value:i.frequency,units:"frequency"}),this.depth=new hn({context:this.context,value:i.depth,units:"normalRange"}),vn(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=i.spread}static getDefaults(){return Object.assign(Ec.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(i){return this._lfoL.start(i),this._lfoR.start(i),this}stop(i){return this._lfoL.stop(i),this._lfoR.stop(i),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(i){this._lfoL.type=i,this._lfoR.type=i}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(i){this._lfoL.phase=90-i/2,this._lfoR.phase=i/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class nd extends ys{constructor(){super(Se(nd.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const i=Se(nd.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new Mi({context:this.context,delayTime:0,maxDelay:i.maxDelay}),this._lfo=new yn({context:this.context,type:i.type,min:0,max:i.maxDelay,frequency:i.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=i.depth,vn(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(ys.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(i){this._lfo.type=i}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Gu extends At{constructor(){super(Se(Gu.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const i=Se(Gu.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new cn({context:this.context}),this._split=new Tc({context:this.context,channels:i.channels}),this.input.connect(this._split),ji(i.channels,1);for(let c=0;c<i.channels;c++)this._analysers[c]=this.context.createAnalyser(),this._split.connect(this._analysers[c],c,0);this.size=i.size,this.type=i.type}static getDefaults(){return Object.assign(At.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((i,c)=>{const d=this._buffers[c];this._type==="fft"?i.getFloatFrequencyData(d):this._type==="waveform"&&i.getFloatTimeDomainData(d)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(i){this._analysers.forEach((c,d)=>{c.fftSize=2*i,this._buffers[d]=new Float32Array(i)})}get channels(){return this._analysers.length}get type(){return this._type}set type(i){on(i==="waveform"||i==="fft","Analyser: invalid type: "+i),this._type=i}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(i){this._analysers.forEach(c=>c.smoothingTimeConstant=i)}dispose(){return super.dispose(),this._analysers.forEach(i=>i.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class Di extends At{constructor(){super(Se(Di.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Gu({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Dp extends Di{constructor(){super(Se(Dp.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;const i=Se(Dp.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new Gu({context:this.context,size:256,type:"waveform",channels:i.channels}),this.smoothing=i.smoothing,this.normalRange=i.normalRange}static getDefaults(){return Object.assign(Di.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return Ba("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const i=this._analyser.getValue(),c=(this.channels===1?[i]:i).map(d=>{const _=d.reduce((A,I)=>A+I*I,0),E=Math.sqrt(_/d.length);return this._rms=Math.max(E,this._rms*this.smoothing),this.normalRange?this._rms:Mu(this._rms)});return this.channels===1?c[0]:c}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Rp extends Di{constructor(){super(Se(Rp.getDefaults(),arguments,["size"])),this.name="FFT";const i=Se(Rp.getDefaults(),arguments,["size"]);this.normalRange=i.normalRange,this._analyser.type="fft",this.size=i.size}static getDefaults(){return Object.assign(At.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map(i=>this.normalRange?Ml(i):i)}get size(){return this._analyser.size}set size(i){this._analyser.size=i}get smoothing(){return this._analyser.smoothing}set smoothing(i){this._analyser.smoothing=i}getFrequencyOfIndex(i){return on(0<=i&&i<this.size,"index must be greater than or equal to 0 and less than "+this.size),i*this.context.sampleRate/(2*this.size)}}class Pp extends Di{constructor(){super(Se(Pp.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class Ip extends Di{constructor(){super(Se(Ip.getDefaults(),arguments,["size"])),this.name="Waveform";const i=Se(Ip.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=i.size}static getDefaults(){return Object.assign(Di.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(i){this._analyser.size=i}}class Ri extends At{constructor(){super(Se(Ri.getDefaults(),arguments,["solo"])),this.name="Solo";const i=Se(Ri.getDefaults(),arguments,["solo"]);this.input=this.output=new cn({context:this.context}),Ri._allSolos.has(this.context)||Ri._allSolos.set(this.context,new Set),Ri._allSolos.get(this.context).add(this),this.solo=i.solo}static getDefaults(){return Object.assign(At.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(i){i?this._addSolo():this._removeSolo(),Ri._allSolos.get(this.context).forEach(c=>c._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ri._soloed.has(this.context)||Ri._soloed.set(this.context,new Set),Ri._soloed.get(this.context).add(this)}_removeSolo(){Ri._soloed.has(this.context)&&Ri._soloed.get(this.context).delete(this)}_isSoloed(){return Ri._soloed.has(this.context)&&Ri._soloed.get(this.context).has(this)}_noSolos(){return!Ri._soloed.has(this.context)||Ri._soloed.has(this.context)&&Ri._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ri._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ri._allSolos=new Map,Ri._soloed=new Map;class Sf extends At{constructor(){super(Se(Sf.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const i=Se(Sf.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new xc({context:this.context,pan:i.pan,channelCount:i.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new jo({context:this.context,volume:i.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=i.mute,vn(this,["pan","volume"])}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(i){this._volume.mute=i}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Hl extends At{constructor(){super(Se(Hl.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const i=Se(Hl.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Ri({solo:i.solo,context:this.context}),this._panVol=this.output=new Sf({context:this.context,pan:i.pan,volume:i.volume,mute:i.mute,channelCount:i.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),vn(this,["pan","volume"])}static getDefaults(){return Object.assign(At.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(i){this._solo.solo=i}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(i){this._panVol.mute=i}_getBus(i){return Hl.buses.has(i)||Hl.buses.set(i,new cn({context:this.context})),Hl.buses.get(i)}send(i,c=0){const d=this._getBus(i),_=new cn({context:this.context,units:"decibels",gain:c});return this.connect(_),_.connect(d),_}receive(i){return this._getBus(i).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Hl.buses=new Map;class pg extends At{constructor(){super(Se(pg.getDefaults(),arguments)),this.name="Mono",this.input=new cn({context:this.context}),this._merge=this.output=new va({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class zo extends At{constructor(){super(Se(zo.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new cn({context:this.context}),this.output=void 0,this.low=new yo({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new yo({context:this.context,frequency:0,type:"highpass"}),this.mid=new yo({context:this.context,frequency:0,type:"lowpass"}),this.high=new yo({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const i=Se(zo.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new hn({context:this.context,units:"frequency",value:i.lowFrequency}),this.highFrequency=new hn({context:this.context,units:"frequency",value:i.highFrequency}),this.Q=new hn({context:this.context,units:"positive",value:i.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),vn(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(At.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Nu(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class wo extends At{constructor(){super(...arguments),this.name="Listener",this.positionX=new On({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new On({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new On({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new On({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new On({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new On({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new On({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new On({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new On({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(At.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}jh(g=>{g.listener=new wo({context:g})}),Uh(g=>{g.listener.dispose()});class rd extends At{constructor(){super(Se(rd.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const i=Se(rd.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=i.panningModel,this.maxDistance=i.maxDistance,this.distanceModel=i.distanceModel,this.coneOuterGain=i.coneOuterGain,this.coneOuterAngle=i.coneOuterAngle,this.coneInnerAngle=i.coneInnerAngle,this.refDistance=i.refDistance,this.rolloffFactor=i.rolloffFactor,this.positionX=new On({context:this.context,param:this._panner.positionX,value:i.positionX}),this.positionY=new On({context:this.context,param:this._panner.positionY,value:i.positionY}),this.positionZ=new On({context:this.context,param:this._panner.positionZ,value:i.positionZ}),this.orientationX=new On({context:this.context,param:this._panner.orientationX,value:i.orientationX}),this.orientationY=new On({context:this.context,param:this._panner.orientationY,value:i.orientationY}),this.orientationZ=new On({context:this.context,param:this._panner.orientationZ,value:i.orientationZ})}static getDefaults(){return Object.assign(At.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(i,c,d){return this.positionX.value=i,this.positionY.value=c,this.positionZ.value=d,this}setOrientation(i,c,d){return this.orientationX.value=i,this.orientationY.value=c,this.orientationZ.value=d,this}get panningModel(){return this._panner.panningModel}set panningModel(i){this._panner.panningModel=i}get refDistance(){return this._panner.refDistance}set refDistance(i){this._panner.refDistance=i}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(i){this._panner.rolloffFactor=i}get distanceModel(){return this._panner.distanceModel}set distanceModel(i){this._panner.distanceModel=i}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(i){this._panner.coneInnerAngle=i}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(i){this._panner.coneOuterAngle=i}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(i){this._panner.coneOuterGain=i}get maxDistance(){return this._panner.maxDistance}set maxDistance(i){this._panner.maxDistance=i}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class xf extends At{constructor(){super(Se(xf.getDefaults(),arguments)),this.name="Recorder";const i=Se(xf.getDefaults(),arguments);this.input=new cn({context:this.context}),on(xf.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:i.mimeType})}static getDefaults(){return At.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return fa!==null&&Reflect.has(fa,"MediaRecorder")}get state(){return this._recorder.state==="inactive"?"stopped":this._recorder.state==="paused"?"paused":"started"}start(){return Dr(this,void 0,void 0,function*(){on(this.state!=="started","Recorder is already started");const i=new Promise(c=>{const d=()=>{this._recorder.removeEventListener("start",d,!1),c()};this._recorder.addEventListener("start",d,!1)});return this._recorder.start(),yield i})}stop(){return Dr(this,void 0,void 0,function*(){on(this.state!=="stopped","Recorder is not started");const i=new Promise(c=>{const d=_=>{this._recorder.removeEventListener("dataavailable",d,!1),c(_.data)};this._recorder.addEventListener("dataavailable",d,!1)});return this._recorder.stop(),yield i})}pause(){return on(this.state==="started","Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class wa extends At{constructor(){super(Se(wa.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const i=Se(wa.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new On({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:i.threshold}),this.attack=new On({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:i.attack}),this.release=new On({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:i.release}),this.knee=new On({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:i.knee}),this.ratio=new On({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:i.ratio}),vn(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(At.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Lp extends At{constructor(){super(Object.assign(Se(Lp.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const i=Se(Lp.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new zu({context:this.context,smoothing:i.smoothing}),this._gt=new ff({context:this.context,value:Ml(i.threshold)}),this.input=new cn({context:this.context}),this._gate=this.output=new cn({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(At.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return Mu(this._gt.value)}set threshold(i){this._gt.value=Ml(i)}get smoothing(){return this._follower.smoothing}set smoothing(i){this._follower.smoothing=i}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Fp extends At{constructor(){super(Object.assign(Se(Fp.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const i=Se(Fp.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new wa({context:this.context,ratio:20,attack:.003,release:.01,threshold:i.threshold}),this.threshold=this._compressor.threshold,vn(this,"threshold")}static getDefaults(){return Object.assign(At.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class $l extends At{constructor(){super(Object.assign(Se($l.getDefaults(),arguments))),this.name="MidSideCompressor";const i=Se($l.getDefaults(),arguments);this._midSideSplit=this.input=new En({context:this.context}),this._midSideMerge=this.output=new zl({context:this.context}),this.mid=new wa(Object.assign(i.mid,{context:this.context})),this.side=new wa(Object.assign(i.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),vn(this,["mid","side"])}static getDefaults(){return Object.assign(At.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class Tf extends At{constructor(){super(Object.assign(Se(Tf.getDefaults(),arguments))),this.name="MultibandCompressor";const i=Se(Tf.getDefaults(),arguments);this._splitter=this.input=new zo({context:this.context,lowFrequency:i.lowFrequency,highFrequency:i.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new cn({context:this.context}),this.low=new wa(Object.assign(i.low,{context:this.context})),this.mid=new wa(Object.assign(i.mid,{context:this.context})),this.high=new wa(Object.assign(i.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),vn(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(At.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Ef extends At{constructor(){super(Se(Ef.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new cn({context:this.context}),this._internalChannels=[];const i=Se(Ef.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new zo({context:this.context,highFrequency:i.highFrequency,lowFrequency:i.lowFrequency}),this._lowGain=new cn({context:this.context,gain:i.low,units:"decibels"}),this._midGain=new cn({context:this.context,gain:i.mid,units:"decibels"}),this._highGain=new cn({context:this.context,gain:i.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),vn(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(At.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Nu(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class jp extends At{constructor(){super(Se(jp.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const i=Se(jp.getDefaults(),arguments,["url","onload"]);this._buffer=new Vn(i.url,c=>{this.buffer=c,i.onload()}),this.input=new cn({context:this.context}),this.output=new cn({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=i.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(At.getDefaults(),{normalize:!0,onload:er})}load(i){return Dr(this,void 0,void 0,function*(){this.buffer=yield this._buffer.load(i)})}get buffer(){return this._buffer.length?this._buffer:null}set buffer(i){i&&this._buffer.set(i),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const c=this._buffer.get();this._convolver.buffer=c||null}get normalize(){return this._convolver.normalize}set normalize(i){this._convolver.normalize=i}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function __(){return ri().now()}function w_(){return ri().immediate()}const b_=ri().transport;function J0(){return ri().transport}const ev=ri().destination,S_=ri().destination;function mg(){return ri().destination}const tv=ri().listener;function Cf(){return ri().listener}const gg=ri().draw;function nv(){return ri().draw}const rv=ri();function Up(){return Vn.loaded()}const iv=Vn,kc=Pl,Yu=qa}])})})(aN);var tn=aN.exports;const k9=e=>new Promise(t=>setTimeout(t,e)),eS=e=>{e.preventDefault(),e.stopPropagation()},LZ=e=>{const t=e.target;return t.tagName==="INPUT"||t.tagName==="TEXTAREA"},O9=e=>e.shiftKey,FZ=e=>e.altKey,N9=e=>/^[a-zA-Z]$/.test(e.key),A9={1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(","-":"_","=":"+","`":"~"},x5=e=>A9[e]||e.toUpperCase(),T5=e=>{e.key==="Enter"&&e.currentTarget.blur()},jZ=e=>{e.currentTarget.blur()},ic=(e,t)=>(e%t+t)%t,qv=(e,t,n)=>(e-t)/(n-t),UZ=(e=0,t=0,n=0)=>Qt.clamp(Math.round(100*(e-t)/(n-t)),0,100),M9=e=>String.fromCharCode(e.toString().charCodeAt(0)+49),I2=(e="1/16")=>S.ticksBySubdivision[e]||S.QuarterNoteTicks,D9=e=>S.toneSubdivisionsByTick[e]||"4n",uN=(e=0,t="1/16")=>{const n=I2(t);return e/n},BZ=(e,t={dotted:!1,triplet:!1})=>{const n=!!t.dotted,r=!!t.triplet;switch(e){case"64th":return r?S.TripletSixtyFourthNoteTicks:n?S.DottedSixtyFourthNoteTicks:S.SixtyFourthNoteTicks;case"32nd":return r?S.TripletThirtySecondNoteTicks:n?S.DottedThirtySecondNoteTicks:S.ThirtySecondNoteTicks;case"16th":return r?S.TripletSixteenthNoteTicks:n?S.DottedSixteenthNoteTicks:S.SixteenthNoteTicks;case"eighth":return r?S.TripletEighthNoteTicks:n?S.DottedEighthNoteTicks:S.EighthNoteTicks;case"quarter":return r?S.TripletQuarterNoteTicks:n?S.DottedQuarterNoteTicks:S.QuarterNoteTicks;case"half":return r?S.TripletHalfNoteTicks:n?S.DottedHalfNoteTicks:S.HalfNoteTicks;case"whole":return r?S.TripletWholeNoteTicks:n?S.DottedWholeNoteTicks:S.WholeNoteTicks;default:return 1}},VZ=e=>[S.SixtyFourthNoteTicks,S.DottedSixtyFourthNoteTicks,S.TripletSixtyFourthNoteTicks].includes(e)?"64th":[S.ThirtySecondNoteTicks,S.DottedThirtySecondNoteTicks,S.TripletThirtySecondNoteTicks].includes(e)?"32nd":[S.SixteenthNoteTicks,S.DottedSixteenthNoteTicks,S.TripletSixteenthNoteTicks].includes(e)?"16th":[S.EighthNoteTicks,S.DottedEighthNoteTicks,S.TripletEighthNoteTicks].includes(e)?"eighth":[S.QuarterNoteTicks,S.DottedQuarterNoteTicks,S.TripletQuarterNoteTicks].includes(e)?"quarter":[S.HalfNoteTicks,S.DottedHalfNoteTicks,S.TripletHalfNoteTicks].includes(e)?"half":[S.WholeNoteTicks,S.DottedWholeNoteTicks,S.TripletWholeNoteTicks].includes(e)?"whole":"quarter",mh=(e,t)=>{const n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)},R9=120,hN=30,dN=300,P9=64,zZ="eighth",I9=-60,L9=0,F9=-6,$y=-60,L2=6,HZ=.1,j9=0,U9=-1,B9=1,$Z=.01,F2=300,qy=60,V9=80,qZ=20,z9=20,H9=100,$9=80,q9=120,Wv=60,ce=class ce{static ticksToSeconds(t,n){return 60/n*(t/this.PPQ)}static secondsToTicks(t,n){return Math.round(t*n*this.PPQ/60)}static isTriplet(t){return(t==null?void 0:t.duration)===ce.TripletWholeNoteTicks||(t==null?void 0:t.duration)===ce.TripletHalfNoteTicks||(t==null?void 0:t.duration)===ce.TripletEighthNoteTicks||(t==null?void 0:t.duration)===ce.TripletSixteenthNoteTicks||(t==null?void 0:t.duration)===ce.TripletThirtySecondNoteTicks||(t==null?void 0:t.duration)===ce.TripletSixtyFourthNoteTicks}static isDotted(t){return(t==null?void 0:t.duration)===ce.DottedWholeNoteTicks||(t==null?void 0:t.duration)===ce.DottedHalfNoteTicks||(t==null?void 0:t.duration)===ce.DottedQuarterNoteTicks||(t==null?void 0:t.duration)===ce.DottedEighthNoteTicks||(t==null?void 0:t.duration)===ce.DottedSixteenthNoteTicks||(t==null?void 0:t.duration)===ce.DottedThirtySecondNoteTicks||(t==null?void 0:t.duration)===ce.DottedSixtyFourthNoteTicks}static isRest(t){return Array.isArray(t)?t.some(n=>n.MIDI===this.Rest):typeof t=="number"?t===this.Rest:(t==null?void 0:t.MIDI)===this.Rest}static isNotRest(t){return!ce.isRest(t)}static ChromaticNumber(t){if(t===ce.Rest)return t;isNaN(t)||(t=ce.toPitchClass(t));const n=ce.ChromaticScale.find(r=>r.spellings.includes(t));return n?n.number:0}static ChromaticDistance(t,n){const r=ce.ChromaticNumber(t);return ce.ChromaticNumber(n)-r}static OctaveDistance(t,n){if(isNaN(t)||isNaN(n))return 0;const r=ce.toOctave(t);return ce.toOctave(n)-r}static fromPitch(t){return tn.Frequency(t).toMidi()}static fromPitchClass(t,n=4){return ce.fromPitch(`${t}${n}`)}static toPitchClass(t,n=ce.ChromaticKey){return t===ce.Rest?"R":n[ic(t,12)]}static toOctave(t,n=ce.ChromaticKey){const r=Math.floor((t-12)/12);if(r<0)return r;const s=ce.ChromaticNumber(t);return s===0&&n[0]==="B#"?r-1:s===11&&n[11]==="Cb"?r+1:r}static toPitch(t,n=ce.ChromaticKey){return t===ce.Rest?"":`${this.toPitchClass(t,n)}${this.toOctave(t)}`}static toLetter(t,n=ce.ChromaticKey){const r=this.toPitchClass(t,n);return r?r.replace(/b|#|-/g,""):"C"}static toOffset(t,n=ce.ChromaticKey){const s=this.toPitch(t,n).match(/bb|##|b|#/g);if(s){const o=s[0];if(o==="#")return 1;if(o==="b")return-1;if(o==="##")return 2;if(o==="bb")return-2}return 0}static toAccidental(t,n=ce.ChromaticKey){const r=this.toOffset(t,n);return r===1?"sharp":r===-1?"flat":r===2?"double-sharp":r===-2?"double-flat":"natural"}static closestPitchClass(t,n,r){const s=n.map(f=>ce.ChromaticNumber(f)),o=ce.ChromaticNumber(t),l=s.reduce((f,m)=>{const v=Math.abs(m-o),b=Math.abs(f-o);if(!(v===b))return v<b?m:f;const O=r==null?void 0:r.includes(ce.ChromaticKey[m]),T=r==null?void 0:r.includes(ce.ChromaticKey[f]);if(O&&!T)return f;if(!O&&T)return m;const D=r==null?void 0:r.reduce((C,R)=>{const j=Math.abs(m-ce.ChromaticNumber(R));return j<C?j:C},1/0),M=r==null?void 0:r.reduce((C,R)=>{const j=Math.abs(C-ce.ChromaticNumber(R));return j<C?j:C},1/0);return D&&!M?f:!D&&M||m<f?m:f},-1),u=ce.ChromaticKey[l];if(!u)throw new Error("Pitch class not found");return u}};yt(ce,"PPQ",96),yt(ce,"createNote",(t,n,r)=>{const s=ce.clampNote(t),o=ce.clampDuration(n),l=ce.clampVelocity(r);return{MIDI:s,duration:o,velocity:l}}),yt(ce,"createRest",t=>{const n=Qt.clamp(t??ce.QuarterNoteTicks,ce.MinDuration,ce.MaxDuration);return{MIDI:ce.Rest,duration:n,velocity:0}}),yt(ce,"WholeNoteTicks",4*ce.PPQ),yt(ce,"createWholeNote",(t,n)=>ce.createNote(t,ce.WholeNoteTicks,n)),yt(ce,"createWholeRest",()=>ce.createRest(ce.WholeNoteTicks)),yt(ce,"HalfNoteTicks",2*ce.PPQ),yt(ce,"createHalfNote",(t,n)=>ce.createNote(t,ce.HalfNoteTicks,n)),yt(ce,"createHalfRest",()=>ce.createRest(ce.HalfNoteTicks)),yt(ce,"QuarterNoteTicks",ce.PPQ),yt(ce,"createQuarterNote",(t,n)=>ce.createNote(t,ce.QuarterNoteTicks,n)),yt(ce,"createQuarterRest",()=>ce.createRest(ce.QuarterNoteTicks)),yt(ce,"EighthNoteTicks",ce.PPQ/2),yt(ce,"createEighthNote",(t,n)=>ce.createNote(t,ce.EighthNoteTicks,n)),yt(ce,"createEighthRest",()=>ce.createRest(ce.EighthNoteTicks)),yt(ce,"SixteenthNoteTicks",ce.PPQ/4),yt(ce,"createSixteenthNote",(t,n)=>ce.createNote(t,ce.SixteenthNoteTicks,n)),yt(ce,"createSixteenthRest",()=>ce.createRest(ce.SixteenthNoteTicks)),yt(ce,"ThirtySecondNoteTicks",ce.PPQ/8),yt(ce,"createThirtySecondNote",(t,n)=>ce.createNote(t,ce.ThirtySecondNoteTicks,n)),yt(ce,"createThirtySecondRest",()=>ce.createRest(ce.ThirtySecondNoteTicks)),yt(ce,"SixtyFourthNoteTicks",ce.PPQ/16),yt(ce,"createSixtyFourthNote",(t,n)=>ce.createNote(t,ce.SixtyFourthNoteTicks,n)),yt(ce,"createSixtyFourthRest",()=>ce.createRest(ce.SixtyFourthNoteTicks)),yt(ce,"DottedWholeNoteTicks",3*ce.HalfNoteTicks),yt(ce,"createDottedWholeNote",(t,n)=>ce.createNote(t,ce.DottedWholeNoteTicks,n)),yt(ce,"createDottedWholeRest",()=>ce.createRest(ce.DottedWholeNoteTicks)),yt(ce,"DottedHalfNoteTicks",3*ce.QuarterNoteTicks),yt(ce,"createDottedHalfNote",(t,n)=>ce.createNote(t,ce.DottedHalfNoteTicks,n)),yt(ce,"createDottedHalfRest",()=>ce.createRest(ce.DottedHalfNoteTicks)),yt(ce,"DottedQuarterNoteTicks",3*ce.EighthNoteTicks),yt(ce,"createDottedQuarterNote",(t,n)=>ce.createNote(t,ce.DottedQuarterNoteTicks,n)),yt(ce,"createDottedQuarterRest",()=>ce.createRest(ce.DottedQuarterNoteTicks)),yt(ce,"DottedEighthNoteTicks",3*ce.SixteenthNoteTicks),yt(ce,"createDottedEighthNote",(t,n)=>ce.createNote(t,ce.DottedEighthNoteTicks,n)),yt(ce,"createDottedEighthRest",()=>ce.createRest(ce.DottedEighthNoteTicks)),yt(ce,"DottedSixteenthNoteTicks",3*ce.ThirtySecondNoteTicks),yt(ce,"createDottedSixteenthNote",(t,n)=>ce.createNote(t,ce.DottedSixteenthNoteTicks,n)),yt(ce,"createDottedSixteenthRest",()=>ce.createRest(ce.DottedSixteenthNoteTicks)),yt(ce,"DottedThirtySecondNoteTicks",3*ce.SixtyFourthNoteTicks),yt(ce,"createDottedThirtySecondNote",(t,n)=>ce.createNote(t,ce.DottedThirtySecondNoteTicks,n)),yt(ce,"createDottedThirtySecondRest",()=>ce.createRest(ce.DottedThirtySecondNoteTicks)),yt(ce,"DottedSixtyFourthNoteTicks",3*ce.SixtyFourthNoteTicks),yt(ce,"createDottedSixtyFourthNote",(t,n)=>ce.createNote(t,ce.DottedSixtyFourthNoteTicks,n)),yt(ce,"createDottedSixtyFourthRest",()=>ce.createRest(ce.DottedSixtyFourthNoteTicks)),yt(ce,"TripletWholeNoteTicks",2/3*ce.WholeNoteTicks),yt(ce,"createTripletWholeNote",(t,n)=>ce.createNote(t,ce.TripletWholeNoteTicks,n)),yt(ce,"createTripletWholeRest",()=>ce.createRest(ce.TripletWholeNoteTicks)),yt(ce,"TripletHalfNoteTicks",2/3*ce.HalfNoteTicks),yt(ce,"createTripletHalfNote",(t,n)=>ce.createNote(t,ce.TripletHalfNoteTicks,n)),yt(ce,"createTripletHalfRest",()=>ce.createRest(ce.TripletHalfNoteTicks)),yt(ce,"TripletQuarterNoteTicks",2/3*ce.QuarterNoteTicks),yt(ce,"createTripletQuarterNote",(t,n)=>ce.createNote(t,ce.TripletQuarterNoteTicks,n)),yt(ce,"createTripletQuarterRest",()=>ce.createRest(ce.TripletQuarterNoteTicks)),yt(ce,"TripletEighthNoteTicks",2/3*ce.EighthNoteTicks),yt(ce,"createTripletEighthNote",(t,n)=>ce.createNote(t,ce.TripletEighthNoteTicks,n)),yt(ce,"createTripletEighthRest",()=>ce.createRest(ce.TripletEighthNoteTicks)),yt(ce,"TripletSixteenthNoteTicks",2/3*ce.SixteenthNoteTicks),yt(ce,"createTripletSixteenthNote",(t,n)=>ce.createNote(t,ce.TripletSixteenthNoteTicks,n)),yt(ce,"createTripletSixteenthRest",()=>ce.createRest(ce.TripletSixteenthNoteTicks)),yt(ce,"TripletThirtySecondNoteTicks",2/3*ce.ThirtySecondNoteTicks),yt(ce,"createTripletThirtySecondNote",(t,n)=>ce.createNote(t,ce.TripletThirtySecondNoteTicks,n)),yt(ce,"createTripletThirtySecondRest",()=>ce.createRest(ce.TripletThirtySecondNoteTicks)),yt(ce,"TripletSixtyFourthNoteTicks",2/3*ce.SixtyFourthNoteTicks),yt(ce,"createTripletSixtyFourthNote",(t,n)=>ce.createNote(t,ce.TripletSixtyFourthNoteTicks,n)),yt(ce,"createTripletSixtyFourthRest",()=>ce.createRest(ce.TripletSixtyFourthNoteTicks)),yt(ce,"Rest",-1),yt(ce,"MinNote",0),yt(ce,"MaxNote",155),yt(ce,"DefaultNote",60),yt(ce,"clampNote",t=>{const n=t??ce.DefaultNote;return n===ce.Rest?n:Qt.clamp(n,ce.MinNote,ce.MaxNote)}),yt(ce,"MinVelocity",0),yt(ce,"MaxVelocity",127),yt(ce,"DefaultVelocity",100),yt(ce,"clampVelocity",t=>{const n=t??ce.DefaultVelocity;return Qt.clamp(n,ce.MinVelocity,ce.MaxVelocity)}),yt(ce,"MinDuration",1),yt(ce,"MaxDuration",ce.DottedWholeNoteTicks),yt(ce,"DefaultDuration",ce.QuarterNoteTicks),yt(ce,"clampDuration",t=>{const n=t??ce.DefaultDuration;return Qt.clamp(n,ce.MinDuration,ce.MaxDuration)}),yt(ce,"ChromaticKey",["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"]),yt(ce,"ChromaticScale",[{number:0,spellings:["C","B#"]},{number:1,spellings:["C#","Db"]},{number:2,spellings:["D"]},{number:3,spellings:["D#","Eb"]},{number:4,spellings:["E","Fb"]},{number:5,spellings:["F","E#"]},{number:6,spellings:["F#","Gb"]},{number:7,spellings:["G"]},{number:8,spellings:["G#","Ab"]},{number:9,spellings:["A"]},{number:10,spellings:["A#","Bb"]},{number:11,spellings:["B","Cb"]}]),yt(ce,"ticksBySubdivision",{"1/64":ce.SixtyFourthNoteTicks,"1/32":ce.ThirtySecondNoteTicks,"1/16":ce.SixteenthNoteTicks,"1/8":ce.EighthNoteTicks,"1/4":ce.QuarterNoteTicks,"1/2":ce.HalfNoteTicks,"1/1":ce.WholeNoteTicks}),yt(ce,"toneSubdivisionsByTick",{[ce.WholeNoteTicks]:"1n",[ce.DottedWholeNoteTicks]:"1n.",[ce.HalfNoteTicks]:"2n",[ce.DottedHalfNoteTicks]:"2n.",[ce.TripletHalfNoteTicks]:"2t",[ce.QuarterNoteTicks]:"4n",[ce.DottedQuarterNoteTicks]:"4n.",[ce.TripletQuarterNoteTicks]:"4t",[ce.EighthNoteTicks]:"8n",[ce.DottedEighthNoteTicks]:"8n.",[ce.TripletEighthNoteTicks]:"8t",[ce.SixteenthNoteTicks]:"16n",[ce.DottedSixteenthNoteTicks]:"16n.",[ce.TripletSixteenthNoteTicks]:"16t",[ce.ThirtySecondNoteTicks]:"32n",[ce.DottedThirtySecondNoteTicks]:"32n.",[ce.TripletThirtySecondNoteTicks]:"32t",[ce.SixtyFourthNoteTicks]:"64n",[ce.DottedSixtyFourthNoteTicks]:"64n.",[ce.TripletSixtyFourthNoteTicks]:"64t"});let S=ce;const W9={id:"chromatic-scale",name:"Chromatic Scale",notes:[60,61,62,63,64,65,66,67,68,69,70,71]},G9={id:"major-scale",name:"Major Scale",notes:[60,62,64,65,67,69,71]},Y9={id:"minor-scale",name:"Minor Scale",notes:[60,62,63,65,67,68,70]},Q9={id:"harmonic-minor-scale",name:"Harmonic Minor Scale",notes:[60,62,63,65,67,68,71]},K9={id:"melodic-minor-scale",name:"Melodic Minor Scale",notes:[60,62,63,65,67,69,71]},X9={ChromaticScale:W9,MajorScale:G9,MinorScale:Y9,HarmonicMinorScale:Q9,MelodicMinorScale:K9},Z9={id:"lydian-scale",name:"Lydian Scale",notes:[60,62,64,66,67,69,71]},J9={id:"ionian-scale",name:"Ionian Scale",notes:[60,62,64,65,67,69,71]},eF={id:"mixolydian-scale",name:"Mixolydian Scale",notes:[60,62,64,65,67,69,70]},tF={id:"dorian-scale",name:"Dorian Scale",notes:[60,62,63,65,67,69,70]},nF={id:"aeolian-scale",name:"Aeolian Scale",notes:[60,62,63,65,67,68,70]},rF={id:"phrygian-scale",name:"Phrygian Scale",notes:[60,61,63,65,67,68,70]},iF={id:"locrian-scale",name:"Locrian Scale",notes:[60,61,63,65,66,68,70]},sF={LydianScale:Z9,IonianScale:J9,MixolydianScale:eF,DorianScale:tF,AeolianScale:nF,PhrygianScale:rF,LocrianScale:iF},oF={id:"major-pentatonic-scale",name:"Major Pentatonic Scale",notes:[60,62,64,67,69]},aF={id:"minor-pentatonic-scale",name:"Minor Pentatonic Scale",notes:[60,63,65,67,70]},cF={id:"in-scale",name:"In Scale",notes:[60,61,65,67,68]},lF={id:"yo-scale",name:"Yo Scale",notes:[60,62,65,67,69]},uF={id:"insen-scale",name:"Insen Scale",notes:[60,61,65,67,70]},hF={id:"hirajoshi-scale",name:"Hirajoshi Scale",notes:[60,62,63,67,68]},dF={id:"iwato-scale",name:"Iwato Scale",notes:[60,61,65,66,70]},fF={MajorPentatonicScale:oF,MinorPentatonicScale:aF,InScale:cF,YoScale:lF,InsenScale:uF,HirajoshiScale:hF,IwatoScale:dF},pF={id:"major-hexatonic",name:"Major Hexatonic",notes:[60,62,64,65,67,69]},mF={id:"minor-hexatonic",name:"Minor Hexatonic",notes:[60,62,63,65,67,70]},gF={id:"blues-scale",name:"Blues Scale",notes:[60,63,65,66,67,70]},vF={id:"augmented-scale",name:"Augmented Scale",notes:[60,63,64,67,68,71]},yF={id:"prometheus-scale",name:"Prometheus Scale",notes:[60,62,64,66,69,70]},_F={id:"tritone-scale",name:"Tritone Scale",notes:[60,61,64,66,67,70]},wF={id:"whole-tone-scale",name:"Whole Tone Scale",notes:[60,62,64,66,68,70]},bF={MajorHexatonicScale:pF,MinorHexatonicScale:mF,BluesScale:gF,AugmentedScale:vF,PrometheusScale:yF,TritoneScale:_F,WholeToneScale:wF},SF={id:"bebop-major-scale",name:"Bebop Major Scale",notes:[60,62,64,65,67,68,69,71]},xF={id:"bebop-dorian-scale",name:"Bebop Dorian Scale",notes:[60,62,63,64,65,67,69,70]},TF={id:"bebop-harmonic-minor-scale",name:"Bebop Harmonic Minor Scale",notes:[60,62,63,65,67,68,70,71]},EF={id:"bebop-melodic-minor-scale",name:"Bebop Melodic Minor Scale",notes:[60,62,63,65,67,68,69,71]},CF={id:"bebop-dominant-scale",name:"Bebop Dominant Scale",notes:[60,62,64,65,67,69,70,71]},kF={id:"octatonic-wh-scale",name:"Octatonic Scale (W-H)",notes:[60,62,63,65,66,68,69,71]},OF={id:"octatonic-hw-scale",name:"Octatonic Scale (H-W)",notes:[60,61,63,64,66,67,69,70]},NF={BebopMajorScale:SF,BebopDorianScale:xF,BebopHarmonicMinorScale:TF,BebopMelodicMinorScale:EF,BebopDominantScale:CF,OctatonicWHScale:kF,OctatonicHWScale:OF},AF={id:"acoustic-scale",name:"Acoustic Scale",notes:[60,62,64,66,67,69,70]},MF={id:"altered-scale",name:"Altered Scale",notes:[60,61,63,64,66,68,70]},DF={id:"persian-scale",name:"Persian Scale",notes:[60,61,64,65,66,68,71]},RF={id:"harmonic-major-scale",name:"Harmonic Major Scale",notes:[60,62,64,65,67,68,71]},PF={id:"double-harmonic-major-scale",name:"Double Harmonic Major Scale",notes:[60,61,64,65,67,68,71]},IF={id:"hungarian-minor-scale",name:"Hungarian Minor Scale",notes:[60,62,63,66,67,68,71]},LF={id:"hungarian-major-scale",name:"Hungarian Major Scale",notes:[60,63,64,66,67,69,70]},FF={id:"neapolitan-major-scale",name:"Neapolitan Major Scale",notes:[60,61,63,65,67,69,71]},jF={id:"neapolitan-minor-scale",name:"Neapolitan Minor Scale",notes:[60,61,63,65,67,68,71]},UF={AcousticScale:AF,AlteredScale:MF,PersianScale:DF,HarmonicMajorScale:RF,DoubleHarmonicMajorScale:PF,HungarianMinorScale:IF,HungarianMajorScale:LF,NeapolitanMajorScale:FF,NeapolitanMinorScale:jF},D1={"Custom Scales":[],"Basic Scales":Object.values(X9),"Basic Modes":Object.values(sF),"Pentatonic Scales":Object.values(fF),"Hexatonic Scales":Object.values(bF),"Octatonic Scales":Object.values(NF),"Uncommon Scales":Object.values(UF)},BF=Object.keys(D1),fN=Object.values(D1).flat(),VF=F0(fN),zF=(e=E5)=>({...E5,...e,id:vi.nanoid()}),E5={id:"default-transposition",trackId:"default-track",offsets:{},tick:0},R1=e=>{const t=e;return(t==null?void 0:t.id)!==void 0&&(t==null?void 0:t.trackId)!==void 0&&(t==null?void 0:t.offsets)!==void 0},HF=e=>{const t=e;return t!==void 0&&Object.values(t).every(R1)},op="error",WZ=["whole","half","quarter","eighth","16th","32nd","64th"],GZ={whole:"Whole Note",half:"Half Note",quarter:"Quarter Note",eighth:"Eighth Note","16th":"Sixteenth Note","32nd":"Thirty-Second Note","64th":"Sixty-Fourth Note"},YZ=["straight","dotted","triplet"],Kp=["1/1","1/2","1/4","1/8","1/16","1/32","1/64"],oh=e=>{if(!R1(e))return op;const{id:t,tick:n,trackId:r}=e,s=JSON.stringify(e.offsets);return`${t}@${n}@${r}@${s}`},QZ=(e,t)=>!e||!t?[]:t.map(n=>e[n]||0),$F=(e,t)=>!e||!t?0:e[t]||0,pN=e=>e&&e._chromatic||0,mN=e=>e&&e._self||0,KZ=(e,t)=>{if(!e)return"";const s=Object.keys(e).filter(f=>f!=="_chromatic"&&f!=="_self").sort((f,m)=>{const v=(t==null?void 0:t.indexOf(f))||0,b=(t==null?void 0:t.indexOf(m))||0;return v-b}),o=e._chromatic||0,l=s.map(f=>e[f]||0),u=e._self||0;return l.length?`N${o} • T(${l.join(", ")}) • t${u}`:`N${o} • t${u}`},qF=(e,t)=>{const r=Object.keys({...e.offsets,...t}).reduce((s,o)=>{if(!(o!=null&&o.length))return s;const l=e.offsets[o]||0,u=t[o]||0,f=l+u;return{...s,[o]:f}},{});return{...e,offsets:r}},w0=(e,t=0,n=!0)=>{if(!e)return;const r=e.filter(s=>s&&s.tick<=t&&(s.duration?s.tick+s.duration>t:!0));if(r.length)return n?r.sort((s,o)=>o.tick-s.tick)[0]:r[0]},XZ=e=>{if(Array.isArray(e)||j0(e))return e.join(",");const{id:t,name:n,notes:r}=e;return`${t}@${n}@${r==null?void 0:r.join(",")}`},C5=e=>{if(Array.isArray(e)||zd(e))return e.join(",");const{id:t,name:n,notes:r}=e,s=r?r.map(WF).join(","):"";return`${t}@${n}@${s}`},WF=e=>{const{degree:t,offset:n}=e;return`${t}@${n}`},sc=e=>j0(e)?[...e]:R2(e)?[...e.notes]:[],gh=e=>zd(e)?[...e]:P2(e)?[...e.notes]:[],tS=e=>gh(e).map(({degree:n,offset:r})=>sN[n]+r),GF=(e,t)=>{if(!P2(e)||!oN)return{degree:0,offset:0};const n=gh(e),{degree:r,offset:s}=t||{degree:0,offset:0},o=n[r];return o?{degree:o.degree,offset:o.offset+s}:{degree:r,offset:s}},ZZ=e=>{const t=S.toPitchClass(e),n=sc(ph),s=n.map(l=>S.toPitchClass(l)).indexOf(t);if(s<0)return{degree:0,offset:0};const o=S.OctaveDistance(n[s],e)*12;return{degree:s,offset:o}},JZ=(e,t)=>sc(e)[(t==null?void 0:t.degree)||0]+((t==null?void 0:t.offset)||0),eJ=e=>{if(P2(e))return tS(e);const t=[...e];if(t.length===0)return[];let r=t.pop();if(!r)return[];for(;t.length;){const s=t.pop();if(!s)break;r=gh(r).map(l=>GF(s,l))}return tS(r)},YF=e=>Ra(e)?sc(e).map(n=>S.toPitchClass(n)):[],gN=e=>e.sort((t,n)=>S.ChromaticNumber(t)-S.ChromaticNumber(n)),vN=e=>{if(!Ra(e))return"No Scale";const t=sc(e);if(!t.length)return"Empty Scale";if(R2(e)&&e.name&&e.name!==D2)return e.name;const n=fN.find(l=>_N(l,e)),r=t==null?void 0:t[0],s=r?S.toPitchClass(r):"";return n?Qt.isEqual(n,ph)?n.name:`${s?`${s}`:""} ${n.name}`:"Custom Scale"},tJ=e=>Ra(e)?BF.find(t=>D1[t].some(n=>_N(n,e)))??"Custom Scales":"No Category",QF=(e,t=0)=>{if(!Ra(e))return[];if(t===0)return e;const n=sc(e);if(!n.length)return e;const r=n.map(s=>s+t);return j0(e)?r:{...e,notes:r}},KF=(e,t=0)=>{if(!Ra(e))return[];if(t===0)return e;const n=sc(e);if(!n.length)return e;const r=Math.abs(t),s=t>0?1:-1,o=n.length,l=n.map((u,f)=>{let m=f,v=0;for(let b=0;b<r;b++){const x=ic(m+s,o);s>0&&x<=m&&(v+=12),s<0&&x>=m&&(v-=12),m=x}return n[m]+v});return j0(e)?l:{...e,notes:l}},XF=(e,t=0)=>{if(t===0)return e;const r=gh(e).map(s=>({...s,offset:s.offset+t}));return zd(e)?r:{...e,notes:r}},ZF=(e,t=0)=>{if(t===0)return e;const n=gh(e),r=n.length,s=n.map((o,l)=>{const u=l+t,f=ic(u,r),m=n[f].degree,b=(n[f].degree<o.degree?1:0)+Math.floor(t/r),x=o.offset+b*12;return{degree:m,offset:x}});return zd(e)?s:{...e,notes:s}},JF=(e,t,n)=>{if(t===0)return e;const r=gh(e),o=gh(n).length,l=r.map(u=>{const f=u.degree+t,m=ic(f,o),v=Math.floor(f/o),b=u.offset+v*12;return{degree:m,offset:b}});return zd(e)?l:{...e,notes:l}},j2=(e,t)=>{if(!e)return Dm;if(!t)return e;const{offsets:n}=t,r=pN(n),s=XF(e,r),o=mN(n);return ZF(s,o)},yN=(e,t)=>{if(!Ra(e)||!Ra(t))return!1;const n=sc(e),r=sc(t);return n.length!==r.length?!1:n.every((s,o)=>ic(n[o],12)===ic(r[o],12))},_N=(e,t)=>{if(!Ra(e)||!Ra(t))return!1;const n=sc(e),r=sc(t);if(n.length!==r.length)return!1;const s=n[0],o=r[0];if(s===void 0||o===void 0)return!1;const l=o-s;return n.every((u,f)=>n[f]+l===r[f])},ej=(e,t)=>{if(!Ra(e)||!Ra(t))return!1;const n=sc(e),r=sc(t);return n.length!==r.length?!1:n.some((s,o)=>{const l=KF(e,o);return yN(l,t)})},tj=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"],nj=["B#","C#","D","D#","E","E#","F#","G","G#","A","A#","B"],rj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],ij=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],sj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],oj=["C","C#","D","Eb","E","F","F#","G","G#","A","Bb","B"],aj=["C","C#","D","D#","E","E#","F#","G","G#","A","A#","B"],cj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],lj=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],uj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],hj=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],dj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],U2={cMajorKey:tj,cSharpMajorKey:nj,dMajorKey:rj,eFlatMajorKey:ij,eMajorKey:sj,fMajorKey:oj,fSharpMajorKey:aj,gMajorKey:cj,aFlatMajorKey:lj,aMajorKey:uj,bFlatMajorKey:hj,bMajorKey:dj},fj=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],pj=["B#","C#","D","D#","E","E#","F#","G","G#","A","A#","B"],mj=["C","C#","D","Eb","E","F","F#","G","G#","A","Bb","B"],gj=["C","Db","D","Eb","Fb","F","Gb","G","Ab","A","Bb","Cb"],vj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],yj=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],_j=["C","C#","D","D#","E","E#","F#","G","G#","A","A#","B"],wj=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],bj=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","Cb"],Sj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],xj=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Tj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],wN={cMinorKey:fj,cSharpMinorKey:pj,dMinorKey:mj,eFlatMinorKey:gj,eMinorKey:vj,fMinorKey:yj,fSharpMinorKey:_j,gMinorKey:wj,aFlatMinorKey:bj,aMinorKey:Sj,bFlatMinorKey:xj,bMinorKey:Tj},Ej=["C","C#","D","Eb","E","F","F#","G","G#","A","A#","B"],Cj={"Major Keys":Object.values(U2),"Minor Keys":Object.values(wN)};Object.values(Cj).flat();const kj=e=>{if(e==="C")return"C#";if(e==="D")return"D#";if(e==="E")return"E#";if(e==="F")return"F#";if(e==="G")return"G#";if(e==="A")return"A#";if(e==="B")return"B#";if(e==="C#")return"C##";if(e==="D#")return"D##";if(e==="E#")return"E";if(e==="F#")return"F##";if(e==="G#")return"G##";if(e==="A#")return"A##";if(e==="B#")return"B##";if(e==="Cb")return"C";if(e==="Db")return"D";if(e==="Eb")return"E";if(e==="Fb")return"F";if(e==="Gb")return"G";if(e==="Ab")return"A";if(e==="Bb")return"B";if(e==="C##")return"D#";if(e==="D##")return"E#";if(e==="E##")return"F##";if(e==="F##")return"G#";if(e==="G##")return"A#";if(e==="A##")return"B#";if(e==="B##")return"C##";if(e==="Cbb")return"Cb";if(e==="Dbb")return"Db";if(e==="Ebb")return"Eb";if(e==="Fbb")return"Fb";if(e==="Gbb")return"Gb";if(e==="Abb")return"Ab";if(e==="Bbb")return"Bb";throw new Error(`Invalid pitch: ${e}`)},Oj=e=>{if(e==="C")return"Cb";if(e==="D")return"Db";if(e==="E")return"Eb";if(e==="F")return"Fb";if(e==="G")return"Gb";if(e==="A")return"Ab";if(e==="B")return"Bb";if(e==="C#")return"C";if(e==="D#")return"D";if(e==="E#")return"E";if(e==="F#")return"F";if(e==="G#")return"G";if(e==="A#")return"A";if(e==="B#")return"B";if(e==="Cb")return"Cbb";if(e==="Db")return"Dbb";if(e==="Eb")return"Ebb";if(e==="Fb")return"Fbb";if(e==="Gb")return"Gbb";if(e==="Ab")return"Abb";if(e==="Bb")return"Bbb";if(e==="C##")return"C#";if(e==="D##")return"D#";if(e==="E##")return"E#";if(e==="F##")return"F#";if(e==="G##")return"G#";if(e==="A##")return"A#";if(e==="B##")return"B#";if(e==="Cbb")return"Bbb";if(e==="Dbb")return"Db";if(e==="Ebb")return"Eb";if(e==="Fbb")return"Ebb";if(e==="Gbb")return"Gb";if(e==="Abb")return"Ab";if(e==="Bbb")return"Bb";throw new Error(`Invalid pitch: ${e}`)},Nj=(e,t)=>{let n=typeof t=="number"?[t]:t,r=[...e];for(const s of n){const o=[...r],l=ic(s-1,12),u=e[l],f=ic(s,12);o[f]=kj(u),r=o}return r},ap=(e,t)=>{let n=typeof t=="number"?[t]:t;return e.map((r,s)=>Nj(r,n.map(o=>o+s)))},Aj=(e,t)=>{let n=typeof t=="number"?[t]:t,r=[...e];for(const s of n){const o=[...r],l=ic(s+1,12),u=e[l],f=ic(s,12);o[f]=Oj(u),r=o}return r},bh=(e,t)=>{let n=typeof t=="number"?[t]:t;return e.map((r,s)=>Aj(r,n.map(o=>o+s)))},Mj=new Array(12).fill(0),pr=e=>{const t=VF[e];if(!t)throw new Error(`Invalid scale id: ${e}`);return Mj.map((n,r)=>QF(t,r))},Dj=pr("major-scale"),Rj=pr("minor-scale"),Pj=pr("harmonic-minor-scale"),Ij=pr("melodic-minor-scale"),Lj=pr("dorian-scale"),Fj=pr("phrygian-scale"),jj=pr("lydian-scale"),Uj=pr("mixolydian-scale"),Bj=pr("locrian-scale"),Vj=pr("major-pentatonic-scale"),zj=pr("minor-pentatonic-scale"),Hj=pr("in-scale"),$j=pr("yo-scale"),qj=pr("insen-scale"),Wj=pr("hirajoshi-scale"),Gj=pr("iwato-scale"),Yj=pr("major-hexatonic"),Qj=pr("minor-hexatonic"),Kj=pr("blues-scale"),Xj=pr("prometheus-scale"),Zj=pr("augmented-scale"),Jj=pr("tritone-scale"),eU=pr("whole-tone-scale"),tU=pr("bebop-major-scale"),nU=pr("bebop-dorian-scale"),rU=pr("bebop-harmonic-minor-scale"),iU=pr("bebop-melodic-minor-scale"),sU=pr("bebop-dominant-scale"),oU=pr("octatonic-wh-scale"),aU=pr("octatonic-hw-scale"),cU=pr("acoustic-scale"),lU=pr("altered-scale"),uU=pr("persian-scale"),hU=pr("harmonic-major-scale"),dU=pr("double-harmonic-major-scale"),fU=pr("hungarian-minor-scale"),pU=pr("hungarian-major-scale"),mU=pr("neapolitan-major-scale"),gU=pr("neapolitan-minor-scale"),lc=Object.values(U2),Pa=Object.values(wN),P1=ap(Pa,10),bN=ap(P1,8),vU=ap(lc,6),SN=bh(lc,10),xN=ap(Pa,8),I1=bh(Pa,1),B2=bh(I1,6),yU=lc,_U=Pa,wU=bh(Pa,[1,8]),bU=Pa,SU=bh(Pa,1),xU=bh(Pa,8),TU=bh(Pa,[1,6]),EU=lc,CU=Pa,kU=ap(Pa,6),OU=lc,NU=lc,AU=lc,MU=ap(lc,[6,8,10]),DU=lc,RU=xN,PU=bh(P1,10),IU=bN,LU=SN,FU=lc,TN=lc,jU=lc,UU=bh(B2,4),BU=B2,VU=Pa,zU=Pa,HU=ap(P1,6),$U=TN,qU=I1,WU=I1,k5=[[Dj,lc],[Rj,Pa],[Pj,P1],[Ij,bN],[jj,vU],[Lj,xN],[Fj,I1],[Uj,SN],[Bj,B2],[Vj,yU],[zj,_U],[Hj,wU],[$j,bU],[qj,SU],[Wj,xU],[Gj,TU],[Yj,EU],[Qj,CU],[Kj,kU],[Xj,OU],[Zj,NU],[Jj,AU],[eU,MU],[tU,DU],[nU,RU],[rU,PU],[iU,IU],[sU,LU],[oU,FU],[aU,TN],[cU,jU],[lU,UU],[uU,BU],[hU,VU],[dU,zU],[fU,HU],[pU,$U],[mU,qU],[gU,WU]],nJ=e=>{if(e===void 0)return U2.cMajorKey;for(const[t,n]of k5)for(let r=0;r<12;r++)if(yN(e,t[r]))return n[r];for(const[t,n]of k5)for(let r=0;r<12;r++)if(ej(e,t[r]))return n[r];return Ej},GU={...E9,name:D2},EN=Vd([GU]),V2=vi.createSlice({name:"scales",initialState:EN,reducers:{setScaleIds:(e,t)=>{const n=t.payload;e.allIds=n},addScale:(e,t)=>{const n=t.payload;e.allIds=Qt.union(e.allIds,[n.id]),e.byId[n.id]=n},removeScale:(e,t)=>{const n=t.payload,r=e.allIds.findIndex(s=>s===n);r!==-1&&(e.allIds.splice(r,1),delete e.byId[n])},updateScale:(e,t)=>{const{id:n,...r}=t.payload;n&&(e.byId[n]={...e.byId[n],...r})}}}),{setScaleIds:rJ,addScale:iJ,removeScale:sJ,updateScale:oJ}=V2.actions,YU=V2.reducer,aJ=(e=b0)=>({...b0,...e,id:vi.nanoid()}),b0={id:"new-pattern",name:"New Pattern",stream:[],options:{instrumentKey:"grand_piano",tonic:"C",scaleId:"chromatic-scale",quantizeToScale:!1}};b0.options;const Xl=e=>{const t=e;return(t==null?void 0:t.id)!==void 0&&(t==null?void 0:t.stream)!==void 0&&(t==null?void 0:t.name)!==void 0},CN=e=>{const t=e;return(t==null?void 0:t.MIDI)!==void 0&&(t==null?void 0:t.duration)!==void 0&&(t==null?void 0:t.velocity)!==void 0},cp=e=>{const t=e;return t!==void 0&&(t==null?void 0:t.every(CN))},Hd=e=>{const t=e;return t!==void 0&&(t==null?void 0:t.every(cp))},cJ=e=>({...b0.options,...e==null?void 0:e.options}),O5=e=>{const{id:t,name:n,stream:r}=e,s=r?QU(r):"";return`${t}@${n}@${s}`},kN=e=>{if(!CN(e))return op;const{MIDI:t,duration:n,velocity:r}=e;return`${t}:${n}:${r}`},ON=e=>cp(e)?e.map(kN).join(","):op,QU=e=>Hd(e)?e.map(ON).join("|"):op,NN=e=>!Hd(e)||!e.length?1:e.reduce((n,r)=>!cp(r)||!r.length?n:n+r[0].duration,0),AN=e=>Hd(e)?e.flat().filter(S.isNotRest).map(t=>t.MIDI):[],lJ=e=>{if(!Hd(e)||!e.length)return[];const t=AN(e);if(!t.length)return[];const n=Math.min(...t),r=Math.max(...t);return Qt.range(n,r+1)},z2=(e,t)=>{if(!Hd(e)||!e.length)return[];const r=AN(e).map(o=>S.toPitchClass(o,t)),s=[...new Set(r)];return gN(s)},uJ=(e,t=ph)=>{if(!Xl(e)||!Ra(t))return[];const n=sc(t),r=n.map(u=>S.toPitchClass(u)),s=e.stream,o=s.length,l=[];for(let u=0;u<o;u++){const f=s[u],m=[];for(let v=0;v<f.length;v++){if(S.isRest(f)){m.push(...f);break}const b=f[v],x=S.toPitchClass(b.MIDI);if(r.includes(x)){m.push(b);continue}const O=S.closestPitchClass(x,n,z2(e.stream));if(!O){m.push(b);continue}const T=S.ChromaticDistance(b.MIDI,O);m.push({...b,MIDI:b.MIDI+T})}l.push(m)}return l},nS=(e,t,n=ph)=>!Hd(e)||!Ra(n)?[]:e.map(r=>KU(r,t,n)),KU=(e,t,n=ph,r)=>{if(!cp(e)||!Ra(n))return[];if(!e.length)return[];if(e.some(x=>S.isRest(x)))return e;const s=gN(YF(n)),o=s.map(x=>S.fromPitchClass(x)),l=z2(r??[e]),u=e.length,f=t>0?1:-1,m=Math.abs(t),v=s.length,b=[];for(let x=0;x<u;x++){const O=e[x],T=S.toPitchClass(O.MIDI);let D=s.indexOf(T);if(D===-1){const H=S.closestPitchClass(T,o,l);D=s.indexOf(H)}let M=0;for(let H=0;H<m;H++){const F=ic(D+f,v);f>0&&F<=D&&(M+=12),f<0&&F>=D&&(M-=12),D=F}const C=s[D],R=S.ChromaticDistance(T,C),j=O.MIDI+R+M;b.push({...O,MIDI:j})}return b},H2=(e,t)=>{if(!Hd(e))return[];if(!t)return e;const n=z2(e);if(!n.length)return e;const r=n.map(s=>S.ChromaticNumber(s)+60);return nS(e,t,r)},hJ=(e,t)=>cp(e)?t?H2([e],t)[0]:e:[],MN=(e,t,n)=>{if(!cp(t)||!t.length||t.some(f=>S.isRest(f))||!e||!e.loaded)return;const r=t.map(f=>S.toPitch(f.MIDI)),s=t[0].duration??S.EighthNoteTicks,o=D9(s),u=(t[0].velocity??S.DefaultVelocity)/S.MaxVelocity;e.triggerAttackRelease(r,o,n,u)},XU=(e,t)=>{const n=[];if(!e)return n;const r=t;return r<0||r>=e.length?n:e[r]},DN=Vd([b0]),$2=vi.createSlice({name:"patterns",initialState:DN,reducers:{setPatternIds:(e,t)=>{const n=t.payload;e.allIds=n},addPattern:(e,t)=>{const n=t.payload;e.allIds=Qt.union(e.allIds,[n.id]),e.byId[n.id]=n},removePattern:(e,t)=>{const n=t.payload;delete e.byId[n];const r=e.allIds.findIndex(s=>s===n);r!==-1&&e.allIds.splice(r,1)},updatePattern:(e,t)=>{const{id:n,...r}=t.payload;n&&(e.byId[n]={...e.byId[n],...r})},addPatternNote:(e,t)=>{const{id:n,patternNote:r,asChord:s}=t.payload,o=e.byId[n];if(!(!o||!Xl(o))){if(o.stream.length===0){const l=[r];e.byId[n].stream=[l];return}if(s){const l=o.stream.length;e.byId[n].stream[l-1].push(r)}else{const l=[r];e.byId[n].stream.push(l)}}},addPatternChord:(e,t)=>{const{id:n,patternChord:r}=t.payload,s=e.byId[n];if(!(!s||!Xl(s))){if(s.stream.length===0){e.byId[n].stream=[r];return}e.byId[n].stream.push(r)}},updatePatternNote:(e,t)=>{const{id:n,patternNote:r,index:s,asChord:o}=t.payload,l=e.byId[n];!l||!Xl(l)||s<0||s>l.stream.length||(S.isRest(r)||!o?e.byId[n].stream[s]=[r]:e.byId[n].stream[s].push(r))},updatePatternChord:(e,t)=>{const{id:n,patternChord:r,index:s}=t.payload,o=e.byId[n];!o||!Xl(o)||s<0||s>o.stream.length||(e.byId[n].stream[s]=r)},insertPatternNote:(e,t)=>{const{id:n,patternNote:r,index:s}=t.payload,o=e.byId[n];if(!o||!Xl(o)||s<0||s>o.stream.length)return;const l=[r];e.byId[n].stream.splice(s+1,0,l)},removePatternNote:(e,t)=>{const{id:n,index:r}=t.payload,s=e.byId[n];!s||!Xl(s)||r<0||r>s.stream.length||e.byId[n].stream.splice(r,1)},transposePattern:(e,t)=>{const{id:n,transpose:r}=t.payload;if(r===0)return;const s=e.byId[n];!s||!Xl(s)||(s.stream=s.stream.map(o=>S.isRest(o)?o:o.map(l=>({...l,MIDI:l.MIDI+r}))))},rotatePattern:(e,t)=>{const{id:n,transpose:r}=t.payload;if(r===0)return;const s=e.byId[n];s&&(s.stream=H2(s.stream,r))},invertPattern:(e,t)=>{const n=t.payload,r=e.byId[n];if(!r)return;const s=r.stream.find(l=>l.length>0&&S.isNotRest(l));if(!s)return;const o=s[0].MIDI;r.stream=r.stream.map(l=>S.isRest(l)?l:l.map(u=>({...u,MIDI:o-(u.MIDI-o)})))},repeatPattern:(e,t)=>{const{id:n,repeat:r}=t.payload;if(r===0)return;const s=e.byId[n];s&&(e.byId[n].stream=new Array(r+1).fill(s.stream).flat())},continuePattern:(e,t)=>{const{id:n,length:r}=t.payload,s=e.byId[n];s&&(e.byId[n].stream=new Array(r).fill(0).map((o,l)=>s.stream[l%s.stream.length]))},phasePattern:(e,t)=>{const{id:n,phase:r}=t.payload,s=e.byId[n];if(!s)return;const o=s.stream.length,l=[];for(let u=0;u<o;u++){const f=ic(u+r,o);l.push(s.stream[f])}e.byId[n].stream=l},augmentPattern:(e,t)=>{const n=t.payload,r=e.byId[n];r&&(r.stream=r.stream.map(s=>s.map(o=>({...o,duration:Qt.clamp(o.duration*2,S.SixtyFourthNoteTicks,S.WholeNoteTicks)}))))},diminishPattern:(e,t)=>{const n=t.payload,r=e.byId[n];r&&(r.stream=r.stream.map(s=>s.map(o=>({...o,duration:Qt.clamp(o.duration/2,S.SixtyFourthNoteTicks,S.WholeNoteTicks)}))))},reversePattern:(e,t)=>{const n=t.payload,r=e.byId[n];r&&(e.byId[n].stream=Qt.reverse(r.stream))},shufflePattern:(e,t)=>{const n=t.payload,r=e.byId[n];r&&(e.byId[n].stream=Qt.shuffle(r.stream))},harmonizePattern:(e,t)=>{const{id:n,interval:r}=t.payload,s=e.byId[n];s&&(e.byId[n].stream=s.stream.map(o=>!o.length||S.isRest(o)?o:[...o,...o.map(l=>({...l,MIDI:l.MIDI+r}))]))},randomizePattern:(e,t)=>{const{id:n,length:r}=t.payload;if(!e.byId[n])return;const o=r,l=[],u=.1;for(let f=0;f<o;f++)if(Math.random()<u)l.push([{duration:S.SixteenthNoteTicks,MIDI:S.Rest,velocity:S.DefaultVelocity}]);else{const b=D1["Basic Scales"],x=b[Math.floor(Math.random()*b.length)];let O=[...x.notes.map(D=>D-7),...x.notes];const T=new Array(1).fill(0).map((D,M)=>{const C=Qt.random(0,O.length-1),R=O[C];return O=O.filter(j=>j!==R),{duration:S.SixteenthNoteTicks,velocity:S.DefaultVelocity,MIDI:R}});l.push(T)}e.byId[n].stream=l},clearPattern:(e,t)=>{const n=t.payload;e.byId[n]&&(e.byId[n].stream=[])}}}),{setPatternIds:dJ,addPattern:fJ,removePattern:pJ,updatePattern:mJ,addPatternNote:gJ,addPatternChord:vJ,insertPatternNote:yJ,removePatternNote:_J,updatePatternNote:wJ,updatePatternChord:bJ,transposePattern:SJ,rotatePattern:xJ,invertPattern:TJ,repeatPattern:EJ,continuePattern:CJ,augmentPattern:kJ,diminishPattern:OJ,shufflePattern:NJ,phasePattern:AJ,reversePattern:MJ,harmonizePattern:DJ,randomizePattern:RJ,clearPattern:PJ}=$2.actions,ZU=$2.reducer,Yr={},JU=new tn.Recorder,Nn=class Nn{constructor({id:t,key:n,volume:r=-30,pan:s=0,mute:o=!1,solo:l=!1,effects:u=[]}){yt(this,"id");yt(this,"key");yt(this,"sampler");yt(this,"channel");yt(this,"effects",[]);yt(this,"fft");yt(this,"waveform");yt(this,"getInitializationProps",()=>({id:this.id,key:this.key,volume:this.volume,pan:this.pan,mute:this.mute,solo:this.solo,effects:this.effects.map(tB)}));yt(this,"getEffectById",t=>this.effects.find(n=>n.id===t));yt(this,"addEffect",t=>{let n;switch(t){case"reverb":n=Nn.createReverb();break;case"chorus":n=Nn.createChorus();break;case"feedbackDelay":n=Nn.createFeedbackDelay();break;case"pingPongDelay":n=Nn.createPingPongDelay();break;case"phaser":n=Nn.createPhaser();break;case"tremolo":n=Nn.createTremolo();break;case"vibrato":n=Nn.createVibrato();break;case"distortion":n=Nn.createDistortion();break;case"bitcrusher":n=Nn.createBitCrusher();break;case"filter":n=Nn.createFilter();break;case"equalizer":n=Nn.createEqualizer();break;case"compressor":n=Nn.createCompressor();break;case"limiter":n=Nn.createLimiter();break;case"gain":n=Nn.createGain();break;case"warp":n=Nn.createWarp();break;default:throw new Error("Invalid effect type")}return this.chainEffects([...this.effects,n]),n.id});yt(this,"updateEffectById",(t,n)=>{const r=this.getEffectById(t);if(!r)return;const s=RN(r);if(!s)return;const o=PN(r);for(const l in o)if(n[l]!==void 0){const u=s[l]instanceof tn.Signal,f=s[l]instanceof tn.Param;u||f?s[l].value=n[l]:s[l]=n[l]}});yt(this,"removeEffectById",t=>{const n=this.getEffectById(t);if(!n)return;const r=this.effects.indexOf(n);if(r===-1)return;const s=this.effects[r];s.node.disposed||s.node.dispose();const o=[...this.effects];o.splice(r,1),this.chainEffects(o)});yt(this,"removeAllEffects",()=>{this.chainEffects([])});yt(this,"rearrangeEffectById",(t,n)=>{const r=this.getEffectById(t);if(!r)return;const s=this.effects.indexOf(r);if(s===-1||n===s)return;const o=[...this.effects];o.splice(s,1),o.splice(n,0,r),this.chainEffects(o)});yt(this,"resetEffect",t=>{const n=this.getEffectById(t.id);if(!n)return;const r=this.effects.indexOf(n),s=[...this.effects],o=Nn.defaultEffect(t.key);s[r]={...Nn.createToneEffect(o),id:t.id},this.chainEffects(s)});yt(this,"chainEffects",t=>{this.sampler.disconnect(),this.channel.disconnect(),this.effects.forEach(s=>s.node.disconnect());const r=[...t].map(s=>s.node);this.sampler=this.sampler.chain(this.channel,...r,this.fft,this.waveform,tn.getDestination()),this.effects=t});this.id=t,this.key=n;const f=_z(n),m=wz(n);this.sampler=new tn.Sampler({urls:f,baseUrl:m}),this.channel=new tn.Channel({volume:r,pan:s,mute:o,solo:l}),this.effects=Nn.createToneEffects(u);const v=this.effects.map(b=>b.node);this.fft=new tn.FFT({size:2048}),this.waveform=new tn.Waveform({size:2048}),this.sampler=this.sampler.chain(this.channel,...v,this.fft,this.waveform,tn.getDestination()),Yr[t]||(Yr[t]=this)}get volume(){return this.channel.volume.value}set volume(t){this.mute||(this.channel.volume.value=t)}get pan(){return this.channel.pan.value}set pan(t){this.channel.pan.value=t}get mute(){return this.channel.mute}set mute(t){this.channel.mute=t}get solo(){return this.channel.solo}set solo(t){this.channel.solo=t}isLoaded(){var t,n;return((t=this.sampler)==null?void 0:t.loaded)&&!((n=this.sampler)!=null&&n.disposed)}dispose(){this.sampler.dispose(),this.channel.dispose(),this.fft.dispose(),this.waveform.dispose(),this.effects.forEach(t=>t.node.dispose()),this.effects=[]}};yt(Nn,"createToneEffect",t=>{switch(t.key){case"reverb":return Nn.createReverb(t);case"chorus":return Nn.createChorus(t);case"feedbackDelay":return Nn.createFeedbackDelay(t);case"pingPongDelay":return Nn.createPingPongDelay(t);case"phaser":return Nn.createPhaser(t);case"tremolo":return Nn.createTremolo(t);case"vibrato":return Nn.createVibrato(t);case"distortion":return Nn.createDistortion(t);case"bitcrusher":return Nn.createBitCrusher(t);case"filter":return Nn.createFilter(t);case"equalizer":return Nn.createEqualizer(t);case"compressor":return Nn.createCompressor(t);case"limiter":return Nn.createLimiter(t);case"gain":return Nn.createGain(t);case"warp":return Nn.createWarp(t);default:throw new Error("Invalid effect type")}}),yt(Nn,"createToneEffects",t=>{const n=[];for(const r of t){const s=Nn.createToneEffect(r);n.push(s)}return n}),yt(Nn,"createReverb",(t=iS)=>{const n=new tn.Reverb(t);return ia(n,t.id)}),yt(Nn,"createChorus",(t=N5)=>{const n=new tn.Chorus(t).start();return ia(n,t.id)}),yt(Nn,"createFeedbackDelay",(t=A5)=>{const n=new tn.FeedbackDelay(t);return ia(n,t.id)}),yt(Nn,"createPingPongDelay",(t=M5)=>{const n=new tn.PingPongDelay(t);return ia(n,t.id)}),yt(Nn,"createPhaser",(t=D5)=>{const n=new tn.Phaser(t);return ia(n,t.id)}),yt(Nn,"createTremolo",(t=R5)=>{const n=new tn.Tremolo(t).start();return ia(n,t.id)}),yt(Nn,"createVibrato",(t=P5)=>{const n=new tn.Vibrato(t);return ia(n,t.id)}),yt(Nn,"createDistortion",(t=I5)=>{const n=new tn.Distortion(t);return ia(n,t.id)}),yt(Nn,"createBitCrusher",(t=L5)=>{const n=new tn.BitCrusher(t);return ia(n,t.id)}),yt(Nn,"createFilter",(t=j5)=>{const n=new tn.Filter({...t,type:"bandpass"});return ia(n,t.id)}),yt(Nn,"createEqualizer",(t=F5)=>{const n=new tn.EQ3(t);return ia(n,t.id)}),yt(Nn,"createCompressor",(t=U5)=>{const n=new tn.Compressor(t);return ia(n,t.id)}),yt(Nn,"createLimiter",(t=B5)=>{const n=new tn.Limiter(t);return ia(n,t.id)}),yt(Nn,"createGain",(t=V5)=>{const n=new tn.Gain(t);return ia(n,t.id)}),yt(Nn,"createWarp",(t=z5)=>{const n=new tn.PitchShift(t);return ia(n,t.id)}),yt(Nn,"defaultEffect",t=>{switch(t){case"reverb":return iS;case"chorus":return N5;case"feedbackDelay":return A5;case"pingPongDelay":return M5;case"phaser":return D5;case"tremolo":return R5;case"vibrato":return P5;case"distortion":return I5;case"bitcrusher":return L5;case"filter":return j5;case"equalizer":return F5;case"compressor":return U5;case"limiter":return B5;case"gain":return V5;case"warp":return z5;default:throw new Error("Invalid effect type")}});let Ed=Nn;const rS={reverb:"Reverb",chorus:"Chorus",phaser:"Phaser",tremolo:"Tremolo",vibrato:"Vibrato",filter:"Filter",equalizer:"EQ3",distortion:"Distortion",bitcrusher:"BitCrusher",feedbackDelay:"FeedbackDelay",pingPongDelay:"PingPongDelay",compressor:"Compressor",limiter:"Limiter",gain:"Gain",warp:"PitchShift"},IJ=Object.keys(rS),LJ={reverb:"Reverb",chorus:"Chorus",phaser:"Phaser",tremolo:"Tremolo",vibrato:"Vibrato",filter:"Filter",equalizer:"Equalizer",distortion:"Distortion",bitcrusher:"Bitcrusher",feedbackDelay:"Feedback Delay",pingPongDelay:"Ping Pong Delay",compressor:"Compressor",limiter:"Limiter",gain:"Gain",warp:"Warp"},eB={reverb:["wet","decay","preDelay"],chorus:["wet","frequency","delayTime","depth"],phaser:["wet","frequency","octaves","baseFrequency"],tremolo:["wet","frequency","depth"],vibrato:["wet","frequency","depth"],filter:["frequency","type","Q"],equalizer:["low","mid","high","lowFrequency","highFrequency"],distortion:["wet","distortion"],bitcrusher:["wet","bits"],feedbackDelay:["wet","delayTime","feedback"],pingPongDelay:["wet","delayTime","feedback"],compressor:["ratio","threshold","attack","release","knee"],limiter:["threshold"],gain:["gain"],warp:["wet","pitch","window"]},ia=(e,t)=>{const n=Object.keys(rS),r=`${e.name}`,s=n.find(o=>Qt.lowerCase(rS[o])===Qt.lowerCase(r));return{node:e,key:s,id:t!=null&&t.length?t:vi.nanoid()}},RN=e=>{if(!e)return;const{key:t,node:n}=e;return n},PN=e=>{if(!e)return{};const t=RN(e);if(!t)return{};const n=eB[e.key];return n?n.reduce((r,s)=>{const o=t[s],u=o instanceof tn.Signal||o instanceof tn.Param?o.value:o;return{...r,[s]:u}},{}):{}},tB=e=>{const{id:t,key:n}=e,r=PN(e);return{id:t,key:n,...r}},cu=0,FJ=0,jJ=1,nB=1,UJ=.1,BJ=10,rB=.01,VJ=.01,zJ=.5,iS={id:"",key:"reverb",wet:cu,decay:nB,preDelay:rB},iB=1.5,HJ=.1,$J=5,sB=3.5,qJ=.1,WJ=5,oB=.5,GJ=0,YJ=1,N5={id:"",key:"chorus",wet:cu,frequency:iB,delayTime:sB,depth:oB},aB=.25,QJ=.01,KJ=1,cB=.5,XJ=0,ZJ=1,A5={id:"",key:"feedbackDelay",wet:cu,delayTime:aB,feedback:cB},lB=.25,JJ=.01,eee=1,uB=.5,tee=0,nee=1,M5={id:"",key:"pingPongDelay",wet:cu,delayTime:lB,feedback:uB},hB=.5,ree=.01,iee=10,dB=3,see=1,oee=10,fB=350,aee=20,cee=2e4,D5={id:"",key:"phaser",wet:cu,frequency:hB,octaves:dB,baseFrequency:fB},pB=10,lee=.1,uee=20,mB=.5,hee=0,dee=1,R5={id:"",key:"tremolo",wet:cu,frequency:pB,depth:mB},gB=5,fee=.1,pee=20,vB=.1,mee=0,gee=1,P5={id:"",key:"vibrato",wet:cu,frequency:gB,depth:vB},yB=.4,vee=0,yee=1,I5={id:"",key:"distortion",wet:cu,distortion:yB},_B=4,_ee=1,wee=8,L5={id:"",key:"bitcrusher",wet:cu,bits:_B},wB=0,bee=-60,See=6,bB=0,xee=-60,Tee=6,SB=0,Eee=-60,Cee=6,kee=20,Oee=5e3,xB=400,Nee=20,Aee=1e4,TB=2500,F5={id:"",key:"equalizer",low:wB,mid:bB,high:SB,lowFrequency:xB,highFrequency:TB},EB=350,Mee=20,Dee=2e4,CB=1,Ree=.01,Pee=10,j5={id:"",key:"filter",frequency:EB,type:"bandpass",Q:CB},kB=3,Iee=1,Lee=20,OB=-24,Fee=-100,jee=0,NB=.03,Uee=0,Bee=1,AB=.25,Vee=0,zee=1,MB=10,Hee=0,$ee=40,U5={id:"",key:"compressor",ratio:kB,threshold:OB,attack:NB,release:AB,knee:MB},DB=-12,qee=-100,Wee=0,B5={id:"",key:"limiter",threshold:DB},RB=1,Gee=0,Yee=2,V5={id:"",key:"gain",name:"Gain",gain:RB},PB=0,Qee=-12,Kee=12,IB=.1,Xee=.01,Zee=.1,z5={id:"",key:"warp",name:"Warp",wet:cu,pitch:PB,window:IB},LB={24:"24.wav",30:"30.wav",36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav",102:"102.wav",108:"108.wav"},FB={48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav"},jB={24:"24.wav",30:"30.wav",36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav",102:"102.wav",108:"108.wav"},UB={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav"},BB={54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav"},VB={24:"24.wav",30:"30.wav",36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav"},zB={60:"60.wav"},HB={60:"60.wav"},$B={60:"60.wav"},qB={60:"60.wav"},WB={60:"60.wav"},GB={60:"60.wav"},YB={C4:"c4.wav"},QB={60:"60.wav"},KB={60:"60.wav"},XB={60:"60.wav"},ZB={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav"},JB={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav"},eV={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav"},tV={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav"},nV={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav"},rV={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav"},iV={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav"},sV={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav"},oV={60:"60.wav"},aV={60:"60.wav"},cV={60:"60.wav"},lV={60:"60.wav"},uV={60:"60.wav"},hV={60:"60.wav"},dV={24:"24.wav",30:"30.wav",36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav",102:"102.wav",108:"108.wav"},fV={24:"24.wav",30:"30.wav",36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav",102:"102.wav",108:"108.wav"},pV={30:"30.wav",36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav",102:"102.wav",108:"108.wav","72 2":"72 2.wav","78 2":"78 2.wav","84 2":"84 2.wav","90 2":"90 2.wav","96 2":"96 2.wav"},mV={30:"30.wav",36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav","30 2":"30 2.wav","36 2":"36 2.wav","42 2":"42 2.wav","48 2":"48 2.wav","54 2":"54 2.wav","60 2":"60 2.wav","66 2":"66 2.wav","72 2":"72 2.wav","78 2":"78 2.wav","84 2":"84 2.wav","90 2":"90 2.wav","96 2":"96 2.wav"},gV={24:"24.wav",30:"30.wav",36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav",102:"102.wav",108:"108.wav","102 2":"102 2.wav","108 2":"108 2.wav","24 2":"24 2.wav","30 2":"30 2.wav","36 2":"36 2.wav","42 2":"42 2.wav","48 2":"48 2.wav","54 2":"54 2.wav","60 2":"60 2.wav","66 2":"66 2.wav","72 2":"72 2.wav","78 2":"78 2.wav","84 2":"84 2.wav","90 2":"90 2.wav"},vV={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav"},yV={60:"60.wav"},_V={60:"60.wav"},wV={60:"60.wav"},bV={60:"60.wav"},SV={60:"60.wav"},xV={72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav"},TV={48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav"},EV={42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav"},CV={60:"60.wav",66:"66.wav",72:"72.wav"},kV={54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav"},OV={66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav",102:"102.wav",108:"108.wav"},NV={C4:"c4.wav"},AV={C4:"c4.wav"},MV={C4:"c4.wav"},DV={60:"60.wav"},RV={60:"60.wav"},PV={60:"60.wav"},IV={60:"60.wav"},LV={60:"60.wav"},FV={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav"},jV={24:"24.wav",30:"30.wav",36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav"},UV={24:"24.wav",30:"30.wav",36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav"},BV={48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav"},VV={60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav"},zV={60:"60.wav"},HV={60:"60.wav"},$V={60:"60.wav"},qV={60:"60.wav"},WV={60:"60.wav"},GV={60:"60.wav"},YV={60:"60.wav"},QV={60:"60.wav"},KV={60:"60.wav"},XV={60:"60.wav"},ZV={36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav"},JV={48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav"},ez={60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav"},tz={60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav"},nz={72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav",102:"102.wav",108:"108.wav"},rz={24:"24.wav",30:"30.wav",36:"36.wav",42:"42.wav",48:"48.wav",54:"54.wav",60:"60.wav",66:"66.wav",72:"72.wav",78:"78.wav",84:"84.wav",90:"90.wav",96:"96.wav",102:"102.wav",108:"108.wav"},IN={brass_ensemble:LB,english_horn:FB,saxophone:jB,trombone:UB,trumpet:BB,tuba:VB,"707_clap":{60:"60.wav"},build_clap:zB,digital_clap:HB,machine_clap:$B,punchy_clap:qB,snap:WB,build_crash:GB,crash:YB,dirty_crash:QB,edm_crash:KB,oldskool_crash:XB,amped_guitar:ZB,electric_bass:JB,electric_guitar:eV,heavy_guitar:tV,mute_guitar:nV,palmed_bass:rV,pixelated_guitar:iV,slapped_bass:sV,acid_hat:oV,acoustic_closed_hat:aV,acoustic_open_hat:cV,machine_closed_hat:lV,machine_open_hat:uV,noisy_hat:hV,grand_piano:dV,padded_piano:fV,suitcase_organ:pV,suitcase_piano:mV,tonewheel_organ:gV,wurly_piano:vV,"808_kick":{60:"60.wav"},analog_kick:yV,blunt_kick:_V,edm_kick:wV,machine_kick:bV,tube_kick:SV,glockenspiel:xV,marimba:TV,timpani:EV,tubular_bells:CV,vibraphone:kV,xylophone:OV,bongo:NV,conga:AV,shaker:MV,build_snare:DV,clappy_snare:RV,machine_snare:PV,rattled_snare:IV,short_snare:LV,cello:FV,double_bass:jV,strings_ensemble:UV,viola:BV,violin:VV,"909_tom":{60:"60.wav"},analog_tom:zV,blast_tom:HV,electric_tom:$V,vintage_tom:qV,hey:WV,right:GV,uh:YV,wha:QV,yay:KV,yeah:XV,bassoon:ZV,clarinet:JV,flute:ez,oboe:tz,piccolo:nz,woodwinds_ensemble:rz},iz=[{key:"grand_piano",name:"Grand Piano"},{key:"padded_piano",name:"Padded Piano"},{key:"suitcase_organ",name:"Suitcase Organ"},{key:"suitcase_piano",name:"Suitcase Piano"},{key:"tonewheel_organ",name:"Tonewheel Organ"},{key:"wurly_piano",name:"Wurly Piano"}],sz=[{key:"amped_guitar",name:"Amped Guitar"},{key:"electric_bass",name:"Electric Bass"},{key:"electric_guitar",name:"Electric Guitar"},{key:"heavy_guitar",name:"Heavy Guitar"},{key:"mute_guitar",name:"Mute Guitar"},{key:"palmed_bass",name:"Palmed Bass"},{key:"pixelated_guitar",name:"Pixelated Guitar"},{key:"slapped_bass",name:"Slapped Bass"}],oz=[{key:"cello",name:"Cello"},{key:"double_bass",name:"Double Bass"},{key:"strings_ensemble",name:"Strings Ensemble"},{key:"viola",name:"Viola"},{key:"violin",name:"Violin"}],az=[{key:"bassoon",name:"Bassoon"},{key:"clarinet",name:"Clarinet"},{key:"flute",name:"Flute"},{key:"oboe",name:"Oboe"},{key:"piccolo",name:"Piccolo"},{key:"woodwinds_ensemble",name:"Woodwinds Ensemble"}],cz=[{key:"brass_ensemble",name:"Brass Ensemble"},{key:"english_horn",name:"English Horn"},{key:"saxophone",name:"Saxophone"},{key:"trombone",name:"Trombone"},{key:"trumpet",name:"Trumpet"},{key:"tuba",name:"Tuba"}],lz=[{key:"glockenspiel",name:"Glockenspiel"},{key:"marimba",name:"Marimba"},{key:"timpani",name:"Timpani"},{key:"tubular_bells",name:"Tubular Bells"},{key:"vibraphone",name:"Vibraphone"},{key:"xylophone",name:"Xylophone"}],uz=[{key:"808_kick",name:"808 Kick"},{key:"analog_kick",name:"Analog Kick"},{key:"blunt_kick",name:"Blunt Kick"},{key:"edm_kick",name:"Edm Kick"},{key:"machine_kick",name:"Machine Kick"},{key:"tube_kick",name:"Tube Kick"}],hz=[{key:"909_tom",name:"909 Tom"},{key:"analog_tom",name:"Analog Tom"},{key:"blast_tom",name:"Blast Tom"},{key:"electric_tom",name:"Electric Tom"},{key:"vintage_tom",name:"Vintage Tom"}],dz=[{key:"build_snare",name:"Build Snare"},{key:"clappy_snare",name:"Clappy Snare"},{key:"machine_snare",name:"Machine Snare"},{key:"rattled_snare",name:"Rattled Snare"},{key:"short_snare",name:"Short Snare"}],fz=[{key:"707_clap",name:"707 Clap"},{key:"build_clap",name:"Build Clap"},{key:"digital_clap",name:"Digital Clap"},{key:"machine_clap",name:"Machine Clap"},{key:"punchy_clap",name:"Punchy Clap"},{key:"snap",name:"Snap"}],pz=[{key:"acid_hat",name:"Acid Hat"},{key:"acoustic_closed_hat",name:"Acoustic Closed Hat"},{key:"acoustic_open_hat",name:"Acoustic Open Hat"},{key:"machine_closed_hat",name:"Machine Closed Hat"},{key:"machine_open_hat",name:"Machine Open Hat"},{key:"noisy_hat",name:"Noisy Hat"}],mz=[{key:"build_crash",name:"Build Crash"},{key:"crash",name:"Crash"},{key:"dirty_crash",name:"Dirty Crash"},{key:"edm_crash",name:"Edm Crash"},{key:"oldskool_crash",name:"Oldskool Crash"}],gz=[{key:"bongo",name:"Bongo"},{key:"conga",name:"Conga"},{key:"crash",name:"Crash"},{key:"shaker",name:"Shaker"}],vz=[{key:"hey",name:"Hey"},{key:"right",name:"Right"},{key:"uh",name:"Uh"},{key:"wha",name:"Wha"},{key:"yay",name:"Yay"},{key:"yeah",name:"Yeah"}],U0={keyboards:iz,guitars:sz,strings:oz,woodwinds:az,brass:cz,mallets:lz,kicks:uz,toms:hz,snares:dz,claps:fz,hats:pz,cymbals:mz,percussion:gz,vocals:vz},yz=e=>{var n;if(!e)return"invalid-instrument";const t=(n=e.effects)==null?void 0:n.map(LN);return`${e.id}@${e.key}@${e.volume}@${e.pan}@${t}`},LN=e=>{if(!e)return"invalid-effect";let t="";for(const[n,r]of Object.entries(e))t+=`${n}@${r}`;return t},Jee=e=>({volume:(e==null?void 0:e.volume)||Ff.volume,pan:(e==null?void 0:e.pan)||Ff.pan,mute:(e==null?void 0:e.mute)||Ff.mute,solo:(e==null?void 0:e.solo)||Ff.solo}),FN=e=>bz.find(n=>U0[n].some(r=>r.key===e))||"keyboards",jN=e=>{const t=FN(e);if(!t)return"Unknown Instrument";const n=U0[t].find(r=>r.key===e);return(n==null?void 0:n.name)??"Unknown Instrument"},_z=e=>IN[e],wz=e=>{const t=FN(e);return`${window.location.origin+`/harmonia/samples/${t}/${e}/`}`},ete=e=>U0[e],tte=Object.keys(IN),bz=Object.keys(U0);Object.values(U0).reduce((e,t)=>[...e,...t.map(n=>n.name)],[]);const UN=(e=Ff)=>({...Ff,...e,id:vi.nanoid()}),Ff={id:"default-instrument",key:"grand_piano",volume:F9,pan:j9,mute:!1,solo:!1,effects:[]},lp=e=>q2(e),q2=e=>{const t=e;return(t==null?void 0:t.id)!==void 0&&(t==null?void 0:t.name)!==void 0&&(t==null?void 0:t.type)!==void 0},BN=e=>{const t=e;return t!==void 0&&Object.values(t).every(n=>lp(n))},nte=(e=sS)=>({...sS,...e,id:vi.nanoid()}),sS={id:"default-pattern-track",parentId:"default-scale-track",type:"patternTrack",name:"",instrumentId:"default-instrument"},L1=e=>{const t=e;return q2(t)&&t.type==="patternTrack"&&t.instrumentId!==void 0},Sz=e=>{if(!L1(e))return op;const{id:t,parentId:n,name:r,type:s,instrumentId:o}=e;return`${t}@${n}@${r}@${s}@${o}`},H5={id:"default-scale-track",type:"scaleTrack",depth:0,trackIds:["default-pattern-track"],clipIds:[],transpositionIds:[]},xz={id:"default-pattern-track",type:"patternTrack",depth:1,trackIds:[],clipIds:[],transpositionIds:[]},VN={...Vd([H5,xz]),topLevelIds:[H5.id]},Tz=e=>{const t=e;return(t==null?void 0:t.id)!==void 0&&(t==null?void 0:t.type)!==void 0&&(t==null?void 0:t.depth)!==void 0&&(t==null?void 0:t.trackIds)!==void 0&&(t==null?void 0:t.clipIds)!==void 0&&(t==null?void 0:t.transpositionIds)!==void 0},zN=e=>{const t=e;return t!=null&&Object.values(t).every(Tz)},Wy=(e,t,n)=>{if(!lp(e))return[];if(!HF(t))return[];if(!zN(n))return[];const r=n[e.id];return r?r.transpositionIds.map(u=>t[u]).sort((u,f)=>f.tick-u.tick):[]},rte=(e=oS)=>({...oS,...e,id:vi.nanoid()}),oS={id:"default-scale-track",type:"scaleTrack",name:"",parentId:void 0,scaleId:"default-nested-scale"},vh=e=>{const t=e;return q2(t)&&t.type==="scaleTrack"&&t.scaleId!==void 0},Ez=e=>{if(!vh(e))return op;const{id:t,parentId:n,name:r,type:s,scaleId:o}=e;return`${t}@${n}@${r}@${s}@${o}`},Rm=(e,t,n)=>{if(!e||!t||!n)return ph;let{parentId:r,scaleId:s}=e;const o=n[s];let l=(o==null?void 0:o.notes)||[];for(;r;){const u=t[r];if(!u)break;const f=n[u.scaleId];if(!f)break;const m=f.notes;l=l.map(({degree:v,offset:b})=>{const x=m[v];return{degree:(x==null?void 0:x.degree)||0,offset:((x==null?void 0:x.offset)||0)+b}}),r=u.parentId}return tS(l)},S0=e=>lp(e)?`${e.id}@${e.name}@${e.type}@${e.parentId}`:op,W2=(e,t)=>{if(!lp(e)||!BN(t))return[];let n=[],r=e.parentId;for(;r;){const s=t[r];if(!vh(s)||!s)break;n=[s,...n],r=s.parentId}return vh(e)&&n.push(e),n},HN=(e,t,n)=>{if(!lp(e))return[];if(!BN(t))return[];if(!zN(n))return[];const r=[],s=n[e.id];if(!s)return r;for(let o=0;o<s.trackIds.length;o++){const l=s.trackIds[o],u=t[l];u&&(r.push(u),r.push(...HN(u,t,n)))}return r},Cz=(e,t,n,r)=>{const s=n[e.scaleId];if(!s||!r)return Dm;const o=t.length;let l=t.map(m=>Ts(n,m.scaleId)).filter(Boolean);if(o!==l.length)return Dm;let u=gh(s);for(let m=1;m<=o;m++){const v=t[m-1],b=l[m-1],x=l[m]||s,O=$F(r.offsets,v.id),T=JF(x,O,b);u=gh(T),l[m]=T}const f=j2(u,r);return zd(f)?{...s,notes:f}:f},$N=(e,t,n,r=0)=>{if(!t.length||e.some(v=>!vh(v)))return e.map(v=>n[v.scaleId]);const s=e[0],o=Ts(n,s.scaleId),l=t[0],u=w0(l,r),m=[j2(o,u)];for(let v=1;v<e.length;v++){const b=e[v],x=Ts(n,b.scaleId);if(!x)break;const O=w0(t[v],r,!1);O||m.push(x);const T=e.slice(0,v),D=Cz(b,T,n,O);m.push(D)}return m},kz=({pattern:e,transposition:t,tracks:n,scaleMap:r,scaleTrackMap:s,quantizations:o})=>{if(!r||!t||!s||!n||n!=null&&n.some(O=>!vh(O)))return e.stream;const{offsets:l}=t,u=n.reduce((O,T,D)=>{const M=Rm(T,s,r),C=l[T.id];return((o==null?void 0:o[D])?C===void 0:!C)?O:nS(O,C,M)},e.stream),f=pN(l),m=nS(u,f),v=mN(l);return H2(m,v)},Oz=(e=$5)=>({...$5,...e,id:vi.nanoid()}),$5={id:"default-clip",patternId:"default-pattern",trackId:"default-track",tick:0,offset:0},up=e=>{const t=e;return(t==null?void 0:t.id)!==void 0&&(t==null?void 0:t.patternId)!==void 0&&(t==null?void 0:t.trackId)!==void 0&&(t==null?void 0:t.tick)!==void 0&&(t==null?void 0:t.offset)!==void 0},ite=["red","orange","brown","yellow","lime","green","cyan","sky","blue","indigo","fuchsia","pink","slate","gray","zinc"],qN="sky",WN={red:{headerColor:"bg-red-800",bodyColor:"bg-red-500/70",noteColor:"bg-red-800",iconColor:"bg-red-600"},orange:{headerColor:"bg-orange-700",bodyColor:"bg-orange-400/70",noteColor:"bg-orange-700",iconColor:"bg-orange-500"},brown:{headerColor:"bg-amber-900",bodyColor:"bg-amber-700/70",noteColor:"bg-amber-900",iconColor:"bg-amber-800"},yellow:{headerColor:"bg-yellow-600",bodyColor:"bg-yellow-400/70",noteColor:"bg-yellow-600/80",iconColor:"bg-yellow-500"},lime:{headerColor:"bg-lime-900",bodyColor:"bg-lime-500/70",noteColor:"bg-lime-800",iconColor:"bg-lime-600"},green:{headerColor:"bg-emerald-900",bodyColor:"bg-emerald-700/70",noteColor:"bg-emerald-900",iconColor:"bg-emerald-600"},cyan:{headerColor:"bg-cyan-900",bodyColor:"bg-cyan-600/70",noteColor:"bg-cyan-800",iconColor:"bg-cyan-500"},sky:{headerColor:"bg-sky-950",bodyColor:"bg-sky-800/70",noteColor:"bg-sky-950",iconColor:"bg-sky-700"},blue:{headerColor:"bg-blue-950",bodyColor:"bg-blue-600/70",noteColor:"bg-blue-800",iconColor:"bg-blue-600"},indigo:{headerColor:"bg-indigo-950",bodyColor:"bg-indigo-700/70",noteColor:"bg-indigo-900",iconColor:"bg-indigo-600"},fuchsia:{headerColor:"bg-fuchsia-950",bodyColor:"bg-fuchsia-700/70",noteColor:"bg-fuchsia-900",iconColor:"bg-fuchsia-700"},pink:{headerColor:"bg-pink-800",bodyColor:"bg-pink-400/70",noteColor:"bg-pink-800",iconColor:"bg-pink-500"},slate:{headerColor:"bg-slate-600",bodyColor:"bg-slate-400/70",noteColor:"bg-slate-500",iconColor:"bg-slate-400"},gray:{headerColor:"bg-gray-700",bodyColor:"bg-gray-500/70",noteColor:"bg-gray-700",iconColor:"bg-gray-700"},zinc:{headerColor:"bg-zinc-950",bodyColor:"bg-zinc-600/70",noteColor:"bg-zinc-900",iconColor:"bg-zinc-900"}},q5=WN[qN],ah=e=>{const{id:t,patternId:n,trackId:r,tick:s,offset:o}=e;return`${t}@${n}@${r}@${s}@${o}`},G2=(e,t)=>!up(e)||!Xl(t)?1:e.duration!==void 0?e.duration??1:NN(t.stream)-e.offset,ste=e=>{if(!up(e))return q5;const t=e.color??qN;return WN[t]??q5},Nz=(e,t)=>!up(e)||!Hd(t)?[]:e.duration===void 0?t.slice(e.offset):t.slice(e.offset,e.offset+e.duration),GN=e=>{var C,R;const t=e.clip;if(!up(t))return[];const n=(C=e.patternMap)==null?void 0:C[t.patternId];if(!Xl(n))return[];const r=n.stream,s=NN(r);if(isNaN(s)||s<1)return[];const o=(R=e.patternTrackMap)==null?void 0:R[t.trackId];if(!L1(o))return[];const{scaleMap:l,scaleTrackMap:u,transpositionMap:f,trackNodeMap:m}=e,v=W2(o,u),b=v.map(j=>Wy(j,f,m)),x=Wy(o,f,m),O=t.tick;let T=[],D=0,M=0;for(let j=0;j<s;j++){if(M>j){T.push([]);continue}const H=r[D];if(!cp(H)){T.push([]);continue}const F=H[0];if(!H||!F){T.push([]);continue}if(M===j&&(M+=F.duration),D+=1,S.isRest(H)){T.push(H);continue}const ie=O+j-t.offset,ee=$N(v,b,l,ie),_e=F0(ee),Xe=w0(x,ie,!1),Te=b.map(et=>!!w0(et,ie,!1)),je=kz({pattern:n,transposition:Xe,tracks:v,scaleMap:_e,scaleTrackMap:u,quantizations:Te})[D-1];if(!je){T.push([]);continue}T.push(je)}return Nz(t,T)},Az=e=>e.clips?e.clips.reduce((t,n)=>{const r=GN({...e,clip:n});return{...t,[n.id]:r}},{}):{},Ow={"clips/addClips":e=>{const t=e.payload.clips||[],n=e.payload.transpositions||[],r=oi(t,ah),s=oi(n,oh);return`ADD_MEDIA:${r},${s}`},"clips/removeClips":e=>{const t=e.payload.clips||[],n=e.payload.transpositions||[],r=oi(t,ah),s=oi(n,oh);return`REMOVE_MEDIA:${r},${s}`},"clips/updateClips":e=>{const t=e.payload.clips||[],n=e.payload.transpositions||[],r=oi(t,ah),s=oi(n,oh);return`UPDATE_MEDIA:${r},${s}`},"clips/_sliceClip":e=>{const{oldClip:t,firstClip:n,secondClip:r}=e.payload;return`SLICE_MEDIA:${t.id},${n.id},${r.id}`},"clips/removeClipsByTrackId":e=>`REMOVE_TRACK:${e.payload}`,"clips/clearClipsByTrackId":e=>`CLEAR_TRACK:${e.payload}`},Nw={"patterns/addPattern":e=>`ADD_PATTERN:${oi(e.payload,O5)}`,"patterns/removePattern":e=>`REMOVE_PATTERN:${e.payload}`,"patterns/updatePattern":e=>(oi(e.payload,O5),`UPDATE_PATTERN:${e.payload}`),"patterns/addPatternNote":e=>{const t=kN(e.payload.patternNote);return`ADD_PATTERN_NOTE:${e.payload.id}:${t}`},"patterns/addPatternChord":e=>{const t=ON(e.payload.patternChord);return`ADD_PATTERN_CHORD:${e.payload.id}:${t}`},"patterns/updatePatternNote":e=>`UPDATE_PATTERN_NOTE:${e.payload.id}:${e.payload.index}`,"patterns/updatePatternChord":e=>`UPDATE_PATTERN_CHORD:${e.payload.id}:${e.payload.index}`,"patterns/insertPatternNote":e=>`INSERT_PATTERN_NOTE:${e.payload.id}:${e.payload.index}`,"patterns/removePatternNote":e=>`REMOVE_PATTERN_NOTE:${e.payload.id}:${e.payload.index}`,"patterns/transposePattern":e=>`TRANSPOSE_PATTERN:${e.payload.id}:${e.payload.transpose}`,"patterns/repeatPattern":e=>`REPEAT_PATTERN:${e.payload.id}:${e.payload.repeat}`,"patterns/continuePattern":e=>`CONTINUE_PATTERN:${e.payload.id}:${e.payload.length}`,"patterns/phasePattern":e=>`PHASE_PATTERN:${e.payload.id}:${e.payload.phase}`,"patterns/diminishPattern":e=>`DIMINISH_PATTERN:${e.payload}`,"patterns/augmentPattern":e=>`AUGMENT_PATTERN:${e.payload}`,"patterns/reversePattern":e=>`REVERSE_PATTERN:${e.payload}`,"patterns/shufflePattern":e=>`SHUFFLE_PATTERN:${e.payload}`,"patterns/harmonizePattern":e=>`HARMONIZE_PATTERN:${e.payload.id}:${e.payload.interval}`,"patterns/randomizePattern":e=>`RANDOMIZE_PATTERN:${e.payload}`,"patterns/clearPattern":e=>`CLEAR_PATTERN:${e.payload}`},Aw={"patternTracks/addPatternTrack":e=>`ADD_TRACK:${oi(e.payload,S0)}`,"patternTracks/removePatternTrack":e=>`REMOVE_TRACK:${e.payload}`,"patternTracks/updatePatternTrack":e=>`UPDATE_PATTERN_TRACK:${oi(e.payload,Sz)}`},Mw={"scales/addScale":e=>`ADD_SCALE:${oi(e.payload,C5)}`,"scales/removeScale":e=>`REMOVE_SCALE:${e.payload}`,"scales/updateScale":e=>`UPDATE_SCALE:${oi(e.payload,C5)}`,"scales/addNoteToScale":e=>`ADD_NOTE_TO_SCALE:${e.payload.id}:${e.payload.note}`,"scales/removeNoteFromScale":e=>`REMOVE_NOTE_FROM_SCALE:${e.payload.id}:${e.payload.note}`,"scales/transposeScale":e=>`TRANSPOSE_SCALE:${e.payload.id}:${e.payload.offset}`,"scales/rotateScale":e=>`ROTATE_SCALE:${e.payload.id}:${e.payload.offset}`,"scales/clearScale":e=>`CLEAR_SCALE:${e.payload}`},Dw={"scaleTracks/addScaleTrack":e=>`ADD_TRACK:${oi(e.payload,S0)}`,"scaleTracks/removeScaleTrack":e=>`REMOVE_TRACK:${e.payload}`,"scaleTracks/updateScaleTrack":e=>`UPDATE_SCALE_TRACK:${oi(e.payload,Ez)}`},Rw={"transpositions/addTranspositions":e=>{const t=e.payload.clips||[],n=e.payload.transpositions||[],r=oi(t,ah),s=oi(n,oh);return`ADD_MEDIA:${r},${s}`},"transpositions/removeTranspositions":e=>{const t=e.payload.clips||[],n=e.payload.transpositions||[],r=oi(t,ah),s=oi(n,oh);return`REMOVE_MEDIA:${r},${s}`},"transpositions/updateTranspositions":e=>{const t=e.payload.clips||[],n=e.payload.transpositions||[],r=oi(t,ah),s=oi(n,oh);return`UPDATE_MEDIA:${r},${s}`},"transpositions/_sliceTransposition":e=>{const{oldTransposition:t,firstTransposition:n,secondTransposition:r}=e.payload;return`SLICE_MEDIA:${t.id},${n.id},${r.id}`},"transpositions/removeTranspositionsByTrackId":e=>`REMOVE_TRACK:${e.payload}`,"transpositions/clearTranspositionsByTrackId":e=>`CLEAR_TRACK:${e.payload}`},Pw={"trackHierarchy/addScaleTrackToHierarchy":e=>`ADD_TRACK:${oi(e.payload,S0)}`,"trackHierarchy/removeScaleTrackFromHierarchy":e=>`REMOVE_TRACK:${e.payload}`,"trackHierarchy/addPatternTrackToHierarchy":e=>`ADD_TRACK:${oi(e.payload,S0)}`,"trackHierarchy/removePatternTrackFromHierarchy":e=>`REMOVE_TRACK:${e.payload}`,"trackHierarchy/moveTrackInHierarchy":e=>`MOVE_TRACK:${e.payload}`,"trackHierarchy/migrateTrackInHierarchy":e=>`MIGRATE_TRACK:${e.payload}`,"trackHierarchy/collapseTracksInHierarchy":e=>`COLLAPSE_TRACKS:${e.payload.join(",")}`,"trackHierarchy/expandTracksInHierarchy":e=>`EXPAND_TRACKS:${e.payload.join(",")}`,"trackHierarchy/clearTrackInHierarchy":e=>`CLEAR_TRACK:${e.payload}`,"trackHierarchy/addMediaToHierarchy":e=>{const t=e.payload.clips||[],n=e.payload.transpositions||[],r=oi(t,ah),s=oi(n,oh);return`ADD_MEDIA:${r},${s}`},"trackHierarchy/removeMediaFromHierarchy":e=>{const t=e.payload.clips||[],n=e.payload.transpositions||[],r=oi(t,ah),s=oi(n,oh);return`REMOVE_MEDIA:${r},${s}`},"trackHierarchy/updateMediaInHierarchy":e=>{const t=e.payload.clips||[],n=e.payload.transpositions||[],r=oi(t,ah),s=oi(n,oh);return`UPDATE_MEDIA:${r},${s}`},"trackHierarchy/sliceMediaInHierarchy":e=>{const{oldId:t,newIds:n}=e.payload;return`SLICE_MEDIA:${t},${n.join(",")}`}},Iw={"instruments/addInstrument":e=>`ADD_TRACK:${oi(e.payload.track,S0)}`,"instruments/removeInstrument":e=>`REMOVE_TRACK:${e.payload.trackId}`,"instruments/addInstrumentEffect":e=>`${e.payload.instrumentId}:${e.payload.key}`,"instruments/removeInstrumentEffect":e=>`${e.payload.instrumentId}:${e.payload.effectId}`,"instruments/updateInstrument":e=>{const t=yz(e.payload.update);return`${e.payload.instrumentId}:${t}`},"instruments/updateInstrumentEffect":e=>{const t=LN(e.payload.update);return`${e.payload.instrumentId}:${t}`},"instruments/resetInstrumentEffect":e=>`${e.payload.instrumentId}:${e.payload.effectId}`,"instruments/removeAllInstrumentEffects":e=>`${e.payload}`},Mz=e=>t=>t.type.startsWith(e),od=e=>Object.keys(e.actions).map(t=>`${e.name}/${t}`),lu=Eo.createSelectorCreator(Eo.defaultMemoize,Qt.isEqual),ote=(e,t)=>()=>{const n=prompt(e),r=parseInt(n??"");isNaN(r)||t(r)},Pd={undoArrangement:"arrangement/undo",redoArrangement:"arrangement/redo",undoScales:"scales/undo",redoScales:"scales/redo",undoPatterns:"patterns/undo",redoPatterns:"patterns/redo"},Y2=e=>{var s,o,l,u,f,m,v,b;const{type:t,payload:n}=e,r=x=>Mz(x)(e);return r("scales")?((s=Mw[t])==null?void 0:s.call(Mw,e))||t:r("patterns")?((o=Nw[t])==null?void 0:o.call(Nw,e))||t:r("clips")?((l=Ow[t])==null?void 0:l.call(Ow,e))||t:r("transpositions")?((u=Rw[t])==null?void 0:u.call(Rw,e))||t:r("scaleTracks")?((f=Dw[t])==null?void 0:f.call(Dw,e))||t:r("patternTracks")?((m=Aw[t])==null?void 0:m.call(Aw,e))||t:r("instruments")?((v=Iw[t])==null?void 0:v.call(Iw,e))||t:r("trackHierarchy")?((b=Pw[t])==null?void 0:b.call(Pw,e))||t:`${t}:${n}`},aS=e=>e.arrangement.present.instruments.allIds,Gy=e=>e.arrangement.present.instruments.byId,YN=Eo.createSelector([Gy,aS],ua),QN=(e,t)=>{const n=Gy(e);return Ts(n,t)},KN=Vd([Ff]),F1=vi.createSlice({name:"instruments",initialState:KN,reducers:{addInstrument:(e,t)=>{const{instrument:n}=t.payload;e.allIds=Qt.union(e.allIds,[n.id]),e.byId[n.id]=n},addInstrumentOffline:(e,t)=>{const n=t.payload;e.allIds=Qt.union(e.allIds,[n.id]),e.byId[n.id]=n},addInstrumentEffect:(e,t)=>{const{instrumentId:n,key:r}=t.payload,s=e.byId[n];if(!s)return;const o=Yr[n];if(!o)return;const l=o.addEffect(r);s.effects.push({...Ed.defaultEffect(r),id:l,key:r})},updateInstrument:(e,t)=>{const{instrumentId:n,update:r}=t.payload,s=e.byId[n];if(!s)return;e.byId[s.id]={...s,...r};const o=Yr[n];o&&(r.key!==void 0&&(o.key=r.key,Yr[n]=new Ed({...o.getInitializationProps(),key:r.key})),r.mute!==void 0&&(o.mute=r.mute),r.solo!==void 0&&(o.solo=r.solo),r.volume!==void 0&&(o.volume=Qt.clamp(r.volume,$y,L2)),r.pan!==void 0&&(o.pan=Qt.clamp(r.pan,U9,B9)))},updateInstrumentEffect:(e,t)=>{const{instrumentId:n,effectId:r,update:s}=t.payload,o=e.byId[n];if(!o)return;const l=Yr[n];l&&(l.updateEffectById(r,s),e.byId[n]={...o,effects:o.effects.map(u=>u.id!==r?u:{...u,...s})})},rearrangeInstrumentEffect:(e,t)=>{const{instrumentId:n,effectId:r,index:s}=t.payload,o=e.byId[n];if(!o)return;const l=Yr[n];if(!l)return;const u=o.effects.findIndex(({id:m})=>m===r);if(u===-1||s===u)return;l.rearrangeEffectById(r,s);const f=o.effects[u];o.effects.splice(u,1),o.effects.splice(s,0,f)},removeInstrument:(e,t)=>{const{instrumentId:n}=t.payload;if(!e.byId[n])return;const s=Yr[n];if(!s)return;s==null||s.dispose(),delete Yr[n],delete e.byId[n];const o=e.allIds.findIndex(l=>l===n);o!==-1&&e.allIds.splice(o,1)},removeInstrumentEffect:(e,t)=>{const{instrumentId:n,effectId:r}=t.payload,s=Object.values(e.byId).find(({id:u})=>u===n);if(!s)return;const o=Yr[n];if(!o)return;o.removeEffectById(r);const l=s.effects.findIndex(({id:u})=>u===r);l!==-1&&s.effects.splice(l,1)},resetInstrumentEffect:(e,t)=>{const{instrumentId:n,effectId:r}=t.payload,s=e.byId[n];if(!s)return;const o=s.effects.findIndex(({id:f})=>f===r);if(o===-1)return;const l=s.effects[o];if(!l)return;const u=Yr[n];u&&(u.resetEffect(l),s.effects[o]={...l,...Ed.defaultEffect(l.key),id:r})},removeAllInstrumentEffects:(e,t)=>{const n=t.payload,r=e.byId[n];if(!r)return;const s=Yr[n];s&&(s.removeAllEffects(),r.effects=[])},toggleInstrumentMute:(e,t)=>{const n=t.payload,r=e.byId[n];if(!r)return;const s=Yr[n];s&&(s.mute=!s.mute,r.mute=!r.mute)},toggleInstrumentSolo:(e,t)=>{const n=t.payload,r=e.byId[n];if(!r)return;const s=Yr[n];s&&(s.solo=!s.solo,r.solo=!r.solo)},muteInstruments:e=>{e.allIds.forEach(t=>{const n=e.byId[t];if(!n)return;const r=Yr[t];r&&(r.mute=!0,n.mute=!0)})},unmuteInstruments:e=>{e.allIds.forEach(t=>{const n=e.byId[t];if(!n)return;const r=Yr[t];r&&(r.mute=!1,n.mute=!1)})},soloInstruments:e=>{e.allIds.forEach(t=>{const n=e.byId[t];if(!n)return;const r=Yr[t];r&&(r.solo=!0,n.solo=!0)})},unsoloInstruments:e=>{e.allIds.forEach(t=>{const n=e.byId[t];if(!n)return;const r=Yr[t];r&&(r.solo=!1,n.solo=!1)})}}}),{addInstrument:Dz,addInstrumentOffline:Rz,addInstrumentEffect:ate,updateInstrument:Pz,updateInstrumentEffect:cte,rearrangeInstrumentEffect:lte,removeInstrument:ute,removeInstrumentEffect:hte,resetInstrumentEffect:dte,removeAllInstrumentEffects:fte,toggleInstrumentMute:pte,toggleInstrumentSolo:mte,muteInstruments:gte,unmuteInstruments:vte,soloInstruments:yte,unsoloInstruments:_te}=F1.actions;F1.reducer;const Iz=e=>t=>n=>{const r=n.type,s=e.getState(),o=aS(s),l=Gy(s),u=t(n),f=e.getState(),m=Gy(f),v=aS(f),b=Qt.union(o,v);if(r===Pd.undoArrangement||r===Pd.redoArrangement)for(const x of b){const O=l[x],T=m[x],D=Yr[x];if(!T||!D){D==null||D.dispose(),delete Yr[x];continue}const M=(O==null?void 0:O.effects.length)??0,C=T.effects.length;(!O||C>M)&&(Yr[x]=new Ed({...D.getInitializationProps(),...T}))}return u},W5=e=>e!=null&&e.length?e.reduce((t,n)=>(t[n.trackId]||(t[n.trackId]=[]),t[n.trackId].push(n.id),t),{}):{},j1=vi.createSlice({name:"trackHierarchy",initialState:VN,reducers:{addScaleTrackToHierarchy:(e,t)=>{const{id:n,parentId:r,type:s}=t.payload;if(!n||e.byId[n])return;const o={id:n,type:s,depth:0,trackIds:[],clipIds:[],transpositionIds:[]};if(r){const l=e.byId[r];if(!l)return;o.depth=l.depth+1,l.trackIds.push(n)}else e.topLevelIds.push(n);e.byId[n]=o,e.allIds.push(n)},removeScaleTrackFromHierarchy:(e,t)=>{const n=t.payload;if(!n)return;const r=e.byId[n];if(!r)return;const s=o=>{o.forEach(l=>{const u=e.byId[l];u&&(s(u.trackIds),delete e.byId[l],e.allIds=Qt.without(e.allIds,l))})};s(r.trackIds),delete e.byId[n],e.allIds=Qt.without(e.allIds,n),e.topLevelIds=Qt.without(e.topLevelIds,n)},addPatternTrackToHierarchy:(e,t)=>{const{id:n,parentId:r,type:s}=t.payload;if(!n||e.byId[n])return;const o={id:n,depth:0,type:s,trackIds:[],clipIds:[],transpositionIds:[]};if(r){const l=e.byId[r];if(!l)return;o.depth=l.depth+1,l.trackIds.push(n)}else e.topLevelIds.push(n);e.byId[n]=o,e.allIds.push(n)},removePatternTrackFromHierarchy:(e,t)=>{const n=t.payload;if(!n||!e.byId[n])return;delete e.byId[n],e.allIds=Qt.without(e.allIds,n);const s=e.allIds.find(l=>e.byId[l].trackIds.includes(n));if(!s)return;const o=e.byId[s];o&&(o.trackIds=Qt.without(o.trackIds,n))},moveTrackInHierarchy:(e,t)=>{const{id:n,index:r}=t.payload;if(!n||r<0||!e.byId[n])return;const o=e.allIds.find(f=>e.byId[f].trackIds.includes(n));if(!o)return;const l=e.byId[o];if(!l)return;const u=l.trackIds.indexOf(n);u!==-1&&(l.trackIds.splice(u,1),l.trackIds.splice(r,0,n))},migrateTrackInHierarchy:(e,t)=>{const{id:n,parentId:r,index:s}=t.payload;if(!n)return;const o=e.byId[n];if(!o)return;const l=e.allIds.find(m=>e.byId[m].trackIds.includes(n));if(!l)return;const u=e.byId[l];if(!u)return;const f=u.trackIds.indexOf(n);if(f!==-1)if(u.trackIds.splice(f,1),r){const m=e.byId[r];if(!m)return;const v=m.depth;o.depth=v+1,s!==void 0?m.trackIds.splice(s,0,n):m.trackIds.push(n)}else e.topLevelIds.push(n)},collapseTracksInHierarchy:(e,t)=>{t.payload.forEach(r=>{const s=e.byId[r];s&&(s.collapsed=!0)})},expandTracksInHierarchy:(e,t)=>{t.payload.forEach(r=>{const s=e.byId[r];s&&(s.collapsed=!1)})},clearTrackInHierarchy:(e,t)=>{const n=t.payload;if(!n)return;const r=e.byId[n];r&&(r.clipIds=[],r.transpositionIds=[])},addMediaToHierarchy:(e,t)=>{const{clips:n,transpositions:r}=t.payload,s=W5(n),o=W5(r);Object.keys(s).forEach(l=>{const u=e.byId[l];if(!u)return;const f=s[l];n!=null&&n.length&&(u.clipIds=Qt.union(u.clipIds,f))}),Object.keys(o).forEach(l=>{const u=e.byId[l];if(!u)return;const f=o[l];r!=null&&r.length&&(u.transpositionIds=Qt.union(u.transpositionIds,f))})},removeMediaFromHierarchy:(e,t)=>{const{clips:n,transpositions:r}=t.payload;e.allIds.forEach(s=>{const o=e.byId[s];if(!o)return;const l=(n||[]).map(f=>f.id),u=(r||[]).map(f=>f.id);o.clipIds=Qt.without(o.clipIds,...l),o.transpositionIds=Qt.without(o.transpositionIds,...u)})},updateMediaInHierarchy:(e,t)=>{const{clips:n,transpositions:r}=t.payload,s=[...n||[],...r||[]];for(const o of s){const{id:l,trackId:u}=o;if(!l||!u)continue;const f=e.byId[u];if(!f)continue;const m=R1(o)?"transpositionIds":"clipIds";if(f[m].includes(l))continue;const v=e.allIds.find(x=>e.byId[x][m].includes(l));if(!v)continue;const b=e.byId[v];b&&(b[m]=Qt.without(b[m],l),f[m].push(l))}},sliceMediaInHierarchy:(e,t)=>{const{oldId:n,newIds:r}=t.payload;let s,o;for(const u of e.allIds){const f=e.byId[u];if(f){if(f.clipIds.includes(n)){s=!0,o=u;break}if(f.transpositionIds.includes(n)){s=!1,o=u;break}}}if(!o)return;const l=e.byId[o];l&&(s?(l.clipIds=Qt.union(l.clipIds,r),l.clipIds=Qt.without(l.clipIds,n)):(l.transpositionIds=Qt.union(l.transpositionIds,r),l.transpositionIds=Qt.without(l.transpositionIds,n)))}}}),{addScaleTrackToHierarchy:wte,removeScaleTrackFromHierarchy:bte,addPatternTrackToHierarchy:Ste,removePatternTrackFromHierarchy:xte,moveTrackInHierarchy:Tte,migrateTrackInHierarchy:Ete,collapseTracksInHierarchy:Cte,expandTracksInHierarchy:kte,clearTrackInHierarchy:Ote,addMediaToHierarchy:XN,removeMediaFromHierarchy:Nte,updateMediaInHierarchy:ZN,sliceMediaInHierarchy:Ate}=j1.actions;j1.reducer;const JN=Vd([sS]),U1=vi.createSlice({name:"patternTracks",initialState:JN,reducers:{addPatternTrack:(e,t)=>{const n=t.payload;e.byId[n.id]=n,e.allIds=Qt.union(e.allIds,[n.id])},removePatternTrack:(e,t)=>{const n=t.payload;delete e.byId[n];const r=e.allIds.findIndex(s=>s===n);r!==-1&&e.allIds.splice(r,1)},updatePatternTrack:(e,t)=>{const{id:n,...r}=t.payload,s=e.byId[n];!n||!s||(e.byId[n]={...e.byId[n],...r})}}}),{addPatternTrack:Mte,removePatternTrack:Dte,updatePatternTrack:Rte}=U1.actions;U1.reducer;const e4=Vd([oS]),B1=vi.createSlice({name:"scaleTracks",initialState:e4,reducers:{addScaleTrack:(e,t)=>{const n=t.payload;e.allIds=Qt.union(e.allIds,[n.id]),e.byId[n.id]=n},removeScaleTrack:(e,t)=>{const n=t.payload;delete e.byId[n];const r=e.allIds.findIndex(s=>s===n);r!==-1&&e.allIds.splice(r,1)},updateScaleTrack:(e,t)=>{const{id:n,...r}=t.payload;!n||!e.byId[n]||(e.byId[n]={...e.byId[n],...r})}}}),{addScaleTrack:Pte,removeScaleTrack:Ite,updateScaleTrack:Lte}=B1.actions;B1.reducer;const $m=e=>e.arrangement.present.hierarchy,B0=e=>e.arrangement.present.hierarchy.byId,t4=Vd(),V1=vi.createSlice({name:"clips",initialState:t4,reducers:{addClips:(e,t)=>{const{clips:n}=t.payload;if(!(n!=null&&n.length))return;const r=n.map(s=>s.id);e.allIds=Qt.union(e.allIds,r),n.forEach(s=>{e.byId[s.id]=s})},removeClips:(e,t)=>{const{clips:n}=t.payload;n!=null&&n.length&&n.forEach(r=>{delete e.byId[r.id];const s=e.allIds.findIndex(o=>o===r.id);s!==-1&&e.allIds.splice(s,1)})},_updateClips:(e,t)=>{const{clips:n}=t.payload;n!=null&&n.length&&n.forEach(r=>{const{id:s,...o}=r;s&&(e.byId[s]={...e.byId[s],...o})})},_sliceClip:(e,t)=>{const{oldClip:n,firstClip:r,secondClip:s}=t.payload;if(!n||!r||!s)return;delete e.byId[n.id];const o=e.allIds.findIndex(l=>l===n.id);o!==-1&&(e.allIds.splice(o,1),e.allIds=Qt.union(e.allIds,[r.id,s.id]),e.byId[r.id]=r,e.byId[s.id]=s)},removeClipsByTrackId:(e,t)=>{const n=t.payload;if(!n)return;Object.values(e.byId).filter(s=>s.trackId===n).forEach(s=>{delete e.byId[s.id];const o=e.allIds.findIndex(l=>l===s.id);o!==-1&&e.allIds.splice(o,1)})},clearClipsByTrackId:(e,t)=>{const n=t.payload;if(!n)return;Object.values(e.byId).filter(s=>s.trackId===n).forEach(s=>{delete e.byId[s.id];const o=e.allIds.findIndex(l=>l===s.id);o!==-1&&e.allIds.splice(o,1)})}}}),{addClips:Lz,removeClips:Fte,_updateClips:Fz,_sliceClip:jte,removeClipsByTrackId:Ute,clearClipsByTrackId:Bte}=V1.actions,Vte=e=>t=>{t(Fz(e)),t(ZN(e))};V1.reducer;const n4=Vd(),z1=vi.createSlice({name:"transpositions",initialState:n4,reducers:{addTranspositions:(e,t)=>{const{transpositions:n}=t.payload;n!=null&&n.length&&n.forEach(r=>{e.byId[r.id]=r,e.allIds.push(r.id)})},removeTranspositions:(e,t)=>{const{transpositions:n}=t.payload;if(!(n!=null&&n.length))return;const r=n.map(({id:s})=>s);r.forEach(s=>{delete e.byId[s]}),e.allIds=Qt.without(e.allIds,...r)},_updateTranspositions:(e,t)=>{const{transpositions:n}=t.payload;n!=null&&n.length&&n.forEach(r=>{const{id:s,...o}=r;s&&e.byId[s]&&(e.byId[s]={...e.byId[s],...o})})},_sliceTransposition:(e,t)=>{const{oldTransposition:n,firstTransposition:r,secondTransposition:s}=t.payload;if(!n||!r||!s)return;delete e.byId[n.id];const o=e.allIds.findIndex(l=>l===n.id);o!==-1&&(e.allIds.splice(o,1),e.allIds=Qt.union(e.allIds,[r.id,s.id]),e.byId[r.id]=r,e.byId[s.id]=s)},removeTranspositionsByTrackId:(e,t)=>{const n=t.payload;if(!n)return;const r=e.allIds.filter(s=>e.byId[s].trackId===n);r.forEach(s=>{delete e.byId[s]}),e.allIds=Qt.without(e.allIds,...r)},clearTranspositionsByTrackId:(e,t)=>{const n=t.payload;if(!n)return;const r=e.allIds.filter(s=>e.byId[s].trackId===n);r.forEach(s=>{delete e.byId[s]}),e.allIds=Qt.without(e.allIds,...r)}}}),{addTranspositions:jz,removeTranspositions:zte,_updateTranspositions:Q2,_sliceTransposition:Hte,removeTranspositionsByTrackId:$te,clearTranspositionsByTrackId:qte}=z1.actions,Wte=e=>t=>{t(Q2(e)),t(ZN(e))};z1.reducer;const Uz={clipIds:[],transpositionIds:[]},Bz={clips:[],transpositions:[]},Vz={clip:{},transposition:{}},zz={draggingClip:!1,draggingTransposition:!1},Gte=e=>e.filter(up),Yte=e=>e.filter(R1),Qte=(e,t)=>e.filter(n=>{if(n.tick<0)return!1;const r=t[n.trackId];return!(!r||up(n)&&!L1(r))}),Kte=(e,t,n,r)=>e.filter((s,o)=>{const l=r?r[o]:s.duration,u=s.tick,f=u+(l??1);return u<n&&f>t}),Xte=(e,t,n)=>{if(!n)return t.filter(o=>e.some(l=>l.trackId===o));const r=t.findIndex(o=>e.some(l=>l.trackId===o)),s=t.findIndex(o=>o===n);return r===-1||s===-1?[]:r>s?t.slice(s,r+1):t.slice(r,s+1)},r4=e=>e.reduce((t,n)=>Math.min(t,n.tick),1/0),Hz=(e,t)=>e.reduce((n,r,s)=>{const o=(t==null?void 0:t[s])??r.duration??1;return Math.max(n,r.tick+o)},-1/0),Zte=(e,t)=>Hz(e,t)-r4(e),$z=(e,t)=>t.findIndex(n=>e.some(r=>r.trackId===n)),qz=(e,t)=>t-r4(e),Wz=(e,t,n)=>{const r=$z(e,n),s=n.indexOf(t);return r===-1||s===-1?-1:s-r},Gz=(e,t,n,r)=>e.map(o=>{const l={...o},u=qz(e,t);if(l.tick+=u,n&&r){const f=Wz(e,n,r);f!==-1&&(l.trackId=r[f])}return l}),Jte=(e,t)=>{const n=e.reduce((r,s,o)=>Math.max(r,s.tick+t[o]),0);return Gz(e,n)},Yz=(e,t,n,r)=>{const s=r??e.duration;if(s===void 0)return!1;const o=e.tick,l=o+s;return o<n&&l>t},Qz={width:25,height:120},i4={state:"idle",subdivision:"1/16",cell:Qz,selectedTrackId:void 0,mediaSelection:Uz,mediaDraft:Vz,mediaClipboard:Bz,mediaDragState:zz,liveTranspositionSettings:{mode:"numerical",enabled:!1}},Kz=e=>{const t=e;return(t==null?void 0:t.state)!==void 0&&(t==null?void 0:t.cell)!==void 0&&(t==null?void 0:t.subdivision)!==void 0&&(t==null?void 0:t.mediaSelection)!==void 0&&(t==null?void 0:t.mediaDraft)!==void 0&&(t==null?void 0:t.mediaClipboard)!==void 0&&(t==null?void 0:t.mediaDragState)!==void 0&&(t==null?void 0:t.liveTranspositionSettings)!==void 0},ene=e=>e.state==="addingClips",tne=e=>e.state==="addingTranspositions",nne=e=>e.state==="slicingMedia",rne=e=>e.state==="mergingMedia",Xz=e=>e.state==="idle",ine=e=>{const t=!!e.mediaSelection.transpositionIds.length,n=e.liveTranspositionSettings.enabled;return t&&n},G5=e=>lp(e)?e.id:e==null?void 0:e.trackId,sne=e=>[...e.clips,...e.transpositions],s4=vi.createSlice({name:"timeline",initialState:i4,reducers:{setCellWidth(e,t){e.cell.width=Qt.clamp(t.payload,z9,H9)},setCellHeight(e,t){e.cell.height=Qt.clamp(t.payload,$9,q9)},setSubdivision(e,t){e.subdivision=t.payload},increaseSubdivision(e){const t=Kp.indexOf(e.subdivision);t<0||t<Kp.length-1&&(e.subdivision=Kp[t+1])},decreaseSubdivision(e){const t=Kp.indexOf(e.subdivision);t>Kp.length-1||t>0&&(e.subdivision=Kp[t-1])},setTimelineState:(e,t)=>{e.state=t.payload},clearTimelineState:e=>{e.state="idle"},setSelectedTrackId:(e,t)=>{e.selectedTrackId=t.payload},updateMediaClipboard:(e,t)=>{const{mediaClipboard:n}=e,{clips:r,transpositions:s}=t.payload;r&&(n.clips=r),s&&(n.transpositions=s)},updateMediaDraft:(e,t)=>{const{mediaDraft:n}=e,{clip:r,transposition:s}=t.payload;r&&(n.clip={...n.clip,...r}),s&&(n.transposition={...n.transposition,...s,offsets:{...n.transposition.offsets,...s.offsets}})},updateMediaSelection:(e,t)=>{const{mediaSelection:n}=e,{clipIds:r,transpositionIds:s}=t.payload;r&&(n.clipIds=r),s&&(n.transpositionIds=s)},updateMediaDragState:(e,t)=>{const{mediaDragState:n}=e,{draggingClip:r,draggingTransposition:s}=t.payload;r!==void 0&&(n.draggingClip=r),s!==void 0&&(n.draggingTransposition=s)},toggleLiveTransposition:e=>{e.liveTranspositionSettings.enabled=!e.liveTranspositionSettings.enabled},toggleLiveTranspositionMode:e=>{e.liveTranspositionSettings.mode=e.liveTranspositionSettings.mode==="numerical"?"alphabetical":"numerical"}}}),{setTimelineState:Y5,clearTimelineState:Zz,setCellWidth:one,setCellHeight:ane,setSubdivision:cne,increaseSubdivision:lne,decreaseSubdivision:une,setSelectedTrackId:o4,updateMediaSelection:Jz,updateMediaClipboard:hne,updateMediaDraft:dne,updateMediaDragState:fne,toggleLiveTransposition:pne,toggleLiveTranspositionMode:mne}=s4.actions,eH=s4.reducer,a4={id:"hidden",state:"idle",show:!1,noteDuration:"quarter",noteTiming:"straight",noteVelocity:S.DefaultVelocity,recordingDuration:S.WholeNoteTicks,recordingTiming:"straight",recordingQuantization:"eighth"},tH=e=>{const t=e;return(t==null?void 0:t.id)!==void 0&&(t==null?void 0:t.state)!==void 0&&(t==null?void 0:t.show)!==void 0&&(t==null?void 0:t.noteDuration)!==void 0&&(t==null?void 0:t.noteTiming)!==void 0&&(t==null?void 0:t.noteVelocity)!==void 0&&(t==null?void 0:t.recordingDuration)!==void 0&&(t==null?void 0:t.recordingTiming)!==void 0&&(t==null?void 0:t.recordingQuantization)!==void 0},K2=(e,t)=>e.show&&e.id===t,c4=vi.createSlice({name:"editor",initialState:a4,reducers:{_showEditor:(e,t)=>{e.id=t.payload,e.show=!0},hideEditor:e=>{e.id="hidden",e.show=!1},toggleEditor:(e,t)=>{e.id=e.id===t.payload?"hidden":t.payload,e.show=e.id!=="hidden"},setEditorState:(e,t)=>{e.state=t.payload},toggleEditorState:(e,t)=>{e.state=e.state===t.payload?"idle":t.payload},setEditorNoteDuration:(e,t)=>{e.noteDuration=t.payload},setEditorNoteTiming:(e,t)=>{e.noteTiming=t.payload},setEditorNoteVelocity:(e,t)=>{e.noteVelocity=t.payload},setEditorRecordingDuration:(e,t)=>{e.recordingDuration=t.payload},setEditorRecordingTiming:(e,t)=>{e.recordingTiming=t.payload},setEditorRecordingQuantization:(e,t)=>{e.recordingQuantization=t.payload}}}),{_showEditor:nH,hideEditor:Hf,toggleEditor:gne,setEditorState:vne,toggleEditorState:yne,setEditorNoteDuration:_ne,setEditorNoteTiming:wne,setEditorNoteVelocity:bne,setEditorRecordingDuration:Sne,setEditorRecordingTiming:xne,setEditorRecordingQuantization:Tne}=c4.actions,rH=c4.reducer,l4={state:"stopped",bpm:R9,loop:!1,loopStart:0,loopEnd:S.WholeNoteTicks-1,volume:-6,mute:!1,timeSignature:[16,16],recording:!1,downloading:!1},iH=e=>{const t=e;return(t==null?void 0:t.state)!==void 0&&(t==null?void 0:t.bpm)!==void 0&&(t==null?void 0:t.loop)!==void 0&&(t==null?void 0:t.loopStart)!==void 0&&(t==null?void 0:t.loopEnd)!==void 0&&(t==null?void 0:t.volume)!==void 0&&(t==null?void 0:t.timeSignature)!==void 0},Ma=(e,t)=>S.ticksToSeconds(t,e.bpm),Ene=(e,t)=>{const{bpm:n,timeSignature:r}=e;if(!n||!r)return{bars:0,beats:0,sixteenths:0};const s=(r==null?void 0:r[0])??16,o=s*S.SixteenthNoteTicks,l=S.ticksToSeconds(t,n),u=S.ticksToSeconds(o,n),f=l/u,m=parseFloat(f.toFixed(2)),v=m%1*s,b=v%1*4;return{bars:m,beats:v,sixteenths:b}},Cne=e=>e.state==="started",kne=e=>e.state==="stopped",One=e=>e.state==="paused",u4=vi.createSlice({name:"transport",initialState:l4,reducers:{_startTransport:e=>{e.state="started"},_stopTransport:e=>{e.state="stopped"},_pauseTransport:e=>{e.state="paused"},_loopTransport:(e,t)=>{e.loop=t.payload},_setLoopStart:(e,t)=>{e.loopStart=t.payload},_setLoopEnd:(e,t)=>{e.loopEnd=t.payload},_setBPM:(e,t)=>{const n=t.payload;e.bpm=Qt.clamp(n,hN,dN)},_setTimeSignature:(e,t)=>{e.timeSignature=t.payload},_setVolume:(e,t)=>{const n=t.payload;e.volume=Qt.clamp(n,$y,L2)},_setMute:(e,t)=>{e.mute=t.payload},setRecording:(e,t)=>{e.recording=t.payload},setDownloading:(e,t)=>{e.downloading=t.payload}}}),{_startTransport:sH,_stopTransport:oH,_pauseTransport:aH,_loopTransport:cH,_setLoopStart:lH,_setLoopEnd:uH,_setBPM:hH,_setTimeSignature:dH,_setVolume:fH,_setMute:pH,setRecording:mH,setDownloading:h4}=u4.actions,gH=u4.reducer,vH={id:"major-chord",name:"Major Chord",aliases:["maj","maj chord","major","major chord","M","M chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67)]]},yH={id:"minor-chord",name:"Minor Chord",aliases:["min","min chord","minor","minor chord","m","m chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(63),S.createQuarterNote(67)]]},_H={id:"diminished-chord",name:"Diminished Chord",aliases:["dim","dim chord","diminished","diminished chord","o","o chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(63),S.createQuarterNote(66),S.createQuarterNote(69)]]},wH={id:"augmented-chord",name:"Augmented Chord",aliases:["aug","aug chord","+","+ chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(68)]]},bH={id:"sus2-chord",name:"Sus2 Chord",aliases:["sus2","sus2 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(62),S.createQuarterNote(67)]]},SH={id:"sus4-chord",name:"Sus4 Chord",aliases:["sus4","sus4 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(65),S.createQuarterNote(67)]]},xH={id:"quartal-chord",name:"Quartal Chord",aliases:["quartal","quartal chord","q","q chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(65),S.createQuarterNote(70)]]},TH={id:"quintal-chord",name:"Quintal Chord",aliases:["quintal","quintal chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(67),S.createQuarterNote(74)]]},EH={id:"power-chord",name:"Power Chord",aliases:["5","5 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(67),S.createQuarterNote(72)]]},CH={id:"octave",name:"Octave",stream:[[S.createQuarterNote(60),S.createQuarterNote(72)]]},kH={MajorChord:vH,MinorChord:yH,DiminishedChord:_H,AugmentedChord:wH,Sus2Chord:bH,Sus4Chord:SH,QuartalChord:xH,QuintalChord:TH,PowerChord:EH,Octave:CH},OH={id:"major-7th-chord",name:"Major 7th Chord",aliases:["maj7","maj7 chord","M7","M7 chord","major 7th","major 7th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(71)]]},NH={id:"major-7th-sus2-chord",name:"Major 7th (Sus2) Chord",aliases:["maj7sus2","maj7sus2 chord","M7sus2","M7sus2 chord","major 7th sus2","major 7th sus2 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(62),S.createQuarterNote(67),S.createQuarterNote(71)]]},AH={id:"major-7th-sus4-chord",name:"Major 7th (Sus4) Chord",aliases:["maj7sus4","maj7sus4 chord","M7sus4","M7sus4 chord","major 7th sus4","major 7th sus4 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(65),S.createQuarterNote(67),S.createQuarterNote(71)]]},MH={id:"major-7th-b5-chord",name:"Major 7th (b5) Chord",aliases:["maj7b5","maj7b5 chord","M7b5","M7b5 chord","major 7th flat 5","major 7th flat 5 chord","major 7th b5","major 7th b5 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(66),S.createQuarterNote(71)]]},DH={id:"minor-7th-chord",name:"Minor 7th Chord",aliases:["min7","min7 chord","m7","m7 chord","minor 7th","minor 7th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(63),S.createQuarterNote(67),S.createQuarterNote(70)]]},RH={id:"minor-7th-sus2-chord",name:"Minor 7th (Sus2) Chord",aliases:["min7sus2","min7sus2 chord","m7sus2","m7sus2 chord","minor 7th sus2","minor 7th sus2 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(62),S.createQuarterNote(67),S.createQuarterNote(70)]]},PH={id:"minor-7th-sus4-chord",name:"Minor 7th (Sus4) Chord",aliases:["min7sus4","min7sus4 chord","m7sus4","m7sus4 chord","minor 7th sus4","minor 7th sus4 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(65),S.createQuarterNote(67),S.createQuarterNote(70)]]},IH={id:"dominant-7th-chord",name:"Dominant 7th Chord",aliases:["dom7","dom7 chord","7","7 chord","dominant 7th","dominant 7th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(70)]]},LH={id:"dominant-7th-b5-chord",name:"Dominant 7th (b5) Chord",aliases:["dom7b5","dom7b5 chord","7b5","7b5 chord","dominant 7th flat 5","dominant 7th flat 5 chord","dominant 7th b5","dominant 7th b5 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(66),S.createQuarterNote(70)]]},FH={id:"dominant-7th-#5-chord",name:"Dominant 7th (#5) Chord",aliases:["dom7#5","dom7#5 chord","7#5","7#5 chord","dominant 7th sharp 5","dominant 7th sharp 5 chord","dominant 7th #5","dominant 7th #5 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(68),S.createQuarterNote(70)]]},jH={id:"minor-7th-b5-chord",name:"Minor 7th (b5) Chord",aliases:["min7b5","min7b5 chord","m7b5","m7b5 chord","minor 7th flat 5","minor 7th flat 5 chord","minor 7th b5","minor 7th b5 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(63),S.createQuarterNote(66),S.createQuarterNote(70)]]},UH={id:"minor-major-7th-chord",name:"Minor Major 7th Chord",aliases:["minmaj7","minmaj7 chord","mM7","mM7 chord","minor major 7th","minor major 7th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(63),S.createQuarterNote(67),S.createQuarterNote(71)]]},BH={id:"diminished-7th-chord",name:"Diminished 7th Chord",aliases:["dim7","dim7 chord","o7","o7 chord","diminished 7th","diminished 7th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(63),S.createQuarterNote(66),S.createQuarterNote(69)]]},VH={id:"augmented-7th-chord",name:"Augmented 7th Chord",aliases:["aug7","aug7 chord","+7","+7 chord","augmented 7th","augmented 7th chord","maj7#5","maj7#5 chord","M7#5","M7#5 chord","major 7th sharp 5","major 7th sharp 5 chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(68),S.createQuarterNote(71)]]},zH={Major7thChord:OH,Major7thSus2Chord:NH,Major7thSus4Chord:AH,Major7thFlat5Chord:MH,Minor7thChord:DH,Minor7thSus2Chord:RH,Minor7thSus4Chord:PH,Minor7thFlat5Chord:jH,MinorMajor7thChord:UH,Dominant7thChord:IH,Dominant7thFlat5Chord:LH,Dominant7thSharp5Chord:FH,Diminished7thChord:BH,Augmented7thChord:VH},HH={id:"major-9th-chord",name:"Major 9 Chord",aliases:["maj9","maj9 chord","M9","M9 chord","major 9th","major 9th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(71),S.createQuarterNote(74)]]},$H={id:"major-11th-chord",name:"Major 11 Chord",aliases:["maj11","maj11 chord","M11","M11 chord","major 11th","major 11th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(71),S.createQuarterNote(74),S.createQuarterNote(77)]]},qH={id:"major-#11th-chord",name:"Major #11 Chord",aliases:["maj#11","maj#11 chord","M#11","M#11 chord","major sharp 11","major sharp 11 chord","major sharp 11th","major sharp 11th chord","major #11","major #11 chord","major #11th","major #11th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(71),S.createQuarterNote(74),S.createQuarterNote(78)]]},WH={id:"major-13th-chord",name:"Major 13 Chord",aliases:["maj13#11","maj13#11 chord","M13#11","M13#11 chord","major 13th sharp 11","major 13th sharp 11 chord","major 13th sharp 11th","major 13th sharp 11th chord","major 13th #11","major 13th #11 chord","major 13th #11th","major 13th #11th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(71),S.createQuarterNote(74),S.createQuarterNote(78),S.createQuarterNote(81)]]},GH={id:"minor-9th-chord",name:"Minor 9th Chord",aliases:["min9","min9 chord","m9","m9 chord","minor 9th","minor 9th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(63),S.createQuarterNote(67),S.createQuarterNote(70),S.createQuarterNote(74)]]},YH={id:"minor-11th-chord",name:"Minor 11th Chord",aliases:["min11","min11 chord","m11","m11 chord","minor 11th","minor 11th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(63),S.createQuarterNote(67),S.createQuarterNote(70),S.createQuarterNote(74),S.createQuarterNote(77)]]},QH={id:"minor-#11th-chord",name:"Minor #11 Chord",aliases:["min#11","min#11 chord","m#11","m#11 chord","minor sharp 11","minor sharp 11 chord","minor sharp 11th","minor sharp 11th chord","minor #11","minor #11 chord","minor #11th","minor #11th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(63),S.createQuarterNote(67),S.createQuarterNote(70),S.createQuarterNote(74),S.createQuarterNote(78)]]},KH={id:"minor-13-chord",name:"Minor 13 Chord",aliases:["min13","min13 chord","m13","m13 chord","minor 13th","minor 13th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(63),S.createQuarterNote(67),S.createQuarterNote(70),S.createQuarterNote(74),S.createQuarterNote(77),S.createQuarterNote(81)]]},XH={id:"dominant-9th-chord",name:"Dominant 9 Chord",aliases:["dom9","dom9 chord","9","9 chord","dominant 9","dominant 9 chord","dominant 9th","dominant 9th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(70),S.createQuarterNote(74)]]},ZH={id:"dominant-b9-chord",name:"Dominant b9 Chord",aliases:["domb9","domb9 chord","b9","b9 chord","dominant b9","dominant b9 chord","dominant b9th","dominant b9th chord","dominant flat 9","dominant flat 9 chord","dominant flat 9th","dominant flat 9th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(70),S.createQuarterNote(73)]]},JH={id:"dominant-#9-chord",name:"Dominant #9 Chord",aliases:["dom#9","dom#9 chord","#9","#9 chord","dominant #9","dominant #9 chord","dominant #9th","dominant #9th chord","dominant sharp 9","dominant sharp 9 chord","dominant sharp 9th","dominant sharp 9th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(70),S.createQuarterNote(75)]]},e$={id:"dominant-11th-chord",name:"Dominant 11 Chord",aliases:["dom11","dom11 chord","11","11 chord","dominant 11","dominant 11 chord","dominant 11th","dominant 11th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(70),S.createQuarterNote(74),S.createQuarterNote(77)]]},t$={id:"dominant-#11th-chord",name:"Dominant #11 Chord",aliases:["dom#11","dom#11 chord","#11","#11 chord","dominant #11","dominant #11 chord","dominant #11th","dominant #11th chord","dominant sharp 11","dominant sharp 11 chord","dominant sharp 11th","dominant sharp 11th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(70),S.createQuarterNote(74),S.createQuarterNote(78)]]},n$={id:"dominant-13th-chord",name:"Dominant 13 Chord",aliases:["dom13","dom13 chord","13","13 chord","dominant 13","dominant 13 chord","dominant 13th","dominant 13th chord"],stream:[[S.createQuarterNote(60),S.createQuarterNote(64),S.createQuarterNote(67),S.createQuarterNote(70),S.createQuarterNote(74),S.createQuarterNote(77),S.createQuarterNote(81)]]},r$={Major9thChord:HH,Major11thChord:$H,MajorSharp11thChord:qH,Major13thChord:WH,Minor9thChord:GH,Minor11thChord:YH,MinorSharp11thChord:QH,Minor13thChord:KH,Dominant9thChord:XH,DominantFlat9thChord:ZH,DominantSharp9thChord:JH,Dominant11thChord:e$,DominantSharp11thChord:t$,Dominant13thChord:n$},i$={id:"tristan-chord",name:"Tristan Chord",stream:[[S.createQuarterNote(53),S.createQuarterNote(59),S.createQuarterNote(63),S.createQuarterNote(68)]]},s$={id:"mystic-chord",name:"Mystic Chord",stream:[[S.createQuarterNote(60),S.createQuarterNote(66),S.createQuarterNote(70),S.createQuarterNote(76),S.createQuarterNote(81),S.createQuarterNote(86)]]},o$={id:"elektra-chord",name:"Elektra Chord",stream:[[S.createQuarterNote(64),S.createQuarterNote(71),S.createQuarterNote(73),S.createQuarterNote(77),S.createQuarterNote(80)]]},a$={id:"farben-chord",name:"Farben Chord",stream:[[S.createQuarterNote(60),S.createQuarterNote(68),S.createQuarterNote(71),S.createQuarterNote(76),S.createQuarterNote(82)]]},c$={id:"rite-of-spring-chord",name:"Rite of Spring Chord",stream:[[S.createQuarterNote(40),S.createQuarterNote(44),S.createQuarterNote(47),S.createQuarterNote(52),S.createQuarterNote(55),S.createQuarterNote(58),S.createQuarterNote(61),S.createQuarterNote(63)]]},l$={id:"dream-chord",name:"Dream Chord",stream:[[S.createQuarterNote(67),S.createQuarterNote(72),S.createQuarterNote(73),S.createQuarterNote(74)]]},u$={id:"hendrix-chord",name:"Hendrix Chord",stream:[[S.createQuarterNote(40),S.createQuarterNote(52),S.createQuarterNote(56),S.createQuarterNote(62),S.createQuarterNote(64),S.createQuarterNote(67)]]},h$={id:"so-what-chord",name:"So What Chord",stream:[[S.createQuarterNote(52),S.createQuarterNote(57),S.createQuarterNote(62),S.createQuarterNote(67),S.createQuarterNote(71)]]},d$={id:"james-bond-chord",name:"James Bond Chord",stream:[[S.createQuarterNote(52),S.createQuarterNote(67),S.createQuarterNote(71),S.createQuarterNote(75),S.createQuarterNote(78)]]},f$={id:"kenny-barron-major-chord",name:"Kenny Barron Major Chord",stream:[[S.createQuarterNote(48),S.createQuarterNote(55),S.createQuarterNote(62),S.createQuarterNote(64),S.createQuarterNote(71),S.createQuarterNote(78)]]},p$={id:"kenny-barron-minor-chord",name:"Kenny Barron Minor Chord",stream:[[S.createQuarterNote(48),S.createQuarterNote(55),S.createQuarterNote(62),S.createQuarterNote(63),S.createQuarterNote(70),S.createQuarterNote(77)]]},m$={TristanChord:i$,MysticChord:s$,ElektraChord:o$,FarbenChord:a$,RiteOfSpringChord:c$,DreamChord:l$,SoWhatChord:h$,KennyBarronMajorChord:f$,KennyBarronMinorChord:p$,HendrixChord:u$,BondChord:d$},g$={id:"straight-major-arpeggio",name:"Straight Major Arpeggio",aliases:["maj arpeggio","maj arp","major arpeggio","major arp","M arpeggio","M arp"],stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(64)],[S.createSixteenthNote(67)],[S.createSixteenthNote(72)]]},v$={id:"triplet-major-arpeggio",name:"Triplet Major Arpeggio",aliases:["maj triplet arpeggio","maj triplet arp","major triplet arpeggio","major triplet arp","M triplet arpeggio","M triplet arp"],stream:[[S.createTripletEighthNote(60)],[S.createTripletEighthNote(64)],[S.createTripletEighthNote(67)]]},y$={id:"straight-minor-arpeggio",name:"Straight Minor Arpeggio",aliases:["min arpeggio","min arp","minor arpeggio","minor arp","m arpeggio","m arp"],stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(63)],[S.createSixteenthNote(67)],[S.createSixteenthNote(72)]]},_$={id:"triplet-minor-arpeggio",name:"Triplet Minor Arpeggio",aliases:["min triplet arpeggio","min triplet arp","minor triplet arpeggio","minor triplet arp","m triplet arpeggio","m triplet arp"],stream:[[S.createTripletEighthNote(60)],[S.createTripletEighthNote(63)],[S.createTripletEighthNote(67)]]},w$={id:"straight-diminished-arpeggio",name:"Straight Diminished Arpeggio",aliases:["dim arpeggio","dim arp","diminished arpeggio","diminished arp","o arpeggio","o arp"],stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(63)],[S.createSixteenthNote(66)],[S.createSixteenthNote(69)]]},b$={id:"triplet-diminished-arpeggio",name:"Triplet Diminished Arpeggio",aliases:["dim triplet arpeggio","dim triplet arp","diminished triplet arpeggio","diminished triplet arp","o triplet arpeggio","o triplet arp"],stream:[[S.createTripletEighthNote(60)],[S.createTripletEighthNote(63)],[S.createTripletEighthNote(66)]]},S$={id:"straight-augmented-arpeggio",name:"Straight Augmented Arpeggio",aliases:["aug arpeggio","aug arp","augmented arpeggio","augmented arp","+ arpeggio","+ arp"],stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(64)],[S.createSixteenthNote(68)],[S.createSixteenthNote(72)]]},x$={id:"triplet-augmented-arpeggio",name:"Triplet Augmented Arpeggio",aliases:["aug triplet arpeggio","aug triplet arp","augmented triplet arpeggio","augmented triplet arp","+ triplet arpeggio","+ triplet arp"],stream:[[S.createTripletEighthNote(60)],[S.createTripletEighthNote(64)],[S.createTripletEighthNote(68)]]},T$={id:"major-7th-arpeggio",name:"Major 7th Arpeggio",aliases:["maj7 arpeggio","maj7 arp","major 7th arpeggio","major 7th arp","M7 arpeggio","M7 arp"],stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(64)],[S.createSixteenthNote(67)],[S.createSixteenthNote(71)]]},E$={id:"minor-7th-arpeggio",name:"Minor 7th Arpeggio",aliases:["min7 arpeggio","min7 arp","minor 7th arpeggio","minor 7th arp","m7 arpeggio","m7 arp"],stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(63)],[S.createSixteenthNote(67)],[S.createSixteenthNote(70)]]},C$={id:"dominant-7th-arpeggio",name:"Dominant 7th Arpeggio",aliases:["dom7 arpeggio","dom7 arp","7 arpeggio","7 arp","dominant 7th arpeggio","dominant 7th arp"],stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(64)],[S.createSixteenthNote(67)],[S.createSixteenthNote(70)]]},k$={id:"half-diminished-7th-arpeggio",name:"Half Diminished 7th Arpeggio",aliases:["min7b5 arpeggio","min7b5 arp","m7b5 arpeggio","m7b5 arp","minor 7th flat 5 arpeggio","minor 7th flat 5 arp","minor 7th b5 arpeggio","minor 7th b5 arp","half diminished 7th arpeggio","half diminished 7th arp"],stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(63)],[S.createSixteenthNote(66)],[S.createSixteenthNote(70)]]},O$={id:"augmented-7th-arpeggio",name:"Augmented 7th Arpeggio",aliases:["aug7 arpeggio","aug7 arp","+7 arpeggio","+7 arp","augmented 7th arpeggio","augmented 7th arp","maj7#5 arpeggio","maj7#5 arp","major 7th sharp 5 arpeggio","major 7th sharp 5 arp","major 7th #5 arpeggio","major 7th #5 arp"],stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(64)],[S.createSixteenthNote(68)],[S.createSixteenthNote(71)]]},N$={id:"major-minor-7th-arpeggio",name:"Major Minor 7th Arpeggio",aliases:["minmaj7 arpeggio","minmaj7 arp","mM7 arpeggio","mM7 arp","minor major 7th arpeggio","minor major 7th arp"],stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(63)],[S.createSixteenthNote(67)],[S.createSixteenthNote(71)]]},A$={StraightMajorArpeggio:g$,TripletMajorArpeggio:v$,StraightMinorArpeggio:y$,TripletMinorArpeggio:_$,StraightDiminishedArpeggio:w$,TripletDiminishedArpeggio:b$,StraightAugmentedArpeggio:S$,TripletAugmentedArpeggio:x$,Major7thArpeggio:T$,Minor7thArpeggio:E$,Dominant7thArpeggio:C$,HalfDiminished7thArpeggio:k$,Augmented7thArpeggio:O$,MinorMajor7thArpeggio:N$},M$={id:"major-9th-arpeggio",name:"Major 9th Arpeggio",stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(64)],[S.createSixteenthNote(67)],[S.createSixteenthNote(71)],[S.createSixteenthNote(74)],[S.createSixteenthNote(71)],[S.createSixteenthNote(67)],[S.createSixteenthNote(64)]]},D$={id:"minor-9th-arpeggio",name:"Minor 9th Arpeggio",stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(63)],[S.createSixteenthNote(67)],[S.createSixteenthNote(70)],[S.createSixteenthNote(74)],[S.createSixteenthNote(70)],[S.createSixteenthNote(67)],[S.createSixteenthNote(63)]]},R$={id:"dominant-9th-arpeggio",name:"Dominant 9th Arpeggio",stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(64)],[S.createSixteenthNote(67)],[S.createSixteenthNote(70)],[S.createSixteenthNote(74)],[S.createSixteenthNote(70)],[S.createSixteenthNote(67)],[S.createSixteenthNote(64)]]},P$={id:"major-11th-arpeggio",name:"Major 11th Arpeggio",stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(67)],[S.createSixteenthNote(71)],[S.createSixteenthNote(74)],[S.createSixteenthNote(78)],[S.createSixteenthNote(74)],[S.createSixteenthNote(71)],[S.createSixteenthNote(67)]]},I$={id:"minor-11th-arpeggio",name:"Minor 11th Arpeggio",stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(67)],[S.createSixteenthNote(70)],[S.createSixteenthNote(74)],[S.createSixteenthNote(77)],[S.createSixteenthNote(74)],[S.createSixteenthNote(70)],[S.createSixteenthNote(67)]]},L$={id:"dominant-11th-arpeggio",name:"Dominant 11th Arpeggio",stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(67)],[S.createSixteenthNote(70)],[S.createSixteenthNote(74)],[S.createSixteenthNote(77)],[S.createSixteenthNote(74)],[S.createSixteenthNote(70)],[S.createSixteenthNote(67)]]},F$={id:"major-13th-arpeggio",name:"Major 13th Arpeggio",stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(71)],[S.createSixteenthNote(74)],[S.createSixteenthNote(78)],[S.createSixteenthNote(81)],[S.createSixteenthNote(78)],[S.createSixteenthNote(74)],[S.createSixteenthNote(71)]]},j$={id:"minor-13th-arpeggio",name:"Minor 13th Arpeggio",stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(70)],[S.createSixteenthNote(74)],[S.createSixteenthNote(77)],[S.createSixteenthNote(81)],[S.createSixteenthNote(77)],[S.createSixteenthNote(74)],[S.createSixteenthNote(70)]]},U$={id:"dominant-13th-arpeggio",name:"Dominant 13th Arpeggio",stream:[[S.createSixteenthNote(60)],[S.createSixteenthNote(70)],[S.createSixteenthNote(74)],[S.createSixteenthNote(77)],[S.createSixteenthNote(81)],[S.createSixteenthNote(77)],[S.createSixteenthNote(74)],[S.createSixteenthNote(70)]]},B$={Major9thArpeggio:M$,Major11thArpeggio:P$,Major13thArpeggio:F$,Minor9thArpeggio:D$,Minor11thArpeggio:I$,Minor13thArpeggio:j$,Dominant9thArpeggio:R$,Dominant11thArpeggio:L$,Dominant13thArpeggio:U$},V$={id:"bach-prelude",name:"Prelude in C",stream:[[S.createEighthNote(60)],[S.createEighthNote(64)],[S.createEighthNote(67)],[S.createEighthNote(72)],[S.createEighthNote(76)],[S.createEighthNote(67)],[S.createEighthNote(72)],[S.createEighthNote(76)]]},z$={id:"alberti-bass",name:"Alberti Bass",stream:[[S.createEighthNote(60)],[S.createEighthNote(67)],[S.createEighthNote(64)],[S.createEighthNote(67)],[S.createEighthNote(60)],[S.createEighthNote(67)],[S.createEighthNote(64)],[S.createEighthNote(67)]]},H$={id:"turkish-march",name:"Turkish March",stream:[[S.createSixteenthNote(71)],[S.createSixteenthNote(69)],[S.createSixteenthNote(68)],[S.createSixteenthNote(69)],[S.createSixteenthNote(72)]]},$$={id:"fate-motif",name:"Fate Motif",stream:[[S.createEighthRest()],[S.createEighthNote(67)],[S.createEighthNote(67)],[S.createEighthNote(67)],[S.createHalfNote(63)]]},q$={id:"revolutionary-etude",name:"Revolutionary Etude",stream:[[S.createSixteenthNote(48)],[S.createSixteenthNote(55)],[S.createSixteenthNote(60)],[S.createSixteenthNote(62)],[S.createSixteenthNote(63)],[S.createSixteenthNote(62)],[S.createSixteenthNote(60)],[S.createSixteenthNote(55)]]},W$={id:"zarahustra-fanfare",name:"Zarahustra Fanfare",stream:[[S.createHalfNote(60)],[S.createHalfNote(67)],[S.createHalfNote(72)],[S.createQuarterRest()],[S.createEighthRest()],[S.createSixteenthRest()],[S.createSixteenthNote(76)],[S.createQuarterNote(75)]]},G$={id:"the-lick",name:"The Lick",stream:[[S.createEighthNote(62)],[S.createEighthNote(64)],[S.createEighthNote(65)],[S.createEighthNote(67)],[S.createQuarterNote(64)],[S.createEighthNote(60)],[S.createEighthNote(62)]]},Y$={id:"happy-birthday",name:"Happy Birthday",stream:[[S.createEighthNote(67)],[S.createSixteenthRest()],[S.createSixteenthNote(67)],[S.createQuarterNote(69)],[S.createQuarterNote(67)],[S.createQuarterNote(72)],[S.createQuarterNote(71)]]},Q$={BachPrelude:V$,AlbertiBass:z$,TurkishMarch:H$,FateMotif:$$,RevolutionaryEtude:q$,ZarahustraFanfare:W$,TheLick:G$,HappyBirthday:Y$},K$={id:"whole-note",name:"Straight Whole Note",aliases:["whole note"],stream:[[S.createWholeNote()]]},X$={id:"half-notes",name:"Straight Half Notes",aliases:["half notes","halfs","halves"],stream:Qt.fill(Array(2),[S.createHalfNote()])},Z$={id:"quarter-notes",name:"Straight Quarter Notes",aliases:["quarter notes","quarters"],stream:Qt.fill(Array(4),[S.createQuarterNote()])},J$={id:"eighth-notes",name:"Straight Eighth Notes",aliases:["eighth notes","eighths","8ths","8th notes"],stream:Qt.fill(Array(8),[S.createEighthNote()])},eq={id:"sixteenth-notes",name:"Straight Sixteenth Notes",aliases:["sixteenth notes","sixteenths","16ths","16th notes"],stream:Qt.fill(Array(16),[S.createSixteenthNote()])},tq={id:"thirty-second-notes",name:"Straight Thirty-Second Notes",aliases:["thirty-second notes","thirty-seconds","thirty second notes","thirty seconds","32nds","32nd notes"],stream:Qt.fill(Array(32),[S.createThirtySecondNote()])},nq={id:"sixty-fourth-notes",name:"Straight Sixty-Fourth Notes",aliases:["sixty-fourth notes","sixty-fourths","sixty fourth notes","sixty fourths","64ths","64th notes"],stream:Qt.fill(Array(64),[S.createSixtyFourthNote()])},rq={WholeNote:K$,HalfNotes:X$,QuarterNotes:Z$,EighthNotes:J$,SixteenthNotes:eq,ThirtySecondNotes:tq,SixtyFourthNotes:nq},iq={id:"dotted-whole-note",name:"Dotted Whole Note",aliases:["dotted whole note","dotted whole"],stream:[[S.createDottedWholeNote()],[S.createDottedWholeNote()]]},sq={id:"dotted-half-notes",name:"Dotted Half Notes",aliases:["dotted half notes","dotted halfs","dotted halves"],stream:Qt.fill(Array(4),[S.createDottedHalfNote()])},oq={id:"dotted-quarter-notes",name:"Dotted Quarter Notes",aliases:["dotted quarter notes","dotted quarters"],stream:Qt.fill(Array(4),[S.createDottedQuarterNote()])},aq={id:"dotted-eighth-notes",name:"Dotted Eighth Notes",aliases:["dotted eighth notes","dotted eighths","dotted 8th notes","dotted 8ths"],stream:Qt.fill(Array(8),[S.createDottedEighthNote()])},cq={id:"dotted-sixteenth-notes",name:"Dotted Sixteenth Notes",aliases:["dotted sixteenth notes","dotted sixteenths","dotted 16ths","dotted 16th notes"],stream:Qt.fill(Array(16),[S.createDottedSixteenthNote()])},lq={id:"dotted-thirty-second-notes",name:"Dotted Thirty-Second Notes",aliases:["dotted thirty-second notes","dotted thirty-seconds","dotted thirty second notes","dotted thirty seconds","dotted 32nds","dotted 32nd notes"],stream:Qt.fill(Array(32),[S.createDottedThirtySecondNote()])},uq={id:"dotted-sixty-fourth-notes",name:"Dotted Sixty-Fourth Notes",aliases:["dotted sixty-fourth notes","dotted sixty-fourths","dotted sixty fourth notes","dotted sixty fourths","dotted 64ths","dotted 64th notes"],stream:Qt.fill(Array(64),[S.createDottedSixtyFourthNote()])},hq={DottedWholeNotes:iq,DottedHalfNotes:sq,DottedQuarterNotes:oq,DottedEighthNotes:aq,DottedSixteenthNotes:cq,DottedThirtySecondNotes:lq,DottedSixtyFourthNotes:uq},dq={id:"triplet-whole-notes",name:"Triplet Whole Notes",aliases:["triplet whole notes","triplet wholes"],stream:Qt.fill(Array(3),[S.createTripletWholeNote()])},fq={id:"triplet-half-notes",name:"Triplet Half Notes",aliases:["triplet half notes","triplet halfs","triplet halves"],stream:Qt.fill(Array(3),[S.createTripletHalfNote()])},pq={id:"triplet-quarter-notes",name:"Triplet Quarter Notes",aliases:["triplet quarter notes","triplet quarters"],stream:Qt.fill(Array(6),[S.createTripletQuarterNote()])},mq={id:"triplet-eighth-notes",name:"Triplet Eighth Notes",aliases:["triplet eighth notes","triplet eighths","triplet 8ths"],stream:Qt.fill(Array(12),[S.createTripletEighthNote()])},gq={id:"triplet-sixteenth-notes",name:"Triplet Sixteenth Notes",aliases:["triplet sixteenth notes","triplet sixteenths","triplet 16ths","triplet 16th notes"],stream:Qt.fill(Array(24),[S.createTripletSixteenthNote()])},vq={id:"triplet-thirty-second-notes",name:"Triplet Thirty-Second Notes",aliases:["triplet thirty-second notes","triplet thirty-seconds","triplet 32nds","triplet 32nd notes"],stream:Qt.fill(Array(48),[S.createTripletThirtySecondNote()])},yq={id:"triplet-sixty-fourth-notes",name:"Triplet Sixty-Fourth Notes",aliases:["triplet sixty-fourth notes","triplet sixty-fourths","triplet 64ths","triplet 64th notes"],stream:Qt.fill(Array(96),[S.createTripletSixtyFourthNote()])},_q={TripletWholeNotes:dq,TripletHalfNotes:fq,TripletQuarterNotes:pq,TripletEighthNotes:mq,TripletSixteenthNotes:gq,TripletThirtySecondNotes:vq,TripletSixtyFourthNotes:yq},wq={id:"eighth-and-two-sixteenths",name:"Eighth + Two Sixteenths",stream:Qt.fill(Array(4),[[S.createEighthNote()],[S.createSixteenthNote()],[S.createSixteenthNote()]]).flat()},bq={id:"two-sixteenths-and-eighth",name:"Two Sixteenths + Eighth",stream:Qt.fill(Array(4),[[S.createSixteenthNote()],[S.createSixteenthNote()],[S.createEighthNote()]]).flat()},Sq={id:"sixteenth-eighth-sixteenth",name:"Sixteenth + Eighth + Sixteenth",stream:Qt.fill(Array(4),[[S.createSixteenthNote()],[S.createEighthNote()],[S.createSixteenthNote()]]).flat()},xq={id:"sixteenth-and-dotted",name:"Sixteenth + Dotted Eighth",stream:Qt.fill(Array(4),[[S.createSixteenthNote()],[S.createDottedEighthNote()]]).flat()},Tq={id:"dotted-and-sixteenth",name:"Dotted Eighth + Sixteenth",stream:Qt.fill(Array(4),[[S.createDottedEighthNote()],[S.createSixteenthNote()]]).flat()},Eq={EighthAndTwoSixteenths:wq,TwoSixteenthsAndEighth:bq,SixteenthEighthSixteenth:Sq,SixteenthAndDottedEighth:xq,DottedEighthAndSixteenth:Tq},Cq={id:"habanera",name:"Habanera",stream:[[S.createEighthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthNote()],[S.createEighthNote()],[S.createEighthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthNote()],[S.createEighthNote()]]},kq={id:"tresillo",name:"Tresillo",stream:[[S.createEighthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createEighthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()]]},Oq={id:"cinquillo",name:"Cinquillo",stream:[[S.createEighthNote()],[S.createSixteenthNote()],[S.createSixteenthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createSixteenthNote()],[S.createSixteenthRest()],[S.createEighthNote()],[S.createSixteenthNote()],[S.createSixteenthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createSixteenthNote()],[S.createSixteenthRest()]]},Nq={id:"baqueteo",name:"Baqueteo",stream:[[S.createEighthNote()],[S.createSixteenthNote()],[S.createSixteenthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createSixteenthNote()],[S.createSixteenthRest()],[S.createEighthNote()],[S.createEighthNote()],[S.createEighthNote()],[S.createEighthNote()]]},Aq={id:"cascara",name:"Cascara",stream:[[S.createEighthNote()],[S.createSixteenthNote()],[S.createSixteenthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthNote()],[S.createEighthNote()],[S.createSixteenthNote()],[S.createSixteenthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()]]},Mq={id:"montuno",name:"Montuno",stream:[[S.createEighthNote()],[S.createSixteenthNote()],[S.createSixteenthNote()],[S.createSixteenthRest()],[S.createEighthNote()],[S.createSixteenthNote()],[S.createSixteenthRest()],[S.createEighthNote()],[S.createSixteenthNote()],[S.createSixteenthRest()],[S.createEighthNote()],[S.createSixteenthNote()]]},Dq={Habanera:Cq,Tresillo:kq,Cinquillo:Oq,Baqueteo:Nq,Cascara:Aq,Montuno:Mq},Rq={id:"2-3-son-clave",name:"2-3 Son Clave",stream:[[S.createEighthRest()],[S.createEighthNote()],[S.createEighthNote()],[S.createEighthRest()],[S.createDottedEighthNote()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()]]},Pq={id:"3-2-son-clave",name:"3-2 Son Clave",stream:[[S.createDottedEighthNote()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createEighthNote()],[S.createEighthRest()]]},Iq={id:"2-3-rumba-clave",name:"2-3 Rumba Clave",stream:[[S.createEighthRest()],[S.createEighthNote()],[S.createEighthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createSixteenthRest()],[S.createSixteenthNote()]]},Lq={id:"3-2-rumba-clave",name:"3-2 Rumba Clave",stream:[[S.createEighthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createEighthNote()],[S.createEighthRest()]]},Fq={id:"2-3-bossa-nova-clave",name:"2-3 Bossa Nova Clave",stream:[[S.createEighthRest()],[S.createEighthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()]]},jq={id:"3-2-bossa-nova-clave",name:"3-2 Bossa Nova Clave",stream:[[S.createEighthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createSixteenthRest()],[S.createSixteenthNote()],[S.createEighthRest()]]},Uq={TwoThreeSonClave:Rq,ThreeTwoSonClave:Pq,TwoThreeRumbaClave:Iq,ThreeTwoRumbaClave:Lq,TwoThreeBossaNovaClave:Fq,ThreeTwoBossaNovaClave:jq},Bq={id:"bell-pattern-1",name:"Bell Pattern 1",stream:[[S.createDottedEighthNote()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createSixteenthNote()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createDottedEighthNote()],[S.createSixteenthNote()]]},Vq={id:"bell-pattern-2",name:"Bell Pattern 2",stream:[[S.createDottedEighthNote()],[S.createSixteenthNote()],[S.createDottedEighthRest()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createQuarterNote()]]},zq={id:"bell-pattern-3",name:"Bell Pattern 3",stream:[[S.createDottedEighthNote()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createQuarterNote()]]},Hq={id:"bell-pattern-4",name:"Bell Pattern 4",stream:[[S.createDottedEighthNote()],[S.createSixteenthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createEighthRest()],[S.createEighthNote()]]},$q={id:"bell-pattern-5",name:"Bell Pattern 5",stream:[[S.createQuarterRest()],[S.createEighthRest()],[S.createEighthNote()],[S.createEighthRest()],[S.createEighthNote()],[S.createEighthRest()],[S.createEighthNote()]]},qq={id:"bell-pattern-6",name:"Bell Pattern 6",stream:[[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthRest()]]},Wq={id:"bell-pattern-7",name:"Bell Pattern 7",stream:[[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthRest()]]},Gq={id:"bell-pattern-8",name:"Bell Pattern 8",stream:[[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()]]},Yq={id:"bell-pattern-9",name:"Bell Pattern 9",stream:[[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthRest()],[S.createTripletEighthNote()],[S.createTripletEighthRest()],[S.createTripletEighthRest()]]},Qq={BellPattern1:Bq,BellPattern2:Vq,BellPattern3:zq,BellPattern4:Hq,BellPattern5:$q,BellPattern6:qq,BellPattern7:Wq,BellPattern8:Gq,BellPattern9:Yq},Kq={"Basic Chords":Object.values(kH),"Seventh Chords":Object.values(zH),"Extended Chords":Object.values(r$),"Famous Chords":Object.values(m$)},Xq={"Basic Melodies":Object.values(A$),"Extended Melodies":Object.values(B$),"Famous Melodies":Object.values(Q$)},Zq={"Straight Durations":Object.values(rq),"Dotted Durations":Object.values(hq),"Triplet Durations":Object.values(_q)},Jq={"Simple Rhythms":Object.values(Eq),"Latin Rhythms":Object.values(Dq),"Clave Patterns":Object.values(Uq),"Bell Patterns":Object.values(Qq)},eW={"Custom Patterns":[]},d4={...eW,...Kq,...Xq,...Zq,...Jq},Nne=Object.keys(d4),tW=Object.values(d4).flat(),f4=F0(tW),nW=e=>e.patterns.present.allIds,rW=e=>e.patterns.present.byId,uu=Eo.createSelector([rW],e=>({...e,...f4})),iW=Eo.createSelector([uu,nW],(e,t)=>ua(e,t)),Ane=Eo.createSelector([iW],e=>e.filter(({id:t})=>t&&f4[t]===void 0)),Mne=(e,t)=>{const n=uu(e);return Ts(n,t)},$d=e=>e.arrangement.present.patternTracks.byId,p4=e=>e.arrangement.present.patternTracks.allIds,X2=Eo.createSelector([$d,p4],ua),Z2=(e,t)=>{const n=$d(e);return Ts(n,t)},sW=(e,t)=>{const n=Z2(e,t);if(n!=null&&n.instrumentId)return QN(e,n.instrumentId)},Dne=(e,t)=>{const n=sW(e,t);return n==null?void 0:n.key},oW=e=>X2(e).reduce((n,r)=>{if(!(r!=null&&r.id)||!r.instrumentId)return n;const s=Ts(Yr,r.instrumentId);return s?{...n,[r.id]:s}:n},{}),m4=e=>e.scales.present.allIds,Sh=e=>e.scales.present.byId;Eo.createSelector([Sh,m4],(e,t)=>ua(e,t));const Rne=Eo.createSelector([Sh,m4],(e,t)=>ua(e,t).filter(r=>r.name!==D2)),Pne=(e,t)=>{const n=Sh(e);return Ts(n,t)},xh=e=>e.arrangement.present.scaleTracks.byId,aW=e=>e.arrangement.present.scaleTracks.allIds,J2=vi.createSelector([xh,aW],ua),cW=(e,t)=>{const n=xh(e);return Ts(n,t)},lW=e=>e.arrangement.present.transpositions.allIds,Th=e=>e.arrangement.present.transpositions.byId,uW=lu([Th,lW],ua),Ine=Eo.createSelector([Th,x9],ua),Lne=(e,t)=>uW(e).filter(r=>t.includes(r.trackId)),Fne=Eo.createSelector([Th,S9],Ts),H1=e=>e.arrangement.present.clips.byId,g4=e=>e.arrangement.present.clips.allIds,qm=lu([H1,g4],(e,t)=>ua(e,t)),ex=(e,t)=>{const n=H1(e);return Ts(n,t)},v4=(e,t)=>{const n=H1(e);return ua(n,t)},jne=(e,t)=>qm(e).filter(r=>t.includes(r.trackId)),y4=(e,t)=>{const n=ex(e,t);return n==null?void 0:n.patternId},_4=(e,t)=>{const n=y4(e,t),r=uu(e);return Ts(r,n)},hW=(e,t)=>{const n=uu(e),r=t.map(s=>y4(e,s));return ua(n,r)},Une=(e,t)=>{const n=_4(e,t);return n==null?void 0:n.name},w4=(e,t)=>{const n=ex(e,t),r=_4(e,t);return G2(n,r)},Bne=(e,t)=>{const n=v4(e,t),r=hW(e,t);return n.map((s,o)=>G2(s,r[o]))},Vne=(e,t)=>{const n=ex(e,t);if(!up(n))return[];const s=$m(e).byId[n.trackId];if(!s)return[];const o=Th(e),l=s.transpositionIds,u=ua(o,l),f=w4(e,t);return u.filter(m=>Yz(n,m.tick,m.tick+(m.duration??1/0),f))},b4=lu([qm,uu,$d,Sh,xh,Th,B0],(e,t,n,r,s,o,l)=>Az({clips:e,patternMap:t,patternTrackMap:n,scaleMap:r,scaleTrackMap:s,transpositionMap:o,trackNodeMap:l})),zne=(e,t)=>{const n=b4(e);return Ts(n,t)},$1=e=>e.meta,S4=e=>e.meta.id,dW=e=>e.meta.name,x4=(e,t={})=>(n,r)=>{var m;const s=r(),o=QN(s,e.instrumentId),l=t.oldInstrument??o;e.instrumentId&&!t.downloading&&((m=Yr[e.instrumentId])==null||m.dispose(),delete Yr[e.instrumentId]);const u=UN(l);e.instrumentId!==void 0&&(u.id=e.instrumentId);const f=new Ed(u);return t.downloading||(t.offline?n(Rz(u)):n(Dz({track:e,instrument:u}))),f},fW=(e="grand_piano")=>{const t=Yr.global;t&&t.dispose(),delete Yr.global;const n=UN({key:e,effects:[{...iS,wet:.5}]});n.id="global";const r=new Ed(n);return Yr.global=r,r},pW=e=>t=>{e.forEach(n=>t(x4(n,{offline:!0})))},q1=e=>e.editor,Wm=Eo.createSelector([xh,$d],(e,t)=>({...e,...t}));Eo.createSelector([J2,X2],(e,t)=>[...e,...t]);const Bc=(e,t)=>{const n=Wm(e);return Ts(n,t)},W1=lu([$m],e=>{const{topLevelIds:t,byId:n}=e,r=[],s=o=>{o!=null&&o.length&&o.forEach(l=>{const u=n[l];u&&(r.push(l),s(u.trackIds))})};for(const o of t){const l=n[o];l&&(r.push(o),s(l.trackIds))}return r}),Hne=lu([Wm,W1],(e,t)=>ua(e,t)),Q5=(e,t)=>{if(!t)return-1;const n=$m(e),r=Bc(e,t);if(!r)return-1;if(vh(r)){const o=n.topLevelIds.indexOf(r.id);if(o>-1)return o}const s=Ts(n.byId,r.parentId);return s?s.trackIds.indexOf(r.id):-1},$ne=(e,t)=>{if(!t)return;const n=Q5(e,t)+1,r=$m(e);if(r.topLevelIds.includes(t))return n;const s=tx(e,t),o=Z2(e,t),l=o?[...s,o]:s,u=l[0],f=l.slice(1),m=r.topLevelIds.indexOf(u.id)+1,v=f.map(b=>{const x=Q5(e,b.id);return M9(x)});return`${m}${v.join("")}`},tx=(e,t)=>{const n=Bc(e,t);if(!n)return[];const r=Wm(e);return W2(n,r)},qne=(e,t)=>{const n=Bc(e,t);if(!n)return[];const r=Wm(e),s=B0(e);return HN(n,r,s)},mW=(e,t)=>{const n=Bc(e,t);if(!n)return[];const r=Th(e),s=B0(e);return Wy(n,r,s)},gW=(e,t)=>{const n=Bc(e,t);if(!n)return[];const r=Wm(e),s=Th(e),o=B0(e);return W2(n,r).map(u=>Wy(u,s,o))},vW=(e,t)=>{const n=Bc(e,t);if(n){if(vh(n))return n;if(n.parentId)return cW(e,n.parentId)}},Wne=(e,t)=>{const n=Bc(e,t),r=xh(e),s=Sh(e);if(!n)return;if(vh(n))return Rm(n,r,s);const o=Ts(r,n.parentId);return Rm(o,r,s)},Gne=(e,t,n=0)=>{const r=Bc(e,t),s=vW(e,t),o=xh(e);if(!r||!s)return ph;const l=Sh(e),u=Ts(l,s.scaleId),f=mW(e,t);if(!u)return ph;const m=tx(e,t),v=gW(e,t),b=n+1,x=$N(m,v,l,b),O=w0(f,b,!1),T=j2(u,O),D=F0([...x,T]);return Rm(s,o,D)},Yne=lu([$m],e=>({...e,byId:Object.keys(e.byId).reduce((t,n)=>{const r=e.byId[n],{trackIds:s,type:o,depth:l}=r;return{...t,[n]:{id:n,trackIds:s,type:o,depth:l}}},{})})),Qo=e=>e.transport,V0=e=>e.timeline,Qne=e=>e.timeline.cell,nx=e=>e.timeline.cell.width,T4=e=>e.timeline.cell.height,G1=e=>e.timeline.selectedTrackId,Kne=e=>e.timeline.mediaSelection,yW=e=>e.timeline.mediaSelection.clipIds,_W=e=>e.timeline.mediaSelection.transpositionIds,wW=e=>e.timeline.mediaDraft.clip,Xne=e=>e.timeline.mediaDraft.transposition,Zne=e=>e.timeline.mediaClipboard,Jne=e=>e.timeline.mediaDragState,ere=e=>e.timeline.liveTranspositionSettings,tre=e=>{const t=uu(e),{patternId:n}=wW(e);return Ts(t,n)},E4=e=>{const t=Wm(e),n=G1(e);return Ts(t,n)},bW=e=>{const t=G1(e);return t?W1(e).indexOf(t):-1},nre=e=>{const t=E4(e);return t?tx(e,t.id):[]},SW=lu([H1,yW],(e,t)=>ua(e,t)),rx=lu([Th,_W],(e,t)=>ua(e,t)),rre=lu([SW,rx],(e,t)=>[...e,...t]),ire=(e,t)=>{const n=w4(e,t),r=V0(e),s=nx(e),o=uN(n,r.subdivision);return Math.max(s*o,1)},sre=e=>{const t=V0(e);return I2(t.subdivision)},ore=(e,t)=>{const n=V0(e);return I2(n.subdivision)*t},xW=e=>P9*128,are=e=>{const t=nx(e);return xW()*t+F2},cre=(e,t=0)=>{const n=V0(e),r=nx(e),s=uN(t,n.subdivision);return F2+Math.round(s*r)},lre=(e,t)=>{const n=T4(e);if(lp(t))return t.collapsed?qy:n;{const r=Bc(e,t==null?void 0:t.trackId);return r!=null&&r.collapsed?qy:n}},ure=(e,t)=>{const n=$m(e),r=T4(e);let s=!1,o=V9;const l=f=>{let m=0;for(let v=0;v<f.length;v++){if(s)return m;const b=f[v],x=n.byId[b];if(x){if(x.id===G5(t))return s=!0,m;m+=x.collapsed?qy:r,m+=l(x.trackIds)}}return m},u=n.topLevelIds.length;for(let f=0;f<u;f++){if(s)return o;const m=n.topLevelIds[f];if(m===G5(t))break;const v=n.byId[m];v&&(o+=v.collapsed?qy:r,o+=l(v.trackIds))}return o},C4=lu([qm,b4,$d],(e,t,n)=>{const r={},s=e.length;for(let o=0;o<s;o++){const l=e[o],u=t[l.id],f=u.length;if(!l)continue;const m=n[l.trackId];if(!m)continue;const v=m.instrumentId;if(!v)continue;const b=l.tick;for(let x=0;x<f;x++){const O=XU(u,x);if(!O)continue;const T=b+x;r[T]===void 0&&(r[T]={}),r[T][v]=O}}return r}),TW=(e,t)=>C4(e)[t],k4=Eo.createSelector([qm,uu,Qo],(e,t,n)=>n.loop?n.loopEnd:e.reduce((s,o)=>{const l=t[o.patternId];if(!l)return s;const u=o.tick+G2(o,l);return Math.max(s,u)},0));var O4={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:hi,function(){return(()=>{var n={507:(o,l,u)=>{function f(v){var b=[];return m(v,b),b}function m(v,b){for(var x=0;x<v.length;x++){var O=v[x];Array.isArray(O)?m(O,b):b.push(O)}}u.r(l),u.d(l,{flatten:()=>f})},289:(o,l,u)=>{l.parseMidi=u(666),l.writeMidi=u(865)},666:o=>{function l(f){for(var m,v=new u(f),b=[];!v.eof();){var x=O();b.push(x)}return b;function O(){var T={};T.deltaTime=v.readVarInt();var D=v.readUInt8();if((240&D)==240){if(D!==255){if(D==240)return T.type="sysEx",C=v.readVarInt(),T.data=v.readBytes(C),T;if(D==247)return T.type="endSysEx",C=v.readVarInt(),T.data=v.readBytes(C),T;throw"Unrecognised MIDI event type byte: "+D}T.meta=!0;var M=v.readUInt8(),C=v.readVarInt();switch(M){case 0:if(T.type="sequenceNumber",C!==2)throw"Expected length for sequenceNumber event is 2, got "+C;return T.number=v.readUInt16(),T;case 1:return T.type="text",T.text=v.readString(C),T;case 2:return T.type="copyrightNotice",T.text=v.readString(C),T;case 3:return T.type="trackName",T.text=v.readString(C),T;case 4:return T.type="instrumentName",T.text=v.readString(C),T;case 5:return T.type="lyrics",T.text=v.readString(C),T;case 6:return T.type="marker",T.text=v.readString(C),T;case 7:return T.type="cuePoint",T.text=v.readString(C),T;case 32:if(T.type="channelPrefix",C!=1)throw"Expected length for channelPrefix event is 1, got "+C;return T.channel=v.readUInt8(),T;case 33:if(T.type="portPrefix",C!=1)throw"Expected length for portPrefix event is 1, got "+C;return T.port=v.readUInt8(),T;case 47:if(T.type="endOfTrack",C!=0)throw"Expected length for endOfTrack event is 0, got "+C;return T;case 81:if(T.type="setTempo",C!=3)throw"Expected length for setTempo event is 3, got "+C;return T.microsecondsPerBeat=v.readUInt24(),T;case 84:if(T.type="smpteOffset",C!=5)throw"Expected length for smpteOffset event is 5, got "+C;var R=v.readUInt8();return T.frameRate={0:24,32:25,64:29,96:30}[96&R],T.hour=31&R,T.min=v.readUInt8(),T.sec=v.readUInt8(),T.frame=v.readUInt8(),T.subFrame=v.readUInt8(),T;case 88:if(T.type="timeSignature",C!=4)throw"Expected length for timeSignature event is 4, got "+C;return T.numerator=v.readUInt8(),T.denominator=1<<v.readUInt8(),T.metronome=v.readUInt8(),T.thirtyseconds=v.readUInt8(),T;case 89:if(T.type="keySignature",C!=2)throw"Expected length for keySignature event is 2, got "+C;return T.key=v.readInt8(),T.scale=v.readUInt8(),T;case 127:return T.type="sequencerSpecific",T.data=v.readBytes(C),T;default:return T.type="unknownMeta",T.data=v.readBytes(C),T.metatypeByte=M,T}}else{var j;if(128&D)j=v.readUInt8(),m=D;else{if(m===null)throw"Running status byte encountered before status byte";j=D,D=m,T.running=!0}var H=D>>4;switch(T.channel=15&D,H){case 8:return T.type="noteOff",T.noteNumber=j,T.velocity=v.readUInt8(),T;case 9:var F=v.readUInt8();return T.type=F===0?"noteOff":"noteOn",T.noteNumber=j,T.velocity=F,F===0&&(T.byte9=!0),T;case 10:return T.type="noteAftertouch",T.noteNumber=j,T.amount=v.readUInt8(),T;case 11:return T.type="controller",T.controllerType=j,T.value=v.readUInt8(),T;case 12:return T.type="programChange",T.programNumber=j,T;case 13:return T.type="channelAftertouch",T.amount=j,T;case 14:return T.type="pitchBend",T.value=j+(v.readUInt8()<<7)-8192,T;default:throw"Unrecognised MIDI event type: "+H}}}}function u(f){this.buffer=f,this.bufferLen=this.buffer.length,this.pos=0}u.prototype.eof=function(){return this.pos>=this.bufferLen},u.prototype.readUInt8=function(){var f=this.buffer[this.pos];return this.pos+=1,f},u.prototype.readInt8=function(){var f=this.readUInt8();return 128&f?f-256:f},u.prototype.readUInt16=function(){return(this.readUInt8()<<8)+this.readUInt8()},u.prototype.readInt16=function(){var f=this.readUInt16();return 32768&f?f-65536:f},u.prototype.readUInt24=function(){return(this.readUInt8()<<16)+(this.readUInt8()<<8)+this.readUInt8()},u.prototype.readInt24=function(){var f=this.readUInt24();return 8388608&f?f-16777216:f},u.prototype.readUInt32=function(){return(this.readUInt8()<<24)+(this.readUInt8()<<16)+(this.readUInt8()<<8)+this.readUInt8()},u.prototype.readBytes=function(f){var m=this.buffer.slice(this.pos,this.pos+f);return this.pos+=f,m},u.prototype.readString=function(f){var m=this.readBytes(f);return String.fromCharCode.apply(null,m)},u.prototype.readVarInt=function(){for(var f=0;!this.eof();){var m=this.readUInt8();if(!(128&m))return f+m;f+=127&m,f<<=7}return f},u.prototype.readChunk=function(){var f=this.readString(4),m=this.readUInt32();return{id:f,length:m,data:this.readBytes(m)}},o.exports=function(f){var m=new u(f),v=m.readChunk();if(v.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+v.id+"'";for(var b=function(M){var C=new u(M),R={format:C.readUInt16(),numTracks:C.readUInt16()},j=C.readUInt16();return 32768&j?(R.framesPerSecond=256-(j>>8),R.ticksPerFrame=255&j):R.ticksPerBeat=j,R}(v.data),x=[],O=0;!m.eof()&&O<b.numTracks;O++){var T=m.readChunk();if(T.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+T.id+"'";var D=l(T.data);x.push(D)}return{header:b,tracks:x}}},865:o=>{function l(m,v,b){var x,O=new f,T=v.length,D=null;for(x=0;x<T;x++)b.running!==!1&&(b.running||v[x].running)||(D=null),D=u(O,v[x],D,b.useByte9ForNoteOff);m.writeChunk("MTrk",O.buffer)}function u(m,v,b,x){var O=v.type,T=v.deltaTime,D=v.text||"",M=v.data||[],C=null;switch(m.writeVarInt(T),O){case"sequenceNumber":m.writeUInt8(255),m.writeUInt8(0),m.writeVarInt(2),m.writeUInt16(v.number);break;case"text":m.writeUInt8(255),m.writeUInt8(1),m.writeVarInt(D.length),m.writeString(D);break;case"copyrightNotice":m.writeUInt8(255),m.writeUInt8(2),m.writeVarInt(D.length),m.writeString(D);break;case"trackName":m.writeUInt8(255),m.writeUInt8(3),m.writeVarInt(D.length),m.writeString(D);break;case"instrumentName":m.writeUInt8(255),m.writeUInt8(4),m.writeVarInt(D.length),m.writeString(D);break;case"lyrics":m.writeUInt8(255),m.writeUInt8(5),m.writeVarInt(D.length),m.writeString(D);break;case"marker":m.writeUInt8(255),m.writeUInt8(6),m.writeVarInt(D.length),m.writeString(D);break;case"cuePoint":m.writeUInt8(255),m.writeUInt8(7),m.writeVarInt(D.length),m.writeString(D);break;case"channelPrefix":m.writeUInt8(255),m.writeUInt8(32),m.writeVarInt(1),m.writeUInt8(v.channel);break;case"portPrefix":m.writeUInt8(255),m.writeUInt8(33),m.writeVarInt(1),m.writeUInt8(v.port);break;case"endOfTrack":m.writeUInt8(255),m.writeUInt8(47),m.writeVarInt(0);break;case"setTempo":m.writeUInt8(255),m.writeUInt8(81),m.writeVarInt(3),m.writeUInt24(v.microsecondsPerBeat);break;case"smpteOffset":m.writeUInt8(255),m.writeUInt8(84),m.writeVarInt(5);var R=31&v.hour|{24:0,25:32,29:64,30:96}[v.frameRate];m.writeUInt8(R),m.writeUInt8(v.min),m.writeUInt8(v.sec),m.writeUInt8(v.frame),m.writeUInt8(v.subFrame);break;case"timeSignature":m.writeUInt8(255),m.writeUInt8(88),m.writeVarInt(4),m.writeUInt8(v.numerator);var j=255&Math.floor(Math.log(v.denominator)/Math.LN2);m.writeUInt8(j),m.writeUInt8(v.metronome),m.writeUInt8(v.thirtyseconds||8);break;case"keySignature":m.writeUInt8(255),m.writeUInt8(89),m.writeVarInt(2),m.writeInt8(v.key),m.writeUInt8(v.scale);break;case"sequencerSpecific":m.writeUInt8(255),m.writeUInt8(127),m.writeVarInt(M.length),m.writeBytes(M);break;case"unknownMeta":v.metatypeByte!=null&&(m.writeUInt8(255),m.writeUInt8(v.metatypeByte),m.writeVarInt(M.length),m.writeBytes(M));break;case"sysEx":m.writeUInt8(240),m.writeVarInt(M.length),m.writeBytes(M);break;case"endSysEx":m.writeUInt8(247),m.writeVarInt(M.length),m.writeBytes(M);break;case"noteOff":(C=(x!==!1&&v.byte9||x&&v.velocity==0?144:128)|v.channel)!==b&&m.writeUInt8(C),m.writeUInt8(v.noteNumber),m.writeUInt8(v.velocity);break;case"noteOn":(C=144|v.channel)!==b&&m.writeUInt8(C),m.writeUInt8(v.noteNumber),m.writeUInt8(v.velocity);break;case"noteAftertouch":(C=160|v.channel)!==b&&m.writeUInt8(C),m.writeUInt8(v.noteNumber),m.writeUInt8(v.amount);break;case"controller":(C=176|v.channel)!==b&&m.writeUInt8(C),m.writeUInt8(v.controllerType),m.writeUInt8(v.value);break;case"programChange":(C=192|v.channel)!==b&&m.writeUInt8(C),m.writeUInt8(v.programNumber);break;case"channelAftertouch":(C=208|v.channel)!==b&&m.writeUInt8(C),m.writeUInt8(v.amount);break;case"pitchBend":(C=224|v.channel)!==b&&m.writeUInt8(C);var H=8192+v.value,F=127&H,ie=H>>7&127;m.writeUInt8(F),m.writeUInt8(ie);break;default:throw"Unrecognized event type: "+O}return C}function f(){this.buffer=[]}f.prototype.writeUInt8=function(m){this.buffer.push(255&m)},f.prototype.writeInt8=f.prototype.writeUInt8,f.prototype.writeUInt16=function(m){var v=m>>8&255,b=255&m;this.writeUInt8(v),this.writeUInt8(b)},f.prototype.writeInt16=f.prototype.writeUInt16,f.prototype.writeUInt24=function(m){var v=m>>16&255,b=m>>8&255,x=255&m;this.writeUInt8(v),this.writeUInt8(b),this.writeUInt8(x)},f.prototype.writeInt24=f.prototype.writeUInt24,f.prototype.writeUInt32=function(m){var v=m>>24&255,b=m>>16&255,x=m>>8&255,O=255&m;this.writeUInt8(v),this.writeUInt8(b),this.writeUInt8(x),this.writeUInt8(O)},f.prototype.writeInt32=f.prototype.writeUInt32,f.prototype.writeBytes=function(m){this.buffer=this.buffer.concat(Array.prototype.slice.call(m,0))},f.prototype.writeString=function(m){var v,b=m.length,x=[];for(v=0;v<b;v++)x.push(m.codePointAt(v));this.writeBytes(x)},f.prototype.writeVarInt=function(m){if(m<0)throw"Cannot write negative variable-length integer";if(m<=127)this.writeUInt8(m);else{var v=m,b=[];for(b.push(127&v),v>>=7;v;){var x=127&v|128;b.push(x),v>>=7}this.writeBytes(b.reverse())}},f.prototype.writeChunk=function(m,v){this.writeString(m),this.writeUInt32(v.length),this.writeBytes(v)},o.exports=function(m,v){if(typeof m!="object")throw"Invalid MIDI data";v=v||{};var b,x=m.header||{},O=m.tracks||[],T=O.length,D=new f;for(function(M,C,R){var j=C.format==null?1:C.format,H=128;C.timeDivision?H=C.timeDivision:C.ticksPerFrame&&C.framesPerSecond?H=-(255&C.framesPerSecond)<<8|255&C.ticksPerFrame:C.ticksPerBeat&&(H=32767&C.ticksPerBeat);var F=new f;F.writeUInt16(j),F.writeUInt16(R),F.writeUInt16(H),M.writeChunk("MThd",F.buffer)}(D,x,T),b=0;b<T;b++)l(D,O[b],v);return D.buffer}},805:(o,l)=>{function u(f,m,v){v===void 0&&(v="ticks");var b=0,x=f.length,O=x;if(x>0&&f[x-1][v]<=m)return x-1;for(;b<O;){var T=Math.floor(b+(O-b)/2),D=f[T],M=f[T+1];if(D[v]===m){for(var C=T;C<f.length;C++)f[C][v]===m&&(T=C);return T}if(D[v]<m&&M[v]>m)return T;D[v]>m?O=T:D[v]<m&&(b=T+1)}return-1}Object.defineProperty(l,"__esModule",{value:!0}),l.insert=l.search=void 0,l.search=u,l.insert=function(f,m,v){if(v===void 0&&(v="ticks"),f.length){var b=u(f,m[v],v);f.splice(b+1,0,m)}else f.push(m)}},543:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ControlChange=l.controlChangeIds=l.controlChangeNames=void 0,l.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},l.controlChangeIds=Object.keys(l.controlChangeNames).reduce(function(v,b){return v[l.controlChangeNames[b]]=b,v},{});var u=new WeakMap,f=new WeakMap,m=function(){function v(b,x){u.set(this,x),f.set(this,b.controllerType),this.ticks=b.absoluteTime,this.value=b.value}return Object.defineProperty(v.prototype,"number",{get:function(){return f.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"name",{get:function(){return l.controlChangeNames[this.number]?l.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"time",{get:function(){return u.get(this).ticksToSeconds(this.ticks)},set:function(b){var x=u.get(this);this.ticks=x.secondsToTicks(b)},enumerable:!1,configurable:!0}),v.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},v}();l.ControlChange=m},906:(o,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createControlChanges=void 0;var f=u(543);l.createControlChanges=function(){return new Proxy({},{get:function(m,v){return m[v]?m[v]:f.controlChangeIds.hasOwnProperty(v)?m[f.controlChangeIds[v]]:void 0},set:function(m,v,b){return f.controlChangeIds.hasOwnProperty(v)?m[f.controlChangeIds[v]]=b:m[v]=b,!0}})}},54:function(o,l,u){var f=this&&this.__spreadArray||function(T,D,M){if(M||arguments.length===2)for(var C,R=0,j=D.length;R<j;R++)!C&&R in D||(C||(C=Array.prototype.slice.call(D,0,R)),C[R]=D[R]);return T.concat(C||Array.prototype.slice.call(D))};Object.defineProperty(l,"__esModule",{value:!0}),l.encode=void 0;var m=u(289),v=u(535),b=u(507);function x(T,D){return{absoluteTime:T.ticks,channel:D,controllerType:T.number,deltaTime:0,type:"controller",value:Math.floor(127*T.value)}}function O(T){return{absoluteTime:0,channel:T.channel,deltaTime:0,programNumber:T.instrument.number,type:"programChange"}}l.encode=function(T){var D={header:{format:1,numTracks:T.tracks.length+1,ticksPerBeat:T.header.ppq},tracks:f([f(f(f(f([{absoluteTime:0,deltaTime:0,meta:!0,text:T.header.name,type:"trackName"}],T.header.keySignatures.map(function(M){return function(C){var R=v.keySignatureKeys.indexOf(C.key);return{absoluteTime:C.ticks,deltaTime:0,key:R+7,meta:!0,scale:C.scale==="major"?0:1,type:"keySignature"}}(M)}),!0),T.header.meta.map(function(M){return{absoluteTime:(C=M).ticks,deltaTime:0,meta:!0,text:C.text,type:C.type};var C}),!0),T.header.tempos.map(function(M){return function(C){return{absoluteTime:C.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/C.bpm),type:"setTempo"}}(M)}),!0),T.header.timeSignatures.map(function(M){return function(C){return{absoluteTime:C.ticks,deltaTime:0,denominator:C.timeSignature[1],meta:!0,metronome:24,numerator:C.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}(M)}),!0)],T.tracks.map(function(M){return f(f(f([(C=M.name,{absoluteTime:0,deltaTime:0,meta:!0,text:C,type:"trackName"}),O(M)],function(R){return(0,b.flatten)(R.notes.map(function(j){return function(H,F){return[{absoluteTime:H.ticks,channel:F,deltaTime:0,noteNumber:H.midi,type:"noteOn",velocity:Math.floor(127*H.velocity)},{absoluteTime:H.ticks+H.durationTicks,channel:F,deltaTime:0,noteNumber:H.midi,type:"noteOff",velocity:Math.floor(127*H.noteOffVelocity)}]}(j,R.channel)}))}(M),!0),function(R){for(var j=[],H=0;H<127;H++)R.controlChanges.hasOwnProperty(H)&&R.controlChanges[H].forEach(function(F){j.push(x(F,R.channel))});return j}(M),!0),function(R){var j=[];return R.pitchBends.forEach(function(H){j.push(function(F,ie){return{absoluteTime:F.ticks,channel:ie,deltaTime:0,type:"pitchBend",value:F.value}}(H,R.channel))}),j}(M),!0);var C}),!0)};return D.tracks=D.tracks.map(function(M){M=M.sort(function(R,j){return R.absoluteTime-j.absoluteTime});var C=0;return M.forEach(function(R){R.deltaTime=R.absoluteTime-C,C=R.absoluteTime,delete R.absoluteTime}),M.push({deltaTime:0,meta:!0,type:"endOfTrack"}),M}),new Uint8Array((0,m.writeMidi)(D))}},535:(o,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Header=l.keySignatureKeys=void 0;var f=u(805),m=new WeakMap;l.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var v=function(){function b(x){var O=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",m.set(this,480),x){m.set(this,x.header.ticksPerBeat),x.tracks.forEach(function(D){D.forEach(function(M){M.meta&&(M.type==="timeSignature"?O.timeSignatures.push({ticks:M.absoluteTime,timeSignature:[M.numerator,M.denominator]}):M.type==="setTempo"?O.tempos.push({bpm:6e7/M.microsecondsPerBeat,ticks:M.absoluteTime}):M.type==="keySignature"&&O.keySignatures.push({key:l.keySignatureKeys[M.key+7],scale:M.scale===0?"major":"minor",ticks:M.absoluteTime}))})});var T=0;x.tracks[0].forEach(function(D){T+=D.deltaTime,D.meta&&(D.type==="trackName"?O.name=D.text:D.type!=="text"&&D.type!=="cuePoint"&&D.type!=="marker"&&D.type!=="lyrics"||O.meta.push({text:D.text,ticks:T,type:D.type}))}),this.update()}}return b.prototype.update=function(){var x=this,O=0,T=0;this.tempos.sort(function(D,M){return D.ticks-M.ticks}),this.tempos.forEach(function(D,M){var C=M>0?x.tempos[M-1].bpm:x.tempos[0].bpm,R=D.ticks/x.ppq-T,j=60/C*R;D.time=j+O,O=D.time,T+=R}),this.timeSignatures.sort(function(D,M){return D.ticks-M.ticks}),this.timeSignatures.forEach(function(D,M){var C=M>0?x.timeSignatures[M-1]:x.timeSignatures[0],R=(D.ticks-C.ticks)/x.ppq/C.timeSignature[0]/(C.timeSignature[1]/4);C.measures=C.measures||0,D.measures=R+C.measures})},b.prototype.ticksToSeconds=function(x){var O=(0,f.search)(this.tempos,x);if(O!==-1){var T=this.tempos[O],D=T.time,M=(x-T.ticks)/this.ppq;return D+60/T.bpm*M}return x/this.ppq*.5},b.prototype.ticksToMeasures=function(x){var O=(0,f.search)(this.timeSignatures,x);if(O!==-1){var T=this.timeSignatures[O],D=(x-T.ticks)/this.ppq;return T.measures+D/(T.timeSignature[0]/T.timeSignature[1])/4}return x/this.ppq/4},Object.defineProperty(b.prototype,"ppq",{get:function(){return m.get(this)},enumerable:!1,configurable:!0}),b.prototype.secondsToTicks=function(x){var O=(0,f.search)(this.tempos,x,"time");if(O!==-1){var T=this.tempos[O],D=(x-T.time)/(60/T.bpm);return Math.round(T.ticks+D*this.ppq)}var M=x/.5;return Math.round(M*this.ppq)},b.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(x){return{bpm:x.bpm,ticks:x.ticks}}),timeSignatures:this.timeSignatures}},b.prototype.fromJSON=function(x){this.name=x.name,this.tempos=x.tempos.map(function(O){return Object.assign({},O)}),this.timeSignatures=x.timeSignatures.map(function(O){return Object.assign({},O)}),this.keySignatures=x.keySignatures.map(function(O){return Object.assign({},O)}),this.meta=x.meta.map(function(O){return Object.assign({},O)}),m.set(this,x.ppq),this.update()},b.prototype.setTempo=function(x){this.tempos=[{bpm:x,ticks:0}],this.update()},b}();l.Header=v},362:(o,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Instrument=void 0;var f=u(438),m=new WeakMap,v=function(){function b(x,O){if(this.number=0,m.set(this,O),this.number=0,x){var T=x.find(function(D){return D.type==="programChange"});T&&(this.number=T.programNumber)}}return Object.defineProperty(b.prototype,"name",{get:function(){return this.percussion?f.DrumKitByPatchID[this.number]:f.instrumentByPatchID[this.number]},set:function(x){var O=f.instrumentByPatchID.indexOf(x);O!==-1&&(this.number=O)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"family",{get:function(){return this.percussion?"drums":f.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"percussion",{get:function(){return m.get(this).channel===9},enumerable:!1,configurable:!0}),b.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},b.prototype.fromJSON=function(x){this.number=x.number},b}();l.Instrument=v},438:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DrumKitByPatchID=l.InstrumentFamilyByID=l.instrumentByPatchID=void 0,l.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],l.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],l.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}},233:function(o,l,u){var f=this&&this.__awaiter||function(C,R,j,H){return new(j||(j=Promise))(function(F,ie){function ee(Te){try{Xe(H.next(Te))}catch(Fe){ie(Fe)}}function _e(Te){try{Xe(H.throw(Te))}catch(Fe){ie(Fe)}}function Xe(Te){var Fe;Te.done?F(Te.value):(Fe=Te.value,Fe instanceof j?Fe:new j(function(je){je(Fe)})).then(ee,_e)}Xe((H=H.apply(C,R||[])).next())})},m=this&&this.__generator||function(C,R){var j,H,F,ie,ee={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return ie={next:_e(0),throw:_e(1),return:_e(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function _e(Xe){return function(Te){return function(Fe){if(j)throw new TypeError("Generator is already executing.");for(;ee;)try{if(j=1,H&&(F=2&Fe[0]?H.return:Fe[0]?H.throw||((F=H.return)&&F.call(H),0):H.next)&&!(F=F.call(H,Fe[1])).done)return F;switch(H=0,F&&(Fe=[2&Fe[0],F.value]),Fe[0]){case 0:case 1:F=Fe;break;case 4:return ee.label++,{value:Fe[1],done:!1};case 5:ee.label++,H=Fe[1],Fe=[0];continue;case 7:Fe=ee.ops.pop(),ee.trys.pop();continue;default:if(!((F=(F=ee.trys).length>0&&F[F.length-1])||Fe[0]!==6&&Fe[0]!==2)){ee=0;continue}if(Fe[0]===3&&(!F||Fe[1]>F[0]&&Fe[1]<F[3])){ee.label=Fe[1];break}if(Fe[0]===6&&ee.label<F[1]){ee.label=F[1],F=Fe;break}if(F&&ee.label<F[2]){ee.label=F[2],ee.ops.push(Fe);break}F[2]&&ee.ops.pop(),ee.trys.pop();continue}Fe=R.call(C,ee)}catch(je){Fe=[6,je],H=0}finally{j=F=0}if(5&Fe[0])throw Fe[1];return{value:Fe[0]?Fe[1]:void 0,done:!0}}([Xe,Te])}}};Object.defineProperty(l,"__esModule",{value:!0}),l.Header=l.Track=l.Midi=void 0;var v=u(289),b=u(535),x=u(334),O=u(54),T=function(){function C(R){var j=this,H=null;if(R){var F=R instanceof ArrayBuffer?new Uint8Array(R):R;(H=(0,v.parseMidi)(F)).tracks.forEach(function(ie){var ee=0;ie.forEach(function(_e){ee+=_e.deltaTime,_e.absoluteTime=ee})}),H.tracks=function(ie){for(var ee=[],_e=0;_e<ie.length;_e++)for(var Xe=ee.length,Te=new Map,Fe=Array(16).fill(0),je=0,et=ie[_e];je<et.length;je++){var ut=et[je],Ge=Xe,We=ut.channel;if(We!==void 0){ut.type==="programChange"&&(Fe[We]=ut.programNumber);var Ae=Fe[We],pe="".concat(Ae," ").concat(We);Te.has(pe)?Ge=Te.get(pe):(Ge=Xe+Te.size,Te.set(pe,Ge))}ee[Ge]||ee.push([]),ee[Ge].push(ut)}return ee}(H.tracks)}this.header=new b.Header(H),this.tracks=[],R&&(this.tracks=H.tracks.map(function(ie){return new x.Track(ie,j.header)}),H.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return C.fromUrl=function(R){return f(this,void 0,void 0,function(){var j;return m(this,function(H){switch(H.label){case 0:return[4,fetch(R)];case 1:return(j=H.sent()).ok?[4,j.arrayBuffer()]:[3,3];case 2:return[2,new C(H.sent())];case 3:throw new Error("Could not load '".concat(R,"'"))}})})},Object.defineProperty(C.prototype,"name",{get:function(){return this.header.name},set:function(R){this.header.name=R},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"duration",{get:function(){var R=this.tracks.map(function(j){return j.duration});return Math.max.apply(Math,R)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"durationTicks",{get:function(){var R=this.tracks.map(function(j){return j.durationTicks});return Math.max.apply(Math,R)},enumerable:!1,configurable:!0}),C.prototype.addTrack=function(){var R=new x.Track(void 0,this.header);return this.tracks.push(R),R},C.prototype.toArray=function(){return(0,O.encode)(this)},C.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(R){return R.toJSON()})}},C.prototype.fromJSON=function(R){var j=this;this.header=new b.Header,this.header.fromJSON(R.header),this.tracks=R.tracks.map(function(H){var F=new x.Track(void 0,j.header);return F.fromJSON(H),F})},C.prototype.clone=function(){var R=new C;return R.fromJSON(this.toJSON()),R},C}();l.Midi=T;var D=u(334);Object.defineProperty(l,"Track",{enumerable:!0,get:function(){return D.Track}});var M=u(535);Object.defineProperty(l,"Header",{enumerable:!0,get:function(){return M.Header}})},518:(o,l)=>{function u(O){return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][O%12]}Object.defineProperty(l,"__esModule",{value:!0}),l.Note=void 0;var f,m,v=(f=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,m={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},function(O){var T=f.exec(O),D=T[1],M=T[2];return m[D.toLowerCase()]+12*(parseInt(M,10)+1)}),b=new WeakMap,x=function(){function O(T,D,M){b.set(this,M),this.midi=T.midi,this.velocity=T.velocity,this.noteOffVelocity=D.velocity,this.ticks=T.ticks,this.durationTicks=D.ticks-T.ticks}return Object.defineProperty(O.prototype,"name",{get:function(){return T=this.midi,D=Math.floor(T/12)-1,u(T)+D.toString();var T,D},set:function(T){this.midi=v(T)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(T){var D=T-this.octave;this.midi+=12*D},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"pitch",{get:function(){return u(this.midi)},set:function(T){this.midi=12*(this.octave+1)+["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"].indexOf(T)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"duration",{get:function(){var T=b.get(this);return T.ticksToSeconds(this.ticks+this.durationTicks)-T.ticksToSeconds(this.ticks)},set:function(T){var D=b.get(this).secondsToTicks(this.time+T);this.durationTicks=D-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"time",{get:function(){return b.get(this).ticksToSeconds(this.ticks)},set:function(T){var D=b.get(this);this.ticks=D.secondsToTicks(T)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"bars",{get:function(){return b.get(this).ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),O.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},O}();l.Note=x},882:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PitchBend=void 0;var u=new WeakMap,f=function(){function m(v,b){u.set(this,b),this.ticks=v.absoluteTime,this.value=v.value}return Object.defineProperty(m.prototype,"time",{get:function(){return u.get(this).ticksToSeconds(this.ticks)},set:function(v){var b=u.get(this);this.ticks=b.secondsToTicks(v)},enumerable:!1,configurable:!0}),m.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},m}();l.PitchBend=f},334:(o,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Track=void 0;var f=u(805),m=u(543),v=u(906),b=u(882),x=u(362),O=u(518),T=new WeakMap,D=function(){function M(C,R){var j=this;if(this.name="",this.notes=[],this.controlChanges=(0,v.createControlChanges)(),this.pitchBends=[],T.set(this,R),C){var H=C.find(function(Te){return Te.type==="trackName"});this.name=H?H.text:""}if(this.instrument=new x.Instrument(C,this),this.channel=0,C){for(var F=C.filter(function(Te){return Te.type==="noteOn"}),ie=C.filter(function(Te){return Te.type==="noteOff"}),ee=function(){var Te=F.shift();_e.channel=Te.channel;var Fe=ie.findIndex(function(et){return et.noteNumber===Te.noteNumber&&et.absoluteTime>=Te.absoluteTime});if(Fe!==-1){var je=ie.splice(Fe,1)[0];_e.addNote({durationTicks:je.absoluteTime-Te.absoluteTime,midi:Te.noteNumber,noteOffVelocity:je.velocity/127,ticks:Te.absoluteTime,velocity:Te.velocity/127})}},_e=this;F.length;)ee();C.filter(function(Te){return Te.type==="controller"}).forEach(function(Te){j.addCC({number:Te.controllerType,ticks:Te.absoluteTime,value:Te.value/127})}),C.filter(function(Te){return Te.type==="pitchBend"}).forEach(function(Te){j.addPitchBend({ticks:Te.absoluteTime,value:Te.value/Math.pow(2,13)})});var Xe=C.find(function(Te){return Te.type==="endOfTrack"});this.endOfTrackTicks=Xe!==void 0?Xe.absoluteTime:void 0}}return M.prototype.addNote=function(C){var R=T.get(this),j=new O.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},R);return Object.assign(j,C),(0,f.insert)(this.notes,j,"ticks"),this},M.prototype.addCC=function(C){var R=T.get(this),j=new m.ControlChange({controllerType:C.number},R);return delete C.number,Object.assign(j,C),Array.isArray(this.controlChanges[j.number])||(this.controlChanges[j.number]=[]),(0,f.insert)(this.controlChanges[j.number],j,"ticks"),this},M.prototype.addPitchBend=function(C){var R=T.get(this),j=new b.PitchBend({},R);return Object.assign(j,C),(0,f.insert)(this.pitchBends,j,"ticks"),this},Object.defineProperty(M.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var C=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,R=0;R<this.notes.length-1;R++){var j=this.notes[R].time+this.notes[R].duration;C<j&&(C=j)}return C},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var C=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,R=0;R<this.notes.length-1;R++){var j=this.notes[R].ticks+this.notes[R].durationTicks;C<j&&(C=j)}return C},enumerable:!1,configurable:!0}),M.prototype.fromJSON=function(C){var R=this;for(var j in this.name=C.name,this.channel=C.channel,this.instrument=new x.Instrument(void 0,this),this.instrument.fromJSON(C.instrument),C.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=C.endOfTrackTicks),C.controlChanges)C.controlChanges[j]&&C.controlChanges[j].forEach(function(H){R.addCC({number:H.number,ticks:H.ticks,value:H.value})});C.notes.forEach(function(H){R.addNote({durationTicks:H.durationTicks,midi:H.midi,ticks:H.ticks,velocity:H.velocity})})},M.prototype.toJSON=function(){for(var C={},R=0;R<127;R++)this.controlChanges.hasOwnProperty(R)&&(C[R]=this.controlChanges[R].map(function(H){return H.toJSON()}));var j={channel:this.channel,controlChanges:C,pitchBends:this.pitchBends.map(function(H){return H.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(H){return H.toJSON()})};return this.endOfTrackTicks!==void 0&&(j.endOfTrackTicks=this.endOfTrackTicks),j},M}();l.Track=D}},r={};function s(o){var l=r[o];if(l!==void 0)return l.exports;var u=r[o]={exports:{}};return n[o].call(u.exports,u,u.exports,s),u.exports}return s.d=(o,l)=>{for(var u in l)s.o(l,u)&&!s.o(o,u)&&Object.defineProperty(o,u,{enumerable:!0,get:l[u]})},s.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),s.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s(233)})()})})(O4);var EW=O4.exports;const hre=e=>t=>new Promise(n=>{const r=e.map(zF),s={transpositions:r};t(jz(s)),t(XN(s));const o=r.map(l=>l.id);n(o)}),CW=e=>(t,n)=>{const r=n(),s=rx(r);if(!s.length)return;const o=s.map(l=>({...l,offsets:{...l.offsets,...e}}));t(Q2({transpositions:o}))},dre=e=>(t,n)=>{const r=n(),s=rx(r);if(!s.length)return;const o=s.map(l=>qF(l,e));t(Q2({transpositions:o}))};var kW=OW;function OW(e,t){t=t||{};var n=e.numberOfChannels,r=e.sampleRate,s=t.float32?3:1,o=s===3?32:16,l;return n===2?l=AW(e.getChannelData(0),e.getChannelData(1)):l=e.getChannelData(0),NW(l,s,r,n,o)}function NW(e,t,n,r,s){var o=s/8,l=r*o,u=new ArrayBuffer(44+e.length*o),f=new DataView(u);return Gv(f,0,"RIFF"),f.setUint32(4,36+e.length*o,!0),Gv(f,8,"WAVE"),Gv(f,12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,t,!0),f.setUint16(22,r,!0),f.setUint32(24,n,!0),f.setUint32(28,n*l,!0),f.setUint16(32,l,!0),f.setUint16(34,s,!0),Gv(f,36,"data"),f.setUint32(40,e.length*o,!0),t===1?DW(f,44,e):MW(f,44,e),u}function AW(e,t){for(var n=e.length+t.length,r=new Float32Array(n),s=0,o=0;s<n;)r[s++]=e[o],r[s++]=t[o],o++;return r}function MW(e,t,n){for(var r=0;r<n.length;r++,t+=4)e.setFloat32(t,n[r],!0)}function DW(e,t,n){for(var r=0;r<n.length;r++,t+=2){var s=Math.max(-1,Math.min(1,n[r]));e.setInt16(t,s<0?s*32768:s*32767,!0)}}function Gv(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))}const RW=A0(kW),N4="updateTick",PW="updateOfflineTick",A4="startLoadingTransport",M4="stopLoadingTransport",z0=(e,t)=>{const n=t!=null&&t.offline?PW:N4;mh(n,e)},ix=e=>(t,n)=>{e<0||(tn.Transport.position=tn.Time(e,"i").toSeconds(),Wg!==void 0&&tn.Transport.clear(Wg),tn.Transport.state==="started"&&(t(R4()),t(Y1(e))),mh(N4,e))};let Wg;const Y1=e=>(t,n)=>{if(tn.getContext().state!=="running")return;const r=n(),s=Qo(r),o=Ma(s,1),u=tn.Transport.bpm.value*tn.Transport.PPQ/60,f=tn.Time(tn.Transport.loopStart).toTicks(),m=tn.Time(tn.Transport.loopEnd).toTicks(),v=e?Ma(s,e):0;e&&(tn.Transport.position=tn.Time(e,"i").toSeconds());const b=tn.Transport.now();Wg!==void 0&&tn.Transport.clear(Wg),Wg=tn.Transport.scheduleRepeat(x=>{const O=x+v-b;let T=Math.round(O*u);tn.Transport.loop&&(T=T%(m-f)+f),z0(tn.Transport.ticks);const D=n(),M=TW(D,T);if(M)for(const C in M){const R=M[C];if(!R)continue;const j=Yr[C];j!=null&&j.isLoaded()&&MN(j.sampler,R,x)}},o),tn.Transport.start(),t(sH())},D4=()=>e=>{tn.Transport.pause(),e(aH())},R4=e=>t=>{t(oH()),tn.Transport.stop(),tn.Transport.cancel(),tn.Transport.position=0,z0(tn.Transport.ticks),e&&t(ix(e))},fre=()=>(e,t)=>{const n=t();Qo(n).state==="started"?e(D4()):e(Y1())},pre=()=>e=>{e(ix(tn.Transport.ticks-1))},mre=()=>e=>{e(ix(tn.Transport.ticks+1))},P4=e=>(t,n)=>{const r=n(),s=Qo(r);if(t(cH(e)),tn.Transport.loop=e,e){const{loopStart:o,loopEnd:l}=s;tn.Transport.loopStart=Ma(s,o),tn.Transport.loopEnd=Ma(s,l)}},gre=()=>(e,t)=>{const n=t(),r=Qo(n);e(P4(!r.loop))},vre=e=>(t,n)=>{const r=n(),s=Qo(r);e>=s.loopEnd||(tn.Transport.loopStart=Ma(s,e),t(lH(e)))},yre=e=>(t,n)=>{const r=n(),s=Qo(r);e<=s.loopStart||(tn.Transport.loopEnd=Ma(s,e),t(uH(e)))},_re=e=>t=>{const n=Qt.clamp(e,hN,dN);tn.Transport.bpm.value=n,t(hH(n))},wre=e=>t=>{tn.Transport.timeSignature=e,t(dH(e))},bre=e=>t=>{const n=Qt.clamp(e,I9,L9);tn.getDestination().volume.value=n,t(fH(n))},IW=e=>t=>{tn.getDestination().mute=e,t(pH(e))},Sre=()=>(e,t)=>{const n=t(),r=Qo(n);e(IW(!r.mute))},K5=()=>async(e,t)=>{const n=t(),r=Qo(n),s=X2(n);try{await tn.start(),mh(A4);const{loop:o,loopStart:l,loopEnd:u,bpm:f,volume:m,mute:v}=r;tn.Transport.PPQ=S.PPQ,tn.Transport.loop=o,tn.Transport.loopStart=Ma(r,l),tn.Transport.loopEnd=Ma(r,u),tn.Transport.bpm.value=f,tn.getDestination().volume.value=m,tn.getDestination().mute=v,fW(),tn.getDestination().connect(JU),e(pW(s))}catch(o){console.error(o)}finally{await k9(5.12),mh(M4)}},xre=()=>(e,t)=>{const n=t(),r=Qo(n);e(mH(!r.recording))},LW=()=>e=>{z0(0,{offline:!0}),e(h4(!0))},FW=()=>e=>{z0(0,{offline:!0}),e(h4(!1))},Tre=()=>async(e,t)=>{const n=t(),r=Qo(n);if(r.state==="started")return;const s=k4(n);if(s<=0)return;const o=$d(n),l=oW(n),u=Ma(r,s),f=Ma(r,1);e(LW());const m=await tn.Offline(async C=>{const R={};for(const j in l){const H=o[j],F=e(x4(H,{downloading:!0}));F&&(R[j]=F.sampler)}C.transport.PPQ=S.PPQ,C.transport.scheduleRepeat(j=>{const H=t(),F=Qo(H);if(z0(C.transport.ticks,{offline:!0}),!F.downloading){C.transport.stop(),C.transport.cancel();return}const ee=C4(H)[C.transport.ticks]??{},_e=Object.keys(ee);for(const Xe of _e){const Te=ee[Xe],Fe=R[Xe];MN(Fe,Te,j)}},f),C.transport.start()},u);if(!Qo(t()).downloading)return;const b=m.get();if(!b)return;const x=RW(b),O=new Blob([x],{type:"audio/wav"}),T=URL.createObjectURL(O),{name:D}=$1(n),M=document.createElement("a");M.href=T,M.download=`${D??"project"}.wav`,M.click(),URL.revokeObjectURL(T),e(FW())},jW=(e,t)=>t.some(n=>e instanceof n);let X5,Z5;function UW(){return X5||(X5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BW(){return Z5||(Z5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I4=new WeakMap,cS=new WeakMap,L4=new WeakMap,Lw=new WeakMap,sx=new WeakMap;function VW(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",l)},o=()=>{n(Cd(e.result)),s()},l=()=>{r(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&I4.set(n,e)}).catch(()=>{}),sx.set(t,e),t}function zW(e){if(cS.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",l),e.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",l),e.addEventListener("abort",l)});cS.set(e,t)}let lS={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return cS.get(e);if(t==="objectStoreNames")return e.objectStoreNames||L4.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cd(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function HW(e){lS=e(lS)}function $W(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fw(this),t,...n);return L4.set(r,t.sort?t.sort():[t]),Cd(r)}:BW().includes(e)?function(...t){return e.apply(Fw(this),t),Cd(I4.get(this))}:function(...t){return Cd(e.apply(Fw(this),t))}}function qW(e){return typeof e=="function"?$W(e):(e instanceof IDBTransaction&&zW(e),jW(e,UW())?new Proxy(e,lS):e)}function Cd(e){if(e instanceof IDBRequest)return VW(e);if(Lw.has(e))return Lw.get(e);const t=qW(e);return t!==e&&(Lw.set(e,t),sx.set(t,e)),t}const Fw=e=>sx.get(e);function ox(e,t,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(e,t),u=Cd(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Cd(l.result),f.oldVersion,f.newVersion,Cd(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const WW=["get","getKey","getAll","getAllKeys","count"],GW=["put","add","delete","clear"],jw=new Map;function J5(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(jw.get(t))return jw.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=GW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WW.includes(n)))return;const o=async function(l,...u){const f=this.transaction(l,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),s&&f.done]))[0]};return jw.set(t,o),o}HW(e=>({...e,get:(t,n,r)=>J5(t,n)||e.get(t,n,r),has:(t,n)=>!!J5(t,n)||e.has(t,n)}));const YW=()=>({id:vi.nanoid(),dateCreated:new Date().toISOString(),favoriteWorks:[],favoriteComposers:[],favoriteAlbums:[],favoriteGenres:[],favoriteInstruments:[]}),Q1="harmoniaDatabase",pl="projectStore",x0="currentStore",ep="userStore",Yy="authStore",QW=ox(Q1,void 0,{upgrade(e){e.objectStoreNames.contains(ep)||e.createObjectStore(ep),e.objectStoreNames.contains(x0)||e.createObjectStore(x0),e.objectStoreNames.contains(pl)||e.createObjectStore(pl,{keyPath:"meta.id"}),e.objectStoreNames.contains(Yy)||e.createObjectStore(Yy)}}),Vc=ox(Q1),KW=async()=>{const e=await Vc;let t=await e.get(ep,"user");t||(t=YW(),await e.add(ep,t,"user"));const n=await e.getAll(pl);if(!n||n.length===0){const r={...Z1};await e.add(pl,r),await X1(r.meta.id)}};KW().catch(console.error);async function eC(e){await(await Vc).put(Yy,e,"authenticated")}async function XW(){return(await Vc).get(Yy,"authenticated")}async function ZW(){return(await Vc).get(ep,"user")}async function JW(e){const t=await Vc,n=await t.get(ep,"user");return n?(await t.put(ep,{...n,...e},"user"),!0):!1}const K1=async e=>{if(!ux(e))throw new Error("Invalid project.");return await(await Vc).put(pl,e),await X1(e.meta.id),!0};async function F4(e){if(!ux(e))throw new Error("Invalid state.");const t=await Vc;return await t.get(pl,S4(e))?(await t.put(pl,e),!0):!1}async function eG(e){const t=await Vc;return await t.delete(pl,e),await j4()===e&&await t.delete(x0,"currentProject"),!0}async function tG(){return(await Vc).getAll(pl)}async function ax(e){return(await Vc).get(pl,e)}async function X1(e){const t=await Vc;return await t.get(pl,e)?(await t.put(x0,{id:e},"currentProject"),!0):!1}async function j4(){const t=await(await Vc).get(x0,"currentProject");return t==null?void 0:t.id}const U4="createProject",B4="deleteProject",V4=async e=>{const t=aG(e),n=t.meta.id;try{await K1(t),await X1(n)}catch(r){console.log(r)}finally{mh(U4,n)}},nG=e=>()=>{try{eG(e)}catch(t){console.error(t)}finally{mh(B4,e)}},rG=e=>(t,n)=>{const r=q4(e||n()),s={...r,meta:{...r.meta,lastUpdated:new Date().toISOString()}};F4(s)},z4=e=>(t,n)=>{const r=q4(e||n()),s=JSON.stringify(r),o=new Blob([s],{type:"text/plain"}),l=URL.createObjectURL(o),u=document.createElement("a"),f=dW(r);u.download=`${f??"project"}.ham`,u.href=l,u.click(),URL.revokeObjectURL(l)},Ere=e=>(t,n)=>{const r=e||n(),s=g4(r);t(uG(s))},H4=()=>e=>{const t=document.createElement("input");t.type="file",t.accept=".ham",t.addEventListener("change",n=>{var s;const r=(s=n.target.files)==null?void 0:s[0];r&&e(sG(r))}),t.click()},iG=e=>async t=>{const n=await ax(e);await X1(e),t({type:"setState",payload:n}),window.location.href=window.location.origin+"/harmonia/#/playground"},sG=e=>t=>{try{const n=new FileReader;n.onload=async r=>{var u;if(!((u=r.target)!=null&&u.result))return;const s=r.target.result,o=JSON.parse(s);if(!ux(o))throw new Error("Invalid project file.");await ax(o.meta.id)?F4(o):K1(o)},n.readAsText(e)}catch(n){console.log(n)}finally{window.location.reload()}},oG=e=>async()=>{try{const t=await fetch(e).then(n=>n.json());await K1({...t,meta:{...t.meta,id:vi.nanoid()}})}catch(t){console.error(t)}finally{window.location.href=window.location+"/harmonia/#/playground"}},$4=()=>(e,t)=>{const n=t(),r=$1(n),s={...Z1,meta:r};e({type:"setState",payload:s})},cx=({id:e,trackId:t})=>n=>{n(nH(e)),n(Zz()),t&&n(o4(t))},Cre=e=>(t,n)=>{const r=n(),s=Bc(r,e);if(!s||!vh(s))return;const o=G1(r),l=q1(r),u=K2(l,"scale");t(e===o&&u?Hf():cx({id:"scale",trackId:e}))},kre=e=>(t,n)=>{const r=n(),s=Bc(r,e);if(!s||!L1(s))return;const o=G1(r),l=q1(r),u=K2(l,"instrument");t(e===o&&u?Hf():cx({id:"instrument",trackId:e}))},lx=()=>({id:`harmonia-project-${vi.nanoid()}`,name:"New Project",dateCreated:new Date().toISOString(),lastUpdated:new Date().toISOString()}),Z1={meta:lx(),transport:l4,timeline:i4,editor:a4,scales:{present:EN,past:[],future:[]},patterns:{present:DN,past:[],future:[]},arrangement:{present:{scaleTracks:e4,patternTracks:JN,instruments:KN,clips:t4,transpositions:n4,hierarchy:VN},past:[],future:[]}},aG=(e=Z1)=>{const t=lx();return e.meta.name!=="New Project"&&(t.name=`${e.meta.name} Copy`),{...e,meta:t}},cG=e=>{const t=e;return(t==null?void 0:t.id)!==void 0&&(t==null?void 0:t.name)!==void 0&&(t==null?void 0:t.dateCreated)!==void 0&&(t==null?void 0:t.lastUpdated)!==void 0},ux=e=>{var o,l,u;const t=e;if(!t)return!1;const n=(o=t.arrangement)==null?void 0:o.present;if(!n||!Qp(n.clips)||!Qp(n.transpositions)||!Qp(n.patternTracks)||!Qp(n.scaleTracks))return!1;const r=(l=t.scales)==null?void 0:l.present;if(!Qp(r))return!1;const s=(u=t.patterns)==null?void 0:u.present;return!(!Qp(s)||!iH(t.transport)||!Kz(t.timeline)||!tH(t.editor)||!cG(t.meta))},q4=e=>({...e,scales:{past:[],present:e.scales.present,future:[]},patterns:{past:[],present:e.patterns.present,future:[]},arrangement:{past:[],present:e.arrangement.present,future:[]},timeline:{...e.timeline,state:"idle"},transport:{...e.transport,state:"stopped",recording:!1,downloading:!1}}),W4=vi.createSlice({name:"meta",initialState:lx(),reducers:{setProjectName(e,t){e.name=t.payload},setProjectId:(e,t)=>{e.id=t.payload},updateProjectTimestamp:e=>{e.lastUpdated=new Date().toISOString()}}}),{setProjectName:Ore,setProjectId:Nre,updateProjectTimestamp:Are}=W4.actions,lG=W4.reducer,Mre=e=>t=>new Promise(n=>{const r=e.map(Oz),s={clips:r};t(Lz(s)),t(XN(s));const l={clipIds:r.map(u=>u.id)};n(l)}),uG=e=>async(t,n)=>{const r=n(),s=v4(r,e);if(!s.length)return;const o=$1(r),l=uu(r),u=$d(r),f=xh(r),m=Sh(r),v=Qo(r),b=B0(r),x=Th(r),T=s.sort((ie,ee)=>ie.tick-ee.tick).reduce((ie,ee)=>{const _e=Bc(r,ee.trackId);return _e&&(ie[_e.id]||(ie[_e.id]=[]),ie[_e.id].push(ee)),ie},{}),D=Object.keys(T),C=W1(r).filter(ie=>D.includes(ie)),R=new EW.Midi;C.forEach(ie=>{if(!Z2(r,ie))return;const _e=R.addTrack();T[ie].forEach(Te=>{const Fe=Ma(v,Te.tick),je=GN({clip:Te,patternMap:l,patternTrackMap:u,scaleMap:m,scaleTrackMap:f,transpositionMap:x,trackNodeMap:b});for(let et=0;et<je.length;et++){const ut=je[et];if(!ut.length||S.isRest(ut))continue;const Ge=ut[0],We=Ma(v,Ge.duration);for(const Ae of ut)_e.addNote({midi:Ae.MIDI,velocity:Ae.velocity??S.DefaultVelocity,time:Fe+Ma(v,et),duration:We})}})});const j=new Blob([R.toArray()],{type:"audio/midi"}),H=URL.createObjectURL(j),F=document.createElement("a");F.href=H,F.download=`${o.name||"file"}.mid`,F.click(),URL.revokeObjectURL(H)},hG=vi.combineReducers({scaleTracks:B1.reducer,patternTracks:U1.reducer,instruments:F1.reducer,clips:V1.reducer,transpositions:z1.reducer,hierarchy:j1.reducer});var hx={},tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.ActionCreators=tp.ActionTypes=void 0;var Df={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};tp.ActionTypes=Df;var dG={undo:function(){return{type:Df.UNDO}},redo:function(){return{type:Df.REDO}},jumpToFuture:function(t){return{type:Df.JUMP_TO_FUTURE,index:t}},jumpToPast:function(t){return{type:Df.JUMP_TO_PAST,index:t}},jump:function(t){return{type:Df.JUMP,index:t}},clearHistory:function(){return{type:Df.CLEAR_HISTORY}}};tp.ActionCreators=dG;var hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.parseActions=J1;hu.isHistory=fG;hu.includeAction=pG;hu.excludeAction=mG;hu.combineFilters=gG;hu.groupByActionTypes=vG;hu.newHistory=yG;function J1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Array.isArray(e)?e:typeof e=="string"?[e]:t}function fG(e){return typeof e.present<"u"&&typeof e.future<"u"&&typeof e.past<"u"&&Array.isArray(e.future)&&Array.isArray(e.past)}function pG(e){var t=J1(e);return function(n){return t.indexOf(n.type)>=0}}function mG(e){var t=J1(e);return function(n){return t.indexOf(n.type)<0}}function gG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,s){return function(o,l,u){return r(o,l,u)&&s(o,l,u)}},function(){return!0})}function vG(e){var t=J1(e);return function(n){return t.indexOf(n.type)>=0?n.type:null}}function yG(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{past:e,present:t,future:n,group:r,_latestUnfiltered:t,index:e.length,limit:e.length+n.length+1}}var G4={},Gm={};Object.defineProperty(Gm,"__esModule",{value:!0});Gm.set=kG;Gm.start=TG;Gm.end=EG;Gm.log=CG;function Ql(e){return bG(e)||wG(e)||_G()}function _G(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function wG(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function bG(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var e_,Rc,uS={prevState:"#9E9E9E",action:"#03A9F4",nextState:"#4CAF50"};function SG(){Rc={header:[],prev:[],action:[],next:[],msgs:[]}}function xG(){var e=Rc,t=e.header,n=e.prev,r=e.next,s=e.action,o=e.msgs;if(console.group){var l,u,f,m,v;(l=console).groupCollapsed.apply(l,Ql(t)),(u=console).log.apply(u,Ql(n)),(f=console).log.apply(f,Ql(s)),(m=console).log.apply(m,Ql(r)),(v=console).log.apply(v,Ql(o)),console.groupEnd()}else{var b,x,O,T,D;(b=console).log.apply(b,Ql(t)),(x=console).log.apply(x,Ql(n)),(O=console).log.apply(O,Ql(s)),(T=console).log.apply(T,Ql(r)),(D=console).log.apply(D,Ql(o))}}function hS(e,t,n){return["%c".concat(e),"color: ".concat(t,"; font-weight: bold"),n]}function TG(e,t){SG(),e_&&(console.group?(Rc.header=["%credux-undo","font-style: italic","action",e.type],Rc.action=hS("action",uS.action,e),Rc.prev=hS("prev history",uS.prevState,t)):(Rc.header=["redux-undo action",e.type],Rc.action=["action",e],Rc.prev=["prev history",t]))}function EG(e){e_&&(console.group?Rc.next=hS("next history",uS.nextState,e):Rc.next=["next history",e],xG())}function CG(){if(e_){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Rc.msgs=Rc.msgs.concat([].concat(t,[`
`]))}}function kG(e){e_=e}(function(e){function t(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(ee){return typeof ee}:t=function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},t(F)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=H;var n=l(Gm),r=tp,s=hu;function o(){if(typeof WeakMap!="function")return null;var F=new WeakMap;return o=function(){return F},F}function l(F){if(F&&F.__esModule)return F;if(F===null||t(F)!=="object"&&typeof F!="function")return{default:F};var ie=o();if(ie&&ie.has(F))return ie.get(F);var ee={},_e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Xe in F)if(Object.prototype.hasOwnProperty.call(F,Xe)){var Te=_e?Object.getOwnPropertyDescriptor(F,Xe):null;Te&&(Te.get||Te.set)?Object.defineProperty(ee,Xe,Te):ee[Xe]=F[Xe]}return ee.default=F,ie&&ie.set(F,ee),ee}function u(F,ie){var ee=Object.keys(F);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(F);ie&&(_e=_e.filter(function(Xe){return Object.getOwnPropertyDescriptor(F,Xe).enumerable})),ee.push.apply(ee,_e)}return ee}function f(F){for(var ie=1;ie<arguments.length;ie++){var ee=arguments[ie]!=null?arguments[ie]:{};ie%2?u(Object(ee),!0).forEach(function(_e){m(F,_e,ee[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ee)):u(Object(ee)).forEach(function(_e){Object.defineProperty(F,_e,Object.getOwnPropertyDescriptor(ee,_e))})}return F}function m(F,ie,ee){return ie in F?Object.defineProperty(F,ie,{value:ee,enumerable:!0,configurable:!0,writable:!0}):F[ie]=ee,F}function v(F){return O(F)||x(F)||b()}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function x(F){if(Symbol.iterator in Object(F)||Object.prototype.toString.call(F)==="[object Arguments]")return Array.from(F)}function O(F){if(Array.isArray(F)){for(var ie=0,ee=new Array(F.length);ie<F.length;ie++)ee[ie]=F[ie];return ee}}function T(F,ie){var ee=(0,s.newHistory)([],F,[]);return ie&&(ee._latestUnfiltered=null),ee}function D(F,ie,ee,_e){var Xe=F.past.length+1;n.log("inserting",ie),n.log("new free: ",ee-Xe);var Te=F.past,Fe=F._latestUnfiltered,je=ee&&ee<=Xe,et=Te.slice(je?1:0),ut=Fe!=null?[].concat(v(et),[Fe]):et;return(0,s.newHistory)(ut,ie,[],_e)}function M(F,ie){if(ie<0||ie>=F.future.length)return F;var ee=F.past,_e=F.future,Xe=F._latestUnfiltered,Te=[].concat(v(ee),[Xe],v(_e.slice(0,ie))),Fe=_e[ie],je=_e.slice(ie+1);return(0,s.newHistory)(Te,Fe,je)}function C(F,ie){if(ie<0||ie>=F.past.length)return F;var ee=F.past,_e=F.future,Xe=F._latestUnfiltered,Te=ee.slice(0,ie),Fe=[].concat(v(ee.slice(ie+1)),[Xe],v(_e)),je=ee[ie];return(0,s.newHistory)(Te,je,Fe)}function R(F,ie){return ie>0?M(F,ie-1):ie<0?C(F,F.past.length+ie):F}function j(F,ie){return ie.indexOf(F)>-1?F:!F}function H(F){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n.set(ie.debug);var ee=f({limit:void 0,filter:function(){return!0},groupBy:function(){return null},undoType:r.ActionTypes.UNDO,redoType:r.ActionTypes.REDO,jumpToPastType:r.ActionTypes.JUMP_TO_PAST,jumpToFutureType:r.ActionTypes.JUMP_TO_FUTURE,jumpType:r.ActionTypes.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1},ie,{initTypes:(0,s.parseActions)(ie.initTypes,["@@redux-undo/INIT"]),clearHistoryType:(0,s.parseActions)(ie.clearHistoryType,[r.ActionTypes.CLEAR_HISTORY])}),_e=ee.neverSkipReducer?function(Te,Fe){for(var je=arguments.length,et=new Array(je>2?je-2:0),ut=2;ut<je;ut++)et[ut-2]=arguments[ut];return f({},Te,{present:F.apply(void 0,[Te.present,Fe].concat(et))})}:function(Te){return Te},Xe;return function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xe,Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n.start(Fe,Te);for(var je=Te,et=arguments.length,ut=new Array(et>2?et-2:0),Ge=2;Ge<et;Ge++)ut[Ge-2]=arguments[Ge];if(!Xe)if(n.log("history is uninitialized"),Te===void 0){var We={type:"@@redux-undo/CREATE_HISTORY"},Ae=F.apply(void 0,[Te,We].concat(ut));return je=T(Ae,ee.ignoreInitialState),n.log("do not set initialState on probe actions"),n.end(je),je}else(0,s.isHistory)(Te)?(je=Xe=ee.ignoreInitialState?Te:(0,s.newHistory)(Te.past,Te.present,Te.future),n.log("initialHistory initialized: initialState is a history",Xe)):(je=Xe=T(Te,ee.ignoreInitialState),n.log("initialHistory initialized: initialState is not a history",Xe));var pe;switch(Fe.type){case void 0:return je;case ee.undoType:return pe=R(je,-1),n.log("perform undo"),n.end(pe),_e.apply(void 0,[pe,Fe].concat(ut));case ee.redoType:return pe=R(je,1),n.log("perform redo"),n.end(pe),_e.apply(void 0,[pe,Fe].concat(ut));case ee.jumpToPastType:return pe=C(je,Fe.index),n.log("perform jumpToPast to ".concat(Fe.index)),n.end(pe),_e.apply(void 0,[pe,Fe].concat(ut));case ee.jumpToFutureType:return pe=M(je,Fe.index),n.log("perform jumpToFuture to ".concat(Fe.index)),n.end(pe),_e.apply(void 0,[pe,Fe].concat(ut));case ee.jumpType:return pe=R(je,Fe.index),n.log("perform jump to ".concat(Fe.index)),n.end(pe),_e.apply(void 0,[pe,Fe].concat(ut));case j(Fe.type,ee.clearHistoryType):return pe=T(je.present,ee.ignoreInitialState),n.log("perform clearHistory"),n.end(pe),_e.apply(void 0,[pe,Fe].concat(ut));default:if(pe=F.apply(void 0,[je.present,Fe].concat(ut)),ee.initTypes.some(function(bt){return bt===Fe.type}))return n.log("reset history due to init action"),n.end(Xe),Xe;if(je._latestUnfiltered===pe)return je;var Pe=typeof ee.filter=="function"&&!ee.filter(Fe,pe,je);if(Pe){var Ye=(0,s.newHistory)(je.past,pe,je.future,je.group);return ee.syncFilter||(Ye._latestUnfiltered=je._latestUnfiltered),n.log("filter ignored action, not storing it in past"),n.end(Ye),Ye}var it=ee.groupBy(Fe,pe,je);if(it!=null&&it===je.group){var Qe=(0,s.newHistory)(je.past,pe,je.future,je.group);return n.log("groupBy grouped the action with the previous action"),n.end(Qe),Qe}return je=D(je,pe,ee.limit,it),n.log("inserted new state into history"),n.end(je),je}}}})(G4);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ActionTypes",{enumerable:!0,get:function(){return t.ActionTypes}}),Object.defineProperty(e,"ActionCreators",{enumerable:!0,get:function(){return t.ActionCreators}}),Object.defineProperty(e,"parseActions",{enumerable:!0,get:function(){return n.parseActions}}),Object.defineProperty(e,"isHistory",{enumerable:!0,get:function(){return n.isHistory}}),Object.defineProperty(e,"includeAction",{enumerable:!0,get:function(){return n.includeAction}}),Object.defineProperty(e,"excludeAction",{enumerable:!0,get:function(){return n.excludeAction}}),Object.defineProperty(e,"combineFilters",{enumerable:!0,get:function(){return n.combineFilters}}),Object.defineProperty(e,"groupByActionTypes",{enumerable:!0,get:function(){return n.groupByActionTypes}}),Object.defineProperty(e,"newHistory",{enumerable:!0,get:function(){return n.newHistory}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r.default}});var t=tp,n=hu,r=s(G4);function s(o){return o&&o.__esModule?o:{default:o}}})(hx);const dx=A0(hx),OG=dx(hG,{groupBy:Y2,filter:hx.includeAction([...od(V2),...od($2),...od(B1),...od(U1),...od(V1),...od(z1),...od(F1).filter(e=>e!=="instruments/addInstrumentOffline"),...od(j1)]),undoType:Pd.undoArrangement,redoType:Pd.redoArrangement,limit:16}),NG=dx(YU,{groupBy:Y2,undoType:Pd.undoScales,redoType:Pd.redoScales,limit:16}),AG=dx(ZU,{groupBy:Y2,undoType:Pd.undoPatterns,redoType:Pd.redoPatterns,limit:16}),MG=lG,DG=rH,RG=eH,PG=gH,IG=vi.combineReducers({meta:MG,transport:PG,scales:NG,patterns:AG,arrangement:OG,timeline:RG,editor:DG}),LG=(e,t)=>t.type==="setState"?t.payload:IG(e,t),Qy=vi.configureStore({reducer:LG,middleware:e=>e().concat(Iz)});Qy.subscribe(()=>{tn.Transport.state!=="started"&&Qy.dispatch(rG())});const Ky="/harmonia/assets/logo-78d3aa48.png";function FG(e){return V("img",{src:Ky,onClick:e.onClick,className:e.className,style:{height:e.height,width:e.width}})}function Y4(){return V("div",{className:"w-screen h-screen fixed bg-gradient-to-t from-[#083a8a] via-[#2c6387] to-[#514f7e] -z-10"})}function fx(e){return Wt("div",{className:"flex flex-col py-24 -mt-16 items-center font-nunito",children:[V("img",{src:Ky,className:"sm:w-60 sm:h-60 w-36 h-36 mb-8 rounded-full shadow-xl shadow-slate-800/40 drop-shadow-2xl"}),V("h1",{className:"font-semibold drop-shadow-xl text-slate-50 sm:text-8xl text-5xl",children:e.title??"Harmonia"}),V("p",{className:"my-1 text-slate-400 sm:text-3xl text-sm",children:"Pattern-Based Music Making."}),V("p",{className:"text-slate-400 sm:text-3xl text-sm",children:"Available for Everyone."})]})}const jG="/harmonia/assets/timeline-019a1b2d.png",UG="/harmonia/assets/scaleEditor-060bd125.png",BG="/harmonia/assets/patternEditor-e1595dd0.png",VG="/harmonia/assets/react-19291084.png",zG="/harmonia/assets/typescript-3ff4a59f.png",HG="/harmonia/assets/redux-757de560.png",$G="/harmonia/assets/tone-002ddf2c.png",qG="/harmonia/assets/tailwind-6ded6042.png";function Q4(){const[e,t]=he.useState(!1),[n,r]=he.useState(!0);return he.useEffect(()=>{ox(Q1).then(async()=>{const s=await XW();t(!!s)}).finally(()=>r(!1))},[]),{isLoadingAuthentication:n,isAuthenticated:e}}const K4=e=>V("button",{onClick:e.onClick,className:"border py-5 px-8 text-slate-100 bg-slate-800/20 hover:bg-sky-950/90 hover:shadow-[0px_0px_10px_5px_rgb(15,150,200)] transition-all duration-300 border-slate-500 rounded-xl backdrop-blur drop-shadow-xl sm:text-4xl text-sm font-light",children:"Make Music Now!"});function WG(){const e=Jl.useNavigate(),{isAuthenticated:t}=Q4(),n=async()=>{if(t)return e("/projects");prompt("Enter the password to continue.")==="Q2SUk6rh@8[/m)];dGWp+&qE{4MFNfAw"?(await eC(!0),alert("Password accepted!"),e("/projects")):(await eC(!1),alert("Incorrect password."))},r=()=>Wt(l,{children:[V(fx,{}),V(K4,{onClick:n})]}),s=x=>V("section",{className:"flex lg:w-2/5 mb-10 md:w-full justify-center items-center",children:Wt("blockquote",{className:"lg:w-[32rem] md:w-full text-center white",children:[V("h3",{className:"mb-2 text-slate-50 font-semibold text-2xl whitespace-pre-line",children:x.title}),V("p",{className:"text-slate-200 font-light text-xl max-h-16",children:x.text})]})}),o=x=>V("img",{src:x.src,className:"w-1/2 border-2 border-indigo-400/25 drop-shadow-2xl shadow-xl shadow-sky-600/50 rounded-xl"}),l=x=>V("section",{className:"flex flex-col items-center justify-center w-full h-screen shrink-0",children:x.children});return Wt("main",{className:"relative font-nunito fade-in flex flex-col w-full h-screen overflow-scroll",children:[V(Y4,{}),V(r,{}),!!t&&Wt(sa,{children:[V(()=>Wt(l,{children:[V(o,{src:jG}),Wt("div",{className:"w-full flex flex-row flex-wrap justify-center my-4 mt-8",children:[V(s,{title:"Revolutionary Music Notation",text:`Integrating the digital audio workstation with traditional
            sheet music notation and functional harmony.`}),V(s,{title:"Pattern-Based Music Making",text:"Introducing a unique and powerful approach for composing with musical scales and transpositions."}),V(s,{title:"Innovative and Educational",text:"Effortlessly learn and embrace music theory through Harmonia's universally-accessible interface."}),V(s,{title:"Unleash Your Creativity",text:"Explore a universe of musical possibilities with Harmonia's vast library of instruments and effects."})]})]}),{}),V(()=>Wt(l,{children:[V(o,{src:UG}),Wt("div",{className:"w-full flex flex-row flex-wrap justify-center my-4 mt-8",children:[V(s,{title:"Leverage the Power of Scales",text:"Pick or craft any scale to upgrade your music with the power of fully-automated, functional harmony."}),V(s,{title:"Explore Countless Harmonies",text:"Freely transpose your music along any scale or pattern and instantly create new colors with the click of a button."}),V(s,{title:"Carefully Curated Presets",text:"Harmonia comes with a rich library of various musical scales for you to explore and use in your music."}),V(s,{title:"Hands-On Learning Experience",text:"Harmonia breaks down the barriers of music theory and empowers you to learn and create at the same time."})]})]}),{}),V(()=>Wt(l,{children:[V(o,{src:BG}),Wt("div",{className:"w-full flex flex-row flex-wrap justify-center my-4 mt-8",children:[V(s,{title:"Think in Terms of Patterns",text:"Focus on the big picture and write your music in terms of chords, melodies, rhythms, progressions, and more."}),V(s,{title:"Compose and Transposition Your Ideas",text:"Easily create and develop your musical ideas with a streamlined toolkit of operations at your disposal."}),V(s,{title:"The Beauty of Sheet Music",text:"Say goodbye to the limitations of traditional piano rolls and embrace the power of sheet music notation."}),V(s,{title:"MusicXML and MIDI Support",text:"Import and export your projects to and from other music notation programs with ease."})]})]}),{}),V(()=>Wt(l,{children:[Wt("div",{className:"w-full items-center justify-center flex flex-row flex-wrap px-4 space-x-6 [&>a>img]:drop-shadow-2xl [&>a]:md:w-1/6 [&>a]:w-[100px] [&>a>img]:max-w-[200px] [&>a>img]:w-full",children:[V("a",{href:"https://react.dev/",target:"_blank",children:V("img",{src:VG})}),V("a",{href:"https://www.typescriptlang.org/",target:"_blank",children:V("img",{src:zG})}),V("a",{href:"https://redux.js.org/",target:"_blank",children:V("img",{src:HG})}),V("a",{href:"https://tonejs.github.io/",target:"_blank",children:V("img",{src:$G})}),V("a",{href:"https://tailwindcss.com/",target:"_blank",children:V("img",{src:qG})})]}),V("div",{className:"text-center mt-16 font-bold lg:text-6xl md:text-4xl text-2xl text-slate-100 drop-shadow-2xl",children:"Powered by Cutting-Edge Libraries"}),V("div",{className:"lg:mt-8 md:mt-4 mt-2 font-semibold lg:text-3xl md:text-xl text-md text-slate-400",children:"Built with React, Typescript, Redux, Tone.js, Tailwind, et al."})]}),{}),V(()=>Wt(l,{children:[V("a",{href:"mailto:brendanzelikman@gmail.com",className:"w-full text-center",target:"_blank",rel:"noreferrer",children:V("input",{className:"max-w-[700px] w-2/3 h-20 p-4 bg-slate-300 text-4xl font-light cursor-pointer rounded-xl text-slate-700 dropshadow-2xl ring-2 ring-indigo-400/50 focus:outline-none focus:ring-2 focus:ring-indigo-400/50 focus:ring-offset-2 focus:ring-offset-indigo-400/50",placeholder:"I would definitely use Harmonia because...",disabled:!0})}),V("div",{className:"mt-16 text-center font-bold md:text-6xl text-4xl text-slate-100 drop-shadow-2xl",children:"Contact Us? Contact Us!"}),Wt("div",{className:"md:mt-8 mt-4 text-center font-semibold md:text-3xl text-lg text-slate-400",children:["Please"," ",V("a",{href:"mailto:brendanzelikman@gmail.com",className:"underline",children:"email us"})," ","with all of your questions, comments, and concerns."]})]}),{})]})]})}const GG=e=>{let t="Error!",n="Unidentified Call Stack";return Qt.isError(e)?(t=`${e.name}: ${e.message}`,n=e.stack||""):Jl.isRouteErrorResponse(e)?(t=`${e.data}`,n="This error was thrown by the router."):typeof e=="string"&&(t=e,n="This error was thrown by the application."),{message:t,stack:n}},du=_1.useDispatch,rh=_1.useSelector,tC=e=>rh(e,Qt.isEqual),fm=(e,t,n,r)=>{const s=n&&!Array.isArray(n)?{...n,preventDefault:!0}:{preventDefault:!0};Mm.useHotkeys(e,t,s,r)},Dre=e=>(t,n,r,s)=>{const o=r&&!Array.isArray(r)?{...r,scopes:e}:{scopes:e};fm(t,n,o,s)},X4=(e,t,n)=>{const[r,s]=he.useState({}),o=m=>{const b=N9(m)&&O9(m)?x5(m.key):m.key.toLowerCase();s(x=>({...x,[b]:!0}))},l=m=>{const v=m.key.toLowerCase(),b=x5(m.key);s(x=>({...x,[b]:!1,[v]:!1}))},u=m=>{m.type==="keydown"?o(m):l(m)},f=he.useMemo(()=>Array.isArray(e)?e.reduce((m,v)=>{const b=v.toLowerCase(),x=`shift*${b}`;return[...m,b,x]},[]):e,[e]);return Mm.useHotkeys(f,u,{...t,keydown:!0,keyup:!0,splitKey:"&",combinationKey:"*"},[n,f,u]),r};function nC(){const e=du(),t=Jl.useRouteError(),{message:n,stack:r}=GG(t);Mm.useHotkeys("shift+backspace",()=>e($4()));const s=()=>V("p",{className:"text-red-500",children:n});Mm.useHotkeys(["="],()=>null,[]);const o=X4(["shift","backspace"]);return Wt(sa,{children:[V("div",{className:"relative font-nunito fade-in flex flex-col w-full h-screen overflow-scroll",children:Wt("div",{className:"w-full h-full text-7xl text-slate-50 font-nunito",children:[Wt("div",{className:"absolute left-1/2 -translate-x-1/2 top-12 flex flex-col text-lg items-center font-nunito",children:[V(s,{}),V(()=>{const f="text-blue-400 font-bold",m=o.shift?f:"",v=o.backspace?f:"";return Wt("p",{className:"text-slate-400",children:["(Note: Press"," ",Wt("span",{className:"text-blue-500",children:[V("span",{className:m,children:"Shift"})," +"," ",V("span",{className:v,children:"Backspace"})]})," ","to clear the state)"]})},{})]}),Wt("div",{className:"w-full h-full flex flex-col justify-center items-center",children:[V(Y4,{}),V(fx,{}),V(K4,{})]})]})}),V(()=>V("div",{className:"w-full p-4 bg-slate-800 text-slate-50 overflow-scroll",children:V("pre",{className:"text-xs",children:r})}),{})]})}var YG=Object.defineProperty,QG=(e,t,n)=>t in e?YG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uw=(e,t,n)=>(QG(e,typeof t!="symbol"?t+"":t,n),n);let KG=class{constructor(){Uw(this,"current",this.detect()),Uw(this,"handoffState","pending"),Uw(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ru=new KG,Co=(e,t)=>{ru.isServer?he.useEffect(e,t):he.useLayoutEffect(e,t)};function hl(e){let t=he.useRef(e);return Co(()=>{t.current=e},[e]),t}function Z4(e,t){let[n,r]=he.useState(e),s=hl(e);return Co(()=>r(s.current),[s,r,...t]),n}function t_(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function yh(){let e=[],t=[],n={enqueue(r){t.push(r)},addEventListener(r,s,o,l){return r.addEventListener(s,o,l),n.add(()=>r.removeEventListener(s,o,l))},requestAnimationFrame(...r){let s=requestAnimationFrame(...r);return n.add(()=>cancelAnimationFrame(s))},nextFrame(...r){return n.requestAnimationFrame(()=>n.requestAnimationFrame(...r))},setTimeout(...r){let s=setTimeout(...r);return n.add(()=>clearTimeout(s))},microTask(...r){let s={current:!0};return t_(()=>{s.current&&r[0]()}),n.add(()=>{s.current=!1})},add(r){return e.push(r),()=>{let s=e.indexOf(r);if(s>=0){let[o]=e.splice(s,1);o()}}},dispose(){for(let r of e.splice(0))r()},async workQueue(){for(let r of t.splice(0))await r()},style(r,s,o){let l=r.style.getPropertyValue(s);return Object.assign(r.style,{[s]:o}),this.add(()=>{Object.assign(r.style,{[s]:l})})}};return n}function np(){let[e]=he.useState(yh);return he.useEffect(()=>()=>e.dispose(),[e]),e}let fr=function(e){let t=hl(e);return he.useCallback((...n)=>t.current(...n),[t])};function Ym(){let[e,t]=he.useState(ru.isHandoffComplete);return e&&ru.isHandoffComplete===!1&&t(!1),he.useEffect(()=>{e!==!0&&t(!0)},[e]),he.useEffect(()=>ru.handoff(),[]),e}var rC;let fu=(rC=he.useId)!=null?rC:function(){let e=Ym(),[t,n]=he.useState(e?()=>ru.nextId():null);return Co(()=>{t===null&&n(ru.nextId())},[t]),t!=null?""+t:void 0};function Vi(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Vi),r}function H0(e){return ru.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let dS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Rf=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Rf||{}),J4=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(J4||{}),XG=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(XG||{});function eA(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(dS)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var px=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(px||{});function mx(e,t=0){var n;return e===((n=H0(e))==null?void 0:n.body)?!1:Vi(t,{0(){return e.matches(dS)},1(){let r=e;for(;r!==null;){if(r.matches(dS))return!0;r=r.parentElement}return!1}})}function Pre(e){let t=H0(e);yh().nextFrame(()=>{t&&!mx(t.activeElement,0)&&kd(e)})}function kd(e){e==null||e.focus({preventScroll:!0})}let ZG=["textarea","input"].join(",");function JG(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,ZG))!=null?n:!1}function tA(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),o=t(r);if(s===null||o===null)return 0;let l=s.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ire(e,t){return Gg(eA(),t,{relativeTo:e})}function Gg(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?n?tA(e):e:eA(e);s.length>0&&l.length>1&&(l=l.filter(O=>!s.includes(O))),r=r??o.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=t&32?{preventScroll:!0}:{},v=0,b=l.length,x;do{if(v>=b||v+b<=0)return 0;let O=f+v;if(t&16)O=(O+b)%b;else{if(O<0)return 3;if(O>=b)return 1}x=l[O],x==null||x.focus(m),v+=u}while(x!==o.activeElement);return t&6&&JG(x)&&x.select(),x.hasAttribute("tabindex")||x.setAttribute("tabindex","0"),2}function Bw(e,t,n){let r=hl(t);he.useEffect(()=>{function s(o){r.current(o)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[e,n])}function nA(e,t,n=!0){let r=he.useRef(!1);he.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function s(l,u){if(!r.current||l.defaultPrevented)return;let f=function v(b){return typeof b=="function"?v(b()):Array.isArray(b)||b instanceof Set?b:[b]}(e),m=u(l);if(m!==null&&m.getRootNode().contains(m)){for(let v of f){if(v===null)continue;let b=v instanceof HTMLElement?v:v.current;if(b!=null&&b.contains(m)||l.composed&&l.composedPath().includes(b))return}return!mx(m,px.Loose)&&m.tabIndex!==-1&&l.preventDefault(),t(l,m)}}let o=he.useRef(null);Bw("mousedown",l=>{var u,f;r.current&&(o.current=((f=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:f[0])||l.target)},!0),Bw("click",l=>{!o.current||(s(l,()=>o.current),o.current=null)},!0),Bw("blur",l=>s(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function iC(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function eY(e,t){let[n,r]=he.useState(()=>iC(e));return Co(()=>{r(iC(e))},[e.type,e.as]),Co(()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let rA=Symbol();function tY(e,t=!0){return Object.assign(e,{[rA]:t})}function Xo(...e){let t=he.useRef(e);he.useEffect(()=>{t.current=e},[e]);let n=fr(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[rA]))?void 0:n}function nY(e){throw new Error("Unexpected object: "+e)}var ka=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ka||{});function rY(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),s=r??-1,o=(()=>{switch(e.focus){case 0:return n.findIndex(l=>!t.resolveDisabled(l));case 1:{let l=n.slice().reverse().findIndex((u,f,m)=>s!==-1&&m.length-f-1>=s?!1:!t.resolveDisabled(u));return l===-1?l:n.length-1-l}case 2:return n.findIndex((l,u)=>u<=s?!1:!t.resolveDisabled(l));case 3:{let l=n.slice().reverse().findIndex(u=>!t.resolveDisabled(u));return l===-1?l:n.length-1-l}case 4:return n.findIndex(l=>t.resolveId(l)===e.id);case 5:return null;default:nY(e)}})();return o===-1?r:o}function iA(...e){return e.filter(Boolean).join(" ")}var Pm=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Pm||{}),ih=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ih||{});function ko({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:o=!0,name:l}){let u=sA(t,e);if(o)return Yv(u,n,r,l);let f=s??0;if(f&2){let{static:m=!1,...v}=u;if(m)return Yv(v,n,r,l)}if(f&1){let{unmount:m=!0,...v}=u;return Vi(m?0:1,{0(){return null},1(){return Yv({...v,hidden:!0,style:{display:"none"}},n,r,l)}})}return Yv(u,n,r,l)}function Yv(e,t={},n,r){var s;let{as:o=n,children:l,refName:u="ref",...f}=Vw(e,["unmount","static"]),m=e.ref!==void 0?{[u]:e.ref}:{},v=typeof l=="function"?l(t):l;f.className&&typeof f.className=="function"&&(f.className=f.className(t));let b={};if(t){let x=!1,O=[];for(let[T,D]of Object.entries(t))typeof D=="boolean"&&(x=!0),D===!0&&O.push(T);x&&(b["data-headlessui-state"]=O.join(" "))}if(o===he.Fragment&&Object.keys(fS(f)).length>0){if(!he.isValidElement(v)||Array.isArray(v)&&v.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(f).map(T=>`  - ${T}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(T=>`  - ${T}`).join(`
`)].join(`
`));let x=iA((s=v.props)==null?void 0:s.className,f.className),O=x?{className:x}:{};return he.cloneElement(v,Object.assign({},sA(v.props,fS(Vw(f,["ref"]))),b,m,iY(v.ref,m.ref),O))}return he.createElement(o,Object.assign({},Vw(f,["ref"]),o!==he.Fragment&&m,o!==he.Fragment&&b),v)}function iY(...e){return{ref:e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}}function sA(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](s,...o){let l=n[r];for(let u of l){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;u(s,...o)}}});return t}function oo(e){var t;return Object.assign(he.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function fS(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Vw(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function oA(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&sY(n)?!1:r}function sY(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function aA(e={},t=null,n=[]){for(let[r,s]of Object.entries(e))lA(n,cA(t,r),s);return n}function cA(e,t){return e?e+"["+t+"]":t}function lA(e,t,n){if(Array.isArray(n))for(let[r,s]of n.entries())lA(e,cA(t,r.toString()),s);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):aA(n,t,e)}let oY="div";var T0=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(T0||{});let Xy=oo(function(e,t){let{features:n=1,...r}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return ko({ourProps:s,theirProps:r,slot:{},defaultTag:oY,name:"Hidden"})}),gx=he.createContext(null);gx.displayName="OpenClosedContext";var su=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(su||{});function n_(){return he.useContext(gx)}function uA({value:e,children:t}){return he.createElement(gx.Provider,{value:e},t)}var $s=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))($s||{});function aY(e,t,n){let[r,s]=he.useState(n),o=e!==void 0,l=he.useRef(o),u=he.useRef(!1),f=he.useRef(!1);return o&&!l.current&&!u.current?(u.current=!0,l.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&l.current&&!f.current&&(f.current=!0,l.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:r,fr(m=>(o||s(m),t==null?void 0:t(m)))]}function hA(e,t){let n=he.useRef([]),r=fr(e);he.useEffect(()=>{let s=[...n.current];for(let[o,l]of t.entries())if(n.current[o]!==l){let u=r(t,s);return n.current=t,u}},[r,...t])}function sC(e){return[e.screenX,e.screenY]}function cY(){let e=he.useRef([-1,-1]);return{wasMoved(t){let n=sC(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=sC(t)}}}function lY(e,t,n){let r=hl(t);he.useEffect(()=>{function s(o){r.current(o)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[e,n])}var Pg=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Pg||{});function uY(){let e=he.useRef(0);return lY("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function r_(){let e=he.useRef(!1);return Co(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function i_(...e){return he.useMemo(()=>H0(...e),[...e])}function vx(e,t,n,r){let s=hl(n);he.useEffect(()=>{e=e??window;function o(l){s.current(l)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}let hY="div";var dA=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(dA||{});let Og=Object.assign(oo(function(e,t){let n=he.useRef(null),r=Xo(n,t),{initialFocus:s,containers:o,features:l=30,...u}=e;Ym()||(l=1);let f=i_(n);dY({ownerDocument:f},!!(l&16));let m=fY({ownerDocument:f,container:n,initialFocus:s},!!(l&2));pY({ownerDocument:f,container:n,containers:o,previousActiveElement:m},!!(l&8));let v=uY(),b=fr(D=>{let M=n.current;M&&(C=>C())(()=>{Vi(v.current,{[Pg.Forwards]:()=>{Gg(M,Rf.First,{skipElements:[D.relatedTarget]})},[Pg.Backwards]:()=>{Gg(M,Rf.Last,{skipElements:[D.relatedTarget]})}})})}),x=np(),O=he.useRef(!1),T={ref:r,onKeyDown(D){D.key=="Tab"&&(O.current=!0,x.requestAnimationFrame(()=>{O.current=!1}))},onBlur(D){let M=new Set(o==null?void 0:o.current);M.add(n);let C=D.relatedTarget;C instanceof HTMLElement&&C.dataset.headlessuiFocusGuard!=="true"&&(fA(M,C)||(O.current?Gg(n.current,Vi(v.current,{[Pg.Forwards]:()=>Rf.Next,[Pg.Backwards]:()=>Rf.Previous})|Rf.WrapAround,{relativeTo:D.target}):D.target instanceof HTMLElement&&kd(D.target)))}};return he.createElement(he.Fragment,null,!!(l&4)&&he.createElement(Xy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:T0.Focusable}),ko({ourProps:T,theirProps:u,defaultTag:hY,name:"FocusTrap"}),!!(l&4)&&he.createElement(Xy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:T0.Focusable}))}),{features:dA});function dY({ownerDocument:e},t){let n=he.useRef(null);vx(e==null?void 0:e.defaultView,"focusout",s=>{!t||n.current||(n.current=s.target)},!0),hA(()=>{t||((e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&kd(n.current),n.current=null)},[t]);let r=he.useRef(!1);he.useEffect(()=>(r.current=!1,()=>{r.current=!0,t_(()=>{!r.current||(kd(n.current),n.current=null)})}),[])}function fY({ownerDocument:e,container:t,initialFocus:n},r){let s=he.useRef(null),o=r_();return hA(()=>{if(!r)return;let l=t.current;!l||t_(()=>{if(!o.current)return;let u=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===u){s.current=u;return}}else if(l.contains(u)){s.current=u;return}n!=null&&n.current?kd(n.current):Gg(l,Rf.First)===J4.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=e==null?void 0:e.activeElement})},[r]),s}function pY({ownerDocument:e,container:t,containers:n,previousActiveElement:r},s){let o=r_();vx(e==null?void 0:e.defaultView,"focus",l=>{if(!s||!o.current)return;let u=new Set(n==null?void 0:n.current);u.add(t);let f=r.current;if(!f)return;let m=l.target;m&&m instanceof HTMLElement?fA(u,m)?(r.current=m,kd(m)):(l.preventDefault(),l.stopPropagation(),kd(f)):kd(r.current)},!0)}function fA(e,t){var n;for(let r of e)if((n=r.current)!=null&&n.contains(t))return!0;return!1}let Xp=new Set,cd=new Map;function oC(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function aC(e){let t=cd.get(e);!t||(t["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function mY(e,t=!0){Co(()=>{if(!t||!e.current)return;let n=e.current,r=H0(n);if(r){Xp.add(n);for(let s of cd.keys())s.contains(n)&&(aC(s),cd.delete(s));return r.querySelectorAll("body > *").forEach(s=>{if(s instanceof HTMLElement){for(let o of Xp)if(s.contains(o))return;Xp.size===1&&(cd.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),oC(s))}}),()=>{if(Xp.delete(n),Xp.size>0)r.querySelectorAll("body > *").forEach(s=>{if(s instanceof HTMLElement&&!cd.has(s)){for(let o of Xp)if(s.contains(o))return;cd.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),oC(s)}});else for(let s of cd.keys())aC(s),cd.delete(s)}}},[t])}let pA=he.createContext(!1);function gY(){return he.useContext(pA)}function pS(e){return he.createElement(pA.Provider,{value:e.force},e.children)}function vY(e){let t=gY(),n=he.useContext(mA),r=i_(e),[s,o]=he.useState(()=>{if(!t&&n!==null||ru.isServer)return null;let l=r==null?void 0:r.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let u=r.createElement("div");return u.setAttribute("id","headlessui-portal-root"),r.body.appendChild(u)});return he.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),he.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),s}let yY=he.Fragment,_Y=oo(function(e,t){let n=e,r=he.useRef(null),s=Xo(tY(v=>{r.current=v}),t),o=i_(r),l=vY(r),[u]=he.useState(()=>{var v;return ru.isServer?null:(v=o==null?void 0:o.createElement("div"))!=null?v:null}),f=Ym(),m=he.useRef(!1);return Co(()=>{if(m.current=!1,!(!l||!u))return l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u)),()=>{m.current=!0,t_(()=>{var v;!m.current||!l||!u||(u instanceof Node&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((v=l.parentElement)==null||v.removeChild(l)))})}},[l,u]),f?!l||!u?null:y1.createPortal(ko({ourProps:{ref:s},theirProps:n,defaultTag:yY,name:"Portal"}),u):null}),wY=he.Fragment,mA=he.createContext(null),bY=oo(function(e,t){let{target:n,...r}=e,s={ref:Xo(t)};return he.createElement(mA.Provider,{value:n},ko({ourProps:s,theirProps:r,defaultTag:wY,name:"Popover.Group"}))}),mS=Object.assign(_Y,{Group:bY}),gA=he.createContext(null);function vA(){let e=he.useContext(gA);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,vA),t}return e}function SY(){let[e,t]=he.useState([]);return[e.length>0?e.join(" "):void 0,he.useMemo(()=>function(n){let r=fr(o=>(t(l=>[...l,o]),()=>t(l=>{let u=l.slice(),f=u.indexOf(o);return f!==-1&&u.splice(f,1),u}))),s=he.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return he.createElement(gA.Provider,{value:s},n.children)},[t])]}let xY="p",TY=oo(function(e,t){let n=fu(),{id:r=`headlessui-description-${n}`,...s}=e,o=vA(),l=Xo(t);Co(()=>o.register(r),[r,o.register]);let u={ref:l,...o.props,id:r};return ko({ourProps:u,theirProps:s,slot:o.slot||{},defaultTag:xY,name:o.name||"Description"})}),yx=he.createContext(()=>{});yx.displayName="StackContext";var gS=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(gS||{});function EY(){return he.useContext(yx)}function CY({children:e,onUpdate:t,type:n,element:r,enabled:s}){let o=EY(),l=fr((...u)=>{t==null||t(...u),o(...u)});return Co(()=>{let u=s===void 0||s===!0;return u&&l(0,n,r),()=>{u&&l(1,n,r)}},[l,n,r,s]),he.createElement(yx.Provider,{value:l},e)}function kY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const OY=typeof Object.is=="function"?Object.is:kY,{useState:NY,useEffect:AY,useLayoutEffect:MY,useDebugValue:DY}=Kw;function RY(e,t,n){const r=t(),[{inst:s},o]=NY({inst:{value:r,getSnapshot:t}});return MY(()=>{s.value=r,s.getSnapshot=t,zw(s)&&o({inst:s})},[e,r,t]),AY(()=>(zw(s)&&o({inst:s}),e(()=>{zw(s)&&o({inst:s})})),[e]),DY(r),r}function zw(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!OY(n,r)}catch{return!0}}function PY(e,t,n){return t()}const IY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LY=!IY,FY=LY?PY:RY,jY="useSyncExternalStore"in Kw?(e=>e.useSyncExternalStore)(Kw):FY;function UY(e){return jY(e.subscribe,e.getSnapshot,e.getSnapshot)}function BY(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...o){let l=t[s].call(n,...o);l&&(n=l,r.forEach(u=>u()))}}}function VY(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,s=r.clientWidth-r.offsetWidth,o=e-s;n.style(r,"paddingRight",`${o}px`)}}}function zY(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function HY(){if(!zY())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:n,meta:r}){function s(l){return r.containers.flatMap(u=>u()).some(u=>u.contains(l))}n.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let o=null;n.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let u=l.target.closest("a");if(!u)return;let{hash:f}=new URL(u.href),m=t.querySelector(f);m&&!s(m)&&(o=m)}catch{}},!0),n.addEventListener(t,"touchmove",l=>{l.target instanceof HTMLElement&&!s(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+e),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function $Y(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function qY(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let jf=BY(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:yh(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:qY(n)},s=[HY(),VY(),$Y()];s.forEach(({before:o})=>o==null?void 0:o(r)),s.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});jf.subscribe(()=>{let e=jf.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&jf.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&jf.dispatch("TEARDOWN",n)}});function WY(e,t,n){let r=UY(jf),s=e?r.get(e):void 0,o=s?s.count>0:!1;return Co(()=>{if(!(!e||!t))return jf.dispatch("PUSH",e,n),()=>jf.dispatch("POP",e,n)},[t,e]),o}var GY=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(GY||{}),YY=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(YY||{});let QY={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Zy=he.createContext(null);Zy.displayName="DialogContext";function $0(e){let t=he.useContext(Zy);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$0),n}return t}function KY(e,t,n=()=>[document.body]){WY(e,t,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],n]}})}function XY(e,t){return Vi(t.type,QY,e,t)}let ZY="div",JY=Pm.RenderStrategy|Pm.Static,eQ=oo(function(e,t){let n=fu(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:o,initialFocus:l,__demoMode:u=!1,...f}=e,[m,v]=he.useState(0),b=n_();s===void 0&&b!==null&&(s=Vi(b,{[su.Open]:!0,[su.Closed]:!1}));let x=he.useRef(new Set),O=he.useRef(null),T=Xo(O,t),D=he.useRef(null),M=i_(O),C=e.hasOwnProperty("open")||b!==null,R=e.hasOwnProperty("onClose");if(!C&&!R)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!C)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!R)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let j=s?0:1,[H,F]=he.useReducer(XY,{titleId:null,descriptionId:null,panelRef:he.createRef()}),ie=fr(()=>o(!1)),ee=fr(pe=>F({type:0,id:pe})),_e=Ym()?u?!1:j===0:!1,Xe=m>1,Te=he.useContext(Zy)!==null,Fe=Xe?"parent":"leaf";mY(O,Xe?_e:!1);let je=fr(()=>{var pe,Pe;return[...Array.from((pe=M==null?void 0:M.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?pe:[]).filter(Ye=>!(Ye===document.body||Ye===document.head||!(Ye instanceof HTMLElement)||Ye.contains(D.current)||H.panelRef.current&&Ye.contains(H.panelRef.current))),(Pe=H.panelRef.current)!=null?Pe:O.current]});nA(()=>je(),ie,_e&&!Xe),vx(M==null?void 0:M.defaultView,"keydown",pe=>{pe.defaultPrevented||pe.key===$s.Escape&&j===0&&(Xe||(pe.preventDefault(),pe.stopPropagation(),ie()))}),KY(M,j===0&&!Te,je),he.useEffect(()=>{if(j!==0||!O.current)return;let pe=new IntersectionObserver(Pe=>{for(let Ye of Pe)Ye.boundingClientRect.x===0&&Ye.boundingClientRect.y===0&&Ye.boundingClientRect.width===0&&Ye.boundingClientRect.height===0&&ie()});return pe.observe(O.current),()=>pe.disconnect()},[j,O,ie]);let[et,ut]=SY(),Ge=he.useMemo(()=>[{dialogState:j,close:ie,setTitleId:ee},H],[j,H,ie,ee]),We=he.useMemo(()=>({open:j===0}),[j]),Ae={ref:T,id:r,role:"dialog","aria-modal":j===0?!0:void 0,"aria-labelledby":H.titleId,"aria-describedby":et};return he.createElement(CY,{type:"Dialog",enabled:j===0,element:O,onUpdate:fr((pe,Pe,Ye)=>{Pe==="Dialog"&&Vi(pe,{[gS.Add](){x.current.add(Ye),v(it=>it+1)},[gS.Remove](){x.current.add(Ye),v(it=>it-1)}})})},he.createElement(pS,{force:!0},he.createElement(mS,null,he.createElement(Zy.Provider,{value:Ge},he.createElement(mS.Group,{target:O},he.createElement(pS,{force:!1},he.createElement(ut,{slot:We,name:"Dialog.Description"},he.createElement(Og,{initialFocus:l,containers:x,features:_e?Vi(Fe,{parent:Og.features.RestoreFocus,leaf:Og.features.All&~Og.features.FocusLock}):Og.features.None},ko({ourProps:Ae,theirProps:f,slot:We,defaultTag:ZY,features:JY,visible:j===0,name:"Dialog"})))))))),he.createElement(Xy,{features:T0.Hidden,ref:D}))}),tQ="div",nQ=oo(function(e,t){let n=fu(),{id:r=`headlessui-dialog-overlay-${n}`,...s}=e,[{dialogState:o,close:l}]=$0("Dialog.Overlay"),u=Xo(t),f=fr(v=>{if(v.target===v.currentTarget){if(oA(v.currentTarget))return v.preventDefault();v.preventDefault(),v.stopPropagation(),l()}}),m=he.useMemo(()=>({open:o===0}),[o]);return ko({ourProps:{ref:u,id:r,"aria-hidden":!0,onClick:f},theirProps:s,slot:m,defaultTag:tQ,name:"Dialog.Overlay"})}),rQ="div",iQ=oo(function(e,t){let n=fu(),{id:r=`headlessui-dialog-backdrop-${n}`,...s}=e,[{dialogState:o},l]=$0("Dialog.Backdrop"),u=Xo(t);he.useEffect(()=>{if(l.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[l.panelRef]);let f=he.useMemo(()=>({open:o===0}),[o]);return he.createElement(pS,{force:!0},he.createElement(mS,null,ko({ourProps:{ref:u,id:r,"aria-hidden":!0},theirProps:s,slot:f,defaultTag:rQ,name:"Dialog.Backdrop"})))}),sQ="div",oQ=oo(function(e,t){let n=fu(),{id:r=`headlessui-dialog-panel-${n}`,...s}=e,[{dialogState:o},l]=$0("Dialog.Panel"),u=Xo(t,l.panelRef),f=he.useMemo(()=>({open:o===0}),[o]),m=fr(v=>{v.stopPropagation()});return ko({ourProps:{ref:u,id:r,onClick:m},theirProps:s,slot:f,defaultTag:sQ,name:"Dialog.Panel"})}),aQ="h2",cQ=oo(function(e,t){let n=fu(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:o,setTitleId:l}]=$0("Dialog.Title"),u=Xo(t);he.useEffect(()=>(l(r),()=>l(null)),[r,l]);let f=he.useMemo(()=>({open:o===0}),[o]);return ko({ourProps:{ref:u,id:r},theirProps:s,slot:f,defaultTag:aQ,name:"Dialog.Title"})}),lQ=Object.assign(eQ,{Backdrop:iQ,Panel:oQ,Overlay:nQ,Title:cQ,Description:TY});var uQ=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(uQ||{}),hQ=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(hQ||{}),dQ=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(dQ||{}),fQ=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(fQ||{});function Hw(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=tA(t(e.options.slice()),o=>o.dataRef.current.domRef.current),s=n?r.indexOf(n):null;return s===-1&&(s=null),{options:r,activeOptionIndex:s}}let pQ={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(s=>n(s.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=Hw(e),s=rY(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:s,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),s=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(l=>{var u;return!l.dataRef.current.disabled&&((u=l.dataRef.current.textValue)==null?void 0:u.startsWith(r))}),o=s?e.options.indexOf(s):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=Hw(e,s=>[...s,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=Hw(e,r=>{let s=r.findIndex(o=>o.id===t.id);return s!==-1&&r.splice(s,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},_x=he.createContext(null);_x.displayName="ListboxActionsContext";function q0(e){let t=he.useContext(_x);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,q0),n}return t}let wx=he.createContext(null);wx.displayName="ListboxDataContext";function W0(e){let t=he.useContext(wx);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,W0),n}return t}function mQ(e,t){return Vi(t.type,pQ,e,t)}let gQ=he.Fragment,vQ=oo(function(e,t){let{value:n,defaultValue:r,name:s,onChange:o,by:l=(bt,Mt)=>bt===Mt,disabled:u=!1,horizontal:f=!1,multiple:m=!1,...v}=e;const b=f?"horizontal":"vertical";let x=Xo(t),[O=m?[]:void 0,T]=aY(n,o,r),[D,M]=he.useReducer(mQ,{dataRef:he.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),C=he.useRef({static:!1,hold:!1}),R=he.useRef(null),j=he.useRef(null),H=he.useRef(null),F=fr(typeof l=="string"?(bt,Mt)=>{let rt=l;return(bt==null?void 0:bt[rt])===(Mt==null?void 0:Mt[rt])}:l),ie=he.useCallback(bt=>Vi(ee.mode,{1:()=>O.some(Mt=>F(Mt,bt)),0:()=>F(O,bt)}),[O]),ee=he.useMemo(()=>({...D,value:O,disabled:u,mode:m?1:0,orientation:b,compare:F,isSelected:ie,optionsPropsRef:C,labelRef:R,buttonRef:j,optionsRef:H}),[O,u,m,D]);Co(()=>{D.dataRef.current=ee},[ee]),nA([ee.buttonRef,ee.optionsRef],(bt,Mt)=>{var rt;M({type:1}),mx(Mt,px.Loose)||(bt.preventDefault(),(rt=ee.buttonRef.current)==null||rt.focus())},ee.listboxState===0);let _e=he.useMemo(()=>({open:ee.listboxState===0,disabled:u,value:O}),[ee,u,O]),Xe=fr(bt=>{let Mt=ee.options.find(rt=>rt.id===bt);!Mt||We(Mt.dataRef.current.value)}),Te=fr(()=>{if(ee.activeOptionIndex!==null){let{dataRef:bt,id:Mt}=ee.options[ee.activeOptionIndex];We(bt.current.value),M({type:2,focus:ka.Specific,id:Mt})}}),Fe=fr(()=>M({type:0})),je=fr(()=>M({type:1})),et=fr((bt,Mt,rt)=>bt===ka.Specific?M({type:2,focus:ka.Specific,id:Mt,trigger:rt}):M({type:2,focus:bt,trigger:rt})),ut=fr((bt,Mt)=>(M({type:5,id:bt,dataRef:Mt}),()=>M({type:6,id:bt}))),Ge=fr(bt=>(M({type:7,id:bt}),()=>M({type:7,id:null}))),We=fr(bt=>Vi(ee.mode,{0(){return T==null?void 0:T(bt)},1(){let Mt=ee.value.slice(),rt=Mt.findIndex(Kt=>F(Kt,bt));return rt===-1?Mt.push(bt):Mt.splice(rt,1),T==null?void 0:T(Mt)}})),Ae=fr(bt=>M({type:3,value:bt})),pe=fr(()=>M({type:4})),Pe=he.useMemo(()=>({onChange:We,registerOption:ut,registerLabel:Ge,goToOption:et,closeListbox:je,openListbox:Fe,selectActiveOption:Te,selectOption:Xe,search:Ae,clearSearch:pe}),[]),Ye={ref:x},it=he.useRef(null),Qe=np();return he.useEffect(()=>{!it.current||r!==void 0&&Qe.addEventListener(it.current,"reset",()=>{We(r)})},[it,We]),he.createElement(_x.Provider,{value:Pe},he.createElement(wx.Provider,{value:ee},he.createElement(uA,{value:Vi(ee.listboxState,{0:su.Open,1:su.Closed})},s!=null&&O!=null&&aA({[s]:O}).map(([bt,Mt],rt)=>he.createElement(Xy,{features:T0.Hidden,ref:rt===0?Kt=>{var Ue;it.current=(Ue=Kt==null?void 0:Kt.closest("form"))!=null?Ue:null}:void 0,...fS({key:bt,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:bt,value:Mt})})),ko({ourProps:Ye,theirProps:v,slot:_e,defaultTag:gQ,name:"Listbox"}))))}),yQ="button",_Q=oo(function(e,t){var n;let r=fu(),{id:s=`headlessui-listbox-button-${r}`,...o}=e,l=W0("Listbox.Button"),u=q0("Listbox.Button"),f=Xo(l.buttonRef,t),m=np(),v=fr(M=>{switch(M.key){case $s.Space:case $s.Enter:case $s.ArrowDown:M.preventDefault(),u.openListbox(),m.nextFrame(()=>{l.value||u.goToOption(ka.First)});break;case $s.ArrowUp:M.preventDefault(),u.openListbox(),m.nextFrame(()=>{l.value||u.goToOption(ka.Last)});break}}),b=fr(M=>{switch(M.key){case $s.Space:M.preventDefault();break}}),x=fr(M=>{if(oA(M.currentTarget))return M.preventDefault();l.listboxState===0?(u.closeListbox(),m.nextFrame(()=>{var C;return(C=l.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})})):(M.preventDefault(),u.openListbox())}),O=Z4(()=>{if(l.labelId)return[l.labelId,s].join(" ")},[l.labelId,s]),T=he.useMemo(()=>({open:l.listboxState===0,disabled:l.disabled,value:l.value}),[l]),D={ref:f,id:s,type:eY(e,l.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=l.optionsRef.current)==null?void 0:n.id,"aria-expanded":l.disabled?void 0:l.listboxState===0,"aria-labelledby":O,disabled:l.disabled,onKeyDown:v,onKeyUp:b,onClick:x};return ko({ourProps:D,theirProps:o,slot:T,defaultTag:yQ,name:"Listbox.Button"})}),wQ="label",bQ=oo(function(e,t){let n=fu(),{id:r=`headlessui-listbox-label-${n}`,...s}=e,o=W0("Listbox.Label"),l=q0("Listbox.Label"),u=Xo(o.labelRef,t);Co(()=>l.registerLabel(r),[r]);let f=fr(()=>{var v;return(v=o.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})}),m=he.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled}),[o]);return ko({ourProps:{ref:u,id:r,onClick:f},theirProps:s,slot:m,defaultTag:wQ,name:"Listbox.Label"})}),SQ="ul",xQ=Pm.RenderStrategy|Pm.Static,TQ=oo(function(e,t){var n;let r=fu(),{id:s=`headlessui-listbox-options-${r}`,...o}=e,l=W0("Listbox.Options"),u=q0("Listbox.Options"),f=Xo(l.optionsRef,t),m=np(),v=np(),b=n_(),x=(()=>b!==null?b===su.Open:l.listboxState===0)();he.useEffect(()=>{var C;let R=l.optionsRef.current;!R||l.listboxState===0&&R!==((C=H0(R))==null?void 0:C.activeElement)&&R.focus({preventScroll:!0})},[l.listboxState,l.optionsRef]);let O=fr(C=>{switch(v.dispose(),C.key){case $s.Space:if(l.searchQuery!=="")return C.preventDefault(),C.stopPropagation(),u.search(C.key);case $s.Enter:if(C.preventDefault(),C.stopPropagation(),l.activeOptionIndex!==null){let{dataRef:R}=l.options[l.activeOptionIndex];u.onChange(R.current.value)}l.mode===0&&(u.closeListbox(),yh().nextFrame(()=>{var R;return(R=l.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})}));break;case Vi(l.orientation,{vertical:$s.ArrowDown,horizontal:$s.ArrowRight}):return C.preventDefault(),C.stopPropagation(),u.goToOption(ka.Next);case Vi(l.orientation,{vertical:$s.ArrowUp,horizontal:$s.ArrowLeft}):return C.preventDefault(),C.stopPropagation(),u.goToOption(ka.Previous);case $s.Home:case $s.PageUp:return C.preventDefault(),C.stopPropagation(),u.goToOption(ka.First);case $s.End:case $s.PageDown:return C.preventDefault(),C.stopPropagation(),u.goToOption(ka.Last);case $s.Escape:return C.preventDefault(),C.stopPropagation(),u.closeListbox(),m.nextFrame(()=>{var R;return(R=l.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})});case $s.Tab:C.preventDefault(),C.stopPropagation();break;default:C.key.length===1&&(u.search(C.key),v.setTimeout(()=>u.clearSearch(),350));break}}),T=Z4(()=>{var C,R,j;return(j=(C=l.labelRef.current)==null?void 0:C.id)!=null?j:(R=l.buttonRef.current)==null?void 0:R.id},[l.labelRef.current,l.buttonRef.current]),D=he.useMemo(()=>({open:l.listboxState===0}),[l]),M={"aria-activedescendant":l.activeOptionIndex===null||(n=l.options[l.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":l.mode===1?!0:void 0,"aria-labelledby":T,"aria-orientation":l.orientation,id:s,onKeyDown:O,role:"listbox",tabIndex:0,ref:f};return ko({ourProps:M,theirProps:o,slot:D,defaultTag:SQ,features:xQ,visible:x,name:"Listbox.Options"})}),EQ="li",CQ=oo(function(e,t){let n=fu(),{id:r=`headlessui-listbox-option-${n}`,disabled:s=!1,value:o,...l}=e,u=W0("Listbox.Option"),f=q0("Listbox.Option"),m=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===r:!1,v=u.isSelected(o),b=he.useRef(null),x=hl({disabled:s,value:o,domRef:b,get textValue(){var F,ie;return(ie=(F=b.current)==null?void 0:F.textContent)==null?void 0:ie.toLowerCase()}}),O=Xo(t,b);Co(()=>{if(u.listboxState!==0||!m||u.activationTrigger===0)return;let F=yh();return F.requestAnimationFrame(()=>{var ie,ee;(ee=(ie=b.current)==null?void 0:ie.scrollIntoView)==null||ee.call(ie,{block:"nearest"})}),F.dispose},[b,m,u.listboxState,u.activationTrigger,u.activeOptionIndex]),Co(()=>f.registerOption(r,x),[x,r]);let T=fr(F=>{if(s)return F.preventDefault();f.onChange(o),u.mode===0&&(f.closeListbox(),yh().nextFrame(()=>{var ie;return(ie=u.buttonRef.current)==null?void 0:ie.focus({preventScroll:!0})}))}),D=fr(()=>{if(s)return f.goToOption(ka.Nothing);f.goToOption(ka.Specific,r)}),M=cY(),C=fr(F=>M.update(F)),R=fr(F=>{!M.wasMoved(F)||s||m||f.goToOption(ka.Specific,r,0)}),j=fr(F=>{!M.wasMoved(F)||s||!m||f.goToOption(ka.Nothing)}),H=he.useMemo(()=>({active:m,selected:v,disabled:s}),[m,v,s]);return ko({ourProps:{id:r,ref:O,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":v,disabled:void 0,onClick:T,onFocus:D,onPointerEnter:C,onMouseEnter:C,onPointerMove:R,onMouseMove:R,onPointerLeave:j,onMouseLeave:j},theirProps:l,slot:H,defaultTag:EQ,name:"Listbox.Option"})}),ad=Object.assign(vQ,{Button:_Q,Label:bQ,Options:TQ,Option:CQ});function kQ(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function $w(e,...t){e&&t.length>0&&e.classList.add(...t)}function qw(e,...t){e&&t.length>0&&e.classList.remove(...t)}function OQ(e,t){let n=yh();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:s}=getComputedStyle(e),[o,l]=[r,s].map(u=>{let[f=0]=u.split(",").filter(Boolean).map(m=>m.includes("ms")?parseFloat(m):parseFloat(m)*1e3).sort((m,v)=>v-m);return f});if(o+l!==0){let u=n.addEventListener(e,"transitionend",f=>{f.target===f.currentTarget&&(t(),u())})}else t();return n.add(()=>t()),n.dispose}function NQ(e,t,n,r){let s=n?"enter":"leave",o=yh(),l=r!==void 0?kQ(r):()=>{};s==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let u=Vi(s,{enter:()=>t.enter,leave:()=>t.leave}),f=Vi(s,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),m=Vi(s,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return qw(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),$w(e,...u,...m),o.nextFrame(()=>{qw(e,...m),$w(e,...f),OQ(e,()=>(qw(e,...u),$w(e,...t.entered),l()))}),o.dispose}function AQ({container:e,direction:t,classes:n,onStart:r,onStop:s}){let o=r_(),l=np(),u=hl(t);Co(()=>{let f=yh();l.add(f.dispose);let m=e.current;if(m&&u.current!=="idle"&&o.current)return f.dispose(),r.current(u.current),f.add(NQ(m,n.current,u.current==="enter",()=>{f.dispose(),s.current(u.current)})),f.dispose},[t])}function Nf(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let s_=he.createContext(null);s_.displayName="TransitionContext";var MQ=(e=>(e.Visible="visible",e.Hidden="hidden",e))(MQ||{});function DQ(){let e=he.useContext(s_);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function RQ(){let e=he.useContext(o_);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let o_=he.createContext(null);o_.displayName="NestingContext";function a_(e){return"children"in e?a_(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function yA(e,t){let n=hl(e),r=he.useRef([]),s=r_(),o=np(),l=fr((O,T=ih.Hidden)=>{let D=r.current.findIndex(({el:M})=>M===O);D!==-1&&(Vi(T,{[ih.Unmount](){r.current.splice(D,1)},[ih.Hidden](){r.current[D].state="hidden"}}),o.microTask(()=>{var M;!a_(r)&&s.current&&((M=n.current)==null||M.call(n))}))}),u=fr(O=>{let T=r.current.find(({el:D})=>D===O);return T?T.state!=="visible"&&(T.state="visible"):r.current.push({el:O,state:"visible"}),()=>l(O,ih.Unmount)}),f=he.useRef([]),m=he.useRef(Promise.resolve()),v=he.useRef({enter:[],leave:[],idle:[]}),b=fr((O,T,D)=>{f.current.splice(0),t&&(t.chains.current[T]=t.chains.current[T].filter(([M])=>M!==O)),t==null||t.chains.current[T].push([O,new Promise(M=>{f.current.push(M)})]),t==null||t.chains.current[T].push([O,new Promise(M=>{Promise.all(v.current[T].map(([C,R])=>R)).then(()=>M())})]),T==="enter"?m.current=m.current.then(()=>t==null?void 0:t.wait.current).then(()=>D(T)):D(T)}),x=fr((O,T,D)=>{Promise.all(v.current[T].splice(0).map(([M,C])=>C)).then(()=>{var M;(M=f.current.shift())==null||M()}).then(()=>D(T))});return he.useMemo(()=>({children:r,register:u,unregister:l,onStart:b,onStop:x,wait:m,chains:v}),[u,l,r,b,x,v,m])}function PQ(){}let IQ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function cC(e){var t;let n={};for(let r of IQ)n[r]=(t=e[r])!=null?t:PQ;return n}function LQ(e){let t=he.useRef(cC(e));return he.useEffect(()=>{t.current=cC(e)},[e]),t}let FQ="div",_A=Pm.RenderStrategy,wA=oo(function(e,t){let{beforeEnter:n,afterEnter:r,beforeLeave:s,afterLeave:o,enter:l,enterFrom:u,enterTo:f,entered:m,leave:v,leaveFrom:b,leaveTo:x,...O}=e,T=he.useRef(null),D=Xo(T,t),M=O.unmount?ih.Unmount:ih.Hidden,{show:C,appear:R,initial:j}=DQ(),[H,F]=he.useState(C?"visible":"hidden"),ie=RQ(),{register:ee,unregister:_e}=ie,Xe=he.useRef(null);he.useEffect(()=>ee(T),[ee,T]),he.useEffect(()=>{if(M===ih.Hidden&&T.current){if(C&&H!=="visible"){F("visible");return}return Vi(H,{hidden:()=>_e(T),visible:()=>ee(T)})}},[H,T,ee,_e,C,M]);let Te=hl({enter:Nf(l),enterFrom:Nf(u),enterTo:Nf(f),entered:Nf(m),leave:Nf(v),leaveFrom:Nf(b),leaveTo:Nf(x)}),Fe=LQ({beforeEnter:n,afterEnter:r,beforeLeave:s,afterLeave:o}),je=Ym();he.useEffect(()=>{if(je&&H==="visible"&&T.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[T,H,je]);let et=j&&!R,ut=(()=>!je||et||Xe.current===C?"idle":C?"enter":"leave")(),Ge=fr(Ye=>Vi(Ye,{enter:()=>Fe.current.beforeEnter(),leave:()=>Fe.current.beforeLeave(),idle:()=>{}})),We=fr(Ye=>Vi(Ye,{enter:()=>Fe.current.afterEnter(),leave:()=>Fe.current.afterLeave(),idle:()=>{}})),Ae=yA(()=>{F("hidden"),_e(T)},ie);AQ({container:T,classes:Te,direction:ut,onStart:hl(Ye=>{Ae.onStart(T,Ye,Ge)}),onStop:hl(Ye=>{Ae.onStop(T,Ye,We),Ye==="leave"&&!a_(Ae)&&(F("hidden"),_e(T))})}),he.useEffect(()=>{!et||(M===ih.Hidden?Xe.current=null:Xe.current=C)},[C,et,H]);let pe=O,Pe={ref:D};return R&&C&&ru.isServer&&(pe={...pe,className:iA(O.className,...Te.current.enter,...Te.current.enterFrom)}),he.createElement(o_.Provider,{value:Ae},he.createElement(uA,{value:Vi(H,{visible:su.Open,hidden:su.Closed})},ko({ourProps:Pe,theirProps:pe,defaultTag:FQ,features:_A,visible:H==="visible",name:"Transition.Child"})))}),vS=oo(function(e,t){let{show:n,appear:r=!1,unmount:s,...o}=e,l=he.useRef(null),u=Xo(l,t);Ym();let f=n_();if(n===void 0&&f!==null&&(n=Vi(f,{[su.Open]:!0,[su.Closed]:!1})),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,v]=he.useState(n?"visible":"hidden"),b=yA(()=>{v("hidden")}),[x,O]=he.useState(!0),T=he.useRef([n]);Co(()=>{x!==!1&&T.current[T.current.length-1]!==n&&(T.current.push(n),O(!1))},[T,n]);let D=he.useMemo(()=>({show:n,appear:r,initial:x}),[n,r,x]);he.useEffect(()=>{if(n)v("visible");else if(!a_(b))v("hidden");else{let C=l.current;if(!C)return;let R=C.getBoundingClientRect();R.x===0&&R.y===0&&R.width===0&&R.height===0&&v("hidden")}},[n,b]);let M={unmount:s};return he.createElement(o_.Provider,{value:b},he.createElement(s_.Provider,{value:D},ko({ourProps:{...M,as:he.Fragment,children:he.createElement(wA,{ref:u,...M,...o})},theirProps:{},defaultTag:he.Fragment,features:_A,visible:m==="visible",name:"Transition"})))}),jQ=oo(function(e,t){let n=he.useContext(s_)!==null,r=n_()!==null;return he.createElement(he.Fragment,null,!n&&r?he.createElement(vS,{ref:t,...e}):he.createElement(wA,{ref:t,...e}))}),ec=Object.assign(vS,{Child:jQ,Root:vS});var c_={},bA={};bA.IconsManifest=[{id:"ci",name:"Circum Icons",projectUrl:"https://circumicons.com/",license:"MPL-2.0 license",licenseUrl:"https://github.com/Klarr-Agency/Circum-Icons/blob/main/LICENSE"},{id:"fa",name:"Font Awesome 5",projectUrl:"https://fontawesome.com/",license:"CC BY 4.0 License",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"},{id:"io",name:"Ionicons 4",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"io5",name:"Ionicons 5",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"md",name:"Material Design icons",projectUrl:"http://google.github.io/material-design-icons/",license:"Apache License Version 2.0",licenseUrl:"https://github.com/google/material-design-icons/blob/master/LICENSE"},{id:"ti",name:"Typicons",projectUrl:"http://s-ings.com/typicons/",license:"CC BY-SA 3.0",licenseUrl:"https://creativecommons.org/licenses/by-sa/3.0/"},{id:"go",name:"Github Octicons icons",projectUrl:"https://octicons.github.com/",license:"MIT",licenseUrl:"https://github.com/primer/octicons/blob/master/LICENSE"},{id:"fi",name:"Feather",projectUrl:"https://feathericons.com/",license:"MIT",licenseUrl:"https://github.com/feathericons/feather/blob/master/LICENSE"},{id:"gi",name:"Game Icons",projectUrl:"https://game-icons.net/",license:"CC BY 3.0",licenseUrl:"https://creativecommons.org/licenses/by/3.0/"},{id:"wi",name:"Weather Icons",projectUrl:"https://erikflowers.github.io/weather-icons/",license:"SIL OFL 1.1",licenseUrl:"http://scripts.sil.org/OFL"},{id:"di",name:"Devicons",projectUrl:"https://vorillaz.github.io/devicons/",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ai",name:"Ant Design Icons",projectUrl:"https://github.com/ant-design/ant-design-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"bs",name:"Bootstrap Icons",projectUrl:"https://github.com/twbs/icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ri",name:"Remix Icon",projectUrl:"https://github.com/Remix-Design/RemixIcon",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"fc",name:"Flat Color Icons",projectUrl:"https://github.com/icons8/flat-color-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"gr",name:"Grommet-Icons",projectUrl:"https://github.com/grommet/grommet-icons",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"hi",name:"Heroicons",projectUrl:"https://github.com/tailwindlabs/heroicons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"hi2",name:"Heroicons 2",projectUrl:"https://github.com/tailwindlabs/heroicons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"si",name:"Simple Icons",projectUrl:"https://simpleicons.org/",license:"CC0 1.0 Universal",licenseUrl:"https://creativecommons.org/publicdomain/zero/1.0/"},{id:"sl",name:"Simple Line Icons",projectUrl:"https://thesabbir.github.io/simple-line-icons/",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"im",name:"IcoMoon Free",projectUrl:"https://github.com/Keyamoon/IcoMoon-Free",license:"CC BY 4.0 License",licenseUrl:"https://github.com/Keyamoon/IcoMoon-Free/blob/master/License.txt"},{id:"bi",name:"BoxIcons",projectUrl:"https://github.com/atisawd/boxicons",license:"CC BY 4.0 License",licenseUrl:"https://github.com/atisawd/boxicons/blob/master/LICENSE"},{id:"cg",name:"css.gg",projectUrl:"https://github.com/astrit/css.gg",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"vsc",name:"VS Code Icons",projectUrl:"https://github.com/microsoft/vscode-codicons",license:"CC BY 4.0",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"},{id:"tb",name:"Tabler Icons",projectUrl:"https://github.com/tabler/tabler-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"tfi",name:"Themify Icons",projectUrl:"https://github.com/lykmapipo/themify-icons",license:"MIT",licenseUrl:"https://github.com/thecreation/standard-icons/blob/master/modules/themify-icons/LICENSE"},{id:"rx",name:"Radix Icons",projectUrl:"https://icons.radix-ui.com",license:"MIT",licenseUrl:"https://github.com/radix-ui/icons/blob/master/LICENSE"}];var Im={},bx={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.IconContext=e.DefaultContext=void 0;var t=he;e.DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e.IconContext=t.createContext&&t.createContext(e.DefaultContext)})(bx);var Od=hi&&hi.__assign||function(){return Od=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Od.apply(this,arguments)},UQ=hi&&hi.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};Object.defineProperty(Im,"__esModule",{value:!0});Im.IconBase=Im.GenIcon=void 0;var Yg=he,Ww=bx;function SA(e){return e&&e.map(function(t,n){return Yg.createElement(t.tag,Od({key:n},t.attr),SA(t.child))})}function BQ(e){return function(t){return Yg.createElement(xA,Od({attr:Od({},e.attr)},t),SA(e.child))}}Im.GenIcon=BQ;function xA(e){var t=function(n){var r=e.attr,s=e.size,o=e.title,l=UQ(e,["attr","size","title"]),u=s||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),Yg.createElement("svg",Od({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:Od(Od({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Yg.createElement("title",null,o),e.children)};return Ww.IconContext!==void 0?Yg.createElement(Ww.IconContext.Consumer,null,function(n){return t(n)}):t(Ww.DefaultContext)}Im.IconBase=xA;(function(e){var t=hi&&hi.__createBinding||(Object.create?function(r,s,o,l){l===void 0&&(l=o);var u=Object.getOwnPropertyDescriptor(s,o);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(r,l,u)}:function(r,s,o,l){l===void 0&&(l=o),r[l]=s[o]}),n=hi&&hi.__exportStar||function(r,s){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(bA,e),n(Im,e),n(bx,e)})(c_);var zn=c_.GenIcon,Lre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-8 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}}]})(t)},Fre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}},{tag:"path",attr:{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"}}]})(t)},VQ=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"}}]})(t)},jre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"}}]})(t)},Ure=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8Zm7-8a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 4.293V.5A.5.5 0 0 1 8 0Zm-.5 11.707-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 11.707V15.5a.5.5 0 0 1-1 0v-3.793Z"}}]})(t)},Bre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z"}}]})(t)},Vre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04z"}}]})(t)},zre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04zM4.705 11.912a1.23 1.23 0 0 0-.419-.1c-.246-.013-.573.05-.879.479-.197.275-.355.532-.5.777l-.105.177c-.106.181-.213.362-.32.528a3.39 3.39 0 0 1-.76.861c.69.112 1.736.111 2.657-.12.559-.139.843-.569.993-1.06a3.122 3.122 0 0 0 .126-.75l-.793-.792zm1.44.026c.12-.04.277-.1.458-.183a5.068 5.068 0 0 0 1.535-1.1c1.9-1.996 4.412-5.57 6.052-8.631-2.59 1.927-5.566 4.66-7.302 6.792-.442.543-.795 1.243-1.042 1.826-.121.288-.214.54-.275.72v.001l.575.575zm-4.973 3.04.007-.005a.031.031 0 0 1-.007.004zm3.582-3.043.002.001h-.002z"}}]})(t)},Hre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h8zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4z"}},{tag:"path",attr:{d:"M4 2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-2zm0 4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-4z"}}]})(t)},lC=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"}}]})(t)},$re=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}}]})(t)},qre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"}}]})(t)},Wre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103zM2.25 8.184l3.897 1.67a.5.5 0 0 1 .262.263l1.67 3.897L12.743 3.52 2.25 8.184z"}}]})(t)},zQ=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}},{tag:"path",attr:{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"}}]})(t)},Gre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"}}]})(t)},Yre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414l-3.879-3.879zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"}}]})(t)},Qre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2v-1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5L14 4.5ZM1.784 15.849l.741-2.789h.033l.74 2.789h.73l1.055-3.999h-.858l-.595 2.903h-.041l-.706-2.903H2.2l-.706 2.903h-.038l-.6-2.903H0l1.055 3.999h.73Zm3.715 0 .314-1.028h1.336l.313 1.028h.841L6.967 11.85h-.926L4.7 15.849h.8Zm1.002-3.234.49 1.617H5.977l.49-1.617H6.5Zm3.604 3.234h-.952L7.814 11.85h.917l.897 3.138h.038l.888-3.138h.879l-1.328 3.999Z"}}]})(t)},Kre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"}}]})(t)},Xre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"}},{tag:"path",attr:{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"}}]})(t)},Zre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 3a5 5 0 0 0-5 5v1h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V8a6 6 0 1 1 12 0v5a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1V8a5 5 0 0 0-5-5z"}}]})(t)},Jre=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12zM2 4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H2z"}},{tag:"path",attr:{d:"M13 10.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm0-2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm-5 0A.25.25 0 0 1 8.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 8 8.75v-.5zm2 0a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-.5zm1 2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm-5-2A.25.25 0 0 1 6.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 6 8.75v-.5zm-2 0A.25.25 0 0 1 4.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 4 8.75v-.5zm-2 0A.25.25 0 0 1 2.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 2 8.75v-.5zm11-2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm-2 0a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm-2 0A.25.25 0 0 1 9.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 9 6.75v-.5zm-2 0A.25.25 0 0 1 7.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 7 6.75v-.5zm-2 0A.25.25 0 0 1 5.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 5 6.75v-.5zm-3 0A.25.25 0 0 1 2.25 6h1.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 6.75v-.5zm0 4a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm2 0a.25.25 0 0 1 .25-.25h5.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-5.5a.25.25 0 0 1-.25-.25v-.5z"}}]})(t)},eie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"}},{tag:"path",attr:{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"}}]})(t)},tie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.5 2.672a.5.5 0 1 0 1 0V.843a.5.5 0 0 0-1 0v1.829Zm4.5.035A.5.5 0 0 0 13.293 2L12 3.293a.5.5 0 1 0 .707.707L14 2.707ZM7.293 4A.5.5 0 1 0 8 3.293L6.707 2A.5.5 0 0 0 6 2.707L7.293 4Zm-.621 2.5a.5.5 0 1 0 0-1H4.843a.5.5 0 1 0 0 1h1.829Zm8.485 0a.5.5 0 1 0 0-1h-1.829a.5.5 0 0 0 0 1h1.829ZM13.293 10A.5.5 0 1 0 14 9.293L12.707 8a.5.5 0 1 0-.707.707L13.293 10ZM9.5 11.157a.5.5 0 0 0 1 0V9.328a.5.5 0 0 0-1 0v1.829Zm1.854-5.097a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L8.646 5.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0l1.293-1.293Zm-3 3a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L.646 13.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0L8.354 9.06Z"}}]})(t)},nie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M14 11V2h1v9h-1zM6 3v10H5V3h1z"}},{tag:"path",attr:{d:"M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"}}]})(t)},rie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 12a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}},{tag:"path",attr:{d:"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm1 2h6a1 1 0 0 1 1 1v2.5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm3 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"}}]})(t)},iie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5zm4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"}}]})(t)},sie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"}}]})(t)},oie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"}}]})(t)},aie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.804 8 5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z"}}]})(t)},cie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}},{tag:"path",attr:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}}]})(t)},HQ=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}}]})(t)},lie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.5 1v7h1V1h-1z"}},{tag:"path",attr:{d:"M3 8.812a4.999 4.999 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812z"}}]})(t)},$Q=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"}}]})(t)},uie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z"}}]})(t)},hie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.5 3.5c-.614-.884-.074-1.962.858-2.5L8 7.226 11.642 1c.932.538 1.472 1.616.858 2.5L8.81 8.61l1.556 2.661a2.5 2.5 0 1 1-.794.637L8 9.73l-1.572 2.177a2.5 2.5 0 1 1-.794-.637L7.19 8.61 3.5 3.5zm2.5 10a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0zm7 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"}}]})(t)},die=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(t)},fie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.5 2a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11a.5.5 0 0 1 .5-.5zm-2 2a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zm4 0a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zm-6 1.5A.5.5 0 0 1 5 6v4a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm8 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm-10 1A.5.5 0 0 1 3 7v2a.5.5 0 0 1-1 0V7a.5.5 0 0 1 .5-.5zm12 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0V7a.5.5 0 0 1 .5-.5z"}}]})(t)},pie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.5 5A1.5 1.5 0 0 1 5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5zM5 4.5a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5z"}}]})(t)},mie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"}}]})(t)},gie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"}}]})(t)},qQ=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}}]})(t)},WQ=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}},{tag:"path",attr:{d:"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"}}]})(t)},vie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9 4a.5.5 0 0 0-.812-.39L5.825 5.5H3.5A.5.5 0 0 0 3 6v4a.5.5 0 0 0 .5.5h2.325l2.363 1.89A.5.5 0 0 0 9 12V4zm3.025 4a4.486 4.486 0 0 1-1.318 3.182L10 10.475A3.489 3.489 0 0 0 11.025 8 3.49 3.49 0 0 0 10 5.525l.707-.707A4.486 4.486 0 0 1 12.025 8z"}}]})(t)},yie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zm7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z"}}]})(t)},_ie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.717 3.55A.5.5 0 0 1 11 4v8a.5.5 0 0 1-.812.39L7.825 10.5H5.5A.5.5 0 0 1 5 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"}}]})(t)},wie=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"}},{tag:"path",attr:{d:"M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"}},{tag:"path",attr:{d:"M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"}}]})(t)},GQ=function(t){return zn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}}]})(t)},Qm=c_.GenIcon,bie=function(t){return Qm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m22 15-3-4-3 4h1.906c-.436 2.469-2.438 4.471-4.906 4.906V13h2v-2h-2V9.336c1.543-.459 2.714-1.923 2.714-3.621C15.714 3.666 14.048 2 12 2S8.286 3.666 8.286 5.715c0 1.698 1.171 3.162 2.714 3.621V11H9v2h2v6.906C8.531 19.471 6.529 17.469 6.094 15H8l-3-4-3 4h2.073c.511 3.885 3.929 7 7.927 7s7.416-3.115 7.927-7H22zM10.286 5.715C10.286 4.77 11.055 4 12 4s1.714.77 1.714 1.715c0 .951-.801 1.785-1.714 1.785s-1.714-.834-1.714-1.785z"}}]})(t)},YQ=function(t){return Qm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H10c-1.103 0-2 .897-2 2v4H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2v-4h4c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM4 20V10h10l.002 10H4zm16-6h-4v-4c0-1.103-.897-2-2-2h-4V4h10v10z"}}]})(t)},Sie=function(t){return Qm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m19.684 5.821-9-3.272A1.998 1.998 0 0 0 8 4.428v6.129A3.953 3.953 0 0 0 6 10c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4V4.428L19 7.7v6.856A3.962 3.962 0 0 0 17 14c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4V7.7c0-.838-.529-1.594-1.316-1.879zM6 16c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zm11 4c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"}}]})(t)},xie=function(t){return Qm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 21h14a2 2 0 0 0 2-2V8a1 1 0 0 0-.29-.71l-4-4A1 1 0 0 0 16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm10-2H9v-5h6zM13 7h-2V5h2zM5 5h2v4h8V5h.59L19 8.41V19h-2v-5a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v5H5z"}}]})(t)},Tie=function(t){return Qm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z"}},{tag:"path",attr:{d:"M9 10h2v8H9zm4 0h2v8h-2z"}}]})(t)},Eie=function(t){return Qm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 15h2V9h3l-4-5-4 5h3z"}},{tag:"path",attr:{d:"M20 18H4v-7H2v7c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2v-7h-2v7z"}}]})(t)};function TA(e){const t=du(),{index:n}=e,r=X4(["alt"]),[s,o]=he.useState(e.project??{}),[l,u]=he.useState(!!e.project);he.useEffect(()=>{!e.project&&e.filePath&&fetch(e.filePath).then(be=>be.json()).then(o).then(()=>u(!0))},[e]);const[f,m]=he.useState(!1),v=()=>m(be=>!be);if(!l)return null;const b=$1(s),{id:x,name:O}=b,T=new Date(b.dateCreated).toLocaleString(),D=new Date(b.lastUpdated).toLocaleString(),M=Qo(s),{bpm:C,timeSignature:R}=M,j=k4(s),F=`${Ma(M,j).toFixed(1)}s`,ie=qm(s),ee=uu(s),_e=ie.map(({patternId:be})=>be),Te=[...new Set(_e)].map(be=>{var W;return(W=ee[be])==null?void 0:W.name}),Fe=J2(s),je=xh(s),et=Sh(s),Ge=Fe.map(be=>Rm(be,je,et)).map(vN),We=[...new Set(Ge)],pe=YN(s).map(({key:be})=>jN(be)),Pe=[...new Set(pe)],Ye=()=>Wt("div",{className:"w-full space-x-2 py-1 px-2 flex items-center justify-center text-md bg-slate-900 rounded border border-slate-700 cursor-default [&>*]:cursor-pointer [&>*]:rounded",onClick:eS,children:[V(zQ,{className:"px-1 hover:bg-slate-800 rounded",onClick:()=>t(z4(s))}),V(YQ,{className:"px-1 hover:bg-slate-800 rounded",onClick:()=>V4(s)}),Wt("div",{className:"flex relative h-full",children:[V(qQ,{className:"px-1 hover:bg-slate-800 rounded",onClick:v}),V(ec,{show:f,appear:!0,enter:"transition-all duration-300 ease-in-out",enterFrom:"opacity-0 scale-75",enterTo:"opacity-100 scale-100",leave:"transition-all duration-300 ease-in-out",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-75",className:"absolute p-1 w-32 bg-slate-900 shadow-xl left-4 top-5 rounded border-2 border-slate-600/80 text-xs text-slate-200 whitespace-nowrap",children:Wt("div",{className:"flex px-2 flex-col items-center",onClick:v,children:[V("p",{className:"pb-1 mb-1 text-center border-b border-b-slate-500 w-full",children:"Are you sure?"}),Wt("div",{className:"flex w-full items-center justify-center",children:[V("button",{className:"px-4 hover:bg-slate-700 hover:text-red-500 rounded",onClick:be=>{eS(be),t(nG(x))},children:"Yes"}),V("button",{className:"px-4 hover:bg-slate-700 hover:text-sky-200 rounded",children:"No"})]})]})})]})]}),it=()=>Wt("div",{className:"my-auto w-24 flex flex-col items-center text-sky-400 text-xl font-bold",children:[V(FG,{className:"h-16"}),n!==void 0&&Wt("h1",{className:"my-1",children:[e.filePath?"Demo":"File"," #",n+1]}),!!e.project&&V(Ye,{})]}),Qe=()=>Wt("div",{className:"mx-10 h-full flex-1 flex flex-col justify-center truncate [&>*]:truncate",children:[V("h1",{className:"text-3xl text-white font-bold",children:r.alt?x.slice(17):O}),Wt("h6",{className:"text-slate-400",children:["Date Created: ",T]}),Wt("h6",{className:"text-slate-400",children:["Last Updated: ",D]}),Wt("h2",{className:"mt-2 text-md",children:[Wt("p",{children:["Duration: ",F," @ ",C,"BPM"]}),Wt("p",{children:["Time Signature: ",R[0],"/",R[1]]})]})]}),bt=be=>be.length?be.map(W=>V("li",{className:"w-full",children:W},W)):V("li",{children:"None Used"}),Mt=be=>V("div",{className:`mx-4 px-4 py-1 bg-slate-800 border border-slate-500 rounded-lg flex flex-col items-center flex-shrink-0 h-full w-60 overflow-scroll text-ellipsis ${be.className??""}`,children:be.children}),rt=be=>V("h2",{className:`flex w-full mb-2 items-center text-emerald-500 border-b text-lg ${be.className??""}`,children:be.children}),Kt=be=>V("ul",{className:"flex-1 w-full space-y-1 [&>*]:truncate",children:be.children}),Ue=()=>Wt("div",{className:"flex flex-shrink-0 justify-end",children:[Wt(Mt,{className:"group-hover:shadow-[0px_0px_20px_-5px_rgb(16,185,129)]",children:[V(rt,{className:"text-emerald-500",children:"Patterns"}),V(Kt,{children:bt(Te)})]}),Wt(Mt,{className:"group-hover:shadow-[0px_0px_20px_-5px_rgb(14,165,233)]",children:[V(rt,{className:"text-sky-400",children:"Scales"}),V(Kt,{children:bt(We)})]}),Wt(Mt,{className:"group-hover:shadow-[0px_0px_20px_-5px_rgb(255,138,76)]",children:[V(rt,{className:"text-orange-400",children:"Instruments"}),V(Kt,{children:bt(Pe)})]})]}),ae=`rounded-lg border border-slate-400 ${f?"shadow-[0px_0px_20px_0px_rgb(255,0,0)]":"hover:shadow-[0px_0px_20px_0px_rgb(20,20,20)]"}`,we=()=>{e.filePath?t(oG(e.filePath)):t(iG(x))};return Wt(ec,{appear:!0,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:`group w-full flex p-4 h-40 bg-slate-900/90 hover:bg-slate-900 ${ae} text-slate-200 text-sm cursor-pointer transition-all duration-150`,onClick:we,children:[V(it,{}),V(Qe,{}),V(Ue,{})]},x)}const QQ="/harmonia/assets/demo-ae381c73.ham";function KQ(){const e=[QQ];return V(ec,{show:!0,appear:!0,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"w-full h-full",children:V(()=>V("div",{className:"my-8 w-full h-full space-y-8",children:e.map((n,r)=>V(TA,{filePath:n,index:r},n))}),{})})}function EA(e){he.useEffect(()=>{QW.then(t=>!!t&&e())},[])}var pu=c_.GenIcon,uC=function(t){return pu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320.938 13.28c-16.646 34.584-38.466 60.157-63.094 60.157-24.522 0-47.035-25.275-63.656-59.593.366 39.358-9.71 90.884-30.938 105.125-21.228 14.24-49.64-12.002-78.844-32.126 17.455 34.04 42.095 67.5 29.78 92.28-12.21 24.576-59.172 35.96-92.874 35.626 29.338 19.29 78.842 45.803 78.844 74.188.002 28.384-49.504 53.71-78.844 73 33.702-.333 80.663 11.612 92.876 36.187 12.227 24.61-9.03 56.31-33.75 85.563 44.826-15.413 65.142-5.735 85.374 10.812h31.75c-42.74-35.413-72.062-107.828-72.062-191.563-.002-118.62 58.92-214.906 131.406-214.906 72.488 0 131.406 96.29 131.406 214.907 0 83.74-29.317 156.153-72.062 191.563h27.313c19.847-14.62 39.796-25.65 89.687-9.28-26.233-30.264-42.2-62.484-29.97-87.095 12.257-24.665 56.658-36.612 90.533-36.188-29.4-19.297-75.344-44.584-75.344-73 0-28.415 45.943-54.89 75.342-74.187-33.874.424-78.273-10.962-90.53-35.625-12.315-24.78 9.982-58.24 27.437-92.28-29.202 20.12-57.583 46.385-78.845 32.124-21.262-14.263-31.382-66.13-30.938-105.69zm-68.97 93.75c-19.56 2.543-37.343 25.564-37.343 55.407 0 16.447 5.67 30.986 14 41.032l10.156 12.218-15.593 2.937c-10.815 2.035-18.743 7.737-25.53 17.063-6.79 9.325-11.984 22.344-15.626 37.343-6.585 27.128-8.078 60.24-8.31 89.47h36.093l.656 8.656 9.124 122.563h76.187l8.095-122.5.563-8.72h34.375c-.026-29.592-.44-63.166-6.407-90.5-3.295-15.095-8.287-28.096-15.156-37.313-6.87-9.216-15.133-14.897-27.28-16.78l-15.94-2.47 10.064-12.593c7.97-9.996 13.375-24.36 13.375-40.406-.002-31.817-19.884-55.313-41.44-55.313-2.54 0-3.96-.103-4.03-.094h-.03z"}}]})(t)},Cie=function(t){return pu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M37.1 28.45c-.27 29.1 9.07 46.67 25.07 67.1l9.66-9.6 14.73 14.75-11.46 11.4 9.81 12.6 31.19-31.25-12.2-10.1-7.83 7.8-14.74-14.7 6.37-6.4zm92.2 78.25L98.11 138l14.09 14.1 31.3-31.2zm25.7 25.7-31 31 10 10c10-4 22-1 30 7 15 14 37 37 37 37l29-11zm12 20c3 2 3 7 0 10s-7 3-10 0-3-8 0-10c3.2-2.8 7.3-2.6 10 0zm22 21c3 3 3 8 0 11-3 2-8 2-11 0-3-3-3-8 0-11 3.4-2.8 8.1-2.8 11 0zM141.3 184c-2.9 0-5.5.5-7.9 1.3l76.8 76.7 53.2-17.2s28.4 27.6 44 42.7c6 5.9 14.9 7.7 22.8 4.8-27.1-26.8-55.3-54-82.8-80.9l-53 17.1s-24.2-24.2-38.2-38.1c-4-4.1-9.3-6.3-14.9-6.4zm68.7 10.4c3 3 3 8 0 11s-8 3-11 0c-2-3-2-8 0-11 3.4-2.8 8.1-2.8 11 0zm34.2 31.3 9.5 9.3-40.2 12.6-9.3-9.3zm14.8 31.7-30 11 9 9 73 79 38-37-18-16-1 1c-11 3-22 0-31-7-15-16-40-40-40-40zm3 13c3 3 3 8 0 11s-8 3-11 0-3-8 0-11c4.3-2.7 7.1-2 11 0zm22 22c3 3 3 8 0 11s-7 3-10 0-3-8 0-11c3.3-1.9 7.1-1.9 10 0zm23 23c3 3 3 8 0 11-3 2-8 2-11 0-3-3-3-8 0-11 3.4-2.8 8.1-2.8 11 0zm52.7 15.5-37.3 37.3 14.1 14.1 37.3-37.2zm26.2 26.3-37.3 37.3c19.2 19.2 14.6 55.7 14.6 55.7s11.6-17.5 35.7-41.5l.5-.6c24.5-24.5 42.2-36.2 42.2-36.2s-36.5 4.5-55.7-14.7zm85.5 14.5c-9.4 0-35.6 19.4-62.3 46.1-30.4 30.4-50.7 59.5-45.2 64.9 5.4 5.5 34.5-14.8 64.9-45.2 30.4-30.4 50.7-59.5 45.2-64.9-.6-.6-1.4-.9-2.6-.9z"}}]})(t)},kie=function(t){return pu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476.865 25.514L282.941 145.422l19.32 9.215L486.333 40.822l-9.467-15.308zM73.6 65.508l-7.748 16.246 286.595 136.709 1.389 2.715c3.244 6.346 9.677 12.524 17.723 16.373l.003.002.004.002c8.566 4.084 17.188 5.364 23.63 4.373 6.443-.992 10.352-3.63 12.523-8.18 2.17-4.55 1.665-8.39-1.725-13.603-3.39-5.213-10.122-10.882-18.935-15.086-8.063-3.843-16.927-4.961-23.91-3.487l-2.983.63L73.6 65.507zm121.097 97.65c-40.936 2.913-77.435 8.644-106.084 16.283-21.165 5.644-38.06 12.392-48.953 19.26C28.767 205.57 25 211.723 25 216c0 4.277 3.767 10.43 14.66 17.299 10.894 6.868 27.788 13.616 48.953 19.26C130.943 263.847 190.374 271 256 271c49.18 0 94.88-4.017 132.512-10.781-8.123-.325-16.546-2.53-24.703-6.422l-.002-.002-.004-.002c-10.2-4.878-18.614-12.38-24.135-21.484l-72.705-34.68-36.498 22.566c-4.5 9.65-12.051 18.021-21.662 23.977l-.002.002-.004.002c-10.715 6.625-22.297 10.072-33.281 9.588-10.985-.484-21.794-5.485-27.856-15.29-6.062-9.803-5.366-21.696-.515-31.294 4.85-9.598 13.3-17.76 23.785-24.243l.002-.001h.002c9.63-5.951 20.504-8.973 31.16-8.688l6.904-4.27-14.3-6.82zm127.432.36l-.545.336 41.3 19.7c10.563-1.44 21.702.385 31.92 5.257h.005c11.125 5.306 20.412 12.504 26.275 21.52 5.863 9.014 7.844 20.763 2.88 31.167-3.08 6.457-8.178 11.27-14.2 14.395 4.699-1.07 9.273-2.174 13.623-3.334 21.165-5.644 38.06-12.392 48.953-19.26C483.233 226.43 487 220.277 487 216c0-4.277-3.767-10.43-14.66-17.299-10.894-6.868-27.788-13.616-48.953-19.26-27.516-7.337-62.286-12.91-101.258-15.923zm-93.81 15.677l-21.499 13.293-3.033-.3c-7.102-.708-15.793 1.364-23.39 6.058l-.002.002c-8.305 5.135-14.382 11.502-17.186 17.05-2.804 5.55-2.89 9.422-.238 13.71 2.651 4.288 6.822 6.486 13.336 6.773 6.513.287 14.949-1.923 23.023-6.916 7.58-4.699 13.305-11.538 15.842-18.199l1.086-2.85 31.383-19.404-19.323-9.217zM39.642 253.912l26.941 44.9 33.31-24.982a408.545 408.545 0 0 1-15.92-3.879c-17.352-4.627-32.253-9.928-44.331-16.039zm432.714 0c-12.078 6.11-26.98 11.412-44.332 16.04-6.926 1.846-14.283 3.565-21.949 5.175l38.926 24.377 27.355-45.592zM487 264.492l-17.576 29.293a90.955 90.955 0 0 0 2.209-.97c5.948-2.72 10.255-5.583 12.627-7.944 2.371-2.361 2.74-3.683 2.74-4.871v-15.508zm-462 .002V280c0 1.188.369 2.51 2.74 4.871 2.372 2.361 6.679 5.224 12.627 7.943.712.326 1.45.65 2.207.971L25 264.495zm98.639 14.027l-36.737 27.553c1.874.36 3.74.72 5.674 1.065 21.728 3.862 47.224 6.792 74.612 8.775l-36.143-36.143a573.54 573.54 0 0 1-7.406-1.25zm233.996 4.538c-23.345 2.877-48.603 4.787-75.155 5.552l37.08 27.809 38.075-33.361zm27.261.045l-37.195 32.59c26.286-1.979 50.764-4.83 71.723-8.555 1.011-.18 1.972-.373 2.967-.557l-37.495-23.478zm-224.369.697l32.317 32.316 36.676-27.506c-24.226-.698-47.389-2.342-68.993-4.81zM256 291.25l-36.322 27.242c12.024.332 24.171.508 36.322.508 12.15 0 24.298-.176 36.322-.508L256 291.25zM25 305.121V440c0 5.5 4.3 11.699 16.09 18.436 3.953 2.259 8.63 4.452 13.91 6.554V317.13c-8.28-2.377-15.693-5.007-22.117-7.943-2.813-1.287-5.44-2.63-7.883-4.065zm462 0c-2.443 1.435-5.07 2.778-7.883 4.065-6.424 2.936-13.838 5.566-22.117 7.943V464.99c5.28-2.103 9.957-4.295 13.91-6.554C482.7 451.699 487 445.5 487 440V305.121zM73 321.63v149.488c6.196 1.816 12.868 3.523 19.953 5.098 25.716 5.714 56.789 9.79 90.047 12.2V334.978c-34.264-1.945-66.46-5.297-93.576-10.118A430.035 430.035 0 0 1 73 321.63zm366 0a430.032 430.032 0 0 1-16.424 3.232c-27.115 4.82-59.312 8.173-93.576 10.118v153.435c33.258-2.409 64.331-6.485 90.047-12.2 7.085-1.574 13.757-3.281 19.953-5.097V321.63zM201 335.87v153.684c18.028.96 36.517 1.445 55 1.445 18.483 0 36.972-.485 55-1.445V335.87c-18.053.752-36.52 1.129-55 1.129-18.48 0-36.947-.377-55-1.129z"}}]})(t)},Oie=function(t){return pu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M491.938 18.813l-17.72 2.375-89.374 11.968-6.22.844-1.562 6.094-18.5 72.156-136.187 137.28c-2.094-4.4-4.324-8.708-6.875-12.843-7.317-11.86-18.338-22.357-34.844-25.687-6.457-1.303-12.664-1.702-18.53-1.28-17.602 1.26-32.182 9.775-41.69 22.5-10.95 14.654-15.87 34.054-15.31 54.405-36.16 4.516-66.336 31.382-80.657 64.313-15.608 35.885-11.856 80.956 24.655 111.156 43.28 35.8 88.28 31.622 119.875 11.22 28.593-18.467 47.778-48.14 50.813-74.752 18.615-2.81 38.424-9.03 56.375-17.968 20.474-10.195 38.536-23.433 48.406-40.063l7.625-12.874-14.908-1.22c-34.56-2.818-53.76-12.87-66.406-26.217l146-147.22 18.938 1.375 6.156.438 2.813-5.5 6.125-11.907 25.03 11.906L464 132.438l-24.53-11.656 7.655-14.874 25.844 12.28 8.03-16.874-25.313-12.03L464 73.155 491.03 86l8.033-16.875L472.53 56.53l11.22-21.81 8.188-15.907zm-124.532 111l13.22 13.093-200.22 201.875c-1.556-1.983-3.227-3.898-5.062-5.717-2.65-2.628-5.493-4.96-8.47-7l200.532-202.25zm-235.47 210.093c10.914-.046 21.837 4.094 30.25 12.438 16.834 16.69 16.938 43.576.25 60.406-16.685 16.83-43.573 16.94-60.405.25-16.83-16.69-16.936-43.576-.25-60.406 8.345-8.415 19.245-12.64 30.157-12.688z"}}]})(t)},Nie=function(t){return pu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M24 80v352h64V288H72V80H24zm96 0v208h-16v144h64V288h-16V80h-32zm80 0v208h-16v144h64V288h-16V80h-32zm80 0v208h-16v144h64V80h-48zm64 0v352h64V288h-16V80h-48zm96 0v208h-16v144h64V80h-48z"}}]})(t)},Aie=function(t){return pu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M251.47 18.844c-42.103 0-80.822 25.502-109.532 68.156C113.227 129.654 95 189.316 95 255.406s18.227 125.784 46.938 168.438c28.71 42.653 67.43 67.468 109.53 67.468 42.102 0 80.853-24.815 109.563-67.468 28.712-42.654 46.94-102.347 46.94-168.438 0-66.09-18.228-125.752-46.94-168.406-28.71-42.654-67.46-68.156-109.56-68.156zm-52.94 161.812c.907-.013 1.812-.018 2.72 0 9.685.198 19.48 2.548 29.188 6.438l-7 16.937c-31.307-12.544-60.594-2.12-80 30.94l-16.375-9.908c16.74-28.52 43.404-44.005 71.468-44.406zm104.72 1.156c28.064.402 54.695 15.886 71.438 44.407l-16.344 9.342c-19.407-33.06-48.694-42.918-80-30.375l-7-17.53c9.707-3.89 19.502-5.615 29.187-5.813.91-.02 1.815-.044 2.72-.03zM252.187 245.5c53.175 0 96.282 50.127 96.282 111.97 0 61.838-43.108 112-96.283 112-53.174 0-96.28-50.16-96.28-112 0-61.843 43.106-111.97 96.28-111.97zm-19.53 54.156l2 14.094 11.03 78.78c-6.2-2.444-13.285-3.874-20.656-3.874-21.288 0-36.88 11.77-34.843 26.28 2.04 14.513 20.96 26.25 42.25 26.25s36.883-11.737 34.844-26.25c0-.01.002-.02 0-.03l.408-.062-9.25-66.875 39.875 13.31 12.093 4.44V320.593l-6.875-1.625-57.186-15.69-13.688-3.624z"}}]})(t)},XQ=function(t){return pu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M468.53 236.03H486v39.94h-17.47v-39.94zm-34.426 51.634h17.47v-63.328h-17.47v63.328zm-33.848 32.756h17.47V191.58h-17.47v128.84zm-32.177 25.276h17.47V167.483h-17.47v178.17zm-34.448-43.521h17.47v-92.35h-17.47v92.35zm-34.994 69.879h17.47v-236.06h-17.525v236.06zM264.2 405.9h17.47V106.1H264.2V405.9zm-33.848-46.284h17.47V152.383h-17.47v207.234zm-35.016-58.85h17.47v-87.35h-17.47v87.35zm-33.847-20.823h17.47V231.98h-17.47v48.042zm-33.848 25.66h17.47v-99.24h-17.47v99.272zm-33.302 48.04h17.47V152.678H94.34v201zm-33.847-30.702h17.47V187.333h-17.47v135.642zM26 287.664h17.47v-63.328H26v63.328z"}}]})(t)},Mie=function(t){return pu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M385.853 21.083c-2.876-.097-4.956.287-6.693 1.058 4.438 38.628-3.264 69.792-21.635 99.469-19.234 31.07-49.316 60.967-88.852 100.502l-3.586 3.722 21.079 21.079 3.722-3.586c28.35-28.35 51.736-51.808 74.16-69.922a50.053 50.053 0 0 1 7.662-.918 47.688 47.688 0 0 1 2.582-.033c12.806.18 23.989 5.554 32.149 13.714 16.225 16.225 21.424 44.398-3.31 73.522-8.9-7.421-17.504-10.952-25.503-10.69a24.831 24.831 0 0 0-4.064.47c-10.692 2.138-17.328 9.532-22.984 15.189l-23.334 23.334 12.726 12.728 23.336-23.336c5.657-5.657 10.335-9.575 13.785-10.265a9.39 9.39 0 0 1 2.133-.188c2.622.075 6.14 1.307 11.451 5.711l-39.39 39.39 12.728 12.73 45.961-45.962c36.549-36.548 33.505-81.048 9.193-105.36-8.559-8.558-19.627-14.465-31.962-16.952 1.06-.683 2.12-1.356 3.183-2.014 29.677-18.371 60.841-26.073 99.469-21.635.771-1.737 1.155-3.817 1.058-6.693-.16-4.804-1.931-11.321-5.304-18.549-6.746-14.455-19.647-31.608-34.625-46.586-14.978-14.978-32.131-27.88-46.586-34.625-7.228-3.373-13.745-5.143-18.549-5.304zM217.492 202.584l-15.557 15.557 12.729 12.727 15.556-15.555-12.728-12.729zm23.486 24.596l-14.143 14.143 111.723 111.722 14.143-14.14L240.978 227.18zm-50.309 2.227l-15.556 15.556 12.728 12.727 15.557-15.555-12.729-12.728zm23.438 24.644l-14.143 14.143L311.69 379.916l14.14-14.142L214.108 254.05zm-50.203 2.121l-15.557 15.557 12.729 12.729L176.63 268.9l-12.726-12.729zm23.334 24.748l-14.143 14.143 111.723 111.723 14.142-14.141L187.238 280.92zm-13.75 39.99L51.355 447.683l12.963 12.963 39.988-38.525c.004.092.001.186.006.279.877 17.378 8.833 33.331 20.701 45.2 11.868 11.867 27.822 19.822 45.2 20.698 17.377.877 35.967-5.7 51.673-21.406l48.791-48.79-12.728-12.73-42.414 42.415c-7.028-7.302-6.922-10.348-6-13.532.964-3.332 5.28-8.376 10.937-14.033l26.162-26.162-12.726-12.728-26.164 26.164c-5.657 5.656-12.655 11.926-15.5 21.755-2.715 9.379.623 20.584 10.172 30.83-10.453 7.99-21.092 10.756-31.297 10.24-12.41-.625-24.387-6.459-33.38-15.45-8.99-8.992-14.824-20.968-15.45-33.377-.334-6.622.726-13.428 3.681-20.246l65.117-62.735-17.6-17.601zM33.796 455.578l-12.728 12.728 22.627 22.627 12.728-12.728-22.627-22.627z"}}]})(t)},Die=function(t){return pu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.9 26l-23 7.69-.1 12.66 17.8 17.81 12.7-.1 7.7-23.04zm-32.5 37l-227 210.5 27.2 27L449 73.57zm-39.6-19.33L385.7 56.7l15.6 15.5 13.5-12.53zm53.5 53.59l-12.5 13.54 15.5 15.4 13.1-13zm-79.6-27.52l-13 13.02 14.6 14.61 13.5-12.58zm54.5 54.46l-12.5 13.6 14.5 14.5 13.1-13.1zm-124 39.2c-28.7-17.5-72-25.4-116.3 47.8l-7.2-1.4-7.3 13c3.8 1 13.5 8.2 12.4 12.1-3.5 11.3-48.2 64.3-70.6 44.5-2.9-2.6-5.8-5.7-8-9.6l-14.35 7.9c1.23 10-1.95 13.8-6.38 15.8-82.975 36.6-64.15 78.6-33.01 126.9l3.11-3c22.09-22.2 43.62-54.6 62.73-82.7l6.1-9.3 13 13 10.1-10.1-10.8-10.9 18.8-7.3 5.1 5.2 33.3-33.4c-2.9-3-5.9-6-8.9-8.9zm45.5 45.5L239 327l-8.9-8.9-33.3 33.3 5 5.1-7.1 18.9-10.9-11-10.1 10.2 12.8 12.9-9.2 6.3c-27.6 18.9-60.6 40.6-82.61 62.7l-3.14 3c48.45 31.2 90.45 50 127.05-33 2-4.4 5.7-7.6 15.8-6.4l7.8-14.3c-3.8-2.3-7-5-9.6-8-19.8-22.4 33.2-67.2 44.5-70.7 3.9-1.1 11 8.6 12.1 12.4l13-7.1-1.4-7.2c73.2-44.3 65.4-87.7 47.9-116.3zM206.9 295l-33.2 33.3 10.1 10.1 33.3-33.3zm-46.3 46.3l-10.2 10.1 10.2 10.1 10.1-10.1zm-33.4 13c-16.4 24.2-34.63 51-54.84 72l2.97 10.3 10.36 3c21.11-20.1 48.01-38.4 72.11-54.8z"}}]})(t)},Rie=function(t){return pu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M25 57v270h78V57H25zm96 16v238h78V73h-78zm-57 7a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm153 9v206h78V89h-78zm-57 7a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm153 9v174h78V105h-78zm-57 7a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm153 9v142h78V121h-78zm-57 7a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm96 16a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm0 64a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm-96 16a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm-96 16a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm-96 16a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm-96 16a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm352 57c-12.81 0-23 10.19-23 23s10.19 23 23 23 23-10.19 23-23-10.19-23-23-23zm-40.977 23.967l-162.242 40.56L65.117 375.07l-2.234 17.86 101.53 12.691L29.815 439.27l4.368 17.46 179.7-44.925 193.313 24.164a40.592 40.592 0 0 1 2.246-17.857l-147.187-18.4 117.162-29.29a40.58 40.58 0 0 1-4.395-17.455zM448 409c-12.81 0-23 10.19-23 23s10.19 23 23 23 23-10.19 23-23-10.19-23-23-23z"}}]})(t)},CA={exports:{}};function ZQ(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gw={exports:{}},hC;function JQ(){return hC||(hC=1,function(e,t){(function(n,r){e.exports=r()})(hi,function(){var n;function r(){return n.apply(null,arguments)}function s(p){n=p}function o(p){return p instanceof Array||Object.prototype.toString.call(p)==="[object Array]"}function l(p){return p!=null&&Object.prototype.toString.call(p)==="[object Object]"}function u(p,w){return Object.prototype.hasOwnProperty.call(p,w)}function f(p){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(p).length===0;var w;for(w in p)if(u(p,w))return!1;return!0}function m(p){return p===void 0}function v(p){return typeof p=="number"||Object.prototype.toString.call(p)==="[object Number]"}function b(p){return p instanceof Date||Object.prototype.toString.call(p)==="[object Date]"}function x(p,w){var N=[],P,$=p.length;for(P=0;P<$;++P)N.push(w(p[P],P));return N}function O(p,w){for(var N in w)u(w,N)&&(p[N]=w[N]);return u(w,"toString")&&(p.toString=w.toString),u(w,"valueOf")&&(p.valueOf=w.valueOf),p}function T(p,w,N,P){return qi(p,w,N,P,!0).utc()}function D(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function M(p){return p._pf==null&&(p._pf=D()),p._pf}var C;Array.prototype.some?C=Array.prototype.some:C=function(p){var w=Object(this),N=w.length>>>0,P;for(P=0;P<N;P++)if(P in w&&p.call(this,w[P],P,w))return!0;return!1};function R(p){if(p._isValid==null){var w=M(p),N=C.call(w.parsedDateParts,function($){return $!=null}),P=!isNaN(p._d.getTime())&&w.overflow<0&&!w.empty&&!w.invalidEra&&!w.invalidMonth&&!w.invalidWeekday&&!w.weekdayMismatch&&!w.nullInput&&!w.invalidFormat&&!w.userInvalidated&&(!w.meridiem||w.meridiem&&N);if(p._strict&&(P=P&&w.charsLeftOver===0&&w.unusedTokens.length===0&&w.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(p))p._isValid=P;else return P}return p._isValid}function j(p){var w=T(NaN);return p!=null?O(M(w),p):M(w).userInvalidated=!0,w}var H=r.momentProperties=[],F=!1;function ie(p,w){var N,P,$,xe=H.length;if(m(w._isAMomentObject)||(p._isAMomentObject=w._isAMomentObject),m(w._i)||(p._i=w._i),m(w._f)||(p._f=w._f),m(w._l)||(p._l=w._l),m(w._strict)||(p._strict=w._strict),m(w._tzm)||(p._tzm=w._tzm),m(w._isUTC)||(p._isUTC=w._isUTC),m(w._offset)||(p._offset=w._offset),m(w._pf)||(p._pf=M(w)),m(w._locale)||(p._locale=w._locale),xe>0)for(N=0;N<xe;N++)P=H[N],$=w[P],m($)||(p[P]=$);return p}function ee(p){ie(this,p),this._d=new Date(p._d!=null?p._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),F===!1&&(F=!0,r.updateOffset(this),F=!1)}function _e(p){return p instanceof ee||p!=null&&p._isAMomentObject!=null}function Xe(p){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+p)}function Te(p,w){var N=!0;return O(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,p),N){var P=[],$,xe,at,pn=arguments.length;for(xe=0;xe<pn;xe++){if($="",typeof arguments[xe]=="object"){$+=`
[`+xe+"] ";for(at in arguments[0])u(arguments[0],at)&&($+=at+": "+arguments[0][at]+", ");$=$.slice(0,-2)}else $=arguments[xe];P.push($)}Xe(p+`
Arguments: `+Array.prototype.slice.call(P).join("")+`
`+new Error().stack),N=!1}return w.apply(this,arguments)},w)}var Fe={};function je(p,w){r.deprecationHandler!=null&&r.deprecationHandler(p,w),Fe[p]||(Xe(w),Fe[p]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function et(p){return typeof Function<"u"&&p instanceof Function||Object.prototype.toString.call(p)==="[object Function]"}function ut(p){var w,N;for(N in p)u(p,N)&&(w=p[N],et(w)?this[N]=w:this["_"+N]=w);this._config=p,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ge(p,w){var N=O({},p),P;for(P in w)u(w,P)&&(l(p[P])&&l(w[P])?(N[P]={},O(N[P],p[P]),O(N[P],w[P])):w[P]!=null?N[P]=w[P]:delete N[P]);for(P in p)u(p,P)&&!u(w,P)&&l(p[P])&&(N[P]=O({},N[P]));return N}function We(p){p!=null&&this.set(p)}var Ae;Object.keys?Ae=Object.keys:Ae=function(p){var w,N=[];for(w in p)u(p,w)&&N.push(w);return N};var pe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Pe(p,w,N){var P=this._calendar[p]||this._calendar.sameElse;return et(P)?P.call(w,N):P}function Ye(p,w,N){var P=""+Math.abs(p),$=w-P.length,xe=p>=0;return(xe?N?"+":"":"-")+Math.pow(10,Math.max(0,$)).toString().substr(1)+P}var it=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,bt={},Mt={};function rt(p,w,N,P){var $=P;typeof P=="string"&&($=function(){return this[P]()}),p&&(Mt[p]=$),w&&(Mt[w[0]]=function(){return Ye($.apply(this,arguments),w[1],w[2])}),N&&(Mt[N]=function(){return this.localeData().ordinal($.apply(this,arguments),p)})}function Kt(p){return p.match(/\[[\s\S]/)?p.replace(/^\[|\]$/g,""):p.replace(/\\/g,"")}function Ue(p){var w=p.match(it),N,P;for(N=0,P=w.length;N<P;N++)Mt[w[N]]?w[N]=Mt[w[N]]:w[N]=Kt(w[N]);return function($){var xe="",at;for(at=0;at<P;at++)xe+=et(w[at])?w[at].call($,p):w[at];return xe}}function ae(p,w){return p.isValid()?(w=we(w,p.localeData()),bt[w]=bt[w]||Ue(w),bt[w](p)):p.localeData().invalidDate()}function we(p,w){var N=5;function P($){return w.longDateFormat($)||$}for(Qe.lastIndex=0;N>=0&&Qe.test(p);)p=p.replace(Qe,P),Qe.lastIndex=0,N-=1;return p}var be={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W(p){var w=this._longDateFormat[p],N=this._longDateFormat[p.toUpperCase()];return w||!N?w:(this._longDateFormat[p]=N.match(it).map(function(P){return P==="MMMM"||P==="MM"||P==="DD"||P==="dddd"?P.slice(1):P}).join(""),this._longDateFormat[p])}var le="Invalid date";function z(){return this._invalidDate}var K="%d",de=/\d{1,2}/;function Ce(p){return this._ordinal.replace("%d",p)}var fe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $e(p,w,N,P){var $=this._relativeTime[N];return et($)?$(p,w,N,P):$.replace(/%d/i,p)}function mt(p,w){var N=this._relativeTime[p>0?"future":"past"];return et(N)?N(w):N.replace(/%s/i,w)}var It={};function Vt(p,w){var N=p.toLowerCase();It[N]=It[N+"s"]=It[w]=p}function Pt(p){return typeof p=="string"?It[p]||It[p.toLowerCase()]:void 0}function mn(p){var w={},N,P;for(P in p)u(p,P)&&(N=Pt(P),N&&(w[N]=p[P]));return w}var Sn={};function un(p,w){Sn[p]=w}function mr(p){var w=[],N;for(N in p)u(p,N)&&w.push({unit:N,priority:Sn[N]});return w.sort(function(P,$){return P.priority-$.priority}),w}function Nr(p){return p%4===0&&p%100!==0||p%400===0}function Ln(p){return p<0?Math.ceil(p)||0:Math.floor(p)}function Jt(p){var w=+p,N=0;return w!==0&&isFinite(w)&&(N=Ln(w)),N}function yr(p,w){return function(N){return N!=null?(ki(this,p,N),r.updateOffset(this,w),this):Ir(this,p)}}function Ir(p,w){return p.isValid()?p._d["get"+(p._isUTC?"UTC":"")+w]():NaN}function ki(p,w,N){p.isValid()&&!isNaN(N)&&(w==="FullYear"&&Nr(p.year())&&p.month()===1&&p.date()===29?(N=Jt(N),p._d["set"+(p._isUTC?"UTC":"")+w](N,p.month(),ht(N,p.month()))):p._d["set"+(p._isUTC?"UTC":"")+w](N))}function ei(p){return p=Pt(p),et(this[p])?this[p]():this}function ci(p,w){if(typeof p=="object"){p=mn(p);var N=mr(p),P,$=N.length;for(P=0;P<$;P++)this[N[P].unit](p[N[P].unit])}else if(p=Pt(p),et(this[p]))return this[p](w);return this}var ls=/\d/,Zn=/\d\d/,us=/\d{3}/,Ur=/\d{4}/,di=/[+-]?\d{6}/,Hn=/\d\d?/,Es=/\d\d\d\d?/,ao=/\d\d\d\d\d\d?/,yi=/\d{1,3}/,zi=/\d{1,4}/,Cs=/[+-]?\d{1,6}/,Hi=/\d+/,lr=/[+-]?\d+/,Gr=/Z|[+-]\d\d:?\d\d/gi,Gs=/Z|[+-]\d\d(?::?\d\d)?/gi,ha=/[+-]?\d+(\.\d{1,3})?/,es=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,hs;hs={};function Nt(p,w,N){hs[p]=et(w)?w:function(P,$){return P&&N?N:w}}function br(p,w){return u(hs,p)?hs[p](w._strict,w._locale):new RegExp(Br(p))}function Br(p){return $n(p.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(w,N,P,$,xe){return N||P||$||xe}))}function $n(p){return p.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var co={};function sr(p,w){var N,P=w,$;for(typeof p=="string"&&(p=[p]),v(w)&&(P=function(xe,at){at[w]=Jt(xe)}),$=p.length,N=0;N<$;N++)co[p[N]]=P}function $i(p,w){sr(p,function(N,P,$,xe){$._w=$._w||{},w(N,$._w,$,xe)})}function Is(p,w,N){w!=null&&u(co,p)&&co[p](w,N._a,N,p)}var Gn=0,Vr=1,fn=2,$r=3,_r=4,Li=5,ne=6,ye=7,Ne=8;function Ze(p,w){return(p%w+w)%w}var te;Array.prototype.indexOf?te=Array.prototype.indexOf:te=function(p){var w;for(w=0;w<this.length;++w)if(this[w]===p)return w;return-1};function ht(p,w){if(isNaN(p)||isNaN(w))return NaN;var N=Ze(w,12);return p+=(w-N)/12,N===1?Nr(p)?29:28:31-N%7%2}rt("M",["MM",2],"Mo",function(){return this.month()+1}),rt("MMM",0,0,function(p){return this.localeData().monthsShort(this,p)}),rt("MMMM",0,0,function(p){return this.localeData().months(this,p)}),Vt("month","M"),un("month",8),Nt("M",Hn),Nt("MM",Hn,Zn),Nt("MMM",function(p,w){return w.monthsShortRegex(p)}),Nt("MMMM",function(p,w){return w.monthsRegex(p)}),sr(["M","MM"],function(p,w){w[Vr]=Jt(p)-1}),sr(["MMM","MMMM"],function(p,w,N,P){var $=N._locale.monthsParse(p,P,N._strict);$!=null?w[Vr]=$:M(N).invalidMonth=p});var vt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Xt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,jt=es,gt=es;function St(p,w){return p?o(this._months)?this._months[p.month()]:this._months[(this._months.isFormat||Xt).test(w)?"format":"standalone"][p.month()]:o(this._months)?this._months:this._months.standalone}function L(p,w){return p?o(this._monthsShort)?this._monthsShort[p.month()]:this._monthsShort[Xt.test(w)?"format":"standalone"][p.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function q(p,w,N){var P,$,xe,at=p.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],P=0;P<12;++P)xe=T([2e3,P]),this._shortMonthsParse[P]=this.monthsShort(xe,"").toLocaleLowerCase(),this._longMonthsParse[P]=this.months(xe,"").toLocaleLowerCase();return N?w==="MMM"?($=te.call(this._shortMonthsParse,at),$!==-1?$:null):($=te.call(this._longMonthsParse,at),$!==-1?$:null):w==="MMM"?($=te.call(this._shortMonthsParse,at),$!==-1?$:($=te.call(this._longMonthsParse,at),$!==-1?$:null)):($=te.call(this._longMonthsParse,at),$!==-1?$:($=te.call(this._shortMonthsParse,at),$!==-1?$:null))}function X(p,w,N){var P,$,xe;if(this._monthsParseExact)return q.call(this,p,w,N);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),P=0;P<12;P++){if($=T([2e3,P]),N&&!this._longMonthsParse[P]&&(this._longMonthsParse[P]=new RegExp("^"+this.months($,"").replace(".","")+"$","i"),this._shortMonthsParse[P]=new RegExp("^"+this.monthsShort($,"").replace(".","")+"$","i")),!N&&!this._monthsParse[P]&&(xe="^"+this.months($,"")+"|^"+this.monthsShort($,""),this._monthsParse[P]=new RegExp(xe.replace(".",""),"i")),N&&w==="MMMM"&&this._longMonthsParse[P].test(p))return P;if(N&&w==="MMM"&&this._shortMonthsParse[P].test(p))return P;if(!N&&this._monthsParse[P].test(p))return P}}function re(p,w){var N;if(!p.isValid())return p;if(typeof w=="string"){if(/^\d+$/.test(w))w=Jt(w);else if(w=p.localeData().monthsParse(w),!v(w))return p}return N=Math.min(p.date(),ht(p.year(),w)),p._d["set"+(p._isUTC?"UTC":"")+"Month"](w,N),p}function se(p){return p!=null?(re(this,p),r.updateOffset(this,!0),this):Ir(this,"Month")}function Ee(){return ht(this.year(),this.month())}function Me(p){return this._monthsParseExact?(u(this,"_monthsRegex")||tt.call(this),p?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=jt),this._monthsShortStrictRegex&&p?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ve(p){return this._monthsParseExact?(u(this,"_monthsRegex")||tt.call(this),p?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=gt),this._monthsStrictRegex&&p?this._monthsStrictRegex:this._monthsRegex)}function tt(){function p(at,pn){return pn.length-at.length}var w=[],N=[],P=[],$,xe;for($=0;$<12;$++)xe=T([2e3,$]),w.push(this.monthsShort(xe,"")),N.push(this.months(xe,"")),P.push(this.months(xe,"")),P.push(this.monthsShort(xe,""));for(w.sort(p),N.sort(p),P.sort(p),$=0;$<12;$++)w[$]=$n(w[$]),N[$]=$n(N[$]);for($=0;$<24;$++)P[$]=$n(P[$]);this._monthsRegex=new RegExp("^("+P.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+N.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+w.join("|")+")","i")}rt("Y",0,0,function(){var p=this.year();return p<=9999?Ye(p,4):"+"+p}),rt(0,["YY",2],0,function(){return this.year()%100}),rt(0,["YYYY",4],0,"year"),rt(0,["YYYYY",5],0,"year"),rt(0,["YYYYYY",6,!0],0,"year"),Vt("year","y"),un("year",1),Nt("Y",lr),Nt("YY",Hn,Zn),Nt("YYYY",zi,Ur),Nt("YYYYY",Cs,di),Nt("YYYYYY",Cs,di),sr(["YYYYY","YYYYYY"],Gn),sr("YYYY",function(p,w){w[Gn]=p.length===2?r.parseTwoDigitYear(p):Jt(p)}),sr("YY",function(p,w){w[Gn]=r.parseTwoDigitYear(p)}),sr("Y",function(p,w){w[Gn]=parseInt(p,10)});function lt(p){return Nr(p)?366:365}r.parseTwoDigitYear=function(p){return Jt(p)+(Jt(p)>68?1900:2e3)};var Ct=yr("FullYear",!0);function Ft(){return Nr(this.year())}function Gt(p,w,N,P,$,xe,at){var pn;return p<100&&p>=0?(pn=new Date(p+400,w,N,P,$,xe,at),isFinite(pn.getFullYear())&&pn.setFullYear(p)):pn=new Date(p,w,N,P,$,xe,at),pn}function Dt(p){var w,N;return p<100&&p>=0?(N=Array.prototype.slice.call(arguments),N[0]=p+400,w=new Date(Date.UTC.apply(null,N)),isFinite(w.getUTCFullYear())&&w.setUTCFullYear(p)):w=new Date(Date.UTC.apply(null,arguments)),w}function kt(p,w,N){var P=7+w-N,$=(7+Dt(p,0,P).getUTCDay()-w)%7;return-$+P-1}function Ht(p,w,N,P,$){var xe=(7+N-P)%7,at=kt(p,P,$),pn=1+7*(w-1)+xe+at,yn,Er;return pn<=0?(yn=p-1,Er=lt(yn)+pn):pn>lt(p)?(yn=p+1,Er=pn-lt(p)):(yn=p,Er=pn),{year:yn,dayOfYear:Er}}function _t(p,w,N){var P=kt(p.year(),w,N),$=Math.floor((p.dayOfYear()-P-1)/7)+1,xe,at;return $<1?(at=p.year()-1,xe=$+nn(at,w,N)):$>nn(p.year(),w,N)?(xe=$-nn(p.year(),w,N),at=p.year()+1):(at=p.year(),xe=$),{week:xe,year:at}}function nn(p,w,N){var P=kt(p,w,N),$=kt(p+1,w,N);return(lt(p)-P+$)/7}rt("w",["ww",2],"wo","week"),rt("W",["WW",2],"Wo","isoWeek"),Vt("week","w"),Vt("isoWeek","W"),un("week",5),un("isoWeek",5),Nt("w",Hn),Nt("ww",Hn,Zn),Nt("W",Hn),Nt("WW",Hn,Zn),$i(["w","ww","W","WW"],function(p,w,N,P){w[P.substr(0,1)]=Jt(p)});function Un(p){return _t(p,this._week.dow,this._week.doy).week}var Cn={dow:0,doy:6};function Ke(){return this._week.dow}function Fn(){return this._week.doy}function Qr(p){var w=this.localeData().week(this);return p==null?w:this.add((p-w)*7,"d")}function an(p){var w=_t(this,1,4).week;return p==null?w:this.add((p-w)*7,"d")}rt("d",0,"do","day"),rt("dd",0,0,function(p){return this.localeData().weekdaysMin(this,p)}),rt("ddd",0,0,function(p){return this.localeData().weekdaysShort(this,p)}),rt("dddd",0,0,function(p){return this.localeData().weekdays(this,p)}),rt("e",0,0,"weekday"),rt("E",0,0,"isoWeekday"),Vt("day","d"),Vt("weekday","e"),Vt("isoWeekday","E"),un("day",11),un("weekday",11),un("isoWeekday",11),Nt("d",Hn),Nt("e",Hn),Nt("E",Hn),Nt("dd",function(p,w){return w.weekdaysMinRegex(p)}),Nt("ddd",function(p,w){return w.weekdaysShortRegex(p)}),Nt("dddd",function(p,w){return w.weekdaysRegex(p)}),$i(["dd","ddd","dddd"],function(p,w,N,P){var $=N._locale.weekdaysParse(p,P,N._strict);$!=null?w.d=$:M(N).invalidWeekday=p}),$i(["d","e","E"],function(p,w,N,P){w[P]=Jt(p)});function ks(p,w){return typeof p!="string"?p:isNaN(p)?(p=w.weekdaysParse(p),typeof p=="number"?p:null):parseInt(p,10)}function Os(p,w){return typeof p=="string"?w.weekdaysParse(p)%7||7:isNaN(p)?null:p}function Ns(p,w){return p.slice(w,7).concat(p.slice(0,w))}var Ia="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),An="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hc="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ti=es,ur=es,lo=es;function La(p,w){var N=o(this._weekdays)?this._weekdays:this._weekdays[p&&p!==!0&&this._weekdays.isFormat.test(w)?"format":"standalone"];return p===!0?Ns(N,this._week.dow):p?N[p.day()]:N}function da(p){return p===!0?Ns(this._weekdaysShort,this._week.dow):p?this._weekdaysShort[p.day()]:this._weekdaysShort}function Oo(p){return p===!0?Ns(this._weekdaysMin,this._week.dow):p?this._weekdaysMin[p.day()]:this._weekdaysMin}function No(p,w,N){var P,$,xe,at=p.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],P=0;P<7;++P)xe=T([2e3,1]).day(P),this._minWeekdaysParse[P]=this.weekdaysMin(xe,"").toLocaleLowerCase(),this._shortWeekdaysParse[P]=this.weekdaysShort(xe,"").toLocaleLowerCase(),this._weekdaysParse[P]=this.weekdays(xe,"").toLocaleLowerCase();return N?w==="dddd"?($=te.call(this._weekdaysParse,at),$!==-1?$:null):w==="ddd"?($=te.call(this._shortWeekdaysParse,at),$!==-1?$:null):($=te.call(this._minWeekdaysParse,at),$!==-1?$:null):w==="dddd"?($=te.call(this._weekdaysParse,at),$!==-1||($=te.call(this._shortWeekdaysParse,at),$!==-1)?$:($=te.call(this._minWeekdaysParse,at),$!==-1?$:null)):w==="ddd"?($=te.call(this._shortWeekdaysParse,at),$!==-1||($=te.call(this._weekdaysParse,at),$!==-1)?$:($=te.call(this._minWeekdaysParse,at),$!==-1?$:null)):($=te.call(this._minWeekdaysParse,at),$!==-1||($=te.call(this._weekdaysParse,at),$!==-1)?$:($=te.call(this._shortWeekdaysParse,at),$!==-1?$:null))}function mu(p,w,N){var P,$,xe;if(this._weekdaysParseExact)return No.call(this,p,w,N);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),P=0;P<7;P++){if($=T([2e3,1]).day(P),N&&!this._fullWeekdaysParse[P]&&(this._fullWeekdaysParse[P]=new RegExp("^"+this.weekdays($,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[P]=new RegExp("^"+this.weekdaysShort($,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[P]=new RegExp("^"+this.weekdaysMin($,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[P]||(xe="^"+this.weekdays($,"")+"|^"+this.weekdaysShort($,"")+"|^"+this.weekdaysMin($,""),this._weekdaysParse[P]=new RegExp(xe.replace(".",""),"i")),N&&w==="dddd"&&this._fullWeekdaysParse[P].test(p))return P;if(N&&w==="ddd"&&this._shortWeekdaysParse[P].test(p))return P;if(N&&w==="dd"&&this._minWeekdaysParse[P].test(p))return P;if(!N&&this._weekdaysParse[P].test(p))return P}}function gu(p){if(!this.isValid())return p!=null?this:NaN;var w=this._isUTC?this._d.getUTCDay():this._d.getDay();return p!=null?(p=ks(p,this.localeData()),this.add(p-w,"d")):w}function vu(p){if(!this.isValid())return p!=null?this:NaN;var w=(this.day()+7-this.localeData()._week.dow)%7;return p==null?w:this.add(p-w,"d")}function Oi(p){if(!this.isValid())return p!=null?this:NaN;if(p!=null){var w=Os(p,this.localeData());return this.day(this.day()%7?w:w-7)}else return this.day()||7}function kn(p){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ys.call(this),p?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=ti),this._weekdaysStrictRegex&&p?this._weekdaysStrictRegex:this._weekdaysRegex)}function Lr(p){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ys.call(this),p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ur),this._weekdaysShortStrictRegex&&p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Yd(p){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ys.call(this),p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=lo),this._weekdaysMinStrictRegex&&p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ys(){function p(mi,Ds){return Ds.length-mi.length}var w=[],N=[],P=[],$=[],xe,at,pn,yn,Er;for(xe=0;xe<7;xe++)at=T([2e3,1]).day(xe),pn=$n(this.weekdaysMin(at,"")),yn=$n(this.weekdaysShort(at,"")),Er=$n(this.weekdays(at,"")),w.push(pn),N.push(yn),P.push(Er),$.push(pn),$.push(yn),$.push(Er);w.sort(p),N.sort(p),P.sort(p),$.sort(p),this._weekdaysRegex=new RegExp("^("+$.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+N.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+w.join("|")+")","i")}function gl(){return this.hours()%12||12}function Nh(){return this.hours()||24}rt("H",["HH",2],0,"hour"),rt("h",["hh",2],0,gl),rt("k",["kk",2],0,Nh),rt("hmm",0,0,function(){return""+gl.apply(this)+Ye(this.minutes(),2)}),rt("hmmss",0,0,function(){return""+gl.apply(this)+Ye(this.minutes(),2)+Ye(this.seconds(),2)}),rt("Hmm",0,0,function(){return""+this.hours()+Ye(this.minutes(),2)}),rt("Hmmss",0,0,function(){return""+this.hours()+Ye(this.minutes(),2)+Ye(this.seconds(),2)});function $c(p,w){rt(p,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),w)})}$c("a",!0),$c("A",!1),Vt("hour","h"),un("hour",13);function vl(p,w){return w._meridiemParse}Nt("a",vl),Nt("A",vl),Nt("H",Hn),Nt("h",Hn),Nt("k",Hn),Nt("HH",Hn,Zn),Nt("hh",Hn,Zn),Nt("kk",Hn,Zn),Nt("hmm",Es),Nt("hmmss",ao),Nt("Hmm",Es),Nt("Hmmss",ao),sr(["H","HH"],$r),sr(["k","kk"],function(p,w,N){var P=Jt(p);w[$r]=P===24?0:P}),sr(["a","A"],function(p,w,N){N._isPm=N._locale.isPM(p),N._meridiem=p}),sr(["h","hh"],function(p,w,N){w[$r]=Jt(p),M(N).bigHour=!0}),sr("hmm",function(p,w,N){var P=p.length-2;w[$r]=Jt(p.substr(0,P)),w[_r]=Jt(p.substr(P)),M(N).bigHour=!0}),sr("hmmss",function(p,w,N){var P=p.length-4,$=p.length-2;w[$r]=Jt(p.substr(0,P)),w[_r]=Jt(p.substr(P,2)),w[Li]=Jt(p.substr($)),M(N).bigHour=!0}),sr("Hmm",function(p,w,N){var P=p.length-2;w[$r]=Jt(p.substr(0,P)),w[_r]=Jt(p.substr(P))}),sr("Hmmss",function(p,w,N){var P=p.length-4,$=p.length-2;w[$r]=Jt(p.substr(0,P)),w[_r]=Jt(p.substr(P,2)),w[Li]=Jt(p.substr($))});function yl(p){return(p+"").toLowerCase().charAt(0)==="p"}var Qd=/[ap]\.?m?\.?/i,ni=yr("Hours",!0);function Fa(p,w,N){return p>11?N?"pm":"PM":N?"am":"AM"}var uo={calendar:pe,longDateFormat:be,invalidDate:le,ordinal:K,dayOfMonthOrdinalParse:de,relativeTime:fe,months:vt,monthsShort:qt,week:Cn,weekdays:Ia,weekdaysMin:Hc,weekdaysShort:An,meridiemParse:Qd},Ar={},Fi={},Fr;function _l(p,w){var N,P=Math.min(p.length,w.length);for(N=0;N<P;N+=1)if(p[N]!==w[N])return N;return P}function Ls(p){return p&&p.toLowerCase().replace("_","-")}function yu(p){for(var w=0,N,P,$,xe;w<p.length;){for(xe=Ls(p[w]).split("-"),N=xe.length,P=Ls(p[w+1]),P=P?P.split("-"):null;N>0;){if($=ja(xe.slice(0,N).join("-")),$)return $;if(P&&P.length>=N&&_l(xe,P)>=N-1)break;N--}w++}return Fr}function Qs(p){return p.match("^[^/\\\\]*$")!=null}function ja(p){var w=null,N;if(Ar[p]===void 0&&e&&e.exports&&Qs(p))try{w=Fr._abbr,N=ZQ,N("./locale/"+p),Ks(w)}catch{Ar[p]=null}return Ar[p]}function Ks(p,w){var N;return p&&(m(w)?N=qr(p):N=ts(p,w),N?Fr=N:typeof console<"u"&&console.warn&&console.warn("Locale "+p+" not found. Did you forget to load it?")),Fr._abbr}function ts(p,w){if(w!==null){var N,P=uo;if(w.abbr=p,Ar[p]!=null)je("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),P=Ar[p]._config;else if(w.parentLocale!=null)if(Ar[w.parentLocale]!=null)P=Ar[w.parentLocale]._config;else if(N=ja(w.parentLocale),N!=null)P=N._config;else return Fi[w.parentLocale]||(Fi[w.parentLocale]=[]),Fi[w.parentLocale].push({name:p,config:w}),null;return Ar[p]=new We(Ge(P,w)),Fi[p]&&Fi[p].forEach(function($){ts($.name,$.config)}),Ks(p),Ar[p]}else return delete Ar[p],null}function _u(p,w){if(w!=null){var N,P,$=uo;Ar[p]!=null&&Ar[p].parentLocale!=null?Ar[p].set(Ge(Ar[p]._config,w)):(P=ja(p),P!=null&&($=P._config),w=Ge($,w),P==null&&(w.abbr=p),N=new We(w),N.parentLocale=Ar[p],Ar[p]=N),Ks(p)}else Ar[p]!=null&&(Ar[p].parentLocale!=null?(Ar[p]=Ar[p].parentLocale,p===Ks()&&Ks(p)):Ar[p]!=null&&delete Ar[p]);return Ar[p]}function qr(p){var w;if(p&&p._locale&&p._locale._abbr&&(p=p._locale._abbr),!p)return Fr;if(!o(p)){if(w=ja(p),w)return w;p=[p]}return yu(p)}function Ah(){return Ae(Ar)}function qc(p){var w,N=p._a;return N&&M(p).overflow===-2&&(w=N[Vr]<0||N[Vr]>11?Vr:N[fn]<1||N[fn]>ht(N[Gn],N[Vr])?fn:N[$r]<0||N[$r]>24||N[$r]===24&&(N[_r]!==0||N[Li]!==0||N[ne]!==0)?$r:N[_r]<0||N[_r]>59?_r:N[Li]<0||N[Li]>59?Li:N[ne]<0||N[ne]>999?ne:-1,M(p)._overflowDayOfYear&&(w<Gn||w>fn)&&(w=fn),M(p)._overflowWeeks&&w===-1&&(w=ye),M(p)._overflowWeekday&&w===-1&&(w=Ne),M(p).overflow=w),p}var Fs=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nt=/Z|[+-]\d\d(?::?\d\d)?/,He=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rn=/^\/?Date\((-?\d+)/i,Rn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gn={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Mn(p){var w,N,P=p._i,$=Fs.exec(P)||Wc.exec(P),xe,at,pn,yn,Er=He.length,mi=Tt.length;if($){for(M(p).iso=!0,w=0,N=Er;w<N;w++)if(He[w][1].exec($[1])){at=He[w][0],xe=He[w][2]!==!1;break}if(at==null){p._isValid=!1;return}if($[3]){for(w=0,N=mi;w<N;w++)if(Tt[w][1].exec($[3])){pn=($[2]||" ")+Tt[w][0];break}if(pn==null){p._isValid=!1;return}}if(!xe&&pn!=null){p._isValid=!1;return}if($[4])if(nt.exec($[4]))yn="Z";else{p._isValid=!1;return}p._f=at+(pn||"")+(yn||""),Xs(p)}else p._isValid=!1}function xn(p,w,N,P,$,xe){var at=[dn(p),qt.indexOf(w),parseInt(N,10),parseInt(P,10),parseInt($,10)];return xe&&at.push(parseInt(xe,10)),at}function dn(p){var w=parseInt(p,10);return w<=49?2e3+w:w<=999?1900+w:w}function nr(p){return p.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function _i(p,w,N){if(p){var P=An.indexOf(p),$=new Date(w[0],w[1],w[2]).getDay();if(P!==$)return M(N).weekdayMismatch=!0,N._isValid=!1,!1}return!0}function hr(p,w,N){if(p)return gn[p];if(w)return 0;var P=parseInt(N,10),$=P%100,xe=(P-$)/100;return xe*60+$}function li(p){var w=Rn.exec(nr(p._i)),N;if(w){if(N=xn(w[4],w[3],w[2],w[5],w[6],w[7]),!_i(w[1],N,p))return;p._a=N,p._tzm=hr(w[8],w[9],w[10]),p._d=Dt.apply(null,p._a),p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),M(p).rfc2822=!0}else p._isValid=!1}function Kr(p){var w=rn.exec(p._i);if(w!==null){p._d=new Date(+w[1]);return}if(Mn(p),p._isValid===!1)delete p._isValid;else return;if(li(p),p._isValid===!1)delete p._isValid;else return;p._strict?p._isValid=!1:r.createFromInputFallback(p)}r.createFromInputFallback=Te("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(p){p._d=new Date(p._i+(p._useUTC?" UTC":""))});function js(p,w,N){return p??w??N}function Ao(p){var w=new Date(r.now());return p._useUTC?[w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()]:[w.getFullYear(),w.getMonth(),w.getDate()]}function Zo(p){var w,N,P=[],$,xe,at;if(!p._d){for($=Ao(p),p._w&&p._a[fn]==null&&p._a[Vr]==null&&wl(p),p._dayOfYear!=null&&(at=js(p._a[Gn],$[Gn]),(p._dayOfYear>lt(at)||p._dayOfYear===0)&&(M(p)._overflowDayOfYear=!0),N=Dt(at,0,p._dayOfYear),p._a[Vr]=N.getUTCMonth(),p._a[fn]=N.getUTCDate()),w=0;w<3&&p._a[w]==null;++w)p._a[w]=P[w]=$[w];for(;w<7;w++)p._a[w]=P[w]=p._a[w]==null?w===2?1:0:p._a[w];p._a[$r]===24&&p._a[_r]===0&&p._a[Li]===0&&p._a[ne]===0&&(p._nextDay=!0,p._a[$r]=0),p._d=(p._useUTC?Dt:Gt).apply(null,P),xe=p._useUTC?p._d.getUTCDay():p._d.getDay(),p._tzm!=null&&p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),p._nextDay&&(p._a[$r]=24),p._w&&typeof p._w.d<"u"&&p._w.d!==xe&&(M(p).weekdayMismatch=!0)}}function wl(p){var w,N,P,$,xe,at,pn,yn,Er;w=p._w,w.GG!=null||w.W!=null||w.E!=null?(xe=1,at=4,N=js(w.GG,p._a[Gn],_t(dr(),1,4).year),P=js(w.W,1),$=js(w.E,1),($<1||$>7)&&(yn=!0)):(xe=p._locale._week.dow,at=p._locale._week.doy,Er=_t(dr(),xe,at),N=js(w.gg,p._a[Gn],Er.year),P=js(w.w,Er.week),w.d!=null?($=w.d,($<0||$>6)&&(yn=!0)):w.e!=null?($=w.e+xe,(w.e<0||w.e>6)&&(yn=!0)):$=xe),P<1||P>nn(N,xe,at)?M(p)._overflowWeeks=!0:yn!=null?M(p)._overflowWeekday=!0:(pn=Ht(N,P,$,xe,at),p._a[Gn]=pn.year,p._dayOfYear=pn.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function Xs(p){if(p._f===r.ISO_8601){Mn(p);return}if(p._f===r.RFC_2822){li(p);return}p._a=[],M(p).empty=!0;var w=""+p._i,N,P,$,xe,at,pn=w.length,yn=0,Er,mi;for($=we(p._f,p._locale).match(it)||[],mi=$.length,N=0;N<mi;N++)xe=$[N],P=(w.match(br(xe,p))||[])[0],P&&(at=w.substr(0,w.indexOf(P)),at.length>0&&M(p).unusedInput.push(at),w=w.slice(w.indexOf(P)+P.length),yn+=P.length),Mt[xe]?(P?M(p).empty=!1:M(p).unusedTokens.push(xe),Is(xe,P,p)):p._strict&&!P&&M(p).unusedTokens.push(xe);M(p).charsLeftOver=pn-yn,w.length>0&&M(p).unusedInput.push(w),p._a[$r]<=12&&M(p).bigHour===!0&&p._a[$r]>0&&(M(p).bigHour=void 0),M(p).parsedDateParts=p._a.slice(0),M(p).meridiem=p._meridiem,p._a[$r]=Us(p._locale,p._a[$r],p._meridiem),Er=M(p).era,Er!==null&&(p._a[Gn]=p._locale.erasConvertYear(Er,p._a[Gn])),Zo(p),qc(p)}function Us(p,w,N){var P;return N==null?w:p.meridiemHour!=null?p.meridiemHour(w,N):(p.isPM!=null&&(P=p.isPM(N),P&&w<12&&(w+=12),!P&&w===12&&(w=0)),w)}function uc(p){var w,N,P,$,xe,at,pn=!1,yn=p._f.length;if(yn===0){M(p).invalidFormat=!0,p._d=new Date(NaN);return}for($=0;$<yn;$++)xe=0,at=!1,w=ie({},p),p._useUTC!=null&&(w._useUTC=p._useUTC),w._f=p._f[$],Xs(w),R(w)&&(at=!0),xe+=M(w).charsLeftOver,xe+=M(w).unusedTokens.length*10,M(w).score=xe,pn?xe<P&&(P=xe,N=w):(P==null||xe<P||at)&&(P=xe,N=w,at&&(pn=!0));O(p,N||w)}function wu(p){if(!p._d){var w=mn(p._i),N=w.day===void 0?w.date:w.day;p._a=x([w.year,w.month,N,w.hour,w.minute,w.second,w.millisecond],function(P){return P&&parseInt(P,10)}),Zo(p)}}function bl(p){var w=new ee(qc(Ni(p)));return w._nextDay&&(w.add(1,"d"),w._nextDay=void 0),w}function Ni(p){var w=p._i,N=p._f;return p._locale=p._locale||qr(p._l),w===null||N===void 0&&w===""?j({nullInput:!0}):(typeof w=="string"&&(p._i=w=p._locale.preparse(w)),_e(w)?new ee(qc(w)):(b(w)?p._d=w:o(N)?uc(p):N?Xs(p):Sr(p),R(p)||(p._d=null),p))}function Sr(p){var w=p._i;m(w)?p._d=new Date(r.now()):b(w)?p._d=new Date(w.valueOf()):typeof w=="string"?Kr(p):o(w)?(p._a=x(w.slice(0),function(N){return parseInt(N,10)}),Zo(p)):l(w)?wu(p):v(w)?p._d=new Date(w):r.createFromInputFallback(p)}function qi(p,w,N,P,$){var xe={};return(w===!0||w===!1)&&(P=w,w=void 0),(N===!0||N===!1)&&(P=N,N=void 0),(l(p)&&f(p)||o(p)&&p.length===0)&&(p=void 0),xe._isAMomentObject=!0,xe._useUTC=xe._isUTC=$,xe._l=N,xe._i=p,xe._f=w,xe._strict=P,bl(xe)}function dr(p,w,N,P){return qi(p,w,N,P,!1)}var Sl=Te("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=dr.apply(null,arguments);return this.isValid()&&p.isValid()?p<this?this:p:j()}),wi=Te("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=dr.apply(null,arguments);return this.isValid()&&p.isValid()?p>this?this:p:j()});function hc(p,w){var N,P;if(w.length===1&&o(w[0])&&(w=w[0]),!w.length)return dr();for(N=w[0],P=1;P<w.length;++P)(!w[P].isValid()||w[P][p](N))&&(N=w[P]);return N}function bu(){var p=[].slice.call(arguments,0);return hc("isBefore",p)}function Kd(){var p=[].slice.call(arguments,0);return hc("isAfter",p)}var dp=function(){return Date.now?Date.now():+new Date},Jo=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Km(p){var w,N=!1,P,$=Jo.length;for(w in p)if(u(p,w)&&!(te.call(Jo,w)!==-1&&(p[w]==null||!isNaN(p[w]))))return!1;for(P=0;P<$;++P)if(p[Jo[P]]){if(N)return!1;parseFloat(p[Jo[P]])!==Jt(p[Jo[P]])&&(N=!0)}return!0}function Mh(){return this._isValid}function Xd(){return Jn(NaN)}function xl(p){var w=mn(p),N=w.year||0,P=w.quarter||0,$=w.month||0,xe=w.week||w.isoWeek||0,at=w.day||0,pn=w.hour||0,yn=w.minute||0,Er=w.second||0,mi=w.millisecond||0;this._isValid=Km(w),this._milliseconds=+mi+Er*1e3+yn*6e4+pn*1e3*60*60,this._days=+at+xe*7,this._months=+$+P*3+N*12,this._data={},this._locale=qr(),this._bubble()}function Mo(p){return p instanceof xl}function Tl(p){return p<0?Math.round(-1*p)*-1:Math.round(p)}function Xm(p,w,N){var P=Math.min(p.length,w.length),$=Math.abs(p.length-w.length),xe=0,at;for(at=0;at<P;at++)(N&&p[at]!==w[at]||!N&&Jt(p[at])!==Jt(w[at]))&&xe++;return xe+$}function Zd(p,w){rt(p,0,0,function(){var N=this.utcOffset(),P="+";return N<0&&(N=-N,P="-"),P+Ye(~~(N/60),2)+w+Ye(~~N%60,2)})}Zd("Z",":"),Zd("ZZ",""),Nt("Z",Gs),Nt("ZZ",Gs),sr(["Z","ZZ"],function(p,w,N){N._useUTC=!0,N._tzm=dc(Gs,p)});var Zm=/([\+\-]|\d\d)/gi;function dc(p,w){var N=(w||"").match(p),P,$,xe;return N===null?null:(P=N[N.length-1]||[],$=(P+"").match(Zm)||["-",0,0],xe=+($[1]*60)+Jt($[2]),xe===0?0:$[0]==="+"?xe:-xe)}function ho(p,w){var N,P;return w._isUTC?(N=w.clone(),P=(_e(p)||b(p)?p.valueOf():dr(p).valueOf())-N.valueOf(),N._d.setTime(N._d.valueOf()+P),r.updateOffset(N,!1),N):dr(p).local()}function Su(p){return-Math.round(p._d.getTimezoneOffset())}r.updateOffset=function(){};function Jd(p,w,N){var P=this._offset||0,$;if(!this.isValid())return p!=null?this:NaN;if(p!=null){if(typeof p=="string"){if(p=dc(Gs,p),p===null)return this}else Math.abs(p)<16&&!N&&(p=p*60);return!this._isUTC&&w&&($=Su(this)),this._offset=p,this._isUTC=!0,$!=null&&this.add($,"m"),P!==p&&(!w||this._changeInProgress?tf(this,Jn(p-P,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?P:Su(this)}function fp(p,w){return p!=null?(typeof p!="string"&&(p=-p),this.utcOffset(p,w),this):-this.utcOffset()}function Jm(p){return this.utcOffset(0,p)}function Dh(p){return this._isUTC&&(this.utcOffset(0,p),this._isUTC=!1,p&&this.subtract(Su(this),"m")),this}function eg(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var p=dc(Gr,this._i);p!=null?this.utcOffset(p):this.utcOffset(0,!0)}return this}function El(p){return this.isValid()?(p=p?dr(p).utcOffset():0,(this.utcOffset()-p)%60===0):!1}function De(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function pt(){if(!m(this._isDSTShifted))return this._isDSTShifted;var p={},w;return ie(p,this),p=Ni(p),p._a?(w=p._isUTC?T(p._a):dr(p._a),this._isDSTShifted=this.isValid()&&Xm(p._a,w.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ot(){return this.isValid()?!this._isUTC:!1}function sn(){return this.isValid()?this._isUTC:!1}function jn(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Mr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ai=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Jn(p,w){var N=p,P=null,$,xe,at;return Mo(p)?N={ms:p._milliseconds,d:p._days,M:p._months}:v(p)||!isNaN(+p)?(N={},w?N[w]=+p:N.milliseconds=+p):(P=Mr.exec(p))?($=P[1]==="-"?-1:1,N={y:0,d:Jt(P[fn])*$,h:Jt(P[$r])*$,m:Jt(P[_r])*$,s:Jt(P[Li])*$,ms:Jt(Tl(P[ne]*1e3))*$}):(P=Ai.exec(p))?($=P[1]==="-"?-1:1,N={y:Ua(P[2],$),M:Ua(P[3],$),w:Ua(P[4],$),d:Ua(P[5],$),h:Ua(P[6],$),m:Ua(P[7],$),s:Ua(P[8],$)}):N==null?N={}:typeof N=="object"&&("from"in N||"to"in N)&&(at=fo(dr(N.from),dr(N.to)),N={},N.ms=at.milliseconds,N.M=at.months),xe=new xl(N),Mo(p)&&u(p,"_locale")&&(xe._locale=p._locale),Mo(p)&&u(p,"_isValid")&&(xe._isValid=p._isValid),xe}Jn.fn=xl.prototype,Jn.invalid=Xd;function Ua(p,w){var N=p&&parseFloat(p.replace(",","."));return(isNaN(N)?0:N)*w}function ef(p,w){var N={};return N.months=w.month()-p.month()+(w.year()-p.year())*12,p.clone().add(N.months,"M").isAfter(w)&&--N.months,N.milliseconds=+w-+p.clone().add(N.months,"M"),N}function fo(p,w){var N;return p.isValid()&&w.isValid()?(w=ho(w,p),p.isBefore(w)?N=ef(p,w):(N=ef(w,p),N.milliseconds=-N.milliseconds,N.months=-N.months),N):{milliseconds:0,months:0}}function xu(p,w){return function(N,P){var $,xe;return P!==null&&!isNaN(+P)&&(je(w,"moment()."+w+"(period, number) is deprecated. Please use moment()."+w+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),xe=N,N=P,P=xe),$=Jn(N,P),tf(this,$,p),this}}function tf(p,w,N,P){var $=w._milliseconds,xe=Tl(w._days),at=Tl(w._months);p.isValid()&&(P=P??!0,at&&re(p,Ir(p,"Month")+at*N),xe&&ki(p,"Date",Ir(p,"Date")+xe*N),$&&p._d.setTime(p._d.valueOf()+$*N),P&&r.updateOffset(p,xe||at))}var Gc=xu(1,"add"),Rh=xu(-1,"subtract");function Tu(p){return typeof p=="string"||p instanceof String}function zr(p){return _e(p)||b(p)||Tu(p)||v(p)||pp(p)||tg(p)||p===null||p===void 0}function tg(p){var w=l(p)&&!f(p),N=!1,P=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],$,xe,at=P.length;for($=0;$<at;$+=1)xe=P[$],N=N||u(p,xe);return w&&N}function pp(p){var w=o(p),N=!1;return w&&(N=p.filter(function(P){return!v(P)&&Tu(p)}).length===0),w&&N}function Ph(p){var w=l(p)&&!f(p),N=!1,P=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],$,xe;for($=0;$<P.length;$+=1)xe=P[$],N=N||u(p,xe);return w&&N}function mp(p,w){var N=p.diff(w,"days",!0);return N<-6?"sameElse":N<-1?"lastWeek":N<0?"lastDay":N<1?"sameDay":N<2?"nextDay":N<7?"nextWeek":"sameElse"}function ng(p,w){arguments.length===1&&(arguments[0]?zr(arguments[0])?(p=arguments[0],w=void 0):Ph(arguments[0])&&(w=arguments[0],p=void 0):(p=void 0,w=void 0));var N=p||dr(),P=ho(N,this).startOf("day"),$=r.calendarFormat(this,P)||"sameElse",xe=w&&(et(w[$])?w[$].call(this,N):w[$]);return this.format(xe||this.localeData().calendar($,this,dr(N)))}function rg(){return new ee(this)}function Ih(p,w){var N=_e(p)?p:dr(p);return this.isValid()&&N.isValid()?(w=Pt(w)||"millisecond",w==="millisecond"?this.valueOf()>N.valueOf():N.valueOf()<this.clone().startOf(w).valueOf()):!1}function fc(p,w){var N=_e(p)?p:dr(p);return this.isValid()&&N.isValid()?(w=Pt(w)||"millisecond",w==="millisecond"?this.valueOf()<N.valueOf():this.clone().endOf(w).valueOf()<N.valueOf()):!1}function Lh(p,w,N,P){var $=_e(p)?p:dr(p),xe=_e(w)?w:dr(w);return this.isValid()&&$.isValid()&&xe.isValid()?(P=P||"()",(P[0]==="("?this.isAfter($,N):!this.isBefore($,N))&&(P[1]===")"?this.isBefore(xe,N):!this.isAfter(xe,N))):!1}function nf(p,w){var N=_e(p)?p:dr(p),P;return this.isValid()&&N.isValid()?(w=Pt(w)||"millisecond",w==="millisecond"?this.valueOf()===N.valueOf():(P=N.valueOf(),this.clone().startOf(w).valueOf()<=P&&P<=this.clone().endOf(w).valueOf())):!1}function Eu(p,w){return this.isSame(p,w)||this.isAfter(p,w)}function gp(p,w){return this.isSame(p,w)||this.isBefore(p,w)}function rf(p,w,N){var P,$,xe;if(!this.isValid())return NaN;if(P=ho(p,this),!P.isValid())return NaN;switch($=(P.utcOffset()-this.utcOffset())*6e4,w=Pt(w),w){case"year":xe=pc(this,P)/12;break;case"month":xe=pc(this,P);break;case"quarter":xe=pc(this,P)/3;break;case"second":xe=(this-P)/1e3;break;case"minute":xe=(this-P)/6e4;break;case"hour":xe=(this-P)/36e5;break;case"day":xe=(this-P-$)/864e5;break;case"week":xe=(this-P-$)/6048e5;break;default:xe=this-P}return N?xe:Ln(xe)}function pc(p,w){if(p.date()<w.date())return-pc(w,p);var N=(w.year()-p.year())*12+(w.month()-p.month()),P=p.clone().add(N,"months"),$,xe;return w-P<0?($=p.clone().add(N-1,"months"),xe=(w-P)/(P-$)):($=p.clone().add(N+1,"months"),xe=(w-P)/($-P)),-(N+xe)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function vp(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Cu(p){if(!this.isValid())return null;var w=p!==!0,N=w?this.clone().utc():this;return N.year()<0||N.year()>9999?ae(N,w?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):et(Date.prototype.toISOString)?w?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ae(N,"Z")):ae(N,w?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function on(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var p="moment",w="",N,P,$,xe;return this.isLocal()||(p=this.utcOffset()===0?"moment.utc":"moment.parseZone",w="Z"),N="["+p+'("]',P=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",$="-MM-DD[T]HH:mm:ss.SSS",xe=w+'[")]',this.format(N+P+$+xe)}function ji(p){p||(p=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var w=ae(this,p);return this.localeData().postformat(w)}function sf(p,w){return this.isValid()&&(_e(p)&&p.isValid()||dr(p).isValid())?Jn({to:this,from:p}).locale(this.locale()).humanize(!w):this.localeData().invalidDate()}function of(p){return this.from(dr(),p)}function ig(p,w){return this.isValid()&&(_e(p)&&p.isValid()||dr(p).isValid())?Jn({from:this,to:p}).locale(this.locale()).humanize(!w):this.localeData().invalidDate()}function ku(p){return this.to(dr(),p)}function Ba(p){var w;return p===void 0?this._locale._abbr:(w=qr(p),w!=null&&(this._locale=w),this)}var ds=Te("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(p){return p===void 0?this.localeData():this.locale(p)});function Bn(){return this._locale}var Cl=1e3,ns=60*Cl,Do=60*ns,bi=(365*400+97)*24*Do;function rr(p,w){return(p%w+w)%w}function po(p,w,N){return p<100&&p>=0?new Date(p+400,w,N)-bi:new Date(p,w,N).valueOf()}function kl(p,w,N){return p<100&&p>=0?Date.UTC(p+400,w,N)-bi:Date.UTC(p,w,N)}function fa(p){var w,N;if(p=Pt(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(N=this._isUTC?kl:po,p){case"year":w=N(this.year(),0,1);break;case"quarter":w=N(this.year(),this.month()-this.month()%3,1);break;case"month":w=N(this.year(),this.month(),1);break;case"week":w=N(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":w=N(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":w=N(this.year(),this.month(),this.date());break;case"hour":w=this._d.valueOf(),w-=rr(w+(this._isUTC?0:this.utcOffset()*ns),Do);break;case"minute":w=this._d.valueOf(),w-=rr(w,ns);break;case"second":w=this._d.valueOf(),w-=rr(w,Cl);break}return this._d.setTime(w),r.updateOffset(this,!0),this}function sg(p){var w,N;if(p=Pt(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(N=this._isUTC?kl:po,p){case"year":w=N(this.year()+1,0,1)-1;break;case"quarter":w=N(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":w=N(this.year(),this.month()+1,1)-1;break;case"week":w=N(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":w=N(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":w=N(this.year(),this.month(),this.date()+1)-1;break;case"hour":w=this._d.valueOf(),w+=Do-rr(w+(this._isUTC?0:this.utcOffset()*ns),Do)-1;break;case"minute":w=this._d.valueOf(),w+=ns-rr(w,ns)-1;break;case"second":w=this._d.valueOf(),w+=Cl-rr(w,Cl)-1;break}return this._d.setTime(w),r.updateOffset(this,!0),this}function mo(){return this._d.valueOf()-(this._offset||0)*6e4}function Dr(){return Math.floor(this.valueOf()/1e3)}function af(){return new Date(this.valueOf())}function Ro(){var p=this;return[p.year(),p.month(),p.date(),p.hour(),p.minute(),p.second(),p.millisecond()]}function Po(){var p=this;return{years:p.year(),months:p.month(),date:p.date(),hours:p.hours(),minutes:p.minutes(),seconds:p.seconds(),milliseconds:p.milliseconds()}}function mc(){return this.isValid()?this.toISOString():null}function Va(){return R(this)}function Yc(){return O({},M(this))}function og(){return M(this).overflow}function Io(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}rt("N",0,0,"eraAbbr"),rt("NN",0,0,"eraAbbr"),rt("NNN",0,0,"eraAbbr"),rt("NNNN",0,0,"eraName"),rt("NNNNN",0,0,"eraNarrow"),rt("y",["y",1],"yo","eraYear"),rt("y",["yy",2],0,"eraYear"),rt("y",["yyy",3],0,"eraYear"),rt("y",["yyyy",4],0,"eraYear"),Nt("N",Qn),Nt("NN",Qn),Nt("NNN",Qn),Nt("NNNN",jh),Nt("NNNNN",yp),sr(["N","NN","NNN","NNNN","NNNNN"],function(p,w,N,P){var $=N._locale.erasParse(p,P,N._strict);$?M(N).era=$:M(N).invalidEra=p}),Nt("y",Hi),Nt("yy",Hi),Nt("yyy",Hi),Nt("yyyy",Hi),Nt("yo",Uh),sr(["y","yy","yyy","yyyy"],Gn),sr(["yo"],function(p,w,N,P){var $;N._locale._eraYearOrdinalRegex&&($=p.match(N._locale._eraYearOrdinalRegex)),N._locale.eraYearOrdinalParse?w[Gn]=N._locale.eraYearOrdinalParse(p,$):w[Gn]=parseInt(p,10)});function Se(p,w){var N,P,$,xe=this._eras||qr("en")._eras;for(N=0,P=xe.length;N<P;++N){switch(typeof xe[N].since){case"string":$=r(xe[N].since).startOf("day"),xe[N].since=$.valueOf();break}switch(typeof xe[N].until){case"undefined":xe[N].until=1/0;break;case"string":$=r(xe[N].until).startOf("day").valueOf(),xe[N].until=$.valueOf();break}}return xe}function Lo(p,w,N){var P,$,xe=this.eras(),at,pn,yn;for(p=p.toUpperCase(),P=0,$=xe.length;P<$;++P)if(at=xe[P].name.toUpperCase(),pn=xe[P].abbr.toUpperCase(),yn=xe[P].narrow.toUpperCase(),N)switch(w){case"N":case"NN":case"NNN":if(pn===p)return xe[P];break;case"NNNN":if(at===p)return xe[P];break;case"NNNNN":if(yn===p)return xe[P];break}else if([at,pn,yn].indexOf(p)>=0)return xe[P]}function fs(p,w){var N=p.since<=p.until?1:-1;return w===void 0?r(p.since).year():r(p.since).year()+(w-p.offset)*N}function Fo(){var p,w,N,P=this.localeData().eras();for(p=0,w=P.length;p<w;++p)if(N=this.clone().startOf("day").valueOf(),P[p].since<=N&&N<=P[p].until||P[p].until<=N&&N<=P[p].since)return P[p].name;return""}function gc(){var p,w,N,P=this.localeData().eras();for(p=0,w=P.length;p<w;++p)if(N=this.clone().startOf("day").valueOf(),P[p].since<=N&&N<=P[p].until||P[p].until<=N&&N<=P[p].since)return P[p].narrow;return""}function Fh(){var p,w,N,P=this.localeData().eras();for(p=0,w=P.length;p<w;++p)if(N=this.clone().startOf("day").valueOf(),P[p].since<=N&&N<=P[p].until||P[p].until<=N&&N<=P[p].since)return P[p].abbr;return""}function Y(){var p,w,N,P,$=this.localeData().eras();for(p=0,w=$.length;p<w;++p)if(N=$[p].since<=$[p].until?1:-1,P=this.clone().startOf("day").valueOf(),$[p].since<=P&&P<=$[p].until||$[p].until<=P&&P<=$[p].since)return(this.year()-r($[p].since).year())*N+$[p].offset;return this.year()}function As(p){return u(this,"_erasNameRegex")||Zs.call(this),p?this._erasNameRegex:this._erasRegex}function Ou(p){return u(this,"_erasAbbrRegex")||Zs.call(this),p?this._erasAbbrRegex:this._erasRegex}function Si(p){return u(this,"_erasNarrowRegex")||Zs.call(this),p?this._erasNarrowRegex:this._erasRegex}function Qn(p,w){return w.erasAbbrRegex(p)}function jh(p,w){return w.erasNameRegex(p)}function yp(p,w){return w.erasNarrowRegex(p)}function Uh(p,w){return w._eraYearOrdinalRegex||Hi}function Zs(){var p=[],w=[],N=[],P=[],$,xe,at=this.eras();for($=0,xe=at.length;$<xe;++$)w.push($n(at[$].name)),p.push($n(at[$].abbr)),N.push($n(at[$].narrow)),P.push($n(at[$].name)),P.push($n(at[$].abbr)),P.push($n(at[$].narrow));this._erasRegex=new RegExp("^("+P.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+w.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+p.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+N.join("|")+")","i")}rt(0,["gg",2],0,function(){return this.weekYear()%100}),rt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ol(p,w){rt(0,[p,p.length],0,w)}Ol("gggg","weekYear"),Ol("ggggg","weekYear"),Ol("GGGG","isoWeekYear"),Ol("GGGGG","isoWeekYear"),Vt("weekYear","gg"),Vt("isoWeekYear","GG"),un("weekYear",1),un("isoWeekYear",1),Nt("G",lr),Nt("g",lr),Nt("GG",Hn,Zn),Nt("gg",Hn,Zn),Nt("GGGG",zi,Ur),Nt("gggg",zi,Ur),Nt("GGGGG",Cs,di),Nt("ggggg",Cs,di),$i(["gggg","ggggg","GGGG","GGGGG"],function(p,w,N,P){w[P.substr(0,2)]=Jt(p)}),$i(["gg","GG"],function(p,w,N,P){w[P]=r.parseTwoDigitYear(p)});function Nl(p){return cf.call(this,p,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function vn(p){return cf.call(this,p,this.isoWeek(),this.isoWeekday(),1,4)}function Nu(){return nn(this.year(),1,4)}function er(){return nn(this.isoWeekYear(),1,4)}function Vn(){var p=this.localeData()._week;return nn(this.year(),p.dow,p.doy)}function Al(){var p=this.localeData()._week;return nn(this.weekYear(),p.dow,p.doy)}function cf(p,w,N,P,$){var xe;return p==null?_t(this,P,$).year:(xe=nn(p,P,$),w>xe&&(w=xe),Bh.call(this,p,w,N,P,$))}function Bh(p,w,N,P,$){var xe=Ht(p,w,N,P,$),at=Dt(xe.year,0,xe.dayOfYear);return this.year(at.getUTCFullYear()),this.month(at.getUTCMonth()),this.date(at.getUTCDate()),this}rt("Q",0,"Qo","quarter"),Vt("quarter","Q"),un("quarter",7),Nt("Q",ls),sr("Q",function(p,w){w[Vr]=(Jt(p)-1)*3});function ri(p){return p==null?Math.ceil((this.month()+1)/3):this.month((p-1)*3+this.month()%3)}rt("D",["DD",2],"Do","date"),Vt("date","D"),un("date",9),Nt("D",Hn),Nt("DD",Hn,Zn),Nt("Do",function(p,w){return p?w._dayOfMonthOrdinalParse||w._ordinalParse:w._dayOfMonthOrdinalParseLenient}),sr(["D","DD"],fn),sr("Do",function(p,w){w[fn]=Jt(p.match(Hn)[0])});var Au=yr("Date",!0);rt("DDD",["DDDD",3],"DDDo","dayOfYear"),Vt("dayOfYear","DDD"),un("dayOfYear",4),Nt("DDD",yi),Nt("DDDD",us),sr(["DDD","DDDD"],function(p,w,N){N._dayOfYear=Jt(p)});function za(p){var w=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return p==null?w:this.add(p-w,"d")}rt("m",["mm",2],0,"minute"),Vt("minute","m"),un("minute",14),Nt("m",Hn),Nt("mm",Hn,Zn),sr(["m","mm"],_r);var Ml=yr("Minutes",!1);rt("s",["ss",2],0,"second"),Vt("second","s"),un("second",15),Nt("s",Hn),Nt("ss",Hn,Zn),sr(["s","ss"],Li);var Mu=yr("Seconds",!1);rt("S",0,0,function(){return~~(this.millisecond()/100)}),rt(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),rt(0,["SSS",3],0,"millisecond"),rt(0,["SSSS",4],0,function(){return this.millisecond()*10}),rt(0,["SSSSS",5],0,function(){return this.millisecond()*100}),rt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),rt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),rt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),rt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Vt("millisecond","ms"),un("millisecond",16),Nt("S",yi,ls),Nt("SS",yi,Zn),Nt("SSS",yi,us);var go,Du;for(go="SSSS";go.length<=9;go+="S")Nt(go,Hi);function vc(p,w){w[ne]=Jt(("0."+p)*1e3)}for(go="S";go.length<=9;go+="S")sr(go,vc);Du=yr("Milliseconds",!1),rt("z",0,0,"zoneAbbr"),rt("zz",0,0,"zoneName");function yc(){return this._isUTC?"UTC":""}function lf(){return this._isUTC?"Coordinated Universal Time":""}var Lt=ee.prototype;Lt.add=Gc,Lt.calendar=ng,Lt.clone=rg,Lt.diff=rf,Lt.endOf=sg,Lt.format=ji,Lt.from=sf,Lt.fromNow=of,Lt.to=ig,Lt.toNow=ku,Lt.get=ei,Lt.invalidAt=og,Lt.isAfter=Ih,Lt.isBefore=fc,Lt.isBetween=Lh,Lt.isSame=nf,Lt.isSameOrAfter=Eu,Lt.isSameOrBefore=gp,Lt.isValid=Va,Lt.lang=ds,Lt.locale=Ba,Lt.localeData=Bn,Lt.max=wi,Lt.min=Sl,Lt.parsingFlags=Yc,Lt.set=ci,Lt.startOf=fa,Lt.subtract=Rh,Lt.toArray=Ro,Lt.toObject=Po,Lt.toDate=af,Lt.toISOString=Cu,Lt.inspect=on,typeof Symbol<"u"&&Symbol.for!=null&&(Lt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Lt.toJSON=mc,Lt.toString=vp,Lt.unix=Dr,Lt.valueOf=mo,Lt.creationData=Io,Lt.eraName=Fo,Lt.eraNarrow=gc,Lt.eraAbbr=Fh,Lt.eraYear=Y,Lt.year=Ct,Lt.isLeapYear=Ft,Lt.weekYear=Nl,Lt.isoWeekYear=vn,Lt.quarter=Lt.quarters=ri,Lt.month=se,Lt.daysInMonth=Ee,Lt.week=Lt.weeks=Qr,Lt.isoWeek=Lt.isoWeeks=an,Lt.weeksInYear=Vn,Lt.weeksInWeekYear=Al,Lt.isoWeeksInYear=Nu,Lt.isoWeeksInISOWeekYear=er,Lt.date=Au,Lt.day=Lt.days=gu,Lt.weekday=vu,Lt.isoWeekday=Oi,Lt.dayOfYear=za,Lt.hour=Lt.hours=ni,Lt.minute=Lt.minutes=Ml,Lt.second=Lt.seconds=Mu,Lt.millisecond=Lt.milliseconds=Du,Lt.utcOffset=Jd,Lt.utc=Jm,Lt.local=Dh,Lt.parseZone=eg,Lt.hasAlignedHourOffset=El,Lt.isDST=De,Lt.isLocal=ot,Lt.isUtcOffset=sn,Lt.isUtc=jn,Lt.isUTC=jn,Lt.zoneAbbr=yc,Lt.zoneName=lf,Lt.dates=Te("dates accessor is deprecated. Use date instead.",Au),Lt.months=Te("months accessor is deprecated. Use month instead",se),Lt.years=Te("years accessor is deprecated. Use year instead",Ct),Lt.zone=Te("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fp),Lt.isDSTShifted=Te("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pt);function fi(p){return dr(p*1e3)}function ag(){return dr.apply(null,arguments).parseZone()}function Ms(p){return p}var xr=We.prototype;xr.calendar=Pe,xr.longDateFormat=W,xr.invalidDate=z,xr.ordinal=Ce,xr.preparse=Ms,xr.postformat=Ms,xr.relativeTime=$e,xr.pastFuture=mt,xr.set=ut,xr.eras=Se,xr.erasParse=Lo,xr.erasConvertYear=fs,xr.erasAbbrRegex=Ou,xr.erasNameRegex=As,xr.erasNarrowRegex=Si,xr.months=St,xr.monthsShort=L,xr.monthsParse=X,xr.monthsRegex=Ve,xr.monthsShortRegex=Me,xr.week=Un,xr.firstDayOfYear=Fn,xr.firstDayOfWeek=Ke,xr.weekdays=La,xr.weekdaysMin=Oo,xr.weekdaysShort=da,xr.weekdaysParse=mu,xr.weekdaysRegex=kn,xr.weekdaysShortRegex=Lr,xr.weekdaysMinRegex=Yd,xr.isPM=yl,xr.meridiem=Fa;function Vh(p,w,N,P){var $=qr(),xe=T().set(P,w);return $[N](xe,p)}function _p(p,w,N){if(v(p)&&(w=p,p=void 0),p=p||"",w!=null)return Vh(p,w,N,"month");var P,$=[];for(P=0;P<12;P++)$[P]=Vh(p,P,N,"month");return $}function pi(p,w,N,P){typeof p=="boolean"?(v(w)&&(N=w,w=void 0),w=w||""):(w=p,N=w,p=!1,v(w)&&(N=w,w=void 0),w=w||"");var $=qr(),xe=p?$._week.dow:0,at,pn=[];if(N!=null)return Vh(w,(N+xe)%7,P,"day");for(at=0;at<7;at++)pn[at]=Vh(w,(at+xe)%7,P,"day");return pn}function wp(p,w){return _p(p,w,"months")}function rs(p,w){return _p(p,w,"monthsShort")}function Dl(p,w,N){return pi(p,w,N,"weekdays")}function On(p,w,N){return pi(p,w,N,"weekdaysShort")}function At(p,w,N){return pi(p,w,N,"weekdaysMin")}Ks("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(p){var w=p%10,N=Jt(p%100/10)===1?"th":w===1?"st":w===2?"nd":w===3?"rd":"th";return p+N}}),r.lang=Te("moment.lang is deprecated. Use moment.locale instead.",Ks),r.langData=Te("moment.langData is deprecated. Use moment.localeData instead.",qr);var ui=Math.abs;function Js(){var p=this._data;return this._milliseconds=ui(this._milliseconds),this._days=ui(this._days),this._months=ui(this._months),p.milliseconds=ui(p.milliseconds),p.seconds=ui(p.seconds),p.minutes=ui(p.minutes),p.hours=ui(p.hours),p.months=ui(p.months),p.years=ui(p.years),this}function Ru(p,w,N,P){var $=Jn(w,N);return p._milliseconds+=P*$._milliseconds,p._days+=P*$._days,p._months+=P*$._months,p._bubble()}function cn(p,w){return Ru(this,p,w,1)}function eo(p,w){return Ru(this,p,w,-1)}function _c(p){return p<0?Math.floor(p):Math.ceil(p)}function hn(){var p=this._milliseconds,w=this._days,N=this._months,P=this._data,$,xe,at,pn,yn;return p>=0&&w>=0&&N>=0||p<=0&&w<=0&&N<=0||(p+=_c(Rl(N)+w)*864e5,w=0,N=0),P.milliseconds=p%1e3,$=Ln(p/1e3),P.seconds=$%60,xe=Ln($/60),P.minutes=xe%60,at=Ln(xe/60),P.hours=at%24,w+=Ln(at/24),yn=Ln(ps(w)),N+=yn,w-=_c(Rl(yn)),pn=Ln(N/12),N%=12,P.days=w,P.months=N,P.years=pn,this}function ps(p){return p*4800/146097}function Rl(p){return p*146097/4800}function Pu(p){if(!this.isValid())return NaN;var w,N,P=this._milliseconds;if(p=Pt(p),p==="month"||p==="quarter"||p==="year")switch(w=this._days+P/864e5,N=this._months+ps(w),p){case"month":return N;case"quarter":return N/3;case"year":return N/12}else switch(w=this._days+Math.round(Rl(this._months)),p){case"week":return w/7+P/6048e5;case"day":return w+P/864e5;case"hour":return w*24+P/36e5;case"minute":return w*1440+P/6e4;case"second":return w*86400+P/1e3;case"millisecond":return Math.floor(w*864e5)+P;default:throw new Error("Unknown unit "+p)}}function Iu(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Jt(this._months/12)*31536e6:NaN}function Wi(p){return function(){return this.as(p)}}var Mi=Wi("ms"),bp=Wi("s"),Pl=Wi("m"),Ha=Wi("h"),cg=Wi("d"),Wr=Wi("w"),ms=Wi("M"),uf=Wi("Q"),hf=Wi("y");function pa(){return Jn(this)}function jo(p){return p=Pt(p),this.isValid()?this[p+"s"]():NaN}function vo(p){return function(){return this.isValid()?this._data[p]:NaN}}var Qc=vo("milliseconds"),$a=vo("seconds"),gs=vo("minutes"),Kc=vo("hours"),xi=vo("days"),qa=vo("months"),Wa=vo("years");function ea(){return Ln(this.days()/7)}var ma=Math.round,Bs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function wc(p,w,N,P,$){return $.relativeTime(w||1,!!N,p,P)}function Il(p,w,N,P){var $=Jn(p).abs(),xe=ma($.as("s")),at=ma($.as("m")),pn=ma($.as("h")),yn=ma($.as("d")),Er=ma($.as("M")),mi=ma($.as("w")),Ds=ma($.as("y")),Bo=xe<=N.ss&&["s",xe]||xe<N.s&&["ss",xe]||at<=1&&["m"]||at<N.m&&["mm",at]||pn<=1&&["h"]||pn<N.h&&["hh",pn]||yn<=1&&["d"]||yn<N.d&&["dd",yn];return N.w!=null&&(Bo=Bo||mi<=1&&["w"]||mi<N.w&&["ww",mi]),Bo=Bo||Er<=1&&["M"]||Er<N.M&&["MM",Er]||Ds<=1&&["y"]||["yy",Ds],Bo[2]=w,Bo[3]=+p>0,Bo[4]=P,wc.apply(null,Bo)}function ii(p){return p===void 0?ma:typeof p=="function"?(ma=p,!0):!1}function vs(p,w){return Bs[p]===void 0?!1:w===void 0?Bs[p]:(Bs[p]=w,p==="s"&&(Bs.ss=w-1),!0)}function Uo(p,w){if(!this.isValid())return this.localeData().invalidDate();var N=!1,P=Bs,$,xe;return typeof p=="object"&&(w=p,p=!1),typeof p=="boolean"&&(N=p),typeof w=="object"&&(P=Object.assign({},Bs,w),w.s!=null&&w.ss==null&&(P.ss=w.s-1)),$=this.localeData(),xe=Il(this,!N,P,$),N&&(xe=$.pastFuture(+this,xe)),$.postformat(xe)}var Ll=Math.abs;function Tr(p){return(p>0)-(p<0)||+p}function ga(){if(!this.isValid())return this.localeData().invalidDate();var p=Ll(this._milliseconds)/1e3,w=Ll(this._days),N=Ll(this._months),P,$,xe,at,pn=this.asSeconds(),yn,Er,mi,Ds;return pn?(P=Ln(p/60),$=Ln(P/60),p%=60,P%=60,xe=Ln(N/12),N%=12,at=p?p.toFixed(3).replace(/\.?0+$/,""):"",yn=pn<0?"-":"",Er=Tr(this._months)!==Tr(pn)?"-":"",mi=Tr(this._days)!==Tr(pn)?"-":"",Ds=Tr(this._milliseconds)!==Tr(pn)?"-":"",yn+"P"+(xe?Er+xe+"Y":"")+(N?Er+N+"M":"")+(w?mi+w+"D":"")+($||P||p?"T":"")+($?Ds+$+"H":"")+(P?Ds+P+"M":"")+(p?Ds+at+"S":"")):"P0D"}var Yn=xl.prototype;Yn.isValid=Mh,Yn.abs=Js,Yn.add=cn,Yn.subtract=eo,Yn.as=Pu,Yn.asMilliseconds=Mi,Yn.asSeconds=bp,Yn.asMinutes=Pl,Yn.asHours=Ha,Yn.asDays=cg,Yn.asWeeks=Wr,Yn.asMonths=ms,Yn.asQuarters=uf,Yn.asYears=hf,Yn.valueOf=Iu,Yn._bubble=hn,Yn.clone=pa,Yn.get=jo,Yn.milliseconds=Qc,Yn.seconds=$a,Yn.minutes=gs,Yn.hours=Kc,Yn.days=xi,Yn.weeks=ea,Yn.months=qa,Yn.years=Wa,Yn.humanize=Uo,Yn.toISOString=ga,Yn.toString=ga,Yn.toJSON=ga,Yn.locale=Ba,Yn.localeData=Bn,Yn.toIsoString=Te("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ga),Yn.lang=ds,rt("X",0,0,"unix"),rt("x",0,0,"valueOf"),Nt("x",lr),Nt("X",ha),sr("X",function(p,w,N){N._d=new Date(parseFloat(p)*1e3)}),sr("x",function(p,w,N){N._d=new Date(Jt(p))});//! moment.js
return r.version="2.29.4",s(dr),r.fn=Lt,r.min=bu,r.max=Kd,r.now=dp,r.utc=T,r.unix=fi,r.months=wp,r.isDate=b,r.locale=Ks,r.invalid=j,r.duration=Jn,r.isMoment=_e,r.weekdays=Dl,r.parseZone=ag,r.localeData=qr,r.isDuration=Mo,r.monthsShort=rs,r.weekdaysMin=At,r.defineLocale=ts,r.updateLocale=_u,r.locales=Ah,r.weekdaysShort=On,r.normalizeUnits=Pt,r.relativeTimeRounding=ii,r.relativeTimeThreshold=vs,r.calendarFormat=mp,r.prototype=Lt,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})}(Gw)),Gw.exports}(function(e,t){(function(n,r){e.exports=r(JQ(),he)})(hi,function(n,r){return function(s){var o={};function l(u){if(o[u])return o[u].exports;var f=o[u]={i:u,l:!1,exports:{}};return s[u].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=s,l.c=o,l.d=function(u,f,m){l.o(u,f)||Object.defineProperty(u,f,{enumerable:!0,get:m})},l.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},l.t=function(u,f){if(1&f&&(u=l(u)),8&f||4&f&&typeof u=="object"&&u&&u.__esModule)return u;var m=Object.create(null);if(l.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:u}),2&f&&typeof u!="string")for(var v in u)l.d(m,v,(function(b){return u[b]}).bind(null,v));return m},l.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return l.d(f,"a",f),f},l.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},l.p="",l(l.s=6)}([function(s,o,l){s.exports=l(3)()},function(s,o){s.exports=n},function(s,o){s.exports=r},function(s,o,l){var u=l(4);function f(){}function m(){}m.resetWarningCache=f,s.exports=function(){function v(O,T,D,M,C,R){if(R!==u){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}function b(){return v}v.isRequired=v;var x={array:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:b,element:v,elementType:v,instanceOf:b,node:v,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:m,resetWarningCache:f};return x.PropTypes=x,x}},function(s,o,l){s.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(s,o,l){var u,f,m,v,b;/*! Moment Duration Format v2.2.2
 *  https://github.com/jsmreese/moment-duration-format
 *  Date: 2018-02-16
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2018 John Madhavan-Reese
 *  Released under the MIT license
 */v=this,b=function(x){var O=!1,T=!1,D=!1,M=!1,C="escape years months weeks days hours minutes seconds milliseconds general".split(" "),R=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function j(z,K){return!(K.length>z.length)&&z.indexOf(K)!==-1}function H(z){for(var K="";z;)K+="0",z-=1;return K}function F(z,K){var de=z+"+"+ut(Qe(K).sort(),function(Ce){return Ce+":"+K[Ce]}).join(",");return F.cache[de]||(F.cache[de]=Intl.NumberFormat(z,K)),F.cache[de]}function ie(z,K,de){var Ce,fe,$e,mt=K.useToLocaleString,It=K.useGrouping,Vt=It&&K.grouping.slice(),Pt=K.maximumSignificantDigits,mn=K.minimumIntegerDigits||1,Sn=K.fractionDigits||0,un=K.groupingSeparator,mr=K.decimalSeparator;if(mt&&de){var Nr,Ln={minimumIntegerDigits:mn,useGrouping:It};return Sn&&(Ln.maximumFractionDigits=Sn,Ln.minimumFractionDigits=Sn),Pt&&z>0&&(Ln.maximumSignificantDigits=Pt),D?(M||((Nr=it({},K)).useGrouping=!1,Nr.decimalSeparator=".",z=parseFloat(ie(z,Nr),10)),F(de,Ln).format(z)):(T||((Nr=it({},K)).useGrouping=!1,Nr.decimalSeparator=".",z=parseFloat(ie(z,Nr),10)),z.toLocaleString(de,Ln))}var Jt=(Pt?z.toPrecision(Pt+1):z.toFixed(Sn+1)).split("e");$e=Jt[1]||"",fe=(Jt=Jt[0].split("."))[1]||"";var yr=(Ce=Jt[0]||"").length,Ir=fe.length,ki=yr+Ir,ei=Ce+fe;(Pt&&ki===Pt+1||!Pt&&Ir===Sn+1)&&((ei=function(us){for(var Ur=us.split("").reverse(),di=0,Hn=!0;Hn&&di<Ur.length;)di?Ur[di]==="9"?Ur[di]="0":(Ur[di]=(parseInt(Ur[di],10)+1).toString(),Hn=!1):(parseInt(Ur[di],10)<5&&(Hn=!1),Ur[di]="0"),di+=1;return Hn&&Ur.push("1"),Ur.reverse().join("")}(ei)).length===ki+1&&(yr+=1),Ir&&(ei=ei.slice(0,-1)),Ce=ei.slice(0,yr),fe=ei.slice(yr)),Pt&&(fe=fe.replace(/0*$/,""));var ci=parseInt($e,10);ci>0?fe.length<=ci?(Ce+=fe+=H(ci-fe.length),fe=""):(Ce+=fe.slice(0,ci),fe=fe.slice(ci)):ci<0&&(fe=H(Math.abs(ci)-Ce.length)+Ce+fe,Ce="0"),Pt||((fe=fe.slice(0,Sn)).length<Sn&&(fe+=H(Sn-fe.length)),Ce.length<mn&&(Ce=H(mn-Ce.length)+Ce));var ls,Zn="";if(It)for(Jt=Ce;Jt.length;)Vt.length&&(ls=Vt.shift()),Zn&&(Zn=un+Zn),Zn=Jt.slice(-ls)+Zn,Jt=Jt.slice(0,-ls);else Zn=Ce;return fe&&(Zn=Zn+mr+fe),Zn}function ee(z,K){return z.label.length>K.label.length?-1:z.label.length<K.label.length?1:0}function _e(z,K){var de=[];return et(Qe(K),function(Ce){if(Ce.slice(0,15)==="_durationLabels"){var fe=Ce.slice(15).toLowerCase();et(Qe(K[Ce]),function($e){$e.slice(0,1)===z&&de.push({type:fe,key:$e,label:K[Ce][$e]})})}}),de}F.cache={};var Xe={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(z,K,de){return K===1&&de===null?z:z+z}};function Te(z){return Object.prototype.toString.call(z)==="[object Array]"}function Fe(z){return Object.prototype.toString.call(z)==="[object Object]"}function je(z,K){var de,Ce=0,fe=z&&z.length||0;for(typeof K!="function"&&(de=K,K=function($e){return $e===de});Ce<fe;){if(K(z[Ce]))return z[Ce];Ce+=1}}function et(z,K){var de=0,Ce=z.length;if(z&&Ce)for(;de<Ce;){if(K(z[de],de)===!1)return;de+=1}}function ut(z,K){var de=0,Ce=z.length,fe=[];if(!z||!Ce)return fe;for(;de<Ce;)fe[de]=K(z[de],de),de+=1;return fe}function Ge(z,K){return ut(z,function(de){return de[K]})}function We(z){var K=[];return et(z,function(de){de&&K.push(de)}),K}function Ae(z){var K=[];return et(z,function(de){je(K,de)||K.push(de)}),K}function pe(z,K){var de=[];return et(z,function(Ce){et(K,function(fe){Ce===fe&&de.push(Ce)})}),Ae(de)}function Pe(z,K){var de=[];return et(z,function(Ce,fe){if(!K(Ce))return de=z.slice(fe),!1}),de}function Ye(z,K){return Pe(z.slice().reverse(),K).reverse()}function it(z,K){for(var de in K)K.hasOwnProperty(de)&&(z[de]=K[de]);return z}function Qe(z){var K=[];for(var de in z)z.hasOwnProperty(de)&&K.push(de);return K}function bt(z,K){var de=0,Ce=z.length;if(!z||!Ce)return!1;for(;de<Ce;){if(K(z[de],de)===!0)return!0;de+=1}return!1}function Mt(z){var K=[];return et(z,function(de){K=K.concat(de)}),K}function rt(z){return z(3.55,"en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})==="3.6"}function Kt(z){var K=!0;return!!((K=(K=(K=K&&z(1,"en",{minimumIntegerDigits:1})==="1")&&z(1,"en",{minimumIntegerDigits:2})==="01")&&z(1,"en",{minimumIntegerDigits:3})==="001")&&(K=(K=(K=(K=K&&z(99.99,"en",{maximumFractionDigits:0,minimumFractionDigits:0})==="100")&&z(99.99,"en",{maximumFractionDigits:1,minimumFractionDigits:1})==="100.0")&&z(99.99,"en",{maximumFractionDigits:2,minimumFractionDigits:2})==="99.99")&&z(99.99,"en",{maximumFractionDigits:3,minimumFractionDigits:3})==="99.990")&&(K=(K=(K=(K=(K=K&&z(99.99,"en",{maximumSignificantDigits:1})==="100")&&z(99.99,"en",{maximumSignificantDigits:2})==="100")&&z(99.99,"en",{maximumSignificantDigits:3})==="100")&&z(99.99,"en",{maximumSignificantDigits:4})==="99.99")&&z(99.99,"en",{maximumSignificantDigits:5})==="99.99")&&(K=(K=K&&z(1e3,"en",{useGrouping:!0})==="1,000")&&z(1e3,"en",{useGrouping:!1})==="1000"))}function Ue(){var z,K=[].slice.call(arguments),de={};if(et(K,function(mt,It){if(!It){if(!Te(mt))throw"Expected array as the first argument to durationsFormat.";z=mt}typeof mt!="string"&&typeof mt!="function"?typeof mt!="number"?Fe(mt)&&it(de,mt):de.precision=mt:de.template=mt}),!z||!z.length)return[];de.returnMomentTypes=!0;var Ce=ut(z,function(mt){return mt.format(de)}),fe=pe(C,Ae(Ge(Mt(Ce),"type"))),$e=de.largest;return $e&&(fe=fe.slice(0,$e)),de.returnMomentTypes=!1,de.outputTypes=fe,ut(z,function(mt){return mt.format(de)})}function ae(){var z=[].slice.call(arguments),K=it({},this.format.defaults),de=this.asMilliseconds(),Ce=this.asMonths();typeof this.isValid=="function"&&this.isValid()===!1&&(de=0,Ce=0);var fe=de<0,$e=x.duration(Math.abs(de),"milliseconds"),mt=x.duration(Math.abs(Ce),"months");et(z,function(te){typeof te!="string"&&typeof te!="function"?typeof te!="number"?Fe(te)&&it(K,te):K.precision=te:K.template=te});var It={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},Vt={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};K.types=C;var Pt=function(te){return je(C,function(ht){return Vt[ht].test(te)})},mn=new RegExp(ut(C,function(te){return Vt[te].source}).join("|"),"g");K.duration=this;var Sn=typeof K.template=="function"?K.template.apply(K):K.template,un=K.outputTypes,mr=K.returnMomentTypes,Nr=K.largest,Ln=[];un||(Te(K.stopTrim)&&(K.stopTrim=K.stopTrim.join("")),K.stopTrim&&et(K.stopTrim.match(mn),function(te){var ht=Pt(te);ht!=="escape"&&ht!=="general"&&Ln.push(ht)}));var Jt=x.localeData();Jt||(Jt={}),et(Qe(Xe),function(te){typeof Xe[te]!="function"?Jt["_"+te]||(Jt["_"+te]=Xe[te]):Jt[te]||(Jt[te]=Xe[te])}),et(Qe(Jt._durationTimeTemplates),function(te){Sn=Sn.replace("_"+te+"_",Jt._durationTimeTemplates[te])});var yr=K.userLocale||x.locale(),Ir=K.useLeftUnits,ki=K.usePlural,ei=K.precision,ci=K.forceLength,ls=K.useGrouping,Zn=K.trunc,us=K.useSignificantDigits&&ei>0,Ur=us?K.precision:0,di=Ur,Hn=K.minValue,Es=!1,ao=K.maxValue,yi=!1,zi=K.useToLocaleString,Cs=K.groupingSeparator,Hi=K.decimalSeparator,lr=K.grouping;zi=zi&&(O||D);var Gr=K.trim;Te(Gr)&&(Gr=Gr.join(" ")),Gr===null&&(Nr||ao||us)&&(Gr="all"),Gr!==null&&Gr!==!0&&Gr!=="left"&&Gr!=="right"||(Gr="large"),Gr===!1&&(Gr="");var Gs=function(te){return te.test(Gr)},ha=/large/,es=/small/,hs=/both/,Nt=/mid/,br=/^all|[^sm]all/,Br=/final/,$n=Nr>0||bt([ha,hs,br],Gs),co=bt([es,hs,br],Gs),sr=bt([Nt,br],Gs),$i=bt([Br,br],Gs),Is=ut(Sn.match(mn),function(te,ht){var vt=Pt(te);return te.slice(0,1)==="*"&&(te=te.slice(1),vt!=="escape"&&vt!=="general"&&Ln.push(vt)),{index:ht,length:te.length,text:"",token:vt==="escape"?te.replace(Vt.escape,"$1"):te,type:vt==="escape"||vt==="general"?null:vt}}),Gn={index:0,length:0,token:"",text:"",type:null},Vr=[];Ir&&Is.reverse(),et(Is,function(te){if(te.type)return(Gn.type||Gn.text)&&Vr.push(Gn),void(Gn=te);Ir?Gn.text=te.token+Gn.text:Gn.text+=te.token}),(Gn.type||Gn.text)&&Vr.push(Gn),Ir&&Vr.reverse();var fn=pe(C,Ae(We(Ge(Vr,"type"))));if(!fn.length)return Ge(Vr,"text").join("");fn=ut(fn,function(te,ht){var vt,qt=ht+1===fn.length,Xt=!ht;vt=te==="years"||te==="months"?mt.as(te):$e.as(te);var jt=Math.floor(vt),gt=vt-jt,St=je(Vr,function(L){return te===L.type});return Xt&&ao&&vt>ao&&(yi=!0),qt&&Hn&&Math.abs(K.duration.as(te))<Hn&&(Es=!0),Xt&&ci===null&&St.length>1&&(ci=!0),$e.subtract(jt,te),mt.subtract(jt,te),{rawValue:vt,wholeValue:jt,decimalValue:qt?gt:0,isSmallest:qt,isLargest:Xt,type:te,tokenLength:St.length}});var $r=Zn?Math.floor:Math.round,_r=function(te,ht){var vt=Math.pow(10,ht);return $r(te*vt)/vt},Li=!1,ne=!1,ye=function(te,ht){var vt={useGrouping:ls,groupingSeparator:Cs,decimalSeparator:Hi,grouping:lr,useToLocaleString:zi};return us&&(Ur<=0?(te.rawValue=0,te.wholeValue=0,te.decimalValue=0):(vt.maximumSignificantDigits=Ur,te.significantDigits=Ur)),yi&&!ne&&(te.isLargest?(te.wholeValue=ao,te.decimalValue=0):(te.wholeValue=0,te.decimalValue=0)),Es&&!ne&&(te.isSmallest?(te.wholeValue=Hn,te.decimalValue=0):(te.wholeValue=0,te.decimalValue=0)),te.isSmallest||te.significantDigits&&te.significantDigits-te.wholeValue.toString().length<=0?ei<0?te.value=_r(te.wholeValue,ei):ei===0?te.value=$r(te.wholeValue+te.decimalValue):us?(te.value=Zn?_r(te.rawValue,Ur-te.wholeValue.toString().length):te.rawValue,te.wholeValue&&(Ur-=te.wholeValue.toString().length)):(vt.fractionDigits=ei,te.value=Zn?te.wholeValue+_r(te.decimalValue,ei):te.wholeValue+te.decimalValue):us&&te.wholeValue?(te.value=Math.round(_r(te.wholeValue,te.significantDigits-te.wholeValue.toString().length)),Ur-=te.wholeValue.toString().length):te.value=te.wholeValue,te.tokenLength>1&&(ci||Li)&&(vt.minimumIntegerDigits=te.tokenLength,ne&&vt.maximumSignificantDigits<te.tokenLength&&delete vt.maximumSignificantDigits),!Li&&(te.value>0||Gr===""||je(Ln,te.type)||je(un,te.type))&&(Li=!0),te.formattedValue=ie(te.value,vt,yr),vt.useGrouping=!1,vt.decimalSeparator=".",te.formattedValueEn=ie(te.value,vt,"en"),te.tokenLength===2&&te.type==="milliseconds"&&(te.formattedValueMS=ie(te.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2)),te};if((fn=We(fn=ut(fn,ye))).length>1){var Ne=function(te){return je(fn,function(ht){return ht.type===te})},Ze=function(te){var ht=Ne(te.type);ht&&et(te.targets,function(vt){var qt=Ne(vt.type);qt&&parseInt(ht.formattedValueEn,10)===vt.value&&(ht.rawValue=0,ht.wholeValue=0,ht.decimalValue=0,qt.rawValue+=1,qt.wholeValue+=1,qt.decimalValue=0,qt.formattedValueEn=qt.wholeValue.toString(),ne=!0)})};et(R,Ze)}return ne&&(Li=!1,Ur=di,fn=We(fn=ut(fn,ye))),!un||yi&&!K.trim?($n&&(fn=Pe(fn,function(te){return!te.isSmallest&&!te.wholeValue&&!je(Ln,te.type)})),Nr&&fn.length&&(fn=fn.slice(0,Nr)),co&&fn.length>1&&(fn=Ye(fn,function(te){return!te.wholeValue&&!je(Ln,te.type)&&!te.isLargest})),sr&&(fn=We(fn=ut(fn,function(te,ht){return ht>0&&ht<fn.length-1&&!te.wholeValue?null:te}))),!$i||fn.length!==1||fn[0].wholeValue||!Zn&&fn[0].isSmallest&&fn[0].rawValue<Hn||(fn=[])):fn=We(fn=ut(fn,function(te){return je(un,function(ht){return te.type===ht})?te:null})),mr?fn:(et(Vr,function(te){var ht=It[te.type],vt=je(fn,function(L){return L.type===te.type});if(ht&&vt){var qt=vt.formattedValueEn.split(".");qt[0]=parseInt(qt[0],10),qt[1]?qt[1]=parseFloat("0."+qt[1],10):qt[1]=null;var Xt=Jt.durationPluralKey(ht,qt[0],qt[1]),jt=_e(ht,Jt),gt=!1,St={};et(Jt._durationLabelTypes,function(L){var q=je(jt,function(X){return X.type===L.type&&X.key===Xt});q&&(St[q.type]=q.label,j(te.text,L.string)&&(te.text=te.text.replace(L.string,q.label),gt=!0))}),ki&&!gt&&(jt.sort(ee),et(jt,function(L){return St[L.type]===L.label?!j(te.text,L.label)&&void 0:j(te.text,L.label)?(te.text=te.text.replace(L.label,St[L.type]),!1):void 0}))}}),(Vr=ut(Vr,function(te){if(!te.type)return te.text;var ht=je(fn,function(qt){return qt.type===te.type});if(!ht)return"";var vt="";return Ir&&(vt+=te.text),(fe&&yi||!fe&&Es)&&(vt+="< ",yi=!1,Es=!1),(fe&&Es||!fe&&yi)&&(vt+="> ",yi=!1,Es=!1),fe&&(ht.value>0||Gr===""||je(Ln,ht.type)||je(un,ht.type))&&(vt+="-",fe=!1),te.type==="milliseconds"&&ht.formattedValueMS?vt+=ht.formattedValueMS:vt+=ht.formattedValue,Ir||(vt+=te.text),vt})).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function we(){var z=this.duration,K=function(fe){return z._data[fe]},de=je(this.types,K),Ce=function(fe,$e){for(var mt=fe.length;mt-=1;)if($e(fe[mt]))return fe[mt]}(this.types,K);switch(de){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(de===Ce)return"d __";case"weeks":return de===Ce?"w __":(this.trim===null&&(this.trim="both"),"w __, d __, h __");case"months":if(de===Ce)return"M __";case"years":return de===Ce?"y __":(this.trim===null&&(this.trim="both"),"y __, M __, d __");default:return this.trim===null&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function be(z){if(!z)throw"Moment Duration Format init cannot find moment instance.";z.duration.format=Ue,z.duration.fn.format=ae,z.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:we,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]},z.updateLocale("en",Xe)}var W=function(z,K,de){return z.toLocaleString(K,de)};O=function(){try{0 .toLocaleString("i")}catch(z){return z.name==="RangeError"}return!1}()&&Kt(W),T=O&&rt(W);var le=function(z,K,de){if(typeof window<"u"&&window&&window.Intl&&window.Intl.NumberFormat)return window.Intl.NumberFormat(K,de).format(z)};return D=Kt(le),M=D&&rt(le),be(x),be},f=[l(1)],(m=typeof(u=b)=="function"?u.apply(o,f):u)===void 0||(s.exports=m),v&&(v.momentDurationFormatSetup=v.moment?b(v.moment):b)},function(s,o,l){l.r(o),l.d(o,"default",function(){return je});var u=l(2),f=l.n(u),m=l(0),v=l.n(m),b=l(1),x=l.n(b);l(5);function O(et){return(O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ut){return typeof ut}:function(ut){return ut&&typeof Symbol=="function"&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut})(et)}function T(et,ut){var Ge=Object.keys(et);if(Object.getOwnPropertySymbols){var We=Object.getOwnPropertySymbols(et);ut&&(We=We.filter(function(Ae){return Object.getOwnPropertyDescriptor(et,Ae).enumerable})),Ge.push.apply(Ge,We)}return Ge}function D(et,ut){if(et==null)return{};var Ge,We,Ae=function(Pe,Ye){if(Pe==null)return{};var it,Qe,bt={},Mt=Object.keys(Pe);for(Qe=0;Qe<Mt.length;Qe++)it=Mt[Qe],Ye.indexOf(it)>=0||(bt[it]=Pe[it]);return bt}(et,ut);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(et);for(We=0;We<pe.length;We++)Ge=pe[We],ut.indexOf(Ge)>=0||Object.prototype.propertyIsEnumerable.call(et,Ge)&&(Ae[Ge]=et[Ge])}return Ae}function M(et,ut){for(var Ge=0;Ge<ut.length;Ge++){var We=ut[Ge];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(et,We.key,We)}}function C(et,ut,Ge){return ut&&M(et.prototype,ut),Ge&&M(et,Ge),et}function R(et,ut){return(R=Object.setPrototypeOf||function(Ge,We){return Ge.__proto__=We,Ge})(et,ut)}function j(et){var ut=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Ge,We=ie(et);if(ut){var Ae=ie(this).constructor;Ge=Reflect.construct(We,arguments,Ae)}else Ge=We.apply(this,arguments);return H(this,Ge)}}function H(et,ut){return!ut||O(ut)!=="object"&&typeof ut!="function"?F(et):ut}function F(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function ie(et){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(ut){return ut.__proto__||Object.getPrototypeOf(ut)})(et)}function ee(et,ut,Ge){return ut in et?Object.defineProperty(et,ut,{value:Ge,enumerable:!0,configurable:!0,writable:!0}):et[ut]=Ge,et}var _e=[v.a.string,v.a.number,v.a.array,v.a.object],Xe=[v.a.string,v.a.array],Te=[v.a.object,v.a.bool],Fe=[v.a.string,v.a.bool],je=function(et){(function(We,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function");We.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:We,writable:!0,configurable:!0}}),Ae&&R(We,Ae)})(Ge,et);var ut=j(Ge);function Ge(We){var Ae;return function(pe,Pe){if(!(pe instanceof Pe))throw new TypeError("Cannot call a class as a function")}(this,Ge),ee(F(Ae=ut.call(this,We)),"setTimer",function(){var pe=Ae.props.interval;Ae.clearTimer(),Ge.pooledTimer||pe===0||(Ae.timer=setInterval(function(){Ae.update(Ae.props)},pe))}),ee(F(Ae),"getTitle",function(){var pe=Ae.props.titleFormat,Pe=Ge.getDatetime(Ae.props),Ye=pe||Ge.globalFormat;return Pe.format(Ye)}),ee(F(Ae),"clearTimer",function(){!Ge.pooledTimer&&Ae.timer&&(clearInterval(Ae.timer),Ae.timer=null),Ge.pooledTimer&&!Ae.timer&&Ge.removePooledElement(F(Ae))}),Ge.globalMoment||(Ge.globalMoment=x.a),Ae.state={content:""},Ae.timer=null,Ae}return C(Ge,null,[{key:"startPooledTimer",value:function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6e4;Ge.clearPooledTimer(),Ge.pooledTimer=setInterval(function(){Ge.pooledElements.forEach(function(Ae){Ae.props.interval!==0&&Ae.update()})},We)}},{key:"clearPooledTimer",value:function(){Ge.pooledTimer&&(clearInterval(Ge.pooledTimer),Ge.pooledTimer=null,Ge.pooledElements=[])}},{key:"pushPooledElement",value:function(We){We instanceof Ge?Ge.pooledElements.indexOf(We)===-1&&Ge.pooledElements.push(We):console.error("Element not an instance of Moment.")}},{key:"removePooledElement",value:function(We){var Ae=Ge.pooledElements.indexOf(We);Ae!==-1&&Ge.pooledElements.splice(Ae,1)}},{key:"getDatetime",value:function(We){var Ae=We.utc,pe=We.unix,Pe=We.date,Ye=We.locale,it=We.parse,Qe=We.tz,bt=We.local;Pe=Pe||We.children,it=it||Ge.globalParse,bt=bt||Ge.globalLocal,Qe=Qe||Ge.globalTimezone,Ye=Ge.globalLocale?Ge.globalLocale:Ye||Ge.globalMoment.locale();var Mt=null;return Mt=Ae?Ge.globalMoment.utc(Pe,it,Ye):pe?Ge.globalMoment(1e3*Pe,it,Ye):Ge.globalMoment(Pe,it,Ye),Qe?Mt=Mt.tz(Qe):bt&&(Mt=Mt.local()),Mt}},{key:"getContent",value:function(We){var Ae=We.fromNow,pe=We.fromNowDuring,Pe=We.from,Ye=We.add,it=We.subtract,Qe=We.toNow,bt=We.to,Mt=We.ago,rt=We.calendar,Kt=We.diff,Ue=We.duration,ae=We.durationFromNow,we=We.unit,be=We.decimal,W=We.trim,le=We.format;le=le||Ge.globalFormat;var z=Ge.getDatetime(We);Ye&&z.add(Ye),it&&z.subtract(it);var K=!!pe&&-z.diff(x()())<pe,de="";return de=!le||K||ae||Ue?Pe?z.from(Pe,Mt):Ae||K?z.fromNow(Mt):bt?z.to(bt,Mt):Qe?z.toNow(Mt):rt?z.calendar(null,rt):Kt?z.diff(Kt,we,be):Ue?z.diff(Ue):ae?x()().diff(z):z.toString():z.format(le),(Ue||ae)&&(de=(de=x.a.duration(de)).format(le,{trim:W})),de=(Ge.globalFilter||We.filter)(de)}}]),C(Ge,[{key:"componentDidMount",value:function(){this.setTimer(),Ge.pooledTimer&&Ge.pushPooledElement(this)}},{key:"componentDidUpdate",value:function(We){var Ae=this.props.interval;We.interval!==Ae&&this.setTimer()}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"update",value:function(We){var Ae=We||this.props,pe=Ae.onChange,Pe=Ge.getContent(Ae);this.setState({content:Pe},function(){pe(Pe)})}},{key:"render",value:function(){var We,Ae,pe,Pe,Ye=this.props,it=Ye.withTitle,Qe=Ye.element,bt=D(Ye,["withTitle","element"]),Mt=this.state.content,rt=(We=bt,Ae=Ge.propTypes,pe=Object.keys(Ae),Pe=Object.assign({},We),Object.keys(Pe).filter(function(Kt){return pe.indexOf(Kt)!==-1}).forEach(function(Kt){return delete Pe[Kt]}),Pe);return it&&(rt.title=this.getTitle()),f.a.createElement(Qe||Ge.globalElement,function(Kt){for(var Ue=1;Ue<arguments.length;Ue++){var ae=arguments[Ue]!=null?arguments[Ue]:{};Ue%2?T(Object(ae),!0).forEach(function(we){ee(Kt,we,ae[we])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Kt,Object.getOwnPropertyDescriptors(ae)):T(Object(ae)).forEach(function(we){Object.defineProperty(Kt,we,Object.getOwnPropertyDescriptor(ae,we))})}return Kt}({dateTime:Ge.getDatetime(this.props)},rt),Mt)}}],[{key:"getDerivedStateFromProps",value:function(We){return{content:Ge.getContent(We)}}}]),Ge}(f.a.Component);ee(je,"propTypes",{element:v.a.any,date:v.a.oneOfType(_e),parse:v.a.oneOfType(Xe),format:v.a.string,add:v.a.object,subtract:v.a.object,ago:v.a.bool,fromNow:v.a.bool,fromNowDuring:v.a.number,from:v.a.oneOfType(_e),toNow:v.a.bool,to:v.a.oneOfType(_e),calendar:v.a.oneOfType(Te),unix:v.a.bool,utc:v.a.bool,local:v.a.bool,tz:v.a.string,withTitle:v.a.bool,titleFormat:v.a.string,locale:v.a.string,interval:v.a.number,diff:v.a.oneOfType(_e),duration:v.a.oneOfType(_e),durationFromNow:v.a.bool,trim:v.a.oneOfType(Fe),unit:v.a.string,decimal:v.a.bool,filter:v.a.func,onChange:v.a.func}),ee(je,"defaultProps",{element:null,fromNow:!1,toNow:!1,calendar:!1,ago:!1,unix:!1,utc:!1,local:!1,unit:null,withTitle:!1,trim:!1,decimal:!1,titleFormat:"",interval:6e4,filter:function(et){return et},onChange:function(){}}),ee(je,"globalMoment",null),ee(je,"globalLocale",null),ee(je,"globalLocal",null),ee(je,"globalFormat",null),ee(je,"globalParse",null),ee(je,"globalFilter",null),ee(je,"globalElement","time"),ee(je,"globalTimezone",null),ee(je,"pooledElements",[]),ee(je,"pooledTimer",null)}])})})(CA);var eK=CA.exports;const tK=A0(eK),nK="/harmonia/assets/beethoven-a081dce2.jpg";function rK(){const[e,t]=he.useState(),n=async()=>t(await ZW());EA(n);const r=async m=>{m&&(await JW(m),await n())},s=he.memo(()=>{const m=(e==null?void 0:e.photo)??nK;return Wt("div",{className:"relative w-60 h-60 rounded-full border-4 border-slate-900",children:[V("div",{className:"rounded-full pointer-events-none absolute inset-0"}),V("input",{type:"image",src:m,draggable:!1,className:"w-full h-full rounded-full cursor-pointer active:cursor-wand active:animate-[spin_1s_linear_1s_infinite] shadow-[0px_0px_20px_10px_rgb(14,120,170)] active:shadow-[0px_0px_15px_5px_rgb(150,40,120)] animate-[pulse_5s_cubic-bezier(0.4,0.2,0.8)_infinite] transition-all duration-500",onClick:v=>{if(eS(v),!e)return;const b=document.createElement("input");b.type="file",b.accept="image/*",b.addEventListener("change",x=>{var D;const O=(D=x.target.files)==null?void 0:D[0];if(!O)return;const T=new FileReader;T.addEventListener("load",()=>{const M=T.result;r({id:e.id,photo:M})}),T.readAsDataURL(O)}),b.click()}})]})}),o=()=>{var m;return Wt("div",{className:"flex-1 flex flex-col",children:[V("input",{className:"w-full text-center text-2xl px-4 py-2 font-bold shadow-xl bg-slate-900/50 border border-slate-600 rounded-lg truncate",placeholder:"Your Name Goes Here!",onKeyDown:T5,value:e==null?void 0:e.name,onChange:v=>{e&&r({id:e.id,name:v.target.value})}}),Wt("div",{className:"mt-4 flex flex-col text-slate-400",children:[Wt("div",{className:"m-4 flex flex-col items-center",children:[V("h3",{className:"text-slate-100 mb-2",children:"Birthday:"}),V("input",{className:"bg-transparent rounded-lg",type:"date",value:(m=e==null?void 0:e.birthday)==null?void 0:m.slice(0,10),onChange:v=>{if(!e)return;const b=new Date(v.target.value).toISOString();r({id:e.id,birthday:b})}})]}),Wt("div",{className:"m-4 flex flex-col items-center",children:[V("h3",{className:"text-slate-100 mb-2",children:"Account Created:"}),V("label",{children:!!(e!=null&&e.dateCreated)&&V(tK,{fromNow:!0,date:e.dateCreated})})]})]})]})},l=()=>Wt("div",{className:"px-4 py-8 w-96 h-full flex flex-col items-center justify-between space-y-8 rounded-lg bg-slate-900/90 backdrop-blur border-4 border-slate-900/50 truncate",children:[V(s,{}),o()]}),u=m=>{const v=m.button||m.name===void 0;return Wt("div",{className:`${v?"active:shadow-[0px_0px_10px_5px_rgb(15,150,200)]":"[&:has(span:active)]:cursor-wand [&:has(span:active)]:shadow-[0px_0px_15px_5px_rgb(150,40,120)] [&:has(span:active)]:animate-[card-flip_15s_infinite]"} relative w-48 h-full flex flex-col items-center rounded-lg border-4 border-slate-800 truncate cursor-pointer transition-all duration-500`,onClick:()=>{if(!v||!e)return;const x=e==null?void 0:e[m.field];if(!Array.isArray(x))return;const O={...e,[m.field]:[...x,""]};t(O)},children:[!m.button&&V("div",{className:"absolute right-0 top-0 w-4 h-4 font-light text-slate-200 bg-slate-800 hover:bg-red-600/50 transition-all duration-300 rounded-full",onClick:()=>{if(!e)return;const x=e==null?void 0:e[m.field];if(!Array.isArray(x))return;const O=x.findIndex(D=>D===m.name);if(O===-1)return;const T={...e,[m.field]:[...x.slice(0,O),...x.slice(O+1)]};t(T)},children:V(GQ,{})}),V("span",{className:"p-2 w-full flex justify-center bg-slate-900/50",children:m.icon}),v?Wt("div",{className:"py-2 select-none font-light w-full h-full flex items-center justify-center bg-slate-800/70 border-0 border-t border-t-slate-500 truncate",children:["Add a ",m.type]}):V("input",{value:m.name,placeholder:`${m.type} Name`,className:"py-2 select-none font-light capitalize w-full h-full text-center flex items-center justify-center bg-slate-800/70 focus:bg-slate-800 border-0 border-t border-t-slate-500 placeholder-slate-400 truncate",onChange:async x=>{if(!e)return;const O=e==null?void 0:e[m.field];if(!Array.isArray(O))return;const T=O.findIndex(C=>C===m.name);if(T===-1)return;const D=x.target.value,M={...e,[m.field]:[...O.slice(0,T),D,...O.slice(T+1)]};r(M)},onKeyDown:T5})]},`${m.field}-${m.index}`)},f=m=>{const v=(e==null?void 0:e[m.field])??[];return Wt("div",{className:"flex flex-col bg-slate-800/40 border-4 border-slate-950/80 rounded-lg overflow-hidden",children:[V("h2",{className:"backdrop-blur p-2 py-1 bg-slate-950/70 text-lg font-bold",children:m.title}),Wt("div",{className:"w-full p-4 flex space-x-6 bg-slate-700/10 backdrop-blur",children:[!!Array.isArray(v)&&v.map((b,x)=>u({...m,name:b,index:x})),V(u,{...m,button:!0})]})]},`${m.field}-${m.type}`)};return Wt(ec,{show:!!e,appear:!0,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"w-full h-full flex py-4 space-x-16",children:[l(),Wt("div",{className:"flex flex-1 flex-col justify-between overflow-scroll space-y-2",children:[f({field:"favoriteWorks",title:"Favorite Works",type:"Musical Work",icon:V(uC,{className:"text-6xl"})}),f({field:"favoriteComposers",title:"Favorite Composers",type:"Composer",icon:V(uC,{className:"text-6xl"})}),f({field:"favoriteGenres",title:"Favorite Genres",type:"Genre",icon:V(XQ,{className:"text-6xl"})})]})]})}function Nd(e,t){he.useEffect(()=>{const n=t;return window.addEventListener(e,n),()=>window.removeEventListener(e,n)},[e,t])}function iK(){const e=du(),[t,n]=he.useState([]),r=async()=>n(await tG());EA(r),Nd(U4,r),Nd(B4,r);const[s,o]=he.useState(""),l=he.useMemo(()=>t.filter(m=>{const v=qm(m),b=uu(m),x=v.map(({patternId:We})=>We),T=[...new Set(x)].map(We=>{var Ae;return(Ae=b[We])==null?void 0:Ae.name}),D=[...new Set(T)].map(Qt.lowerCase),M=J2(m),C=xh(m),R=Sh(m),H=M.map(We=>Rm(We,C,R)).map(vN),F=[...new Set(H)].map(Qt.lowerCase),ee=YN(m).map(({key:We})=>jN(We)),_e=[...new Set(ee)].map(Qt.lowerCase),Xe=m.meta.name.toLowerCase(),Te=new Date(m.meta.dateCreated).toLocaleString("default",{year:"numeric",month:"long",day:"numeric"}).toLowerCase(),Fe=D.some(We=>We.includes(s)),je=F.some(We=>We.includes(s)),et=_e.some(We=>We.includes(s)),ut=Xe.includes(s),Ge=Te.includes(s);return Fe||je||et||ut||Ge}),[t,s]),u=()=>V("div",{className:"w-full h-full space-y-8",children:l.map((m,v)=>V(TA,{project:m,index:v},m.meta.id))});return Wt(ec,{show:!0,appear:!0,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"w-full h-full",children:[(()=>Wt("div",{className:"my-6 w-full flex items-center p-4 rounded space-x-3 bg-slate-950/80 border border-slate-50/50 [&>*]:bg-slate-900/80",children:[V("button",{className:"h-full p-2 flex justify-center items-center text-slate-200 hover:bg-slate-950 rounded-lg border border-slate-400",onClick:()=>V4(),children:V(HQ,{className:"text-xl"})}),V("button",{className:"h-full p-2 flex justify-center items-center text-slate-200 hover:bg-slate-950 rounded-lg border border-slate-400",onClick:()=>e(H4()),children:V(WQ,{className:"text-xl"})}),V("input",{type:"text",className:"w-full h-10 px-4 text-slate-200 rounded-lg border border-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"Search Projects by Name, Date, Patterns, etc.",value:s,onChange:m=>o(m.target.value)})]}))(),u()]})}function Yw(e){const{view:t}=e,n=Jl.useNavigate(),r=o=>t===o?"text-slate-200":"text-slate-500";return Wt(ec,{show:!0,appear:!0,enter:"transition-opacity duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"p-8 w-full flex flex-col items-center text-white font-nunito overflow-scroll",children:[V(()=>Wt("div",{className:"w-full flex items-center h-20 flex-shrink-0 bg-slate-900/90 text-slate-500 shadow-2xl backdrop-blur p-4 rounded-lg ring-4 ring-sky-600/50 text-5xl overflow-scroll",children:[V(VQ,{className:"p-3 mr-4 bg-slate-900/50 hover:bg-slate-900 border border-slate-500 rounded-full cursor-pointer",onClick:()=>n("/")}),V(Jl.Link,{to:"/projects",className:r("projects"),children:"Projects"}),V("span",{className:"mx-4",children:"|"}),V(Jl.Link,{to:"/demos",className:r("demos"),children:"Demos"}),V("span",{className:"mx-4",children:"|"}),V(Jl.Link,{to:"/profile",className:r("profile"),children:"Profile"})]}),{}),Wt("div",{className:"w-full min-h-0 h-full flex-1 px-4 py-2 mb-8",children:[t==="projects"&&V(iK,{}),t==="demos"&&V(KQ,{}),t==="profile"&&V(rK,{})]})]})}function sK(e){const{isTransportLoaded:t}=e;return Wt("div",{className:"flex flex-col items-center justify-center w-full h-screen shrink-0 cursor-pointer",children:[V(fx,{}),V(()=>V("h2",{className:"text-white/60 font-extralight font-nunito text-5xl animate-pulse ease-in-out",children:t?"Loading File...":"Click to Start"}),{})]})}const oK="modulepreload",aK=function(e){return"/harmonia/"+e},dC={},Sx=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=aK(o),o in dC)return;dC[o]=!0;const l=o.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!r)for(let v=s.length-1;v>=0;v--){const b=s[v];if(b.href===o&&(!l||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${u}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":oK,l||(m.as="script",m.crossOrigin=""),m.href=o,document.head.appendChild(m),l)return new Promise((v,b)=>{m.addEventListener("load",v),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})};function cK(){const e=du(),t=rh(q1);fm("meta+s",()=>e(z4())),fm("meta+o",()=>e(H4())),fm("meta+alt+n",()=>e($4())),fm("escape",()=>{t.show?e(Hf()):e(Jz({clipIds:[],transpositionIds:[]}))},[t.show])}const lK=60,uK=[73,75,79,72,80,81,82,83],hK=[74,71,76,77,93,18,19,16],dK=93,fK=94,pK=86,mK=224,gK=176;function vK(){const e=du(),t=rh(Qo),n=rh($d),r=tC(W1),s=rh(bW),o=tC(p4),l=rh(E4),u=Ts(Yr,l==null?void 0:l.instrumentId),f={},m=he.useCallback(D=>{const{instrumentId:M,update:C}=D;if(!f[M]){const R=H=>e(Pz(H)),j=Qt.throttle(R,50,{trailing:!0});f[M]=j}f[M]({instrumentId:M,update:C})},[f]),v=Qt.throttle(D=>e(CW(D)),50,{trailing:!0}),b=he.useCallback(D=>{var j,H,F,ie,ee;const M=(j=D.message.data)==null?void 0:j[0],C=(H=D.message.data)==null?void 0:H[1],R=((F=D.message.data)==null?void 0:F[2])===127;if(M===mK){if(s<0)return;const _e=qv((ie=D.message.data)==null?void 0:ie[2],0,127),Xe=12,Te=Math.floor(_e*Xe)-Xe/2;v({_chromatic:Te});return}if(M===gK&&C===1){if(s<0)return;const _e=qv((ee=D.message.data)==null?void 0:ee[2],0,127),Xe=12,Te=Math.floor(_e*Xe)-Xe/2;v({_self:Te});return}if(M===dK&&R){e(R4());return}if(M===fK&&R){t.state==="started"?e(D4()):e(Y1());return}if(M===pK&&R){e(P4(!t.loop));return}},[s,t.loop,t.state]),x=he.useCallback(D=>{if(D.rawValue===void 0)return;if(D.controller.number===lK){if(s<0)return;const R=D.rawValue<64?1:-1,j=ic(s+R,r.length),H=r[j];if(!H)return;e(o4(H))}const M=uK.indexOf(D.controller.number);if(M>=0){const R=o[M];if(!R)return;const j=n[R];if(!j)return;const H=qv(D.rawValue,0,127),ie=(L2-$y)*H+$y;m({instrumentId:j.instrumentId,update:{volume:ie}});return}const C=hK.indexOf(D.controller.number);if(C>=0){const R=o[C];if(!R)return;const j=n[R];if(!j)return;const F=qv(D.rawValue,0,127)*2-1;m({instrumentId:j.instrumentId,update:{pan:F}});return}},[o,n,s,r]),O=he.useCallback(D=>{let M=u;if(M!=null&&M.isLoaded()||(M=Yr.global),!(M!=null&&M.isLoaded()))return;const C=S.toPitch(D);M.sampler.triggerAttack(C)},[u]),T=he.useCallback(D=>{let M=u;if(M!=null&&M.isLoaded()||(M=Yr.global),!(M!=null&&M.isLoaded()))return;const C=S.toPitch(D);M.sampler.triggerRelease(C)},[u]);he.useEffect(()=>{const D=()=>{$t.inputs.forEach(M=>{M.addListener("midimessage",b),M.addListener("controlchange",x),M.addListener("noteon",C=>O(C.note.number)),M.addListener("noteoff",C=>T(C.note.number))})};return $t.enable().then(D),()=>{$t.inputs.forEach(M=>{M.removeListener()})}},[b,x,O,T])}const yK="TOGGLE_SHORTCUTS";function _K(){return Wt(sa,{children:[Wt(ch,{children:[V($f,{name:"Project Shortcuts"}),V(Re,{shortcut:"⌘ + S",description:"Save Project"}),V(Re,{shortcut:"⌘ + O",description:"Open Project"}),V(Re,{shortcut:"⌘ + ⌥ + N",description:"New Project"}),V(Re,{shortcut:"⌘ + Z",description:"Undo Action"}),V(Re,{shortcut:"⌘ + ⇧ + Z",description:"Redo Action"}),V(Re,{shortcut:"Space",description:"Play/Pause Timeline"}),V(Re,{shortcut:"Enter",description:"Stop Timeline"}),V(Re,{shortcut:"L",description:"Toggle Loop"}),V(Re,{shortcut:"S + Click",description:"Set Loop Start"}),V(Re,{shortcut:"E + Click",description:"Set Loop End"}),V(Re,{shortcut:"⌘ + P",description:"Show/Hide Pattern Editor"}),V(Re,{shortcut:"Esc",description:"Close Editor"}),V(Re,{shortcut:"⌘ + ⇧ + M",description:"Toggle Mute"}),V(Re,{shortcut:"⌘ + ⇧ + F",description:"Toggle Fullscreen"}),V(Re,{shortcut:"⌘ + ,",description:"Show/Hide Settings"}),V(Re,{shortcut:"?",description:"Show/Hide Shortcuts"})]}),Wt(ch,{children:[V($f,{name:"Timeline Shortcuts"}),V(Re,{shortcut:"A",description:"Start/Stop Adding Clips"}),V(Re,{shortcut:"T",description:"Start/Stop Adding Transpositions"}),V(Re,{shortcut:"Alt+C",description:"Start/Stop Cutting Clips"}),V(Re,{shortcut:"Alt + M",description:"Start/Stop Merging Clips"}),V(Re,{shortcut:"Left/Right Arrow",description:"Move Cursor Left/Right"}),V(Re,{shortcut:"Up/Down Arrow",description:"Select Previous/Next Track"}),V(Re,{shortcut:"Click",description:"Select Media"}),V(Re,{shortcut:"Option + Click",description:"Select Individual Media"}),V(Re,{shortcut:"⇧ + Click",description:"Select Range of Media"}),V(Re,{shortcut:"⌘ + A",description:"Select All Media"}),V(Re,{shortcut:"⌘ + C",description:"Copy Media"}),V(Re,{shortcut:"⌘ + X",description:"Cut Media"}),V(Re,{shortcut:"⌘ + V",description:"Paste Media"}),V(Re,{shortcut:"⌘ + D",description:"Duplicate Media"}),V(Re,{shortcut:"Delete",description:"Delete Media"}),V(Re,{shortcut:'⌘ + "+"',description:"Zoom In (Increase Subdivision)"}),V(Re,{shortcut:'⌘ + "-"',description:"Zoom Out (Decrease Subdivision)"})]}),Wt(ch,{children:[V($f,{name:"Live Shortcuts"}),V(Re,{shortcut:"Hold Q",description:"Transpose Chromatically"}),V(Re,{shortcut:"Hold W",description:"Transpose Along the Scale"}),V(Re,{shortcut:"Hold E",description:"Transpose Along the Chord"}),V(Re,{shortcut:"Hold X / `",description:"Apply Negative Offset"}),V(Re,{shortcut:"Hold ⇧",description:"Add 12/-12 to Offset"}),V(Re,{shortcut:"Up / Down Arrow",description:"Transpose Up/Down"}),V(Re,{shortcut:"0",description:"Set Absolute Value to 0"}),V(Re,{shortcut:"1",description:"Add 1/-1 to Offset and Transpose"}),V(Re,{shortcut:"2",description:"Add 2/-2 to Offset and Transpose"}),V(Re,{shortcut:"3",description:"Add 3/-3 to Offset and Transpose"}),V(Re,{shortcut:"4",description:"Add 4/-4 to Offset and Transpose"}),V(Re,{shortcut:"5",description:"Add 5/-5 to Offset and Transpose"}),V(Re,{shortcut:"6",description:"Add 6/-6 to Offset and Transpose"}),V(Re,{shortcut:"7",description:"Add 7/-7 to Offset and Transpose"}),V(Re,{shortcut:"8",description:"Add 8/-8 to Offset and Transpose"}),V(Re,{shortcut:"9",description:"Add 9/-9 to Offset and Transpose"}),V(Re,{shortcut:"-",description:"Add 10/-10 to Offset and Transpose"}),V(Re,{shortcut:"=",description:"Add 11/-11 to Offset and Transpose"})]})]})}function wK(){return Wt(sa,{children:[Wt(ch,{children:[V($f,{name:"Pattern Editor Shortcuts"}),V(Re,{shortcut:"1-7",description:"Select Note Durations"}),V(Re,{shortcut:"A",description:"Start/Stop Adding Notes"}),V(Re,{shortcut:"Delete",description:"Remove Note"}),V(Re,{shortcut:"Play Piano",description:"Input Note"}),V(Re,{shortcut:"⇧ + Play Piano",description:"Input Note As Chord"}),V(Re,{shortcut:"0",description:"Input Rest"}),V(Re,{shortcut:".",description:"Toggle Dotted Duration"}),V(Re,{shortcut:"t",description:"Toggle Triplet Duration"}),V(Re,{shortcut:"⇧ + Space",description:"Play Pattern"}),V(Re,{shortcut:"⇧ + Delete",description:"Clear Pattern"}),V(Re,{shortcut:"C",description:"Show/Hide Cursor"}),V(Re,{shortcut:"X",description:"Start/Stop Anchoring Note"}),V(Re,{shortcut:"Left/Right Arrow",description:"Move Cursor Left/Right"}),V(Re,{shortcut:"⇧ + Left/Right Arrow",description:"Skip Cursor Left/Right"}),V(Re,{shortcut:"Up/Down Arrow",description:"Transpose by Semitone"}),V(Re,{shortcut:"⇧ + Up/Down Arrow",description:"Transpose by Octave"}),V(Re,{shortcut:"⇧ + X",description:"Export Pattern to MusicXML"}),V(Re,{shortcut:"⇧ + M",description:"Export Pattern to MIDI"})]}),Wt(ch,{children:[V($f,{name:"Scale Editor Shortcuts"}),V(Re,{shortcut:"A",description:"Start/Stop Adding Notes"}),V(Re,{shortcut:"Delete",description:"Start/Stop Removing Notes"}),V(Re,{shortcut:"Play Piano",description:"Input Note"}),V(Re,{shortcut:"⇧ + Space",description:"Play Scale"}),V(Re,{shortcut:"⇧ + Delete",description:"Clear Scale"}),V(Re,{shortcut:"C",description:"Show/Hide Cursor"}),V(Re,{shortcut:"Cursor + Delete",description:"Remove Selected Note"}),V(Re,{shortcut:"Left/Right Arrow",description:"Move Cursor Left/Right"}),V(Re,{shortcut:"⇧ + Left/Right Arrow",description:"Skip Cursor Left/Right"}),V(Re,{shortcut:"Up/Down Arrow",description:"Transpose by Semitone"}),V(Re,{shortcut:"⇧ + Up/Down Arrow",description:"Transpose by Octave"}),V(Re,{shortcut:"⇧ + S",description:"Save Scale to Collection"}),V(Re,{shortcut:"⇧ + X",description:"Export Scale to MusicXML"}),V(Re,{shortcut:"⇧ + M",description:"Export Scale to MIDI"})]}),Wt(ch,{children:[V($f,{name:"Instrument Editor Shortcuts"}),V(Re,{shortcut:"R",description:"Add Reverb"}),V(Re,{shortcut:"C",description:"Add Chorus"}),V(Re,{shortcut:"P",description:"Add Phaser"}),V(Re,{shortcut:"T",description:"Add Tremolo"}),V(Re,{shortcut:"V",description:"Add Vibrato"}),V(Re,{shortcut:"F",description:"Add Filter"}),V(Re,{shortcut:"E",description:"Add Equalizer"}),V(Re,{shortcut:"D",description:"Add Distortion"}),V(Re,{shortcut:"B",description:"Add Bitcrusher"}),V(Re,{shortcut:"⇧ + F",description:"Add Feedback Delay"}),V(Re,{shortcut:"⇧ + P",description:"Add Ping Pong Delay"}),V(Re,{shortcut:"⇧ + C",description:"Add Compressor"}),V(Re,{shortcut:"L",description:"Add Limiter"}),V(Re,{shortcut:"G",description:"Add Gain"}),V(Re,{shortcut:"W",description:"Add Warp"}),V(Re,{shortcut:"Delete",description:"Delete Last Effect"}),V(Re,{shortcut:"⇧ + Delete",description:"Delete All Effects"}),V(Re,{shortcut:"Left/Right Arrow",description:"Previous/Next Instrument"})]})]})}function bK(){const[e,t]=he.useState("Diatonic Transpositions"),n=["Diatonic Transpositions","Pentatonic Transpositions","Hexatonic Transpositions","Octatonic Transpositions"],[r,s]=he.useState("Triadic Transpositions"),o=["Triadic Transpositions","Tetradic Transpositions"];return Wt(sa,{children:[Wt(ch,{children:[V($f,{name:"Chromatic Transpositions"}),V(Re,{shortcut:"N1 / N-1",description:"Up/Down a Minor Second"}),V(Re,{shortcut:"N2 / N-2",description:"Up/Down a Major Second"}),V(Re,{shortcut:"N3 / N-3",description:"Up/Down a Minor Third"}),V(Re,{shortcut:"N4 / N-4",description:"Up/Down a Major Third"}),V(Re,{shortcut:"N5 / N-5",description:"Up/Down a Perfect Fourth"}),V(Re,{shortcut:"N6 / N-6",description:"Up/Down a Tritone"}),V(Re,{shortcut:"N7 / N-7",description:"Up/Down a Perfect Fifth"}),V(Re,{shortcut:"N8 / N-8",description:"Up/Down a Minor Sixth"}),V(Re,{shortcut:"N9 / N-9",description:"Up/Down a Major Sixth"}),V(Re,{shortcut:"N10 / N-10",description:"Up/Down a Minor Seventh"}),V(Re,{shortcut:"N11 / N-11",description:"Up/Down a Major Seventh"}),V(Re,{shortcut:"N12 / N-12",description:"Up/Down an Octave"})]}),Wt(ch,{children:[V(ad,{value:e,onChange:t,children:({open:l})=>Wt("div",{className:"mb-4 relative",children:[V(ad.Button,{className:"w-full flex justify-between items-center border rounded-lg bg-slate-800/25 border-slate-50/20",children:V("h1",{className:"text-lg font-bold px-2 py-1",children:e})}),V(ec,{show:l,as:he.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:V(ad.Options,{static:!0,className:"absolute z-50 w-full py-1 mt-1 overflow-auto text-base bg-slate-600/50 rounded-md shadow-lg max-h-60 focus:outline-none sm:text-sm",children:n.map(u=>V(ad.Option,{className:({active:f})=>`${f?"bg-slate-600/80":"bg-slate-700/80"} backdrop-blur cursor-pointer select-none relative py-2 pl-10 pr-4`,value:u,children:({selected:f,active:m})=>Wt(sa,{children:[V("span",{className:`${f?"font-medium":"font-normal"} block truncate`,children:u}),f?V("span",{className:`text-sky-600
                                absolute inset-y-0 left-0 flex items-center pl-3`,children:V(lC,{})}):null]})},u))})})]})}),e==="Diatonic Transpositions"?Wt(sa,{children:[V(Re,{shortcut:"T1 / T-1",description:"Up/Down a Second"}),V(Re,{shortcut:"T2 / T-2",description:"Up/Down a Third"}),V(Re,{shortcut:"T3 / T-3",description:"Up/Down a Fourth"}),V(Re,{shortcut:"T4 / T-4",description:"Up/Down a Fifth"}),V(Re,{shortcut:"T5 / T-5",description:"Up/Down an Sixth"}),V(Re,{shortcut:"T6 / T-6",description:"Up/Down a Seventh"}),V(Re,{shortcut:"T7 / T-7",description:"Up/Down an Octave"}),V(Re,{shortcut:"T8 / T-8",description:"Up/Down a Ninth"}),V(Re,{shortcut:"T9 / T-9",description:"Up/Down a Tenth"}),V(Re,{shortcut:"T10 / T-10",description:"Up/Down an Eleventh"}),V(Re,{shortcut:"T11 / T-11",description:"Up/Down a Twelfth"}),V(Re,{shortcut:"T12 / T-12",description:"Up/Down a Thirteenth"})]}):e==="Pentatonic Transpositions"?Wt(sa,{children:[V(Re,{shortcut:"T1 / T-1",description:"Up/Down 1 Step"}),V(Re,{shortcut:"T2 / T-2",description:"Up/Down 2 Steps"}),V(Re,{shortcut:"T3 / T-3",description:"Up/Down 3 Steps"}),V(Re,{shortcut:"T4 / T-4",description:"Up/Down an Octave"}),V(Re,{shortcut:"T5 / T-5",description:"Up/Down 1 Step + Octave"}),V(Re,{shortcut:"T6 / T-6",description:"Up/Down 2 Steps + Octave"}),V(Re,{shortcut:"T7 / T-7",description:"Up/Down 3 Steps + Octave"}),V(Re,{shortcut:"T8 / T-8",description:"Up/Down 2 Octaves"}),V(Re,{shortcut:"T9 / T-9",description:"Up/Down 1 Step + 2 Octaves"}),V(Re,{shortcut:"T10 / T-10",description:"Up/Down 2 Steps + 2 Octaves"}),V(Re,{shortcut:"T11 / T-11",description:"Up/Down 3 Steps + 2 Octaves"}),V(Re,{shortcut:"T12 / T-12",description:"Up/Down 3 Octaves"})]}):e==="Hexatonic Transpositions"?Wt(sa,{children:[V(Re,{shortcut:"T1 / T-1",description:"Up/Down 1 Step"}),V(Re,{shortcut:"T2 / T-2",description:"Up/Down 2 Steps"}),V(Re,{shortcut:"T3 / T-3",description:"Up/Down 3 Steps"}),V(Re,{shortcut:"T4 / T-4",description:"Up/Down 4 Steps"}),V(Re,{shortcut:"T5 / T-5",description:"Up/Down an Octave"}),V(Re,{shortcut:"T6 / T-6",description:"Up/Down 1 Step + Octave"}),V(Re,{shortcut:"T7 / T-7",description:"Up/Down 2 Steps + Octave"}),V(Re,{shortcut:"T8 / T-8",description:"Up/Down 3 Steps + Octave"}),V(Re,{shortcut:"T9 / T-9",description:"Up/Down 4 Steps + Octave"}),V(Re,{shortcut:"T10 / T-10",description:"Up/Down 2 Octaves"}),V(Re,{shortcut:"T11 / T-11",description:"Up/Down 1 Step + 2 Octaves"}),V(Re,{shortcut:"T12 / T-12",description:"Up/Down 2 Steps + 2 Octaves"})]}):e==="Octatonic Transpositions"?Wt(sa,{children:[V(Re,{shortcut:"T1 / T-1",description:"Up/Down 1 Step"}),V(Re,{shortcut:"T2 / T-2",description:"Up/Down 2 Steps"}),V(Re,{shortcut:"T3 / T-3",description:"Up/Down 3 Steps"}),V(Re,{shortcut:"T4 / T-4",description:"Up/Down 4 Steps"}),V(Re,{shortcut:"T5 / T-5",description:"Up/Down 5 Steps"}),V(Re,{shortcut:"T6 / T-6",description:"Up/Down 6 Steps"}),V(Re,{shortcut:"T7 / T-7",description:"Up/Down 7 Steps"}),V(Re,{shortcut:"T8 / T-8",description:"Up/Down 1 Octave"}),V(Re,{shortcut:"T9 / T-9",description:"Up/Down 1 Step + Octave"}),V(Re,{shortcut:"T10 / T-10",description:"Up/Down 2 Steps + Octave"}),V(Re,{shortcut:"T11 / T-11",description:"Up/Down 3 Steps + Octave"}),V(Re,{shortcut:"T12 / T-12",description:"Up/Down 4 Steps + Octave"})]}):null]}),Wt(ch,{children:[V(ad,{value:r,onChange:s,children:({open:l})=>Wt("div",{className:"mb-4 relative",children:[V(ad.Button,{className:"w-full flex justify-between items-center border rounded-lg bg-slate-800/25 border-slate-50/20",children:V("h1",{className:"text-lg font-bold px-2 py-1",children:r})}),V(ec,{show:l,as:he.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:V(ad.Options,{static:!0,className:"absolute z-50 w-full py-1 mt-1 overflow-auto text-base bg-slate-600/50 rounded-md shadow-lg max-h-60 focus:outline-none sm:text-sm",children:o.map(u=>V(ad.Option,{className:({active:f})=>`${f?"bg-slate-600/80":"bg-slate-700/80"} backdrop-blur cursor-pointer select-none relative py-2 pl-10 pr-4`,value:u,children:({selected:f,active:m})=>Wt(sa,{children:[V("span",{className:`${f?"font-medium":"font-normal"} block truncate`,children:u}),f?V("span",{className:`text-sky-600
                                absolute inset-y-0 left-0 flex items-center pl-3`,children:V(lC,{})}):null]})},u))})})]})}),r==="Triadic Transpositions"?Wt(sa,{children:[V(Re,{shortcut:"t1 / t-1",description:"Up/Down 1 Step"}),V(Re,{shortcut:"t2 / t-2",description:"Up/Down 2 Steps"}),V(Re,{shortcut:"t3 / t-3",description:"Up/Down 1 Octave"}),V(Re,{shortcut:"t4 / t-4",description:"Up/Down 1 Step + Octave"}),V(Re,{shortcut:"t5 / t-5",description:"Up/Down 2 Steps + Octave"}),V(Re,{shortcut:"t6 / t-6",description:"Up/Down 2 Octaves"}),V(Re,{shortcut:"t7 / t-7",description:"Up/Down 1 Step + 2 Octaves"}),V(Re,{shortcut:"t8 / t-8",description:"Up/Down 2 Steps + 2 Octaves"}),V(Re,{shortcut:"t9 / t-9",description:"Up/Down 3 Octaves"}),V(Re,{shortcut:"t10 / t-10",description:"Up/Down 1 Step + 3 Octaves"}),V(Re,{shortcut:"t11 / t-11",description:"Up/Down 2 Steps + 3 Octaves"}),V(Re,{shortcut:"t12 / t-12",description:"Up/Down 4 Octaves"})]}):r==="Tetradic Transpositions"?Wt(sa,{children:[V(Re,{shortcut:"t1 / t-1",description:"Up/Down 1 Step"}),V(Re,{shortcut:"t2 / t-2",description:"Up/Down 2 Steps"}),V(Re,{shortcut:"t3 / t-3",description:"Up/Down 3 Steps"}),V(Re,{shortcut:"t4 / t-4",description:"Up/Down an Octave"}),V(Re,{shortcut:"t5 / t-5",description:"Up/Down 1 Step + Octave"}),V(Re,{shortcut:"t6 / t-6",description:"Up/Down 2 Steps + Octave"}),V(Re,{shortcut:"t7 / t-7",description:"Up/Down 3 Steps + Octave"}),V(Re,{shortcut:"t8 / t-8",description:"Up/Down 2 Octaves"}),V(Re,{shortcut:"t9 / t-9",description:"Up/Down 1 Step + 2 Octaves"}),V(Re,{shortcut:"t10 / t-10",description:"Up/Down 2 Steps + 2 Octaves"}),V(Re,{shortcut:"t11 / t-11",description:"Up/Down 3 Steps + 2 Octaves"}),V(Re,{shortcut:"t12 / t-12",description:"Up/Down 3 Octaves"})]}):null]})]})}function SK(){du();const[e,t]=he.useState(!1),[n,r]=he.useState("timeline"),s=()=>r("timeline"),o=()=>r("editor"),l=()=>r("transpositions"),u=()=>t(!e);return Nd(yK,()=>t(!e)),Mm.useHotkeys("shift+?",u),V(ec,{appear:!0,show:e,as:he.Fragment,children:V(lQ,{open:e,as:"div",className:"relative font-nunito",onClose:u,children:Wt("div",{className:"fixed flex flex-col inset-0 p-2 pt-4 pb-8 z-50 bg-slate-800/80 text-slate-200 backdrop-blur overflow-scroll",children:[Wt("div",{className:"flex justify-center",children:[V(Qv,{title:"Timeline Shortcuts",onClick:s,active:n==="timeline",activeClass:"bg-slate-700/75 drop-shadow-xl",class:"hover:bg-slate-600/50 active:bg-slate-800"}),V(Qv,{title:"Editor Shortcuts",onClick:o,active:n==="editor",activeClass:"bg-slate-700/75 drop-shadow-xl",class:"hover:bg-slate-600/50 active:bg-slate-800"}),V(Qv,{title:"Transposition Wizard",onClick:l,active:n==="transpositions",activeClass:"bg-slate-700/75 drop-shadow-xl",class:"hover:bg-slate-600/50 active:bg-slate-800"}),V(Qv,{title:"Close Menu",onClick:u})]}),n==="timeline"?V(ec.Child,{className:"flex h-full justify-center items-center flex-wrap",as:"ul",enter:"transition ease-out duration-300",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-300",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:V(_K,{})}):null,n==="editor"?V(ec.Child,{className:"flex h-full justify-center items-center flex-wrap",as:"ul",enter:"transition ease-out duration-300",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-300",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:V(wK,{})}):null,n==="transpositions"?V(ec.Child,{className:"flex h-full justify-center items-center flex-wrap",as:"ul",enter:"transition ease-out duration-300",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-300",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:V(bK,{})}):null]})})})}const $f=e=>V("li",{className:"mb-4 flex justify-between items-center border rounded-lg bg-slate-800/25 border-slate-50/20",children:V("h1",{className:"text-lg font-bold px-2 py-1",children:e.name})}),Re=e=>Wt("li",{className:"flex justify-between items-center whitespace-nowrap",children:[V("span",{className:"text-bold min-w-[30px] text-center px-3 my-0.5 py-0.5 bg-slate-800/50 border border-slate-50/25 rounded mr-2 drop-shadow-xl",children:e.shortcut}),V("span",{className:"font-light drop-shadow-md",children:e.description})]}),ch=e=>V("li",{className:"xl:min-w-[25rem] xl:text-sm w-[20rem] h-full overflow-scroll text-[10px] flex flex-col p-4 m-4 my-2 border border-slate-200/20 shadow-xl bg-slate-700/70 backdrop-blur rounded-xl",children:V("ul",{className:"space-y-1 h-full",children:e.children})}),Qv=e=>V("div",{className:`mx-4 mb-4 px-4 py-2 cursor-pointer text-md rounded-md border border-slate-600/50
        ${e.active?e.activeClass:e.class}`,onClick:e.onClick,children:e.title});var l_={};Object.defineProperty(l_,"__esModule",{value:!0});var kA=he;function xK(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var OA=xK(kA);/*! shepherd.js 11.0.1 */var TK=function(t){return EK(t)&&!CK(t)};function EK(e){return!!e&&typeof e=="object"}function CK(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||NK(e)}var kK=typeof Symbol=="function"&&Symbol.for,OK=kK?Symbol.for("react.element"):60103;function NK(e){return e.$$typeof===OK}function AK(e){return Array.isArray(e)?[]:{}}function E0(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Lm(AK(e),e,t):e}function MK(e,t,n){return e.concat(t).map(function(r){return E0(r,n)})}function DK(e,t){if(!t.customMerge)return Lm;var n=t.customMerge(e);return typeof n=="function"?n:Lm}function RK(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function fC(e){return Object.keys(e).concat(RK(e))}function NA(e,t){try{return t in e}catch{return!1}}function PK(e,t){return NA(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function IK(e,t,n){var r={};return n.isMergeableObject(e)&&fC(e).forEach(function(s){r[s]=E0(e[s],n)}),fC(t).forEach(function(s){PK(e,s)||(NA(e,s)&&n.isMergeableObject(t[s])?r[s]=DK(s,n)(e[s],t[s],n):r[s]=E0(t[s],n))}),r}function Lm(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||MK,n.isMergeableObject=n.isMergeableObject||TK,n.cloneUnlessOtherwiseSpecified=E0;var r=Array.isArray(t),s=Array.isArray(e),o=r===s;return o?r?n.arrayMerge(e,t,n):IK(e,t,n):E0(t,n)}Lm.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,s){return Lm(r,s,n)},{})};var LK=Lm,xx=LK;function FK(e){return e instanceof Element}function Tx(e){return e instanceof HTMLElement}function rp(e){return typeof e=="function"}function C0(e){return typeof e=="string"}function Yo(e){return e===void 0}class Ex{on(t,n,r,s){return s===void 0&&(s=!1),Yo(this.bindings)&&(this.bindings={}),Yo(this.bindings[t])&&(this.bindings[t]=[]),this.bindings[t].push({handler:n,ctx:r,once:s}),this}once(t,n,r){return this.on(t,n,r,!0)}off(t,n){return Yo(this.bindings)||Yo(this.bindings[t])?this:(Yo(n)?delete this.bindings[t]:this.bindings[t].forEach((r,s)=>{r.handler===n&&this.bindings[t].splice(s,1)}),this)}trigger(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return!Yo(this.bindings)&&this.bindings[t]&&this.bindings[t].forEach((o,l)=>{const{ctx:u,handler:f,once:m}=o,v=u||this;f.apply(v,r),m&&this.bindings[t].splice(l,1)}),this}}function AA(e){const t=Object.getOwnPropertyNames(e.constructor.prototype);for(let n=0;n<t.length;n++){const r=t[n],s=e[r];r!=="constructor"&&typeof s=="function"&&(e[r]=s.bind(e))}return e}function jK(e,t){return n=>{if(t.isOpen()){const r=t.el&&n.currentTarget===t.el;(!Yo(e)&&n.currentTarget.matches(e)||r)&&t.tour.next()}}}function UK(e){const{event:t,selector:n}=e.options.advanceOn||{};if(t){const r=jK(n,e);let s;try{s=document.querySelector(n)}catch{}if(!Yo(n)&&!s)return console.error(`No element was found for the selector supplied to advanceOn: ${n}`);s?(s.addEventListener(t,r),e.on("destroy",()=>s.removeEventListener(t,r))):(document.body.addEventListener(t,r,!0),e.on("destroy",()=>document.body.removeEventListener(t,r,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}function MA(e){return!C0(e)||e===""?"":e.charAt(e.length-1)!=="-"?`${e}-`:e}function BK(e){const t=e.options.attachTo||{},n=Object.assign({},t);if(rp(n.element)&&(n.element=n.element.call(e)),C0(n.element)){try{n.element=document.querySelector(n.element)}catch{}n.element||console.error(`The element for this Shepherd step was not found ${t.element}`)}return n}function DA(e){return e==null?!0:!e.element||!e.on}function Cx(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t=="x"?n:n&3|8).toString(16)})}function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Da.apply(this,arguments)}function RA(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}const VK=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"],zK=["mainAxis","crossAxis","limiter"];function G0(e){return e.split("-")[0]}function kx(e){return e.split("-")[1]}function Y0(e){return["top","bottom"].includes(G0(e))?"x":"y"}function Ox(e){return e==="y"?"height":"width"}function pC(e,t,n){let{reference:r,floating:s}=e;const o=r.x+r.width/2-s.width/2,l=r.y+r.height/2-s.height/2,u=Y0(t),f=Ox(u),m=r[f]/2-s[f]/2,v=G0(t),b=u==="x";let x;switch(v){case"top":x={x:o,y:r.y-s.height};break;case"bottom":x={x:o,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:l};break;case"left":x={x:r.x-s.width,y:l};break;default:x={x:r.x,y:r.y}}switch(kx(t)){case"start":x[u]-=m*(n&&b?-1:1);break;case"end":x[u]+=m*(n&&b?-1:1);break}return x}const HK=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(t));let m=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:v,y:b}=pC(m,r,f),x=r,O={},T=0;for(let D=0;D<u.length;D++){const{name:M,fn:C}=u[D],{x:R,y:j,data:H,reset:F}=await C({x:v,y:b,initialPlacement:r,placement:x,strategy:s,middlewareData:O,rects:m,platform:l,elements:{reference:e,floating:t}});if(v=R??v,b=j??b,O=Da({},O,{[M]:Da({},O[M],H)}),F&&T<=50){T++,typeof F=="object"&&(F.placement&&(x=F.placement),F.rects&&(m=F.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):F.rects),{x:v,y:b}=pC(m,x,f)),D=-1;continue}}return{x:v,y:b,placement:x,strategy:s,middlewareData:O}};function $K(e){return Da({top:0,right:0,bottom:0,left:0},e)}function PA(e){return typeof e!="number"?$K(e):{top:e,right:e,bottom:e,left:e}}function Jy(e){return Da({},e,{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}async function IA(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:l,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:x=!1,padding:O=0}=t,T=PA(O),M=u[x?b==="floating"?"reference":"floating":b],C=Jy(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(M)))==null||n?M:M.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:v,strategy:f})),R=b==="floating"?Da({},l.floating,{x:r,y:s}):l.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),H=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},F=Jy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:R,offsetParent:j,strategy:f}):R);return{top:(C.top-F.top+T.top)/H.y,bottom:(F.bottom-C.bottom+T.bottom)/H.y,left:(C.left-F.left+T.left)/H.x,right:(F.right-C.right+T.right)/H.x}}const qK=Math.min,WK=Math.max;function yS(e,t,n){return WK(e,qK(t,n))}const GK=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:s,y:o,placement:l,rects:u,platform:f}=t;if(n==null)return{};const m=PA(r),v={x:s,y:o},b=Y0(l),x=kx(l),O=Ox(b),T=await f.getDimensions(n),D=b==="y"?"top":"left",M=b==="y"?"bottom":"right",C=u.reference[O]+u.reference[b]-v[b]-u.floating[O],R=v[b]-u.reference[b],j=await(f.getOffsetParent==null?void 0:f.getOffsetParent(n));let H=j?b==="y"?j.clientHeight||0:j.clientWidth||0:0;H===0&&(H=u.floating[O]);const F=C/2-R/2,ie=m[D],ee=H-T[O]-m[M],_e=H/2-T[O]/2+F,Xe=yS(ie,_e,ee),je=(x==="start"?m[D]:m[M])>0&&_e!==Xe&&u.reference[O]<=u.floating[O]?_e<ie?ie-_e:ee-_e:0;return{[b]:v[b]-je,data:{[b]:Xe,centerOffset:_e-Xe}}}}),YK={left:"right",right:"left",bottom:"top",top:"bottom"};function e1(e){return e.replace(/left|right|bottom|top/g,t=>YK[t])}function QK(e,t,n){n===void 0&&(n=!1);const r=kx(e),s=Y0(e),o=Ox(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=e1(l)),{main:l,cross:e1(l)}}const KK={start:"end",end:"start"};function mC(e){return e.replace(/start|end/g,t=>KK[t])}function XK(e){const t=e1(e);return[mC(e),t,mC(t)]}const ZK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var r;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:f,elements:m}=n,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:x,fallbackStrategy:O="bestFit",flipAlignment:T=!0}=t,D=RA(t,VK),M=G0(s),R=x||(M===u||!T?[e1(u)]:XK(u)),j=[u,...R],H=await IA(n,D),F=[];let ie=((r=o.flip)==null?void 0:r.overflows)||[];if(v&&F.push(H[M]),b){const{main:Te,cross:Fe}=QK(s,l,await(f.isRTL==null?void 0:f.isRTL(m.floating)));F.push(H[Te],H[Fe])}if(ie=[...ie,{placement:s,overflows:F}],!F.every(Te=>Te<=0)){var ee,_e;const Te=((ee=(_e=o.flip)==null?void 0:_e.index)!=null?ee:0)+1,Fe=j[Te];if(Fe)return{data:{index:Te,overflows:ie},reset:{placement:Fe}};let je="bottom";switch(O){case"bestFit":{var Xe;const et=(Xe=ie.map(ut=>[ut,ut.overflows.filter(Ge=>Ge>0).reduce((Ge,We)=>Ge+We,0)]).sort((ut,Ge)=>ut[1]-Ge[1])[0])==null?void 0:Xe[0].placement;et&&(je=et);break}case"initialPlacement":je=u;break}if(s!==je)return{reset:{placement:je}}}return{}}}};function LA(e){return e==="x"?"y":"x"}const JK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:r,y:s,placement:o}=n,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:C=>{let{x:R,y:j}=C;return{x:R,y:j}}}}=t,m=RA(t,zK),v={x:r,y:s},b=await IA(n,m),x=Y0(G0(o)),O=LA(x);let T=v[x],D=v[O];if(l){const C=x==="y"?"top":"left",R=x==="y"?"bottom":"right",j=T+b[C],H=T-b[R];T=yS(j,T,H)}if(u){const C=O==="y"?"top":"left",R=O==="y"?"bottom":"right",j=D+b[C],H=D-b[R];D=yS(j,D,H)}const M=f.fn(Da({},n,{[x]:T,[O]:D}));return Da({},M,{data:{x:M.x-r,y:M.y-s}})}}},eX=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:r,y:s,placement:o,rects:l,middlewareData:u}=n,{offset:f=0,mainAxis:m=!0,crossAxis:v=!0}=t,b={x:r,y:s},x=Y0(o),O=LA(x);let T=b[x],D=b[O];const M=typeof f=="function"?f(n):f,C=typeof M=="number"?{mainAxis:M,crossAxis:0}:Da({mainAxis:0,crossAxis:0},M);if(m){const ie=x==="y"?"height":"width",ee=l.reference[x]-l.floating[ie]+C.mainAxis,_e=l.reference[x]+l.reference[ie]-C.mainAxis;T<ee?T=ee:T>_e&&(T=_e)}if(v){var R,j,H,F;const ie=x==="y"?"width":"height",ee=["top","left"].includes(G0(o)),_e=l.reference[O]-l.floating[ie]+(ee&&(R=(j=u.offset)==null?void 0:j[O])!=null?R:0)+(ee?0:C.crossAxis),Xe=l.reference[O]+l.reference[ie]+(ee?0:(H=(F=u.offset)==null?void 0:F[O])!=null?H:0)-(ee?C.crossAxis:0);D<_e?D=_e:D>Xe&&(D=Xe)}return{[x]:T,[O]:D}}}};function Eh(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ou(e){return Eh(e).getComputedStyle(e)}function Id(e){return jA(e)?(e.nodeName||"").toLowerCase():""}let Kv;function FA(){if(Kv)return Kv;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(Kv=e.brands.map(t=>t.brand+"/"+t.version).join(" "),Kv):navigator.userAgent}function _h(e){return e instanceof Eh(e).HTMLElement}function Lc(e){return e instanceof Eh(e).Element}function jA(e){return e instanceof Eh(e).Node}function gC(e){if(typeof ShadowRoot>"u")return!1;const t=Eh(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function u_(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ou(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(s)}function tX(e){return["table","td","th"].includes(Id(e))}function Nx(e){const t=/firefox/i.test(FA()),n=ou(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(r?r!=="none":!1)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(s=>n.willChange.includes(s))||["paint","layout","strict","content"].some(s=>{const o=n.contain;return o!=null?o.includes(s):!1})}function UA(){return!/^((?!chrome|android).)*safari/i.test(FA())}function Ax(e){return["html","body","#document"].includes(Id(e))}const BA={x:1,y:1};function k0(e){const t=!Lc(e)&&e.contextElement?e.contextElement:Lc(e)?e:null;if(!t)return BA;const n=t.getBoundingClientRect(),r=ou(t);let s=n.width/parseFloat(r.width),o=n.height/parseFloat(r.height);return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}function Ld(e,t,n,r){var s,o,l,u;t===void 0&&(t=!1),n===void 0&&(n=!1);const f=e.getBoundingClientRect();let m=BA;t&&(r?Lc(r)&&(m=k0(r)):m=k0(e));const v=Lc(e)?Eh(e):window,b=!UA()&&n,x=(f.left+(b&&(s=(o=v.visualViewport)==null?void 0:o.offsetLeft)!=null?s:0))/m.x,O=(f.top+(b&&(l=(u=v.visualViewport)==null?void 0:u.offsetTop)!=null?l:0))/m.y,T=f.width/m.x,D=f.height/m.y;return{width:T,height:D,top:O,right:x+T,bottom:O+D,left:x,x,y:O}}function qd(e){return((jA(e)?e.ownerDocument:e.document)||window.document).documentElement}function h_(e){return Lc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function VA(e){return Ld(qd(e)).left+h_(e).scrollLeft}function nX(e,t,n){const r=_h(t),s=qd(t),o=Ld(e,!0,n==="fixed",t);let l={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(r||!r&&n!=="fixed")if((Id(t)!=="body"||u_(s))&&(l=h_(t)),_h(t)){const f=Ld(t,!0);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else s&&(u.x=VA(s));return{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}function O0(e){if(Id(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(gC(e)?e.host:null)||qd(e);return gC(t)?t.host:t}function vC(e){return!_h(e)||ou(e).position==="fixed"?null:e.offsetParent}function rX(e){let t=O0(e);for(;_h(t)&&!Ax(t);){if(Nx(t))return t;t=O0(t)}return null}function yC(e){const t=Eh(e);let n=vC(e);for(;n&&tX(n)&&ou(n).position==="static";)n=vC(n);return n&&(Id(n)==="html"||Id(n)==="body"&&ou(n).position==="static"&&!Nx(n))?t:n||rX(e)||t}function iX(e){if(_h(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=Ld(e);return{width:t.width,height:t.height}}function sX(e){let{rect:t,offsetParent:n,strategy:r}=e;const s=_h(n),o=qd(n);if(n===o)return t;let l={scrollLeft:0,scrollTop:0},u={x:1,y:1};const f={x:0,y:0};if((s||!s&&r!=="fixed")&&((Id(n)!=="body"||u_(o))&&(l=h_(n)),_h(n))){const m=Ld(n);u=k0(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+f.x,y:t.y*u.y-l.scrollTop*u.y+f.y}}function oX(e,t){const n=Eh(e),r=qd(e),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,f=0;if(s){o=s.width,l=s.height;const m=UA();(m||!m&&t==="fixed")&&(u=s.offsetLeft,f=s.offsetTop)}return{width:o,height:l,x:u,y:f}}const _C=Math.min,Qg=Math.max;function aX(e){var t;const n=qd(e),r=h_(e),s=(t=e.ownerDocument)==null?void 0:t.body,o=Qg(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=Qg(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0);let u=-r.scrollLeft+VA(e);const f=-r.scrollTop;return ou(s||n).direction==="rtl"&&(u+=Qg(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:l,x:u,y:f}}function zA(e){const t=O0(e);return Ax(t)?e.ownerDocument.body:_h(t)&&u_(t)?t:zA(t)}function Kg(e,t){var n;t===void 0&&(t=[]);const r=zA(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),o=Eh(r);return s?t.concat(o,o.visualViewport||[],u_(r)?r:[]):t.concat(r,Kg(r))}function cX(e,t){const n=Ld(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=_h(e)?k0(e):{x:1,y:1},l=e.clientWidth*o.x,u=e.clientHeight*o.y,f=s*o.x,m=r*o.y;return{top:m,left:f,right:f+l,bottom:m+u,x:f,y:m,width:l,height:u}}function wC(e,t,n){return t==="viewport"?Jy(oX(e,n)):Lc(t)?cX(t,n):Jy(aX(qd(e)))}function lX(e,t){const n=t.get(e);if(n)return n;let r=Kg(e).filter(u=>Lc(u)&&Id(u)!=="body"),s=null;const o=ou(e).position==="fixed";let l=o?O0(e):e;for(;Lc(l)&&!Ax(l);){const u=ou(l),f=Nx(l);(o?!f&&!s:!f&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position))?r=r.filter(v=>v!==l):s=u,l=O0(l)}return t.set(e,r),r}function uX(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const l=[...n==="clippingAncestors"?lX(t,this._c):[].concat(n),r],u=l[0],f=l.reduce((m,v)=>{const b=wC(t,v,s);return m.top=Qg(b.top,m.top),m.right=_C(b.right,m.right),m.bottom=_C(b.bottom,m.bottom),m.left=Qg(b.left,m.left),m},wC(t,u,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}const hX={getClippingRect:uX,convertOffsetParentRelativeRectToViewportRelativeRect:sX,isElement:Lc,getDimensions:iX,getOffsetParent:yC,getDocumentElement:qd,getScale:k0,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const s=this.getOffsetParent||yC,o=this.getDimensions;return{reference:nX(t,await s(n),r),floating:Da({x:0,y:0},await o(n))}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ou(e).direction==="rtl"};function dX(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=!0,animationFrame:u=!1}=r,f=s&&!u,m=f||o?[...Lc(e)?Kg(e):e.contextElement?Kg(e.contextElement):[],...Kg(t)]:[];m.forEach(T=>{f&&T.addEventListener("scroll",n,{passive:!0}),o&&T.addEventListener("resize",n)});let v=null;if(l){let T=!0;v=new ResizeObserver(()=>{T||n(),T=!1}),Lc(e)&&!u&&v.observe(e),!Lc(e)&&e.contextElement&&!u&&v.observe(e.contextElement),v.observe(t)}let b,x=u?Ld(e):null;u&&O();function O(){const T=Ld(e);x&&(T.x!==x.x||T.y!==x.y||T.width!==x.width||T.height!==x.height)&&n(),x=T,b=requestAnimationFrame(O)}return n(),()=>{var T;m.forEach(D=>{f&&D.removeEventListener("scroll",n),o&&D.removeEventListener("resize",n)}),(T=v)==null||T.disconnect(),v=null,u&&cancelAnimationFrame(b)}}const fX=(e,t,n)=>{const r=new Map,s=Da({platform:hX},n),o=Da({},s.platform,{_c:r});return HK(e,t,Da({},s,{platform:o}))};function pX(e){e.cleanup&&e.cleanup();const t=e._getResolvedAttachToOptions();let n=t.element;const r=wX(t,e),s=DA(t);return s&&(n=document.body,e.shepherdElementComponent.getElement().classList.add("shepherd-centered")),e.cleanup=dX(n,e.el,()=>{if(!e.el){e.cleanup();return}vX(n,e,r,s)}),e.target=t.element,r}function mX(e,t){return{floatingUIOptions:xx(e.floatingUIOptions||{},t.floatingUIOptions||{})}}function gX(e){e.cleanup&&e.cleanup(),e.cleanup=null}function vX(e,t,n,r){return fX(e,t.el,n).then(yX(t,r)).then(s=>new Promise(o=>{setTimeout(()=>o(s),300)})).then(s=>{s&&s.el&&s.el.focus({preventScroll:!0})})}function yX(e,t){return n=>{let{x:r,y:s,placement:o,middlewareData:l}=n;return e.el&&(t?Object.assign(e.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(e.el.style,{position:"absolute",left:`${r}px`,top:`${s}px`}),e.el.dataset.popperPlacement=o,_X(e.el,l)),e}}function _X(e,t){const n=e.querySelector(".shepherd-arrow");if(n){let r,s,o,l;if(t.arrow){const{x:u,y:f}=t.arrow;r=u!=null?`${u}px`:"",s=f!=null?`${f}px`:""}Object.assign(n.style,{left:r,top:s,right:o,bottom:l})}}function wX(e,t){const n={strategy:"absolute",middleware:[]},r=bX(t);return DA(e)||(n.middleware.push(ZK(),JK({limiter:eX(),crossAxis:!0})),r&&n.middleware.push(GK({element:r})),n.placement=e.on),xx(t.options.floatingUIOptions||{},n)}function bX(e){return e.options.arrow&&e.el?e.el.querySelector(".shepherd-arrow"):!1}function oc(){}function SX(e,t){for(const n in t)e[n]=t[n];return e}function HA(e){return e()}function bC(){return Object.create(null)}function Q0(e){e.forEach(HA)}function Mx(e){return typeof e=="function"}function Ch(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function xX(e){return Object.keys(e).length===0}function Fm(e,t){e.appendChild(t)}function ml(e,t,n){e.insertBefore(t,n||null)}function zc(e){e.parentNode&&e.parentNode.removeChild(e)}function TX(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function au(e){return document.createElement(e)}function SC(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function $A(e){return document.createTextNode(e)}function t1(){return $A(" ")}function EX(){return $A("")}function d_(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Ci(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function xC(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)t[r]==null?e.removeAttribute(r):r==="style"?e.style.cssText=t[r]:r==="__value"?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:Ci(e,r,t[r])}function CX(e){return Array.from(e.childNodes)}function Zp(e,t,n){e.classList[n?"add":"remove"](t)}let N0;function Xg(e){N0=e}function qA(){if(!N0)throw new Error("Function called outside component initialization");return N0}function kX(e){qA().$$.on_mount.push(e)}function Dx(e){qA().$$.after_update.push(e)}const Ig=[],jm=[],fy=[],TC=[],OX=Promise.resolve();let _S=!1;function NX(){_S||(_S=!0,OX.then(WA))}function wS(e){fy.push(e)}const Qw=new Set;let Xv=0;function WA(){const e=N0;do{for(;Xv<Ig.length;){const t=Ig[Xv];Xv++,Xg(t),AX(t.$$)}for(Xg(null),Ig.length=0,Xv=0;jm.length;)jm.pop()();for(let t=0;t<fy.length;t+=1){const n=fy[t];Qw.has(n)||(Qw.add(n),n())}fy.length=0}while(Ig.length);for(;TC.length;)TC.pop()();_S=!1,Qw.clear(),Xg(e)}function AX(e){if(e.fragment!==null){e.update(),Q0(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(wS)}}const py=new Set;let Uf;function qf(){Uf={r:0,c:[],p:Uf}}function Wf(){Uf.r||Q0(Uf.c),Uf=Uf.p}function si(e,t){e&&e.i&&(py.delete(e),e.i(t))}function xs(e,t,n,r){if(e&&e.o){if(py.has(e))return;py.add(e),Uf.c.push(()=>{py.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function MX(e,t){const n={},r={},s={$$scope:1};let o=e.length;for(;o--;){const l=e[o],u=t[o];if(u){for(const f in l)f in u||(r[f]=1);for(const f in u)s[f]||(n[f]=u[f],s[f]=1);e[o]=u}else for(const f in l)s[f]=1}for(const l in r)l in n||(n[l]=void 0);return n}function hp(e){e&&e.c()}function Wd(e,t,n,r){const{fragment:s,after_update:o}=e.$$;s&&s.m(t,n),r||wS(()=>{const l=e.$$.on_mount.map(HA).filter(Mx);e.$$.on_destroy?e.$$.on_destroy.push(...l):Q0(l),e.$$.on_mount=[]}),o.forEach(wS)}function Gd(e,t){const n=e.$$;n.fragment!==null&&(Q0(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function DX(e,t){e.$$.dirty[0]===-1&&(Ig.push(e),NX(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function kh(e,t,n,r,s,o,l,u){u===void 0&&(u=[-1]);const f=N0;Xg(e);const m=e.$$={fragment:null,ctx:[],props:o,update:oc,not_equal:s,bound:bC(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:bC(),dirty:u,skip_bound:!1,root:t.target||f.$$.root};l&&l(m.root);let v=!1;if(m.ctx=n?n(e,t.props||{},function(b,x){const O=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:x;return m.ctx&&s(m.ctx[b],m.ctx[b]=O)&&(!m.skip_bound&&m.bound[b]&&m.bound[b](O),v&&DX(e,b)),x}):[],m.update(),v=!0,Q0(m.before_update),m.fragment=r?r(m.ctx):!1,t.target){if(t.hydrate){const b=CX(t.target);m.fragment&&m.fragment.l(b),b.forEach(zc)}else m.fragment&&m.fragment.c();t.intro&&si(e.$$.fragment),Wd(e,t.target,t.anchor,t.customElement),WA()}Xg(f)}class Oh{$destroy(){Gd(this,1),this.$destroy=oc}$on(t,n){if(!Mx(n))return oc;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!xX(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function RX(e){let t,n,r,s,o;return{c(){t=au("button"),Ci(t,"aria-label",n=e[3]?e[3]:null),Ci(t,"class",r=`${e[1]||""} shepherd-button ${e[4]?"shepherd-button-secondary":""}`),t.disabled=e[2],Ci(t,"tabindex","0")},m(l,u){ml(l,t,u),t.innerHTML=e[5],s||(o=d_(t,"click",function(){Mx(e[0])&&e[0].apply(this,arguments)}),s=!0)},p(l,u){let[f]=u;e=l,f&32&&(t.innerHTML=e[5]),f&8&&n!==(n=e[3]?e[3]:null)&&Ci(t,"aria-label",n),f&18&&r!==(r=`${e[1]||""} shepherd-button ${e[4]?"shepherd-button-secondary":""}`)&&Ci(t,"class",r),f&4&&(t.disabled=e[2])},i:oc,o:oc,d(l){l&&zc(t),s=!1,o()}}}function PX(e,t,n){let{config:r,step:s}=t,o,l,u,f,m,v;function b(x){return rp(x)?x=x.call(s):x}return e.$$set=x=>{"config"in x&&n(6,r=x.config),"step"in x&&n(7,s=x.step)},e.$$.update=()=>{e.$$.dirty&192&&(n(0,o=r.action?r.action.bind(s.tour):null),n(1,l=r.classes),n(2,u=r.disabled?b(r.disabled):!1),n(3,f=r.label?b(r.label):null),n(4,m=r.secondary),n(5,v=r.text?b(r.text):null))},[o,l,u,f,m,v,r,s]}class IX extends Oh{constructor(t){super(),kh(this,t,PX,RX,Ch,{config:6,step:7})}}function EC(e,t,n){const r=e.slice();return r[2]=t[n],r}function CC(e){let t,n,r=e[1],s=[];for(let l=0;l<r.length;l+=1)s[l]=kC(EC(e,r,l));const o=l=>xs(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();t=EX()},m(l,u){for(let f=0;f<s.length;f+=1)s[f].m(l,u);ml(l,t,u),n=!0},p(l,u){if(u&3){r=l[1];let f;for(f=0;f<r.length;f+=1){const m=EC(l,r,f);s[f]?(s[f].p(m,u),si(s[f],1)):(s[f]=kC(m),s[f].c(),si(s[f],1),s[f].m(t.parentNode,t))}for(qf(),f=r.length;f<s.length;f+=1)o(f);Wf()}},i(l){if(!n){for(let u=0;u<r.length;u+=1)si(s[u]);n=!0}},o(l){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)xs(s[u]);n=!1},d(l){TX(s,l),l&&zc(t)}}}function kC(e){let t,n;return t=new IX({props:{config:e[2],step:e[0]}}),{c(){hp(t.$$.fragment)},m(r,s){Wd(t,r,s),n=!0},p(r,s){const o={};s&2&&(o.config=r[2]),s&1&&(o.step=r[0]),t.$set(o)},i(r){n||(si(t.$$.fragment,r),n=!0)},o(r){xs(t.$$.fragment,r),n=!1},d(r){Gd(t,r)}}}function LX(e){let t,n,r=e[1]&&CC(e);return{c(){t=au("footer"),r&&r.c(),Ci(t,"class","shepherd-footer")},m(s,o){ml(s,t,o),r&&r.m(t,null),n=!0},p(s,o){let[l]=o;s[1]?r?(r.p(s,l),l&2&&si(r,1)):(r=CC(s),r.c(),si(r,1),r.m(t,null)):r&&(qf(),xs(r,1,1,()=>{r=null}),Wf())},i(s){n||(si(r),n=!0)},o(s){xs(r),n=!1},d(s){s&&zc(t),r&&r.d()}}}function FX(e,t,n){let r,{step:s}=t;return e.$$set=o=>{"step"in o&&n(0,s=o.step)},e.$$.update=()=>{e.$$.dirty&1&&n(1,r=s.options.buttons)},[s,r]}class jX extends Oh{constructor(t){super(),kh(this,t,FX,LX,Ch,{step:0})}}function UX(e){let t,n,r,s,o;return{c(){t=au("button"),n=au("span"),n.textContent="×",Ci(n,"aria-hidden","true"),Ci(t,"aria-label",r=e[0].label?e[0].label:"Close Tour"),Ci(t,"class","shepherd-cancel-icon"),Ci(t,"type","button")},m(l,u){ml(l,t,u),Fm(t,n),s||(o=d_(t,"click",e[1]),s=!0)},p(l,u){let[f]=u;f&1&&r!==(r=l[0].label?l[0].label:"Close Tour")&&Ci(t,"aria-label",r)},i:oc,o:oc,d(l){l&&zc(t),s=!1,o()}}}function BX(e,t,n){let{cancelIcon:r,step:s}=t;const o=l=>{l.preventDefault(),s.cancel()};return e.$$set=l=>{"cancelIcon"in l&&n(0,r=l.cancelIcon),"step"in l&&n(2,s=l.step)},[r,o,s]}class VX extends Oh{constructor(t){super(),kh(this,t,BX,UX,Ch,{cancelIcon:0,step:2})}}function zX(e){let t;return{c(){t=au("h3"),Ci(t,"id",e[1]),Ci(t,"class","shepherd-title")},m(n,r){ml(n,t,r),e[3](t)},p(n,r){let[s]=r;s&2&&Ci(t,"id",n[1])},i:oc,o:oc,d(n){n&&zc(t),e[3](null)}}}function HX(e,t,n){let{labelId:r,element:s,title:o}=t;Dx(()=>{rp(o)&&n(2,o=o()),n(0,s.innerHTML=o,s)});function l(u){jm[u?"unshift":"push"](()=>{s=u,n(0,s)})}return e.$$set=u=>{"labelId"in u&&n(1,r=u.labelId),"element"in u&&n(0,s=u.element),"title"in u&&n(2,o=u.title)},[s,r,o,l]}class $X extends Oh{constructor(t){super(),kh(this,t,HX,zX,Ch,{labelId:1,element:0,title:2})}}function OC(e){let t,n;return t=new $X({props:{labelId:e[0],title:e[2]}}),{c(){hp(t.$$.fragment)},m(r,s){Wd(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.labelId=r[0]),s&4&&(o.title=r[2]),t.$set(o)},i(r){n||(si(t.$$.fragment,r),n=!0)},o(r){xs(t.$$.fragment,r),n=!1},d(r){Gd(t,r)}}}function NC(e){let t,n;return t=new VX({props:{cancelIcon:e[3],step:e[1]}}),{c(){hp(t.$$.fragment)},m(r,s){Wd(t,r,s),n=!0},p(r,s){const o={};s&8&&(o.cancelIcon=r[3]),s&2&&(o.step=r[1]),t.$set(o)},i(r){n||(si(t.$$.fragment,r),n=!0)},o(r){xs(t.$$.fragment,r),n=!1},d(r){Gd(t,r)}}}function qX(e){let t,n,r,s=e[2]&&OC(e),o=e[3]&&e[3].enabled&&NC(e);return{c(){t=au("header"),s&&s.c(),n=t1(),o&&o.c(),Ci(t,"class","shepherd-header")},m(l,u){ml(l,t,u),s&&s.m(t,null),Fm(t,n),o&&o.m(t,null),r=!0},p(l,u){let[f]=u;l[2]?s?(s.p(l,f),f&4&&si(s,1)):(s=OC(l),s.c(),si(s,1),s.m(t,n)):s&&(qf(),xs(s,1,1,()=>{s=null}),Wf()),l[3]&&l[3].enabled?o?(o.p(l,f),f&8&&si(o,1)):(o=NC(l),o.c(),si(o,1),o.m(t,null)):o&&(qf(),xs(o,1,1,()=>{o=null}),Wf())},i(l){r||(si(s),si(o),r=!0)},o(l){xs(s),xs(o),r=!1},d(l){l&&zc(t),s&&s.d(),o&&o.d()}}}function WX(e,t,n){let{labelId:r,step:s}=t,o,l;return e.$$set=u=>{"labelId"in u&&n(0,r=u.labelId),"step"in u&&n(1,s=u.step)},e.$$.update=()=>{e.$$.dirty&2&&(n(2,o=s.options.title),n(3,l=s.options.cancelIcon))},[r,s,o,l]}class GX extends Oh{constructor(t){super(),kh(this,t,WX,qX,Ch,{labelId:0,step:1})}}function YX(e){let t;return{c(){t=au("div"),Ci(t,"class","shepherd-text"),Ci(t,"id",e[1])},m(n,r){ml(n,t,r),e[3](t)},p(n,r){let[s]=r;s&2&&Ci(t,"id",n[1])},i:oc,o:oc,d(n){n&&zc(t),e[3](null)}}}function QX(e,t,n){let{descriptionId:r,element:s,step:o}=t;Dx(()=>{let{text:u}=o.options;rp(u)&&(u=u.call(o)),Tx(u)?s.appendChild(u):n(0,s.innerHTML=u,s)});function l(u){jm[u?"unshift":"push"](()=>{s=u,n(0,s)})}return e.$$set=u=>{"descriptionId"in u&&n(1,r=u.descriptionId),"element"in u&&n(0,s=u.element),"step"in u&&n(2,o=u.step)},[s,r,o,l]}class KX extends Oh{constructor(t){super(),kh(this,t,QX,YX,Ch,{descriptionId:1,element:0,step:2})}}function AC(e){let t,n;return t=new GX({props:{labelId:e[1],step:e[2]}}),{c(){hp(t.$$.fragment)},m(r,s){Wd(t,r,s),n=!0},p(r,s){const o={};s&2&&(o.labelId=r[1]),s&4&&(o.step=r[2]),t.$set(o)},i(r){n||(si(t.$$.fragment,r),n=!0)},o(r){xs(t.$$.fragment,r),n=!1},d(r){Gd(t,r)}}}function MC(e){let t,n;return t=new KX({props:{descriptionId:e[0],step:e[2]}}),{c(){hp(t.$$.fragment)},m(r,s){Wd(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.descriptionId=r[0]),s&4&&(o.step=r[2]),t.$set(o)},i(r){n||(si(t.$$.fragment,r),n=!0)},o(r){xs(t.$$.fragment,r),n=!1},d(r){Gd(t,r)}}}function DC(e){let t,n;return t=new jX({props:{step:e[2]}}),{c(){hp(t.$$.fragment)},m(r,s){Wd(t,r,s),n=!0},p(r,s){const o={};s&4&&(o.step=r[2]),t.$set(o)},i(r){n||(si(t.$$.fragment,r),n=!0)},o(r){xs(t.$$.fragment,r),n=!1},d(r){Gd(t,r)}}}function XX(e){let t,n=!Yo(e[2].options.title)||e[2].options.cancelIcon&&e[2].options.cancelIcon.enabled,r,s=!Yo(e[2].options.text),o,l=Array.isArray(e[2].options.buttons)&&e[2].options.buttons.length,u,f=n&&AC(e),m=s&&MC(e),v=l&&DC(e);return{c(){t=au("div"),f&&f.c(),r=t1(),m&&m.c(),o=t1(),v&&v.c(),Ci(t,"class","shepherd-content")},m(b,x){ml(b,t,x),f&&f.m(t,null),Fm(t,r),m&&m.m(t,null),Fm(t,o),v&&v.m(t,null),u=!0},p(b,x){let[O]=x;O&4&&(n=!Yo(b[2].options.title)||b[2].options.cancelIcon&&b[2].options.cancelIcon.enabled),n?f?(f.p(b,O),O&4&&si(f,1)):(f=AC(b),f.c(),si(f,1),f.m(t,r)):f&&(qf(),xs(f,1,1,()=>{f=null}),Wf()),O&4&&(s=!Yo(b[2].options.text)),s?m?(m.p(b,O),O&4&&si(m,1)):(m=MC(b),m.c(),si(m,1),m.m(t,o)):m&&(qf(),xs(m,1,1,()=>{m=null}),Wf()),O&4&&(l=Array.isArray(b[2].options.buttons)&&b[2].options.buttons.length),l?v?(v.p(b,O),O&4&&si(v,1)):(v=DC(b),v.c(),si(v,1),v.m(t,null)):v&&(qf(),xs(v,1,1,()=>{v=null}),Wf())},i(b){u||(si(f),si(m),si(v),u=!0)},o(b){xs(f),xs(m),xs(v),u=!1},d(b){b&&zc(t),f&&f.d(),m&&m.d(),v&&v.d()}}}function ZX(e,t,n){let{descriptionId:r,labelId:s,step:o}=t;return e.$$set=l=>{"descriptionId"in l&&n(0,r=l.descriptionId),"labelId"in l&&n(1,s=l.labelId),"step"in l&&n(2,o=l.step)},[r,s,o]}class JX extends Oh{constructor(t){super(),kh(this,t,ZX,XX,Ch,{descriptionId:0,labelId:1,step:2})}}function RC(e){let t;return{c(){t=au("div"),Ci(t,"class","shepherd-arrow"),Ci(t,"data-popper-arrow","")},m(n,r){ml(n,t,r)},d(n){n&&zc(t)}}}function eZ(e){let t,n,r,s,o,l,u,f,m=e[4].options.arrow&&e[4].options.attachTo&&e[4].options.attachTo.element&&e[4].options.attachTo.on&&RC();r=new JX({props:{descriptionId:e[2],labelId:e[3],step:e[4]}});let v=[{"aria-describedby":s=Yo(e[4].options.text)?null:e[2]},{"aria-labelledby":o=e[4].options.title?e[3]:null},e[1],{role:"dialog"},{tabindex:"0"}],b={};for(let x=0;x<v.length;x+=1)b=SX(b,v[x]);return{c(){t=au("div"),m&&m.c(),n=t1(),hp(r.$$.fragment),xC(t,b),Zp(t,"shepherd-has-cancel-icon",e[5]),Zp(t,"shepherd-has-title",e[6]),Zp(t,"shepherd-element",!0)},m(x,O){ml(x,t,O),m&&m.m(t,null),Fm(t,n),Wd(r,t,null),e[13](t),l=!0,u||(f=d_(t,"keydown",e[7]),u=!0)},p(x,O){let[T]=O;x[4].options.arrow&&x[4].options.attachTo&&x[4].options.attachTo.element&&x[4].options.attachTo.on?m||(m=RC(),m.c(),m.m(t,n)):m&&(m.d(1),m=null);const D={};T&4&&(D.descriptionId=x[2]),T&8&&(D.labelId=x[3]),T&16&&(D.step=x[4]),r.$set(D),xC(t,b=MX(v,[(!l||T&20&&s!==(s=Yo(x[4].options.text)?null:x[2]))&&{"aria-describedby":s},(!l||T&24&&o!==(o=x[4].options.title?x[3]:null))&&{"aria-labelledby":o},T&2&&x[1],{role:"dialog"},{tabindex:"0"}])),Zp(t,"shepherd-has-cancel-icon",x[5]),Zp(t,"shepherd-has-title",x[6]),Zp(t,"shepherd-element",!0)},i(x){l||(si(r.$$.fragment,x),l=!0)},o(x){xs(r.$$.fragment,x),l=!1},d(x){x&&zc(t),m&&m.d(),Gd(r),e[13](null),u=!1,f()}}}const tZ=9,nZ=27,rZ=37,iZ=39;function PC(e){return e.split(" ").filter(t=>!!t.length)}function sZ(e,t,n){let{classPrefix:r,element:s,descriptionId:o,firstFocusableElement:l,focusableElements:u,labelId:f,lastFocusableElement:m,step:v,dataStepId:b}=t,x,O,T;const D=()=>s;kX(()=>{n(1,b={[`data-${r}shepherd-step-id`]:v.id}),n(9,u=s.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')),n(8,l=u[0]),n(10,m=u[u.length-1])}),Dx(()=>{T!==v.options.classes&&M()});function M(){C(T),T=v.options.classes,R(T)}function C(F){if(C0(F)){const ie=PC(F);ie.length&&s.classList.remove(...ie)}}function R(F){if(C0(F)){const ie=PC(F);ie.length&&s.classList.add(...ie)}}const j=F=>{const{tour:ie}=v;switch(F.keyCode){case tZ:if(u.length===0){F.preventDefault();break}F.shiftKey?(document.activeElement===l||document.activeElement.classList.contains("shepherd-element"))&&(F.preventDefault(),m.focus()):document.activeElement===m&&(F.preventDefault(),l.focus());break;case nZ:ie.options.exitOnEsc&&v.cancel();break;case rZ:ie.options.keyboardNavigation&&ie.back();break;case iZ:ie.options.keyboardNavigation&&ie.next();break}};function H(F){jm[F?"unshift":"push"](()=>{s=F,n(0,s)})}return e.$$set=F=>{"classPrefix"in F&&n(11,r=F.classPrefix),"element"in F&&n(0,s=F.element),"descriptionId"in F&&n(2,o=F.descriptionId),"firstFocusableElement"in F&&n(8,l=F.firstFocusableElement),"focusableElements"in F&&n(9,u=F.focusableElements),"labelId"in F&&n(3,f=F.labelId),"lastFocusableElement"in F&&n(10,m=F.lastFocusableElement),"step"in F&&n(4,v=F.step),"dataStepId"in F&&n(1,b=F.dataStepId)},e.$$.update=()=>{e.$$.dirty&16&&(n(5,x=v.options&&v.options.cancelIcon&&v.options.cancelIcon.enabled),n(6,O=v.options&&v.options.title))},[s,b,o,f,v,x,O,j,l,u,m,r,D,H]}class oZ extends Oh{constructor(t){super(),kh(this,t,sZ,eZ,Ch,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12})}get getElement(){return this.$$.ctx[12]}}class bS extends Ex{constructor(t,n){return n===void 0&&(n={}),super(t,n),this.tour=t,this.classPrefix=this.tour.options?MA(this.tour.options.classPrefix):"",this.styles=t.styles,this._resolvedAttachTo=null,AA(this),this._setOptions(n),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){gX(this),Tx(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){this.tour.modal.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveAttachToOptions(){return this._resolvedAttachTo=BK(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return rp(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(t){Object.assign(this.options,t),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){const t=`${this.id}-description`,n=`${this.id}-label`;return this.shepherdElementComponent=new oZ({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:t,labelId:n,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(t){const{element:n}=this._getResolvedAttachToOptions();rp(this.options.scrollToHandler)?this.options.scrollToHandler(n):FK(n)&&typeof n.scrollIntoView=="function"&&n.scrollIntoView(t)}_getClassOptions(t){const n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,r=t.classes?t.classes:"",s=n&&n.classes?n.classes:"",o=[...r.split(" "),...s.split(" ")],l=new Set(o);return Array.from(l).join(" ").trim()}_setOptions(t){t===void 0&&(t={});let n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;n=xx({},n||{}),this.options=Object.assign({arrow:!0},n,t,mX(n,t));const{when:r}=this.options;this.options.classes=this._getClassOptions(t),this.destroy(),this.id=this.options.id||`step-${Cx()}`,r&&Object.keys(r).forEach(s=>{this.on(s,r[s],this)})}_setupElements(){Yo(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&UK(this),pX(this)}_show(){this.trigger("before-show"),this._resolveAttachToOptions(),this._setupElements(),this.tour.modal||this.tour._setupModal(),this.tour.modal.setupForStep(this),this._styleTargetElementForStep(this),this.el.hidden=!1,this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el.hidden=!1;const t=this.shepherdElementComponent.getElement(),n=this.target||document.body;n.classList.add(`${this.classPrefix}shepherd-enabled`),n.classList.add(`${this.classPrefix}shepherd-target`),t.classList.add("shepherd-enabled"),this.trigger("show")}_styleTargetElementForStep(t){const n=t.target;n&&(t.options.highlightClass&&n.classList.add(t.options.highlightClass),n.classList.remove("shepherd-target-click-disabled"),t.options.canClickTarget===!1&&n.classList.add("shepherd-target-click-disabled"))}_updateStepTargetOnHide(){const t=this.target||document.body;this.options.highlightClass&&t.classList.remove(this.options.highlightClass),t.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)}}function aZ(e){if(e){const{steps:t}=e;t.forEach(n=>{n.options&&n.options.canClickTarget===!1&&n.options.attachTo&&n.target instanceof HTMLElement&&n.target.classList.remove("shepherd-target-click-disabled")})}}function cZ(e){let{width:t,height:n,x:r=0,y:s=0,r:o=0}=e;const{innerWidth:l,innerHeight:u}=window,{topLeft:f=0,topRight:m=0,bottomRight:v=0,bottomLeft:b=0}=typeof o=="number"?{topLeft:o,topRight:o,bottomRight:o,bottomLeft:o}:o;return`M${l},${u}H0V0H${l}V${u}ZM${r+f},${s}a${f},${f},0,0,0-${f},${f}V${n+s-b}a${b},${b},0,0,0,${b},${b}H${t+r-v}a${v},${v},0,0,0,${v}-${v}V${s+m}a${m},${m},0,0,0-${m}-${m}Z`}function lZ(e){let t,n,r,s,o;return{c(){t=SC("svg"),n=SC("path"),Ci(n,"d",e[2]),Ci(t,"class",r=`${e[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(l,u){ml(l,t,u),Fm(t,n),e[11](t),s||(o=d_(t,"touchmove",e[3]),s=!0)},p(l,u){let[f]=u;f&4&&Ci(n,"d",l[2]),f&2&&r!==(r=`${l[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&Ci(t,"class",r)},i:oc,o:oc,d(l){l&&zc(t),e[11](null),s=!1,o()}}}function GA(e){if(!e)return null;const n=e instanceof HTMLElement&&window.getComputedStyle(e).overflowY;return n!=="hidden"&&n!=="visible"&&e.scrollHeight>=e.clientHeight?e:GA(e.parentElement)}function uZ(e,t){const n=e.getBoundingClientRect();let r=n.y||n.top,s=n.bottom||r+n.height;if(t){const l=t.getBoundingClientRect(),u=l.y||l.top,f=l.bottom||u+l.height;r=Math.max(r,u),s=Math.min(s,f)}const o=Math.max(s-r,0);return{y:r,height:o}}function hZ(e,t,n){let{element:r,openingProperties:s}=t;Cx();let o=!1,l,u;m();const f=()=>r;function m(){n(4,s={width:0,height:0,x:0,y:0,r:0})}function v(){n(1,o=!1),C()}function b(H,F,ie,ee){if(H===void 0&&(H=0),F===void 0&&(F=0),ee){const{y:_e,height:Xe}=uZ(ee,ie),{x:Te,width:Fe,left:je}=ee.getBoundingClientRect();n(4,s={width:Fe+H*2,height:Xe+H*2,x:(Te||je)-H,y:_e-H,r:F})}else m()}function x(H){C(),H.tour.options.useModalOverlay?(R(H),O()):v()}function O(){n(1,o=!0)}const T=H=>{H.preventDefault()},D=H=>{H.stopPropagation()};function M(){window.addEventListener("touchmove",T,{passive:!1})}function C(){l&&(cancelAnimationFrame(l),l=void 0),window.removeEventListener("touchmove",T,{passive:!1})}function R(H){const{modalOverlayOpeningPadding:F,modalOverlayOpeningRadius:ie}=H.options,ee=GA(H.target),_e=()=>{l=void 0,b(F,ie,ee,H.target),l=requestAnimationFrame(_e)};_e(),M()}function j(H){jm[H?"unshift":"push"](()=>{r=H,n(0,r)})}return e.$$set=H=>{"element"in H&&n(0,r=H.element),"openingProperties"in H&&n(4,s=H.openingProperties)},e.$$.update=()=>{e.$$.dirty&16&&n(2,u=cZ(s))},[r,o,u,D,s,f,m,v,b,x,O,j]}class dZ extends Oh{constructor(t){super(),kh(this,t,hZ,lZ,Ch,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}const Bf=new Ex;class fZ extends Ex{constructor(t){t===void 0&&(t={}),super(t),AA(this);const n={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},n,t),this.classPrefix=MA(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(s=>{(o=>{this.on(o,l=>{l=l||{},l.tour=this,Bf.trigger(o,l)})})(s)}),this._setTourID(),this}addStep(t,n){let r=t;return r instanceof bS?r.tour=this:r=new bS(this,r),Yo(n)?this.steps.push(r):this.steps.splice(n,0,r),r}addSteps(t){return Array.isArray(t)&&t.forEach(n=>{this.addStep(n)}),this}back(){const t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}cancel(){if(this.options.confirmCancel){const t=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";window.confirm(t)&&this._done("cancel")}else this._done("cancel")}complete(){this._done("complete")}getById(t){return this.steps.find(n=>n.id===t)}getCurrentStep(){return this.currentStep}hide(){const t=this.getCurrentStep();if(t)return t.hide()}isActive(){return Bf.activeTour===this}next(){const t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?this.complete():this.show(t+1,!0)}removeStep(t){const n=this.getCurrentStep();this.steps.some((r,s)=>{if(r.id===t)return r.isOpen()&&r.hide(),r.destroy(),this.steps.splice(s,1),!0}),n&&n.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(t,n){t===void 0&&(t=0),n===void 0&&(n=!0);const r=C0(t)?this.getById(t):this.steps[t];r&&(this._updateStateBeforeShow(),rp(r.options.showOn)&&!r.options.showOn()?this._skipStep(r,n):(this.trigger("show",{step:r,previous:this.currentStep}),this.currentStep=r,r.show()))}start(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this._setupModal(),this._setupActiveTour(),this.next()}_done(t){const n=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(r=>r.destroy()),aZ(this),this.trigger(t,{index:n}),Bf.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(t==="cancel"||t==="complete")&&this.modal){const r=document.querySelector(".shepherd-modal-overlay-container");r&&r.remove()}Tx(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),Bf.activeTour=this}_setupModal(){this.modal=new dZ({target:this.options.modalContainer||document.body,props:{classPrefix:this.classPrefix,styles:this.styles}})}_skipStep(t,n){const r=this.steps.indexOf(t);if(r===this.steps.length-1)this.complete();else{const s=n?r+1:r-1;this.show(s,n)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(){const t=this.options.tourName||"tour";this.id=`${t}--${Cx()}`}}const pZ=typeof window>"u";class IC{constructor(){}}pZ?Object.assign(Bf,{Tour:IC,Step:IC}):Object.assign(Bf,{Tour:fZ,Step:bS});var Rx=OA.default.createContext(null),mZ=Rx.Consumer,gZ=function(e,t){if(!e.length)return[];var n=e.map(function(r){var s=r.buttons;return s&&(r.buttons=s.map(function(o){var l=o.action,u=o.classes,f=o.disabled,m=o.label,v=o.secondary,b=o.text,x=o.type;return{action:x?t[x]:l,classes:u,disabled:f,label:m,secondary:v,text:b,type:x}})),r});return n.forEach(function(r){return t.addStep(r)})},vZ=function(e){var t=e.children,n=e.tourOptions,r=e.steps,s=kA.useMemo(function(){var o=new Bf.Tour(n);return gZ(r,o),o},[n,r]);return OA.default.createElement(Rx.Provider,{value:s},t)},yZ=l_.ShepherdTour=vZ,_Z=l_.ShepherdTourContext=Rx;l_.TourMethods=mZ;var YA={exports:{}};(function(e,t){(function(n,r){e.exports=r(he)})(typeof self<"u"?self:hi,function(n){return function(r){var s={};function o(l){if(s[l])return s[l].exports;var u=s[l]={i:l,l:!1,exports:{}};return r[l].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=r,o.c=s,o.d=function(l,u,f){o.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:f})},o.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.t=function(l,u){if(1&u&&(l=o(l)),8&u||4&u&&typeof l=="object"&&l&&l.__esModule)return l;var f=Object.create(null);if(o.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:l}),2&u&&typeof l!="string")for(var m in l)o.d(f,m,(function(v){return l[v]}).bind(null,m));return f},o.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(u,"a",u),u},o.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},o.p="",o(o.s=2)}([function(r,s){r.exports=n},function(r,s,o){var l={linear:function(u,f,m,v){return(m-f)*u/v+f},easeInQuad:function(u,f,m,v){return(m-f)*(u/=v)*u+f},easeOutQuad:function(u,f,m,v){return-(m-f)*(u/=v)*(u-2)+f},easeInOutQuad:function(u,f,m,v){var b=m-f;return(u/=v/2)<1?b/2*u*u+f:-b/2*(--u*(u-2)-1)+f},easeInCubic:function(u,f,m,v){return(m-f)*(u/=v)*u*u+f},easeOutCubic:function(u,f,m,v){return(m-f)*((u=u/v-1)*u*u+1)+f},easeInOutCubic:function(u,f,m,v){var b=m-f;return(u/=v/2)<1?b/2*u*u*u+f:b/2*((u-=2)*u*u+2)+f},easeInQuart:function(u,f,m,v){return(m-f)*(u/=v)*u*u*u+f},easeOutQuart:function(u,f,m,v){return-(m-f)*((u=u/v-1)*u*u*u-1)+f},easeInOutQuart:function(u,f,m,v){var b=m-f;return(u/=v/2)<1?b/2*u*u*u*u+f:-b/2*((u-=2)*u*u*u-2)+f},easeInQuint:function(u,f,m,v){return(m-f)*(u/=v)*u*u*u*u+f},easeOutQuint:function(u,f,m,v){return(m-f)*((u=u/v-1)*u*u*u*u+1)+f},easeInOutQuint:function(u,f,m,v){var b=m-f;return(u/=v/2)<1?b/2*u*u*u*u*u+f:b/2*((u-=2)*u*u*u*u+2)+f},easeInSine:function(u,f,m,v){var b=m-f;return-b*Math.cos(u/v*(Math.PI/2))+b+f},easeOutSine:function(u,f,m,v){return(m-f)*Math.sin(u/v*(Math.PI/2))+f},easeInOutSine:function(u,f,m,v){return-(m-f)/2*(Math.cos(Math.PI*u/v)-1)+f},easeInExpo:function(u,f,m,v){return u==0?f:(m-f)*Math.pow(2,10*(u/v-1))+f},easeOutExpo:function(u,f,m,v){var b=m-f;return u==v?f+b:b*(1-Math.pow(2,-10*u/v))+f},easeInOutExpo:function(u,f,m,v){var b=m-f;return u===0?f:u===v?f+b:(u/=v/2)<1?b/2*Math.pow(2,10*(u-1))+f:b/2*(2-Math.pow(2,-10*--u))+f},easeInCirc:function(u,f,m,v){return-(m-f)*(Math.sqrt(1-(u/=v)*u)-1)+f},easeOutCirc:function(u,f,m,v){return(m-f)*Math.sqrt(1-(u=u/v-1)*u)+f},easeInOutCirc:function(u,f,m,v){var b=m-f;return(u/=v/2)<1?-b/2*(Math.sqrt(1-u*u)-1)+f:b/2*(Math.sqrt(1-(u-=2)*u)+1)+f},easeInElastic:function(u,f,m,v){var b,x,O,T=m-f;return O=1.70158,u===0?f:(u/=v)==1?f+T:((x=0)||(x=.3*v),(b=T)<Math.abs(T)?(b=T,O=x/4):O=x/(2*Math.PI)*Math.asin(T/b),-b*Math.pow(2,10*(u-=1))*Math.sin((u*v-O)*(2*Math.PI)/x)+f)},easeOutElastic:function(u,f,m,v){var b,x,O,T=m-f;return O=1.70158,u===0?f:(u/=v)==1?f+T:((x=0)||(x=.3*v),(b=T)<Math.abs(T)?(b=T,O=x/4):O=x/(2*Math.PI)*Math.asin(T/b),b*Math.pow(2,-10*u)*Math.sin((u*v-O)*(2*Math.PI)/x)+T+f)},easeInOutElastic:function(u,f,m,v){var b,x,O,T=m-f;return O=1.70158,u===0?f:(u/=v/2)==2?f+T:((x=0)||(x=v*.44999999999999996),(b=T)<Math.abs(T)?(b=T,O=x/4):O=x/(2*Math.PI)*Math.asin(T/b),u<1?b*Math.pow(2,10*(u-=1))*Math.sin((u*v-O)*(2*Math.PI)/x)*-.5+f:b*Math.pow(2,-10*(u-=1))*Math.sin((u*v-O)*(2*Math.PI)/x)*.5+T+f)},easeInBack:function(u,f,m,v,b){return b===void 0&&(b=1.70158),(m-f)*(u/=v)*u*((b+1)*u-b)+f},easeOutBack:function(u,f,m,v,b){return b===void 0&&(b=1.70158),(m-f)*((u=u/v-1)*u*((b+1)*u+b)+1)+f},easeInOutBack:function(u,f,m,v,b){var x=m-f;return b===void 0&&(b=1.70158),(u/=v/2)<1?x/2*(u*u*((1+(b*=1.525))*u-b))+f:x/2*((u-=2)*u*((1+(b*=1.525))*u+b)+2)+f},easeInBounce:function(u,f,m,v){var b=m-f;return b-l.easeOutBounce(v-u,0,b,v)+f},easeOutBounce:function(u,f,m,v){var b=m-f;return(u/=v)<.36363636363636365?b*(7.5625*u*u)+f:u<.7272727272727273?b*(7.5625*(u-=.5454545454545454)*u+.75)+f:u<.9090909090909091?b*(7.5625*(u-=.8181818181818182)*u+.9375)+f:b*(7.5625*(u-=.9545454545454546)*u+.984375)+f},easeInOutBounce:function(u,f,m,v){var b=m-f;return u<v/2?.5*l.easeInBounce(2*u,0,b,v)+f:.5*l.easeOutBounce(2*u-v,0,b,v)+.5*b+f}};r.exports=l},function(r,s,o){r.exports=o(3)},function(r,s,o){o.r(s),o.d(s,"ReactConfetti",function(){return Ue});var l,u,f=o(0),m=o.n(f),v=o(1),b=o.n(v);function x(ae,we){return ae+Math.random()*(we-ae)}function O(ae,we){for(var be=0;be<we.length;be++){var W=we[be];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(ae,W.key,W)}}function T(ae,we,be){return we in ae?Object.defineProperty(ae,we,{value:be,enumerable:!0,configurable:!0,writable:!0}):ae[we]=be,ae}(function(ae){ae[ae.Circle=0]="Circle",ae[ae.Square=1]="Square",ae[ae.Strip=2]="Strip"})(l||(l={})),function(ae){ae[ae.Positive=1]="Positive",ae[ae.Negative=-1]="Negative"}(u||(u={}));var D=function(){function ae(W,le,z,K){(function(Vt,Pt){if(!(Vt instanceof Pt))throw new TypeError("Cannot call a class as a function")})(this,ae),T(this,"context",void 0),T(this,"radius",void 0),T(this,"x",void 0),T(this,"y",void 0),T(this,"w",void 0),T(this,"h",void 0),T(this,"vx",void 0),T(this,"vy",void 0),T(this,"shape",void 0),T(this,"angle",void 0),T(this,"angularSpin",void 0),T(this,"color",void 0),T(this,"rotateY",void 0),T(this,"rotationDirection",void 0),T(this,"getOptions",void 0),this.getOptions=le;var de,Ce,fe=this.getOptions(),$e=fe.colors,mt=fe.initialVelocityX,It=fe.initialVelocityY;this.context=W,this.x=z,this.y=K,this.w=x(5,20),this.h=x(5,20),this.radius=x(5,10),this.vx=typeof mt=="number"?x(-mt,mt):x(mt.min,mt.max),this.vy=typeof It=="number"?x(-It,0):x(It.min,It.max),this.shape=(de=0,Ce=2,Math.floor(de+Math.random()*(Ce-de+1))),this.angle=x(0,360)*Math.PI/180,this.angularSpin=x(-.2,.2),this.color=$e[Math.floor(Math.random()*$e.length)],this.rotateY=x(0,1),this.rotationDirection=x(0,1)?u.Positive:u.Negative}var we,be;return we=ae,(be=[{key:"update",value:function(){var W=this.getOptions(),le=W.gravity,z=W.wind,K=W.friction,de=W.opacity,Ce=W.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=le,this.vx+=z,this.vx*=K,this.vy*=K,this.rotateY>=1&&this.rotationDirection===u.Positive?this.rotationDirection=u.Negative:this.rotateY<=-1&&this.rotationDirection===u.Negative&&(this.rotationDirection=u.Positive);var fe=.1*this.rotationDirection;if(this.rotateY+=fe,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=de,this.context.lineCap="round",this.context.lineWidth=2,Ce&&typeof Ce=="function")Ce.call(this,this.context);else switch(this.shape){case l.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case l.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case l.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&O(we.prototype,be),ae}();function M(ae,we,be){return we in ae?Object.defineProperty(ae,we,{value:be,enumerable:!0,configurable:!0,writable:!0}):ae[we]=be,ae}var C=function ae(we,be){var W=this;(function(z,K){if(!(z instanceof K))throw new TypeError("Cannot call a class as a function")})(this,ae),M(this,"canvas",void 0),M(this,"context",void 0),M(this,"getOptions",void 0),M(this,"x",0),M(this,"y",0),M(this,"w",0),M(this,"h",0),M(this,"lastNumberOfPieces",0),M(this,"tweenInitTime",Date.now()),M(this,"particles",[]),M(this,"particlesGenerated",0),M(this,"removeParticleAt",function(z){W.particles.splice(z,1)}),M(this,"getParticle",function(){var z=x(W.x,W.w+W.x),K=x(W.y,W.h+W.y);return new D(W.context,W.getOptions,z,K)}),M(this,"animate",function(){var z=W.canvas,K=W.context,de=W.particlesGenerated,Ce=W.lastNumberOfPieces,fe=W.getOptions(),$e=fe.run,mt=fe.recycle,It=fe.numberOfPieces,Vt=fe.debug,Pt=fe.tweenFunction,mn=fe.tweenDuration;if(!$e)return!1;var Sn=W.particles.length,un=mt?Sn:de,mr=Date.now();if(un<It){Ce!==It&&(W.tweenInitTime=mr,W.lastNumberOfPieces=It);for(var Nr=W.tweenInitTime,Ln=Pt(mr-Nr>mn?mn:Math.max(0,mr-Nr),un,It,mn),Jt=Math.round(Ln-un),yr=0;yr<Jt;yr++)W.particles.push(W.getParticle());W.particlesGenerated+=Jt}return Vt&&(K.font="12px sans-serif",K.fillStyle="#333",K.textAlign="right",K.fillText("Particles: ".concat(Sn),z.width-10,z.height-20)),W.particles.forEach(function(Ir,ki){Ir.update(),(Ir.y>z.height||Ir.y<-100||Ir.x>z.width+100||Ir.x<-100)&&(mt&&un<=It?W.particles[ki]=W.getParticle():W.removeParticleAt(ki))}),Sn>0||un<It}),this.canvas=we;var le=this.canvas.getContext("2d");if(!le)throw new Error("Could not get canvas context");this.context=le,this.getOptions=be};function R(ae,we){var be=Object.keys(ae);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(ae);we&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(ae,le).enumerable})),be.push.apply(be,W)}return be}function j(ae){for(var we=1;we<arguments.length;we++){var be=arguments[we]!=null?arguments[we]:{};we%2?R(Object(be),!0).forEach(function(W){F(ae,W,be[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(be)):R(Object(be)).forEach(function(W){Object.defineProperty(ae,W,Object.getOwnPropertyDescriptor(be,W))})}return ae}function H(ae,we){for(var be=0;be<we.length;be++){var W=we[be];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(ae,W.key,W)}}function F(ae,we,be){return we in ae?Object.defineProperty(ae,we,{value:be,enumerable:!0,configurable:!0,writable:!0}):ae[we]=be,ae}var ie={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:b.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},ee=function(){function ae(W,le){var z=this;(function(de,Ce){if(!(de instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,ae),F(this,"canvas",void 0),F(this,"context",void 0),F(this,"_options",void 0),F(this,"generator",void 0),F(this,"rafId",void 0),F(this,"setOptionsWithDefaults",function(de){var Ce={confettiSource:{x:0,y:0,w:z.canvas.width,h:0}};z._options=j(j(j({},Ce),ie),de),Object.assign(z,de.confettiSource)}),F(this,"update",function(){var de=z.options,Ce=de.run,fe=de.onConfettiComplete,$e=z.canvas,mt=z.context;Ce&&(mt.fillStyle="white",mt.clearRect(0,0,$e.width,$e.height)),z.generator.animate()?z.rafId=requestAnimationFrame(z.update):(fe&&typeof fe=="function"&&z.generator.particlesGenerated>0&&fe.call(z,z),z._options.run=!1)}),F(this,"reset",function(){z.generator&&z.generator.particlesGenerated>0&&(z.generator.particlesGenerated=0,z.generator.particles=[],z.generator.lastNumberOfPieces=0)}),F(this,"stop",function(){z.options={run:!1},z.rafId&&(cancelAnimationFrame(z.rafId),z.rafId=void 0)}),this.canvas=W;var K=this.canvas.getContext("2d");if(!K)throw new Error("Could not get canvas context");this.context=K,this.generator=new C(this.canvas,function(){return z.options}),this.options=le,this.update()}var we,be;return we=ae,(be=[{key:"options",get:function(){return this._options},set:function(W){var le=this._options&&this._options.run,z=this._options&&this._options.recycle;this.setOptionsWithDefaults(W),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof W.recycle=="boolean"&&W.recycle&&z===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof W.run=="boolean"&&W.run&&le===!1&&this.update()}}])&&H(we.prototype,be),ae}();function _e(ae){return function(we){if(Array.isArray(we))return Ge(we)}(ae)||function(we){if(typeof Symbol<"u"&&Symbol.iterator in Object(we))return Array.from(we)}(ae)||ut(ae)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xe(ae){return(Xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(ae)}function Te(){return(Te=Object.assign||function(ae){for(var we=1;we<arguments.length;we++){var be=arguments[we];for(var W in be)Object.prototype.hasOwnProperty.call(be,W)&&(ae[W]=be[W])}return ae}).apply(this,arguments)}function Fe(ae,we){var be=Object.keys(ae);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(ae);we&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(ae,le).enumerable})),be.push.apply(be,W)}return be}function je(ae){for(var we=1;we<arguments.length;we++){var be=arguments[we]!=null?arguments[we]:{};we%2?Fe(Object(be),!0).forEach(function(W){bt(ae,W,be[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(be)):Fe(Object(be)).forEach(function(W){Object.defineProperty(ae,W,Object.getOwnPropertyDescriptor(be,W))})}return ae}function et(ae,we){return function(be){if(Array.isArray(be))return be}(ae)||function(be,W){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(be)))){var le=[],z=!0,K=!1,de=void 0;try{for(var Ce,fe=be[Symbol.iterator]();!(z=(Ce=fe.next()).done)&&(le.push(Ce.value),!W||le.length!==W);z=!0);}catch($e){K=!0,de=$e}finally{try{z||fe.return==null||fe.return()}finally{if(K)throw de}}return le}}(ae,we)||ut(ae,we)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ut(ae,we){if(ae){if(typeof ae=="string")return Ge(ae,we);var be=Object.prototype.toString.call(ae).slice(8,-1);return be==="Object"&&ae.constructor&&(be=ae.constructor.name),be==="Map"||be==="Set"?Array.from(ae):be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be)?Ge(ae,we):void 0}}function Ge(ae,we){(we==null||we>ae.length)&&(we=ae.length);for(var be=0,W=new Array(we);be<we;be++)W[be]=ae[be];return W}function We(ae,we){if(!(ae instanceof we))throw new TypeError("Cannot call a class as a function")}function Ae(ae,we){for(var be=0;be<we.length;be++){var W=we[be];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(ae,W.key,W)}}function pe(ae,we){return(pe=Object.setPrototypeOf||function(be,W){return be.__proto__=W,be})(ae,we)}function Pe(ae){var we=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var be,W=Qe(ae);if(we){var le=Qe(this).constructor;be=Reflect.construct(W,arguments,le)}else be=W.apply(this,arguments);return Ye(this,be)}}function Ye(ae,we){return!we||Xe(we)!=="object"&&typeof we!="function"?it(ae):we}function it(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae}function Qe(ae){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(we){return we.__proto__||Object.getPrototypeOf(we)})(ae)}function bt(ae,we,be){return we in ae?Object.defineProperty(ae,we,{value:be,enumerable:!0,configurable:!0,writable:!0}):ae[we]=be,ae}var Mt=m.a.createRef(),rt=function(ae){(function(z,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(K&&K.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),K&&pe(z,K)})(le,ae);var we,be,W=Pe(le);function le(z){var K;We(this,le);for(var de=arguments.length,Ce=new Array(de>1?de-1:0),fe=1;fe<de;fe++)Ce[fe-1]=arguments[fe];return bt(it(K=W.call.apply(W,[this,z].concat(Ce))),"canvas",m.a.createRef()),bt(it(K),"confetti",void 0),K.canvas=z.canvasRef||Mt,K}return we=le,(be=[{key:"componentDidMount",value:function(){if(this.canvas.current){var z=Kt(this.props)[0];this.confetti=new ee(this.canvas.current,z)}}},{key:"componentDidUpdate",value:function(){var z=Kt(this.props)[0];this.confetti&&(this.confetti.options=z)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var z=et(Kt(this.props),2),K=z[0],de=z[1],Ce=je({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},de.style);return m.a.createElement("canvas",Te({width:K.width,height:K.height,ref:this.canvas},de,{style:Ce}))}}])&&Ae(we.prototype,be),le}(f.Component);function Kt(ae){var we={},be={},W=[].concat(_e(Object.keys(ie)),["confettiSource","drawShape","onConfettiComplete"]),le=["canvasRef"];for(var z in ae){var K=ae[z];W.includes(z)?we[z]=K:le.includes(z)?le[z]=K:be[z]=K}return[we,be,{}]}bt(rt,"defaultProps",je({},ie)),bt(rt,"displayName","ReactConfetti");var Ue=m.a.forwardRef(function(ae,we){return m.a.createElement(rt,Te({canvasRef:we},ae))});s.default=Ue}]).default})})(YA);var wZ=YA.exports;const bZ=A0(wZ),SZ=e=>{const t=du(),n=he.useContext(_Z),r=!!(n!=null&&n.isActive()),[s,o]=he.useState(!1),l=()=>n==null?void 0:n.cancel(),u=()=>{e.setConfetti(!1),o(!1);const b=new CustomEvent(SS);window.dispatchEvent(b)};if(he.useEffect(()=>(n&&(n.on("start",()=>o(!0)),n.on("complete",u),n.on("cancel",u)),()=>{r&&!s&&l()}),[n,r,s]),he.useEffect(()=>l,[]),fm("escape",()=>s&&u(),[s]),!n)return null;const f=()=>{r||s?(n.cancel(),mh(SS),o(!1),e.setConfetti(!1)):(n.start(),mh(KA),t(Hf()))},m=r?"text-sky-600":"text-slate-50",v=r?"rounded-full ring-2 ring-sky-600 ring-offset-4 ring-offset-gray-900":"";return Wt(sa,{children:[V("button",{className:`ml-2 focus:outline-none ${m}`,onClick:f,children:V($Q,{className:`text-2xl ${v}`})}),e.confetti&&y1.createPortal(V(bZ,{className:"z-[80]"}),document.body)]})},xZ=()=>{const[e,t]=he.useState(!1),[n,r]=he.useState("tour-step-welcome-to-harmonia");Nd(KA,()=>t(!0)),Nd(SS,()=>t(!1)),Nd(QA,D=>r(D.detail));const s=({className:D,style:M})=>V("div",{className:`w-full bg-slate-900/50 absolute z-[60] backdrop-blur transition-all duration-150 pointer-events-none ${D}`,style:M}),l=["tour-step-navbar-intro","tour-step-pattern-editor-prompt","tour-step-pattern-editor-intro","tour-step-pattern-editor-conclusion","tour-step-adding-clips","tour-step-adding-transpositions","tour-step-track-media","tour-step-saving-work","tour-step-confetti"].includes(n),u=l?Wv:0,f=l?0:Wv,m=()=>s({style:{top:u,height:f}}),b=["tour-step-track-intro","tour-step-the-pattern-track","tour-step-the-scale-track","tour-step-track-conclusion"].includes(n),O=["tour-step-track-media","tour-step-saving-work","tour-step-confetti"].includes(n),T=()=>{const D=Wv,M=b?F2:0,C=`calc(100% - ${Wv}px)`;return s({style:{top:D,left:M,height:C,opacity:O?0:1}})};return Wt(ec,{show:e,className:"absolute w-full h-screen flex flex-col pointer-events-none",children:[m(),T()]})},QA="SET_TOUR_ID",KA="START_TOUR",SS="END_TOUR";function Pie(){const e=du(),t=rh(q1),n=rh(V0),[r,s]=he.useState(!1),o="bg-slate-800/75 backdrop-blur text-slate-300 p-8 rounded-md text-sm font-nunito border-4 border-slate-900 ring-8 ring-sky-500/80 drop-shadow-2xl focus:outline-none z-90",l=[{text:"Next",classes:"bg-sky-600 font-bold px-4 py-2 rounded-lg mr-2 hover:bg-sky-700",action(){this.next()}},{text:"Skip",classes:"bg-slate-600 p-3 px-4 py-2 rounded-lg mx-2 hover:bg-slate-700",action(){this.cancel()}}],u=fe=>{var $e;return`
      <div class="flex">
      <div class="flex flex-col">
        <div class="font-bold text-2xl mb-2">
          <img src="${Ky}" class="w-12 h-12 mr-1 inline-block" />
          ${fe.title}
        </div>
        ${fe.body?fe.body:($e=fe.list)!=null&&$e.length?`
            <div class="text-lg mb-4 text-slate-300/80 font-light">
              <div class="mb-2">
                ${fe.text}
              </div>
              <ul class="flex flex-col pl-4 text-md">${fe.list.join("")}</ul>
            </div>`:`<div class="text-lg mb-4 text-slate-300/80 font-light">${fe.text}</div>`}
      </div>
      </div>
      `},f=fe=>({...fe,text:fe.text||"",classes:fe.classes||l[0].classes,action:fe.action||l[0].action}),m=fe=>({...fe,text:fe.text||"",classes:fe.classes||o,buttons:fe.buttons||l,when:{show:()=>mh(QA,fe.id)}}),v=he.useCallback((fe,$e)=>()=>new Promise(mt=>{if(Xz(n)||e(Y5("idle")),K2(t,$e))return mt(!0);e(cx({id:$e})),mt(!0)}),[t]),b=he.useCallback((fe,$e)=>()=>new Promise(mt=>{e(Hf()),e(Y5($e)),mt(!0)}),[]),x='<span class="text-sky-400">Scale</span>',O='<span class="text-sky-400">Scale Editor</span>',T='<span class="text-indigo-400">Scale Track</span>',D='<span class="text-indigo-400">Nest</span>',M='<span class="text-green-400">Pattern</span>',C='<span class="text-green-400">Pattern Editor</span>',R='<span class="text-emerald-400">Pattern Track</span>',j='<span class="text-blue-300">Track</span>',H='<span class="text-amber-500">Instrument</span>',F='<span class="text-amber-500">Instrument Editor</span>',ie='<span class="text-green-400">Volume</span>',ee='<span class="text-teal-400">Pan</span>',_e='<span class="text-red-500">Mute</span>',Xe='<span class="text-yellow-300">Solo</span>',Te='<span class="text-teal-400">Clip</span>',Fe='<span class="text-teal-400">Clips</span>',je='<span class="text-fuchsia-500">Transposition</span>',et='<span class="text-fuchsia-500">Transpositions</span>',ut='<span class="text-emerald-400">Pencil</span>',Ge='<span class="text-teal-400">Brush</span>',We='<span class="text-fuchsia-500">Wand</span>',Ae='<span class="text-gray-400">Scissors</span>',pe='<span class="text-purple-500">Chain</span>',Pe=he.useMemo(()=>{const fe="tour-step-welcome-to-harmonia",$e=`
    <div class="flex">
      <p class="flex flex-col w-72">
        <span class="text-sky-500/80 text-lg font-semibold mb-3">Welcome to Harmonia!</span>
        <span class="text-slate-300 text-3xl font-bold mb-2">Ready for a Tour?</span>
        <span class="text-slate-400">We'll teach you the basics in no time, but feel free to explore at your own pace.</span>
      <p>
      <img src="${Ky}" class="flex-shrink-0 w-36 h-36 ml-4" />
    </div>
    `,mt=f({text:"Yes please!",classes:"border border-slate-600/50 bg-sky-600 font-bold px-4 py-2 rounded-lg mr-2 hover:bg-sky-700 hover:border-slate-600/75",action(){this.next(),e(Hf())}}),It=f({text:"Maybe later...",classes:"border border-slate-600/50 bg-slate-600 p-3 px-4 py-2 rounded-lg mx-2 hover:bg-slate-700 hover:border-slate-600/75",action(){this.cancel()}});return m({id:fe,text:$e,buttons:[mt,It]})},[]),Ye=he.useMemo(()=>{const fe="tour-step-what-is-harmonia",$e=u({title:"What is Harmonia?",text:"Harmonia is a pattern-based digital audio workstation (DAW) with an integrated harmonic scaffolding for quick and intuitive composition!"});return m({id:fe,text:$e})},[]),it=he.useMemo(()=>{const fe="tour-step-track-intro",$e=u({title:"Tracks in Harmonia",text:"Instead of treating all tracks the same, Harmonia has two distinct kinds of tracks:",list:[`<li>• A ${T} has its own scale and can nest tracks.</li>`,`<li>• A ${R} has its own instrument and can play audio.</li>`]});return m({id:fe,text:$e})},[]),Qe=he.useMemo(()=>{const fe="tour-step-the-scale-track",$e=u({title:"The Scale Track",text:`By default, a ${T} uses the chromatic scale, so making use of different scales is entirely optional.
      All descendant tracks will be constrained to the track's scale.`,list:[`<li>• The ${x} button opens the ${O}.</li>`,`<li>• The <span class="text-green-400">Track</span> button creates a new ${R}.</li>`,`<li>• The ${D} button creates a nested ${T}.</li>`]});return m({id:fe,text:$e})},[]),bt=he.useMemo(()=>{const fe="tour-step-the-pattern-track",$e=u({title:"The Pattern Track",text:`On the other hand, a ${R} inherits the scale of its parent ${T} 
      and can be used to play any patterns you create. Think of these like any other track in a DAW.`,list:[`<li>• The ${H} button opens the ${F}.</li>`,`<li>• The ${ie} & ${ee} sliders adjust the loudness and stereo balance.</li>`,`<li>• The ${_e} & ${Xe} buttons control the output relative to all tracks.</li>`]});return m({id:fe,text:$e})},[]),Mt=he.useMemo(()=>{const fe="tour-step-track-conclusion",$e=u({title:"One More Thing About Tracks...",text:`Finally, each ${j} has a few things in common:`,list:[`<li>• The name of a ${j} defaults to the name of its ${x} or ${H}.</li>`,`<li>• The number in the ${j} indicates its depth, i.e. the number of parents plus one.</li>`,`<li>• The position of a ${j} can be rearranged by dragging and dropping.</li>`]});return m({id:fe,text:$e})},[]),rt=he.useMemo(()=>{const fe="tour-step-tutorial-intro",$e=u({title:"Let's Make Music!",text:"Now that you know the basics, let's walk through the process of using the website!"});return m({id:fe,text:$e})},[]),Kt=he.useMemo(()=>{const fe="tour-step-navbar-intro",$e=u({title:"The Navbar",text:`The Navbar lives on the top of your screen and contains all of the essential tools you'll need for composition. 
      Everything is streamlined to make your experience as easy as possible, so say goodbye to cluttered menus and confusing toolbars!`});return m({id:fe,text:$e})},[]),Ue=he.useMemo(()=>{const fe="tour-step-pattern-editor-prompt",$e=u({title:"Opening the Pattern Editor",text:`To view and edit your patterns, click on the ${ut} to open the ${C}.`});return m({id:fe,text:$e,buttons:[],beforeShowPromise:v(fe,"hidden"),advanceOn:{selector:"#pattern-editor-button",event:"click"}})},[v]),ae=he.useMemo(()=>{const fe="tour-step-pattern-editor-intro",$e=u({title:"The Pattern Editor",text:`Welcome to the ${C}, where you can view and edit all of your patterns. We've given you a handful to get started with, but you can always create your own!`});return m({id:fe,text:$e,beforeShowPromise:v(fe,"patterns")})},[v]),we=he.useMemo(()=>{const fe="tour-step-pattern-editor-conclusion",$e=u({title:"The Pattern Editor",text:"We're gonna skip over all of the specific controls for now, but feel free to explore them after the tour! There's a lot to see for yourself!"});return m({id:fe,text:$e,beforeShowPromise:v(fe,"patterns")})},[v]),be=he.useMemo(()=>{const fe="tour-step-adding-clips",$e=u({title:"Adding Patterns as Clips",text:`After selecting a ${M}, you can arrange it as a ${Te} by
      clicking on the ${Ge} and selecting any beat in the grid.`,list:[`<li>• A ${Te} can only be arranged within a ${R}.</li>`,`<li>• Every note in a ${Te} is constrained to the track's scale.</li>`,`<li>• You can double click on any ${Te} to open the ${C}.</li>`]});return m({id:fe,text:$e,beforeShowPromise:b(fe,"addingClips")})},[b]),W=he.useMemo(()=>{const fe="tour-step-adding-transpositions",$e=u({title:"Adding Transpositions to Tracks",text:`Here comes the fun part! You can add a ${je} by 
      clicking on the ${We}, customizing it in the dropdown menu, and selecting any beat in the grid.`,list:[`<li>• A ${je} can be arranged within a ${T} or a ${R}.</li>`,`<li>• A ${je} can be applied chromatically, chordally, or along any parent scale.</li>`,`<li>• A ${je} will be applied indefinitely unless a duration is specified.</li>`]});return m({id:fe,text:$e,beforeShowPromise:b(fe,"addingTranspositions")})},[b]),le=he.useMemo(()=>{const fe="tour-step-track-media",$e=u({title:"Clips + Transpositions = Success!",text:`Together, ${Fe} and ${et} form the playable media of your project.`,list:["<li>• You can use your mouse to drag and drop media around the grid.</li>",`<li>• You can slice media by clicking on the ${Ae} and selecting the desired beat.</li>`,`<li>• You can merge media by clicking on the ${pe} and following the dropdown menu.</li>`]});return m({id:fe,text:$e,beforeShowPromise:b(fe,"idle")})},[b]),z=he.useMemo(()=>{const fe="tour-step-saving-work",$e=u({title:"Saving Your Work",text:`Lastly, and most importantly, don't forget to save your work!
      Your project will be automatically saved in your browser, but you can only have one project open at a time.`});return m({id:fe,text:$e,beforeShowPromise:v(fe,"file")})},[v]),K=he.useMemo(()=>{const fe="tour-step-confetti",$e=u({title:"Congratulations!",text:"That's all you need to know! We hope you enjoy using Harmonia!"}),mt=[f({text:"Hooray!",classes:"bg-sky-600 font-bold w-full px-4 py-2 rounded-lg mr-2 hover:bg-sky-700"})];return m({id:fe,text:$e,buttons:mt,beforeShowPromise:()=>new Promise(It=>{s(!0),e(Hf()),It()})})},[]);return V(yZ,{steps:[Pe,Ye,it,Qe,bt,Mt,rt,Kt,Ue,ae,we,be,W,le,z,K],tourOptions:{useModalOverlay:!1},children:V(SZ,{confetti:r,setConfetti:s})})}function TZ(){const e=du(),t=rh(S4),[n,r]=he.useState(!1);return Nd(A4,()=>r(!1)),Nd(M4,()=>r(!0)),he.useEffect(()=>(e(K5()),()=>{e(K5())}),[t]),n}function EZ(){const e=du(),[t,n]=he.useState(!1);return he.useEffect(()=>{const r=indexedDB.open(Q1);r.onsuccess=async()=>{const s=await j4();if(!s){await K1(Z1),n(!0);return}const o=await ax(s);o&&(e({type:"setState",payload:o}),n(!0))}},[]),t}const CZ=he.lazy(()=>Sx(()=>import("./index-d288fb98.js"),["assets/index-d288fb98.js","assets/ArrangementThunks-8e0396f3.js","assets/menu-4bb74a08.js"])),kZ=he.lazy(()=>Sx(()=>import("./index-9ef03418.js"),["assets/index-9ef03418.js","assets/ContextMenu-40874058.js","assets/menu-4bb74a08.js","assets/index-fba6f44c.css"])),OZ=he.lazy(()=>Sx(()=>import("./index-73239657.js"),["assets/index-73239657.js","assets/ContextMenu-40874058.js","assets/ArrangementThunks-8e0396f3.js","assets/menu-4bb74a08.js","assets/index-c01ca85a.css"]));function NZ(){cK(),vK();const e=EZ(),t=TZ();return!e||!t?V(sK,{isTransportLoaded:t}):Wt("div",{className:"flex flex-col fade-in h-screen",children:[V(xZ,{}),V(CZ,{}),V("main",{className:"relative flex flex-auto overflow-hidden",children:Wt(he.Suspense,{children:[V(OZ,{}),V(kZ,{}),V(SK,{})]})})]})}function Zv({children:e}){const t=Q4();return t.isLoadingAuthentication?null:t.isAuthenticated?e:V(Jl.Navigate,{to:"/"})}function AZ(){const e=Jl.createHashRouter([{path:"/",element:V(WG,{}),errorElement:V(nC,{})},{path:"/projects",element:V(Zv,{children:V(Yw,{view:"projects"})})},{path:"/demos",element:V(Zv,{children:V(Yw,{view:"demos"})})},{path:"/profile",element:V(Zv,{children:V(Yw,{view:"profile"})})},{path:"/playground",element:V(Zv,{children:V(NZ,{})}),errorElement:V(nC,{})}]);return V(he.StrictMode,{children:V(Mm.HotkeysProvider,{initiallyActiveScopes:["timeline","transport"],children:V(FL,{backend:JL,children:V(_1.Provider,{store:Qy,children:V(a8,{children:V(Jl.RouterProvider,{router:e})})})},1)})})}const pm=document.getElementById("root");pm!=null&&pm.children.length||Xw.createRoot(pm).render(V(AZ,{}));const MZ=(e=!1)=>async t=>{await tn.start(),e&&t(Y1())},XA=async()=>{Qy.dispatch(MZ()),pm.removeEventListener("mousedown",XA)};pm.addEventListener("mousedown",XA);export{Nne as $,Tre as A,pie as B,Qre as C,rie as D,gne as E,z4 as F,xie as G,H4 as H,Eie as I,Ere as J,ec as K,Ky as L,Sie as M,sa as N,Tie as O,Ore as P,$4 as Q,tC as R,tre as S,tn as T,ad as U,lC as V,iW as W,Ane as X,dne as Y,d4 as Z,jZ as _,rh as a,BZ as a$,V0 as a0,ene as a1,zre as a2,tne as a3,Xne as a4,E4 as a5,Sh as a6,xh as a7,tx as a8,Rm as a9,R9 as aA,Qz as aB,mh as aC,Sre as aD,I9 as aE,L9 as aF,bre as aG,_re as aH,wre as aI,one as aJ,Qt as aK,z9 as aL,H9 as aM,yK as aN,yie as aO,wie as aP,vie as aQ,_ie as aR,Mm as aS,Wv as aT,Pie as aU,S as aV,zZ as aW,VZ as aX,Ra as aY,sc as aZ,nJ as a_,pN as aa,QF as ab,vN as ac,tie as ad,KZ as ae,nre as af,vW as ag,rx as ah,ere as ai,pne as aj,mne as ak,Hre as al,Jre as am,lie as an,Hf as ao,cx as ap,oie as aq,nne as ar,hie as as,rne as at,yW as au,rre as av,eie as aw,Qne as ax,fm as ay,Kre as az,T5 as b,XJ as b$,Xl as b0,cJ as b1,VF as b2,ph as b3,uJ as b4,IZ as b5,iJ as b6,E9 as b7,sJ as b8,Pne as b9,Kw as bA,vR as bB,Dre as bC,Ts as bD,LJ as bE,eS as bF,FJ as bG,jJ as bH,cu as bI,UJ as bJ,BJ as bK,nB as bL,VJ as bM,zJ as bN,rB as bO,HJ as bP,$J as bQ,iB as bR,GJ as bS,YJ as bT,oB as bU,qJ as bV,WJ as bW,sB as bX,QJ as bY,KJ as bZ,aB as b_,XF as ba,gh as bb,oJ as bc,ZF as bd,Yr as be,Ma as bf,D9 as bg,EW as bh,oo as bi,Xo as bj,tY as bk,fr as bl,H0 as bm,uA as bn,Vi as bo,su as bp,ko as bq,fu as br,$s as bs,oA as bt,eY as bu,Pm as bv,n_ as bw,hi as bx,e9 as by,y1 as bz,One as c,Bee as c$,ZJ as c0,cB as c1,JJ as c2,eee as c3,lB as c4,tee as c5,nee as c6,uB as c7,ree as c8,iee as c9,Dee as cA,EB as cB,Ree as cC,Pee as cD,CB as cE,bee as cF,See as cG,wB as cH,xee as cI,Tee as cJ,bB as cK,Eee as cL,Cee as cM,SB as cN,kee as cO,Oee as cP,xB as cQ,Nee as cR,Aee as cS,TB as cT,Iee as cU,Lee as cV,kB as cW,Fee as cX,jee as cY,OB as cZ,Uee as c_,hB as ca,see as cb,oee as cc,dB as cd,aee as ce,cee as cf,fB as cg,lee as ch,uee as ci,pB as cj,hee as ck,dee as cl,mB as cm,fee as cn,pee as co,gB as cp,mee as cq,gee as cr,vB as cs,vee as ct,yee as cu,yB as cv,_ee as cw,wee as cx,_B as cy,Mee as cz,kne as d,Lre as d$,NB as d0,Vee as d1,zee as d2,AB as d3,Hee as d4,$ee as d5,MB as d6,qee as d7,Wee as d8,DB as d9,$t as dA,_1 as dB,G1 as dC,Z2 as dD,QN as dE,U0 as dF,Dne as dG,jN as dH,FN as dI,cte as dJ,lte as dK,ate as dL,hte as dM,dte as dN,fte as dO,ote as dP,YQ as dQ,qQ as dR,X4 as dS,Vre as dT,sie as dU,Wre as dV,bie as dW,Yre as dX,YZ as dY,l4 as dZ,fie as d_,Gee as da,Yee as db,RB as dc,Qee as dd,Kee as de,PB as df,Xee as dg,Zee as dh,IB as di,Fre as dj,gie as dk,IJ as dl,cie as dm,bz as dn,$re as dp,qre as dq,ete as dr,Nie as ds,Oie as dt,Die as du,Cie as dv,Mie as dw,Rie as dx,Aie as dy,kie as dz,Wt as e,vh as e$,b0 as e0,fN as e1,XZ as e2,KU as e3,hJ as e4,fW as e5,nW as e6,mJ as e7,dJ as e8,gJ as e9,ZZ as eA,m4 as eB,Rne as eC,tJ as eD,rJ as eE,Lte as eF,GZ as eG,nie as eH,tte as eI,die as eJ,Xre as eK,WZ as eL,a4 as eM,vne as eN,yne as eO,_ne as eP,wne as eQ,bne as eR,Sne as eS,xne as eT,Tne as eU,vte as eV,_te as eW,Bte as eX,qte as eY,Ote as eZ,Bc as e_,vJ as ea,yJ as eb,_J as ec,wJ as ed,bJ as ee,SJ as ef,xJ as eg,TJ as eh,EJ as ei,CJ as ej,AJ as ek,OJ as el,kJ as em,MJ as en,NJ as eo,RJ as ep,DJ as eq,PJ as er,Y5 as es,Pd as et,Gre as eu,D1 as ev,eJ as ew,BF as ex,_N as ey,yN as ez,R4 as f,zne as f$,Ite as f0,bte as f1,Dte as f2,ute as f3,xte as f4,Ute as f5,$te as f6,B0 as f7,o4 as f8,v4 as f9,Gne as fA,Cre as fB,HQ as fC,mie as fD,Q5 as fE,$ne as fF,ore as fG,Ene as fH,ix as fI,vre as fJ,yre as fK,I2 as fL,wW as fM,Vne as fN,lre as fO,ure as fP,qZ as fQ,cre as fR,ire as fS,ste as fT,lJ as fU,nx as fV,uN as fW,qv as fX,ex as fY,Une as fZ,fne as f_,Ine as fa,Wm as fb,Cte as fc,L1 as fd,qne as fe,kte as ff,FZ as fg,Pz as fh,Rte as fi,gte as fj,yte as fk,A0 as fl,Zre as fm,Bre as fn,Ure as fo,Jee as fp,L2 as fq,$y as fr,U9 as fs,B9 as ft,kre as fu,HZ as fv,F9 as fw,$Z as fx,j9 as fy,lW as fz,iie as g,Th as g$,g4 as g0,_W as g1,are as g2,QZ as g3,mN as g4,$F as g5,Fne as g6,Jne as g7,Zne as g8,Vte as g9,Jz as gA,hne as gB,sne as gC,Gz as gD,Qte as gE,Gte as gF,Yte as gG,Kne as gH,w4 as gI,Jte as gJ,sre as gK,Oz as gL,zF as gM,Lz as gN,jz as gO,XN as gP,up as gQ,R1 as gR,Fte as gS,zte as gT,Nte as gU,Zte as gV,jte as gW,Hte as gX,Ate as gY,Wte as gZ,uu as g_,SW as ga,Wne as gb,ite as gc,WN as gd,V9 as ge,T4 as gf,W1 as gg,qy as gh,F2 as gi,xW as gj,une as gk,lne as gl,pre as gm,mre as gn,ine as go,RZ as gp,LZ as gq,pte as gr,mte as gs,O9 as gt,PZ as gu,dre as gv,CW as gw,Hne as gx,P9 as gy,Yne as gz,aie as h,$d as h0,GN as h1,Mre as h2,ic as h3,uG as h4,hre as h5,r4 as h6,Bne as h7,Hz as h8,Xte as h9,Mne as hA,tW as hB,nS as hC,Co as hD,nA as hE,np as hF,i_ as hG,cY as hH,mx as hI,px as hJ,ka as hK,yh as hL,Ire as hM,Rf as hN,Pre as hO,rY as hP,tA as hQ,jne as ha,Kte as hb,Lne as hc,PW as hd,N4 as he,Nd as hf,jr as hg,c8 as hh,UN as hi,nte as hj,Mte as hk,Ste as hl,x4 as hm,sW as hn,Tte as ho,cW as hp,Ete as hq,T9 as hr,rte as hs,Pte as ht,wte as hu,D2 as hv,JZ as hw,aJ as hx,fJ as hy,pJ as hz,Cne as i,V as j,xre as k,uie as l,gre as m,jre as n,c_ as o,Jl as p,k4 as q,he as r,Qo as s,fre as t,du as u,$1 as v,q1 as w,K2 as x,UZ as y,FW as z};
